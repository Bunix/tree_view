function _log(t){if(_canLog){var e=Array.prototype.slice.apply(arguments,[1]),n=new Date,i=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+"."+n.getMilliseconds();e[0]=i+" - "+e[0];try{switch(t){case"info":window.console.info.apply(window.console,e);break;case"warn":window.console.warn.apply(window.console,e);break;default:window.console.log.apply(window.console,e)}}catch(t){window.console?-2146827850===t.number&&window.console.log(e.join(", ")):_canLog=!1}}}function logMsg(){Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments)}if(function(){var t,e,n,i,r,o,s,a,l,c,u,h,d,p,f,m,g,v,y,_,b,w,x,S,k,C,T,D,M,E,L,A,I,N,P,O,Y,R,F,H,z,j,$,W,B,U,q,V,X,G=[].slice,K={}.hasOwnProperty,Q=function(t,e){function n(){this.constructor=t}for(var i in e)K.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},J=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};for(b={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},M=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},L=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,_=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==L&&(L=function(t){return setTimeout(t,50)},_=function(t){return clearTimeout(t)}),I=function(t){var e,n;return e=M(),(n=function(){var i;return(i=M()-e)>=33?(e=M(),t(i,function(){return L(n)})):setTimeout(n,33-i)})()},A=function(){var t,e,n;return n=arguments[0],e=arguments[1],t=3<=arguments.length?G.call(arguments,2):[],"function"==typeof n[e]?n[e].apply(n,t):n[e]},w=function(){var t,e,n,i,r,o,s;for(e=arguments[0],o=0,s=(i=2<=arguments.length?G.call(arguments,1):[]).length;s>o;o++)if(n=i[o])for(t in n)K.call(n,t)&&(r=n[t],null!=e[t]&&"object"==typeof e[t]&&null!=r&&"object"==typeof r?w(e[t],r):e[t]=r);return e},g=function(t){var e,n,i,r,o;for(n=e=0,r=0,o=t.length;o>r;r++)i=t[r],n+=Math.abs(i),e++;return n/e},S=function(t,e){var n,i,r;if(null==t&&(t="options"),null==e&&(e=!0),r=document.querySelector("[data-pace-"+t+"]")){if(n=r.getAttribute("data-pace-"+t),!e)return n;try{return JSON.parse(n)}catch(t){return i=t,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",i):void 0}}},s=function(){function t(){}return t.prototype.on=function(t,e,n,i){var r;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(r=this.bindings)[t]&&(r[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})},t.prototype.once=function(t,e,n){return this.on(t,e,n,!0)},t.prototype.off=function(t,e){var n,i,r;if(null!=(null!=(i=this.bindings)?i[t]:void 0)){if(null==e)return delete this.bindings[t];for(n=0,r=[];n<this.bindings[t].length;)r.push(this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):n++);return r}},t.prototype.trigger=function(){var t,e,n,i,r,o,s,a,l;if(n=arguments[0],t=2<=arguments.length?G.call(arguments,1):[],null!=(s=this.bindings)?s[n]:void 0){for(r=0,l=[];r<this.bindings[n].length;)a=this.bindings[n][r],i=a.handler,e=a.ctx,o=a.once,i.apply(null!=e?e:this,t),l.push(o?this.bindings[n].splice(r,1):r++);return l}},t}(),c=window.Pace||{},window.Pace=c,w(c,s.prototype),E=c.options=w({},b,window.paceOptions,S()),$=0,B=(q=["ajax","document","eventLag","elements"]).length;B>$;$++)Y=q[$],!0===E[Y]&&(E[Y]=b[Y]);l=function(t){function e(){return V=e.__super__.constructor.apply(this,arguments)}return Q(e,t),e}(Error),e=function(){function t(){this.progress=0}return t.prototype.getElement=function(){var t;if(null==this.el){if(!(t=document.querySelector(E.target)))throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},t.prototype.finish=function(){var t;return t=this.getElement(),t.className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},t.prototype.update=function(t){return this.progress=t,this.render()},t.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){l=t}return this.el=void 0},t.prototype.render=function(){var t,e,n,i,r,o,s;if(null==document.querySelector(E.target))return!1;for(t=this.getElement(),i="translate3d("+this.progress+"%, 0, 0)",r=0,o=(s=["webkitTransform","msTransform","transform"]).length;o>r;r++)e=s[r],t.children[0].style[e]=i;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(t.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?n="99":(n=this.progress<10?"0":"",n+=0|this.progress),t.children[0].setAttribute("data-progress",""+n)),this.lastRenderedProgress=this.progress},t.prototype.done=function(){return this.progress>=100},t}(),a=function(){function t(){this.bindings={}}return t.prototype.trigger=function(t,e){var n,i,r,o,s;if(null!=this.bindings[t]){for(s=[],i=0,r=(o=this.bindings[t]).length;r>i;i++)n=o[i],s.push(n.call(this,e));return s}},t.prototype.on=function(t,e){var n;return null==(n=this.bindings)[t]&&(n[t]=[]),this.bindings[t].push(e)},t}(),j=window.XMLHttpRequest,z=window.XDomainRequest,H=window.WebSocket,x=function(t,e){var n,i;i=[];for(n in e.prototype)try{i.push(null==t[n]&&"function"!=typeof e[n]?"function"==typeof Object.defineProperty?Object.defineProperty(t,n,{get:function(){return e.prototype[n]},configurable:!0,enumerable:!0}):t[n]=e.prototype[n]:void 0)}catch(t){t}return i},T=[],c.ignore=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?G.call(arguments,1):[],T.unshift("ignore"),n=e.apply(null,t),T.shift(),n},c.track=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?G.call(arguments,1):[],T.unshift("track"),n=e.apply(null,t),T.shift(),n},O=function(t){var e;if(null==t&&(t="GET"),"track"===T[0])return"force";if(!T.length&&E.ajax){if("socket"===t&&E.ajax.trackWebSockets)return!0;if(e=t.toUpperCase(),J.call(E.ajax.trackMethods,e)>=0)return!0}return!1},u=function(t){function e(){var t,n=this;e.__super__.constructor.apply(this,arguments),t=function(t){var e;return e=t.open,t.open=function(i,r){return O(i)&&n.trigger("request",{type:i,url:r,request:t}),e.apply(t,arguments)}},window.XMLHttpRequest=function(e){var n;return n=new j(e),t(n),n};try{x(window.XMLHttpRequest,j)}catch(t){}if(null!=z){window.XDomainRequest=function(){var e;return e=new z,t(e),e};try{x(window.XDomainRequest,z)}catch(t){}}if(null!=H&&E.ajax.trackWebSockets){window.WebSocket=function(t,e){var i;return i=null!=e?new H(t,e):new H(t),O("socket")&&n.trigger("request",{type:"socket",url:t,protocols:e,request:i}),i};try{x(window.WebSocket,H)}catch(t){}}}return Q(e,a),e}(),W=null,P=function(t){var e,n,i,r;for(n=0,i=(r=E.ajax.ignoreURLs).length;i>n;n++)if("string"==typeof(e=r[n])){if(-1!==t.indexOf(e))return!0}else if(e.test(t))return!0;return!1},(k=function(){return null==W&&(W=new u),W})().on("request",function(e){var n,i,r,o,s;return o=e.type,r=e.request,s=e.url,P(s)?void 0:c.running||!1===E.restartOnRequestAfter&&"force"!==O(o)?void 0:(i=arguments,"boolean"==typeof(n=E.restartOnRequestAfter||0)&&(n=0),setTimeout(function(){var e,n,s,a,l;if("socket"===o?r.readyState<2:0<(s=r.readyState)&&4>s){for(c.restart(),l=[],e=0,n=(a=c.sources).length;n>e;e++){if((Y=a[e])instanceof t){Y.watch.apply(Y,i);break}l.push(void 0)}return l}},n))}),t=function(){function t(){var t=this;this.elements=[],k().on("request",function(){return t.watch.apply(t,arguments)})}return t.prototype.watch=function(t){var e,n,i,r;return i=t.type,e=t.request,r=t.url,P(r)?void 0:(n="socket"===i?new p(e):new f(e),this.elements.push(n))},t}(),f=function(){return function(t){var e,n,i,r,o,s=this;if(this.progress=0,null!=window.ProgressEvent)for(t.addEventListener("progress",function(t){return s.progress=t.lengthComputable?100*t.loaded/t.total:s.progress+(100-s.progress)/2},!1),o=["load","abort","timeout","error"],n=0,i=o.length;i>n;n++)e=o[n],t.addEventListener(e,function(){return s.progress=100},!1);else r=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?s.progress=100:3===t.readyState&&(s.progress=50),"function"==typeof r?r.apply(null,arguments):void 0}}}(),p=function(){return function(t){var e,n,i,r,o=this;for(this.progress=0,n=0,i=(r=["error","open"]).length;i>n;n++)e=r[n],t.addEventListener(e,function(){return o.progress=100},!1)}}(),i=function(){return function(t){var e,n,i,o;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),n=0,i=(o=t.selectors).length;i>n;n++)e=o[n],this.elements.push(new r(e))}}(),r=function(){function t(t){this.selector=t,this.progress=0,this.check()}return t.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},E.elements.checkInterval)},t.prototype.done=function(){return this.progress=100},t}(),n=function(){function t(){var t,e,n=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}return t.prototype.states={loading:0,interactive:50,complete:100},t}(),o=function(){return function(){var t,e,n,i,r,o=this;this.progress=0,t=0,r=[],i=0,n=M(),e=setInterval(function(){var s;return s=M()-n-50,n=M(),r.push(s),r.length>E.eventLag.sampleCount&&r.shift(),t=g(r),++i>=E.eventLag.minSamples&&t<E.eventLag.lagThreshold?(o.progress=100,clearInterval(e)):o.progress=3/(t+3)*100},50)}}(),d=function(){function t(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=E.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=A(this.source,"progress"))}return t.prototype.tick=function(t,e){var n;return null==e&&(e=A(this.source,"progress")),e>=100&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/E.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),n=1-Math.pow(this.progress/100,E.easeFactor),this.progress+=n*this.rate*t,this.progress=Math.min(this.lastProgress+E.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},t}(),R=null,N=null,v=null,F=null,m=null,y=null,c.running=!1,C=function(){return E.restartOnPushState?c.restart():void 0},null!=window.history.pushState&&(U=window.history.pushState,window.history.pushState=function(){return C(),U.apply(window.history,arguments)}),null!=window.history.replaceState&&(X=window.history.replaceState,window.history.replaceState=function(){return C(),X.apply(window.history,arguments)}),h={ajax:t,elements:i,document:n,eventLag:o},(D=function(){var t,n,i,r,o,s,a,l;for(c.sources=R=[],n=0,r=(s=["ajax","elements","document","eventLag"]).length;r>n;n++)t=s[n],!1!==E[t]&&R.push(new h[t](E[t]));for(i=0,o=(l=null!=(a=E.extraSources)?a:[]).length;o>i;i++)Y=l[i],R.push(new Y(E));return c.bar=v=new e,N=[],F=new d})(),c.stop=function(){return c.trigger("stop"),c.running=!1,v.destroy(),y=!0,null!=m&&("function"==typeof _&&_(m),m=null),D()},c.restart=function(){return c.trigger("restart"),c.stop(),c.start()},c.go=function(){var t;return c.running=!0,v.render(),t=M(),y=!1,m=I(function(e,n){var i,r,o,s,a,l,u,h,p,f,m,g,_,b,w;for(100-v.progress,r=f=0,o=!0,l=m=0,_=R.length;_>m;l=++m)for(Y=R[l],p=null!=N[l]?N[l]:N[l]=[],a=null!=(w=Y.elements)?w:[Y],u=g=0,b=a.length;b>g;u=++g)s=a[u],h=null!=p[u]?p[u]:p[u]=new d(s),o&=h.done,h.done||(r++,f+=h.tick(e));return i=f/r,v.update(F.tick(e,i)),v.done()||o||y?(v.update(100),c.trigger("done"),setTimeout(function(){return v.finish(),c.running=!1,c.trigger("hide")},Math.max(E.ghostTime,Math.max(E.minTime-(M()-t),0)))):n()})},c.start=function(t){w(E,t),c.running=!0;try{v.render()}catch(t){l=t}return document.querySelector(".pace")?(c.trigger("start"),c.go()):setTimeout(c.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return c}):"object"==typeof exports?module.exports=c:E.startOnPageLoad&&c.start()}.call(this),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=it.type(t);return"function"!==n&&!it.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t))}function i(t,e,n){if(it.isFunction(e))return it.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return it.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ht.test(e))return it.filter(e,t,n);e=it.filter(e,t)}return it.grep(t,function(t){return it.inArray(t,e)>=0!==n})}function r(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function o(t){var e=yt[t]={};return it.each(t.match(vt)||[],function(t,n){e[n]=!0}),e}function s(){pt.addEventListener?(pt.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1)):(pt.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(pt.addEventListener||"load"===event.type||"complete"===pt.readyState)&&(s(),it.ready())}function l(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(St,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:xt.test(n)?it.parseJSON(n):n)}catch(t){}it.data(t,e,n)}else n=void 0}return n}function c(t){var e;for(e in t)if(("data"!==e||!it.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(t,e,n,i){if(it.acceptData(t)){var r,o,s=it.expando,a=t.nodeType,l=a?it.cache:t,c=a?t[s]:t[s]&&s;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof e)return c||(c=a?t[s]=V.pop()||it.guid++:s),l[c]||(l[c]=a?{}:{toJSON:it.noop}),("object"==typeof e||"function"==typeof e)&&(i?l[c]=it.extend(l[c],e):l[c].data=it.extend(l[c].data,e)),o=l[c],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[it.camelCase(e)]=n),"string"==typeof e?null==(r=o[e])&&(r=o[it.camelCase(e)]):r=o,r}}function h(t,e,n){if(it.acceptData(t)){var i,r,o=t.nodeType,s=o?it.cache:t,a=o?t[it.expando]:it.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){it.isArray(e)?e=e.concat(it.map(e,it.camelCase)):e in i?e=[e]:(e=it.camelCase(e),e=e in i?[e]:e.split(" ")),r=e.length;for(;r--;)delete i[e[r]];if(n?!c(i):!it.isEmptyObject(i))return}(n||(delete s[a].data,c(s[a])))&&(o?it.cleanData([t],!0):et.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function d(){return!0}function p(){return!1}function f(){try{return pt.activeElement}catch(t){}}function m(t){var e=Pt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function g(t,e){var n,i,r=0,o=typeof t.getElementsByTagName!==wt?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==wt?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||it.nodeName(i,e)?o.push(i):it.merge(o,g(i,e));return void 0===e||e&&it.nodeName(t,e)?it.merge([t],o):o}function v(t){Mt.test(t.type)&&(t.defaultChecked=t.checked)}function y(t,e){return it.nodeName(t,"table")&&it.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function _(t){return t.type=(null!==it.find.attr(t,"type"))+"/"+t.type,t}function b(t){var e=Ut.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function w(t,e){for(var n,i=0;null!=(n=t[i]);i++)it._data(n,"globalEval",!e||it._data(e[i],"globalEval"))}function x(t,e){if(1===e.nodeType&&it.hasData(t)){var n,i,r,o=it._data(t),s=it._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)it.event.add(e,n,a[n][i])}s.data&&(s.data=it.extend({},s.data))}}function S(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!et.noCloneEvent&&e[it.expando]){r=it._data(e);for(i in r.events)it.removeEvent(e,i,r.handle);e.removeAttribute(it.expando)}"script"===n&&e.text!==t.text?(_(e).text=t.text,b(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),et.html5Clone&&t.innerHTML&&!it.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Mt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function k(e,n){var i,r=it(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:it.css(r[0],"display");return r.detach(),o}function C(t){var e=pt,n=Kt[t];return n||("none"!==(n=k(t,e))&&n||(Gt=(Gt||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),(e=(Gt[0].contentWindow||Gt[0].contentDocument).document).write(),e.close(),n=k(t,e),Gt.detach()),Kt[t]=n),n}function T(t,e){return{get:function(){var n=t();if(null!=n)return n?void delete this.get:(this.get=e).apply(this,arguments)}}}function D(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=ce.length;r--;)if((e=ce[r]+n)in t)return e;return i}function M(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)(i=t[s]).style&&(o[s]=it._data(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Tt(i)&&(o[s]=it._data(i,"olddisplay",C(i.nodeName)))):(r=Tt(i),(n&&"none"!==n||!r)&&it._data(i,"olddisplay",r?n:it.css(i,"display"))));for(s=0;a>s;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function E(t,e,n){var i=oe.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function L(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=it.css(t,n+Ct[o],!0,r)),i?("content"===n&&(s-=it.css(t,"padding"+Ct[o],!0,r)),"margin"!==n&&(s-=it.css(t,"border"+Ct[o]+"Width",!0,r))):(s+=it.css(t,"padding"+Ct[o],!0,r),"padding"!==n&&(s+=it.css(t,"border"+Ct[o]+"Width",!0,r)));return s}function A(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Qt(t),s=et.boxSizing&&"border-box"===it.css(t,"boxSizing",!1,o);if(0>=r||null==r){if((0>(r=Jt(t,e,o))||null==r)&&(r=t.style[e]),te.test(r))return r;i=s&&(et.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+L(t,e,n||(s?"border":"content"),i,o)+"px"}function I(t,e,n,i,r){return new I.prototype.init(t,e,n,i,r)}function N(){return setTimeout(function(){ue=void 0}),ue=it.now()}function P(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=Ct[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function O(t,e,n){for(var i,r=(ge[e]||[]).concat(ge["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function Y(t,e){var n,i,r,o,s;for(n in t)if(i=it.camelCase(n),r=e[i],o=t[n],it.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=it.cssHooks[i])&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function R(t,e,n){var i,r,o=0,s=me.length,a=it.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ue||N(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),o=0,s=c.tweens.length;s>o;o++)c.tweens[o].run(i);return a.notifyWith(t,[c,i,n]),1>i&&s?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:it.extend({},e),opts:it.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:ue||N(),duration:n.duration,tweens:[],createTween:function(e,n){var i=it.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),u=c.props;for(Y(u,c.opts.specialEasing);s>o;o++)if(i=me[o].call(c,t,u,c.opts))return i;return it.map(u,O,c),it.isFunction(c.opts.start)&&c.opts.start.call(t,c),it.fx.timer(it.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function F(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(vt)||[];if(it.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function H(t,e,n,i){function r(a){var l;return o[a]=!0,it.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=t===ze;return r(e.dataTypes[0])||!o["*"]&&r("*")}function z(t,e){var n,i,r=it.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&it.extend(!0,t,n),t}function j(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){o=s;break}i||(i=s)}o=o||i}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function $(t,e,n,i){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function W(t,e,n,i){var r;if(it.isArray(e))it.each(e,function(e,r){n||We.test(t)?i(t,r):W(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==it.type(e))i(t,e);else for(r in e)W(t+"["+r+"]",e[r],n,i)}function B(){try{return new t.XMLHttpRequest}catch(t){}}function U(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function q(t){return it.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var V=[],X=V.slice,G=V.concat,K=V.push,Q=V.indexOf,J={},Z=J.toString,tt=J.hasOwnProperty,et={},nt="1.11.1",it=function(t,e){return new it.fn.init(t,e)},rt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ot=/^-ms-/,st=/-([\da-z])/gi,at=function(t,e){return e.toUpperCase()};it.fn=it.prototype={jquery:nt,constructor:it,selector:"",length:0,toArray:function(){return X.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:X.call(this)},pushStack:function(t){var e=it.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return it.each(this,t,e)},map:function(t){return this.pushStack(it.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:V.sort,splice:V.splice},it.extend=it.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||it.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(r=arguments[a]))for(i in r)t=s[i],n=r[i],s!==n&&(c&&n&&(it.isPlainObject(n)||(e=it.isArray(n)))?(e?(e=!1,o=t&&it.isArray(t)?t:[]):o=t&&it.isPlainObject(t)?t:{},s[i]=it.extend(c,o,n)):void 0!==n&&(s[i]=n));return s},it.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===it.type(t)},isArray:Array.isArray||function(t){return"array"===it.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!it.isArray(t)&&t-parseFloat(t)>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==it.type(t)||t.nodeType||it.isWindow(t))return!1;try{if(t.constructor&&!tt.call(t,"constructor")&&!tt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(et.ownLast)for(e in t)return tt.call(t,e);for(e in t);return void 0===e||tt.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?J[Z.call(t)]||"object":typeof t},globalEval:function(e){e&&it.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ot,"ms-").replace(st,at)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r=0,o=t.length,s=n(t);if(i){if(s)for(;o>r&&!1!==e.apply(t[r],i);r++);else for(r in t)if(!1===e.apply(t[r],i))break}else if(s)for(;o>r&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(rt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?it.merge(i,"string"==typeof t?[t]:t):K.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(Q)return Q.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;)t[r++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;o>r;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,i){var r,o=0,s=t.length,a=[];if(n(t))for(;s>o;o++)null!=(r=e(t[o],o,i))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,i))&&a.push(r);return G.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),it.isFunction(t)?(n=X.call(arguments,2),i=function(){return t.apply(e||this,n.concat(X.call(arguments)))},i.guid=t.guid=t.guid||it.guid++,i):void 0},now:function(){return+new Date},support:et}),it.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){J["[object "+e+"]"]=e.toLowerCase()});var lt=function(t){function e(t,e,n,i){var r,o,s,a,c,h,d,p,f,m;if((e?e.ownerDocument||e:F)!==L&&E(e),e=e||L,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(I&&!i){if(r=gt.exec(t))if(s=r[1]){if(9===a){if(!(o=e.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&Y(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&_.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(s)),n}if(_.qsa&&(!N||!N.test(t))){if(p=d=R,f=e,m=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(h=S(t),(d=e.getAttribute("id"))?p=d.replace(yt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",c=h.length;c--;)h[c]=p+u(h[c]);f=vt.test(t)&&l(e.parentNode)||e,m=h.join(",")}if(m)try{return Q.apply(n,f.querySelectorAll(m)),n}catch(t){}finally{d||e.removeAttribute("id")}}}return C(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>b.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[R]=!0,t}function r(t){var e=L.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)b.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||q)-(~t.sourceIndex||q);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function l(t){return t&&typeof t.getElementsByTagName!==U&&t}function c(){}function u(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function h(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=z++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,c=[H,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[R]||(e[R]={}),(a=l[i])&&a[0]===H&&a[1]===o)return c[2]=a[2];if(l[i]=c,c[2]=t(e,n,s))return!0}}}function d(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function p(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function f(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),c&&e.push(a));return s}function m(t,e,n,r,o,s){return r&&!r[R]&&(r=m(r)),o&&!o[R]&&(o=m(o,s)),i(function(i,s,a,l){var c,u,h,d=[],m=[],g=s.length,v=i||p(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:f(v,d,t,a,l),_=n?o||(i?t:g||r)?[]:s:y;if(n&&n(y,_,a,l),r)for(c=f(_,m),r(c,[],a,l),u=c.length;u--;)(h=c[u])&&(_[m[u]]=!(y[m[u]]=h));if(i){if(o||t){if(o){for(c=[],u=_.length;u--;)(h=_[u])&&c.push(y[u]=h);o(null,_=[],c,l)}for(u=_.length;u--;)(h=_[u])&&(c=o?Z.call(i,h):d[u])>-1&&(i[c]=!(s[c]=h))}}else _=f(_===s?_.splice(g,_.length):_),o?o(null,s,_,l):Q.apply(s,_)})}function g(t){for(var e,n,i,r=t.length,o=b.relative[t[0].type],s=o||b.relative[" "],a=o?1:0,l=h(function(t){return t===e},s,!0),c=h(function(t){return Z.call(e,t)>-1},s,!0),p=[function(t,n,i){return!o&&(i||n!==T)||((e=n).nodeType?l(t,n,i):c(t,n,i))}];r>a;a++)if(n=b.relative[t[a].type])p=[h(d(p),n)];else{if((n=b.filter[t[a].type].apply(null,t[a].matches))[R]){for(i=++a;r>i&&!b.relative[t[i].type];i++);return m(a>1&&d(p),a>1&&u(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(st,"$1"),n,i>a&&g(t.slice(a,i)),r>i&&g(t=t.slice(i)),r>i&&u(t))}p.push(n)}return d(p)}function v(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,l,c){var u,h,d,p=0,m="0",g=i&&[],v=[],y=T,_=i||o&&b.find.TAG("*",c),w=H+=null==y?1:Math.random()||.1,x=_.length;for(c&&(T=s!==L&&s);m!==x&&null!=(u=_[m]);m++){if(o&&u){for(h=0;d=t[h++];)if(d(u,s,a)){l.push(u);break}c&&(H=w)}r&&((u=!d&&u)&&p--,i&&g.push(u))}if(p+=m,r&&m!==p){for(h=0;d=n[h++];)d(g,v,s,a);if(i){if(p>0)for(;m--;)g[m]||v[m]||(v[m]=G.call(l));v=f(v)}Q.apply(l,v),c&&!i&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return c&&(H=w,T=y),g};return r?i(s):s}var y,_,b,w,x,S,k,C,T,D,M,E,L,A,I,N,P,O,Y,R="sizzle"+-new Date,F=t.document,H=0,z=0,j=n(),$=n(),W=n(),B=function(t,e){return t===e&&(M=!0),0},U="undefined",q=1<<31,V={}.hasOwnProperty,X=[],G=X.pop,K=X.push,Q=X.push,J=X.slice,Z=X.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",et="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=nt.replace("w","w#"),rt="\\["+et+"*("+nt+")(?:"+et+"*([*^$|!~]?=)"+et+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+et+"*\\]",ot=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),at=new RegExp("^"+et+"*,"+et+"*"),lt=new RegExp("^"+et+"*([>+~]|"+et+")"+et+"*"),ct=new RegExp("="+et+"*([^\\]'\"]*?)"+et+"*\\]","g"),ut=new RegExp(ot),ht=new RegExp("^"+it+"$"),dt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,ft=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,yt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+et+"?|("+et+")|.)","ig"),bt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Q.apply(X=J.call(F.childNodes),F.childNodes),X[F.childNodes.length].nodeType}catch(t){Q={apply:X.length?function(t,e){K.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}_=e.support={},x=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},E=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:F,i=n.defaultView;return n!==L&&9===n.nodeType&&n.documentElement?(L=n,A=n.documentElement,I=!x(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){E()},!1):i.attachEvent&&i.attachEvent("onunload",function(){E()})),_.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=r(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=mt.test(n.getElementsByClassName)&&r(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),_.getById=r(function(t){return A.appendChild(t).id=R,!n.getElementsByName||!n.getElementsByName(R).length}),_.getById?(b.find.ID=function(t,e){if(typeof e.getElementById!==U&&I){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},b.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){return t.getAttribute("id")===e}}):(delete b.find.ID,b.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){var n=typeof t.getAttributeNode!==U&&t.getAttributeNode("id");return n&&n.value===e}}),b.find.TAG=_.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==U?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},b.find.CLASS=_.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==U&&I?e.getElementsByClassName(t):void 0},P=[],N=[],(_.qsa=mt.test(n.querySelectorAll))&&(r(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&N.push("[*^$]="+et+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+et+"*(?:value|"+tt+")"),t.querySelectorAll(":checked").length||N.push(":checked")}),r(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+et+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(_.matchesSelector=mt.test(O=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&r(function(t){_.disconnectedMatch=O.call(t,"div"),O.call(t,"[s!='']:x"),P.push("!=",ot)}),N=N.length&&new RegExp(N.join("|")),P=P.length&&new RegExp(P.join("|")),e=mt.test(A.compareDocumentPosition),Y=e||mt.test(A.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},B=e?function(t,e){if(t===e)return M=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!_.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===F&&Y(F,t)?-1:e===n||e.ownerDocument===F&&Y(F,e)?1:D?Z.call(D,t)-Z.call(D,e):0:4&i?-1:1)}:function(t,e){if(t===e)return M=!0,0;var i,r=0,o=t.parentNode,a=e.parentNode,l=[t],c=[e];if(!o||!a)return t===n?-1:e===n?1:o?-1:a?1:D?Z.call(D,t)-Z.call(D,e):0;if(o===a)return s(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===F?-1:c[r]===F?1:0},n):L},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==L&&E(t),n=n.replace(ct,"='$1']"),!(!_.matchesSelector||!I||P&&P.test(n)||N&&N.test(n)))try{var i=O.call(t,n);if(i||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&E(t),Y(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&E(t);var n=b.attrHandle[e.toLowerCase()],i=n&&V.call(b.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==i?i:_.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(M=!_.detectDuplicates,D=!_.sortStable&&t.slice(0),t.sort(B),M){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return D=null,t},w=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=w(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=w(e);return n},(b=e.selectors={cacheLength:50,createPseudo:i,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ut.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=j[t+" "];return e||(e=new RegExp("(^|"+et+")"+t+"("+et+"|$)"))&&j(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==U&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,p,f,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(p=(c=(u=g[R]||(g[R]={}))[t]||[])[0]===H&&c[1],d=c[0]===H&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[H,p,d];break}}else if(y&&(c=(e[R]||(e[R]={}))[t])&&c[0]===H)d=c[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[R]||(h[R]={}))[t]=[H,d]),h!==e)););return(d-=r)===i||d%i==0&&d/i>=0}}},PSEUDO:function(t,n){var r,o=b.pseudos[t]||b.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[R]?o(n):o.length>1?(r=[t,t,"",n],b.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=Z.call(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=k(t.replace(st,"$1"));return r[R]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return function(e){return(e.textContent||e.innerText||w(e)).indexOf(t)>-1}}),lang:i(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,bt).toLowerCase(),function(e){var n;do{if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===A},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return ft.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[0>n?n+e:n]}),even:a(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:a(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=b.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[y]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(y);for(y in{submit:!0,reset:!0})b.pseudos[y]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(y);return c.prototype=b.filters=b.pseudos,b.setFilters=new c,S=e.tokenize=function(t,n){var i,r,o,s,a,l,c,u=$[t+" "];if(u)return n?0:u.slice(0);for(a=t,l=[],c=b.preFilter;a;){(!i||(r=at.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=lt.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(st," ")}),a=a.slice(i.length));for(s in b.filter)!(r=dt[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):$(t,l).slice(0)},k=e.compile=function(t,e){var n,i=[],r=[],o=W[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)(o=g(e[n]))[R]?i.push(o):r.push(o);(o=W(t,v(r,i))).selector=t}return o},C=e.select=function(t,e,n,i){var r,o,s,a,c,h="function"==typeof t&&t,d=!i&&S(t=h.selector||t);if(n=n||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&_.getById&&9===e.nodeType&&I&&b.relative[o[1].type]){if(!(e=(b.find.ID(s.matches[0].replace(_t,bt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=dt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!b.relative[a=s.type]);)if((c=b.find[a])&&(i=c(s.matches[0].replace(_t,bt),vt.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&u(o)))return Q.apply(n,i),n;break}}return(h||k(t,d))(i,e,!I,n,vt.test(t)&&l(e.parentNode)||e),n},_.sortStable=R.split("").sort(B).join("")===R,_.detectDuplicates=!!M,E(),_.sortDetached=r(function(t){return 1&t.compareDocumentPosition(L.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(tt,function(t,e,n){var i;return n?void 0:!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);it.find=lt,it.expr=lt.selectors,it.expr[":"]=it.expr.pseudos,it.unique=lt.uniqueSort,it.text=lt.getText,it.isXMLDoc=lt.isXML,it.contains=lt.contains;var ct=it.expr.match.needsContext,ut=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^.[^:#\[\.,]*$/;it.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?it.find.matchesSelector(i,t)?[i]:[]:it.find.matches(t,it.grep(e,function(t){return 1===t.nodeType}))},it.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(it(t).filter(function(){for(e=0;r>e;e++)if(it.contains(i[e],this))return!0}));for(e=0;r>e;e++)it.find(t,i[e],n);return n=this.pushStack(r>1?it.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&ct.test(t)?it(t):t||[],!1).length}});var dt,pt=t.document,ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(it.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ft.exec(t))||!n[1]&&e)return!e||e.jquery?(e||dt).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof it?e[0]:e,it.merge(this,it.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:pt,!0)),ut.test(n[1])&&it.isPlainObject(e))for(n in e)it.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if((i=pt.getElementById(n[2]))&&i.parentNode){if(i.id!==n[2])return dt.find(t);this.length=1,this[0]=i}return this.context=pt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):it.isFunction(t)?void 0!==dt.ready?dt.ready(t):t(it):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),it.makeArray(t,this))}).prototype=it.fn,dt=it(pt);var mt=/^(?:parents|prev(?:Until|All))/,gt={children:!0,contents:!0,next:!0,prev:!0};it.extend({dir:function(t,e,n){for(var i=[],r=t[e];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!it(r).is(n));)1===r.nodeType&&i.push(r),r=r[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),it.fn.extend({has:function(t){var e,n=it(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(it.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=ct.test(t)||"string"!=typeof t?it(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?it.unique(o):o)},index:function(t){return t?"string"==typeof t?it.inArray(this[0],it(t)):it.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(it.unique(it.merge(this.get(),it(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),it.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return it.dir(t,"parentNode")},parentsUntil:function(t,e,n){return it.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return it.dir(t,"nextSibling")},prevAll:function(t){return it.dir(t,"previousSibling")},nextUntil:function(t,e,n){return it.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return it.dir(t,"previousSibling",n)},siblings:function(t){return it.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return it.sibling(t.firstChild)},contents:function(t){return it.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:it.merge([],t.childNodes)}},function(t,e){it.fn[t]=function(n,i){var r=it.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=it.filter(i,r)),this.length>1&&(gt[t]||(r=it.unique(r)),mt.test(t)&&(r=r.reverse())),this.pushStack(r)}});var vt=/\S+/g,yt={};it.Callbacks=function(t){var e,n,i,r,s,a,l=[],c=!(t="string"==typeof t?yt[t]||o(t):it.extend({},t)).once&&[],u=function(o){for(n=t.memory&&o,i=!0,s=a||0,a=0,r=l.length,e=!0;l&&r>s;s++)if(!1===l[s].apply(o[0],o[1])&&t.stopOnFalse){n=!1;break}e=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function e(n){it.each(n,function(n,i){var r=it.type(i);"function"===r?t.unique&&h.has(i)||l.push(i):i&&i.length&&"string"!==r&&e(i)})}(arguments),e?r=l.length:n&&(a=i,u(n))}return this},remove:function(){return l&&it.each(arguments,function(t,n){for(var i;(i=it.inArray(n,l,i))>-1;)l.splice(i,1),e&&(r>=i&&r--,s>=i&&s--)}),this},has:function(t){return t?it.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||h.disable(),this},locked:function(){return!c},fireWith:function(t,n){return!l||i&&!c||(n=n||[],n=[t,n.slice?n.slice():n],e?c.push(n):u(n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},it.extend({Deferred:function(t){var e=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return it.Deferred(function(n){it.each(e,function(e,o){var s=it.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&it.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?it.extend(t,i):i}},r={};return i.pipe=i.then,it.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=X.call(arguments),s=o.length,a=1!==s||t&&it.isFunction(t.promise)?s:0,l=1===a?t:it.Deferred(),c=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?X.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&it.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,e)):--a;return a||l.resolveWith(i,o),l.promise()}});var _t;it.fn.ready=function(t){return it.ready.promise().done(t),this},it.extend({isReady:!1,readyWait:1,holdReady:function(t){t?it.readyWait++:it.ready(!0)},ready:function(t){if(!0===t?!--it.readyWait:!it.isReady){if(!pt.body)return setTimeout(it.ready);it.isReady=!0,!0!==t&&--it.readyWait>0||(_t.resolveWith(pt,[it]),it.fn.triggerHandler&&(it(pt).triggerHandler("ready"),it(pt).off("ready")))}}}),it.ready.promise=function(e){if(!_t)if(_t=it.Deferred(),"complete"===pt.readyState)setTimeout(it.ready);else if(pt.addEventListener)pt.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1);else{pt.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var n=!1;try{n=null==t.frameElement&&pt.documentElement}catch(t){}n&&n.doScroll&&function t(){if(!it.isReady){try{n.doScroll("left")}catch(e){return setTimeout(t,50)}s(),it.ready()}}()}return _t.promise(e)};var bt,wt="undefined";for(bt in it(et))break;et.ownLast="0"!==bt,et.inlineBlockNeedsLayout=!1,it(function(){var t,e,n,i;(n=pt.getElementsByTagName("body")[0])&&n.style&&(e=pt.createElement("div"),i=pt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==wt&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",et.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=pt.createElement("div");if(null==et.deleteExpando){et.deleteExpando=!0;try{delete t.test}catch(t){et.deleteExpando=!1}}t=null}(),it.acceptData=function(t){var e=it.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)};var xt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,St=/([A-Z])/g;it.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?it.cache[t[it.expando]]:t[it.expando])&&!c(t)},data:function(t,e,n){return u(t,e,n)},removeData:function(t,e){return h(t,e)},_data:function(t,e,n){return u(t,e,n,!0)},_removeData:function(t,e){return h(t,e,!0)}}),it.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=it.data(o),1===o.nodeType&&!it._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=it.camelCase(i.slice(5)),l(o,i,r[i]));it._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){it.data(this,t)}):arguments.length>1?this.each(function(){it.data(this,t,e)}):o?l(o,t,it.data(o,t)):void 0},removeData:function(t){return this.each(function(){it.removeData(this,t)})}}),it.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=it._data(t,e),n&&(!i||it.isArray(n)?i=it._data(t,e,it.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=it.queue(t,e),i=n.length,r=n.shift(),o=it._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){it.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return it._data(t,n)||it._data(t,n,{empty:it.Callbacks("once memory").add(function(){it._removeData(t,e+"queue"),it._removeData(t,n)})})}}),it.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?it.queue(this[0],t):void 0===e?this:this.each(function(){var n=it.queue(this,t,e);it._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&it.dequeue(this,t)})},dequeue:function(t){return this.each(function(){it.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=it.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=it._data(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var kt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=["Top","Right","Bottom","Left"],Tt=function(t,e){return t=e||t,"none"===it.css(t,"display")||!it.contains(t.ownerDocument,t)},Dt=it.access=function(t,e,n,i,r,o,s){var a=0,l=t.length,c=null==n;if("object"===it.type(n)){r=!0;for(a in n)it.access(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,it.isFunction(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(it(t),n)})),e))for(;l>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):l?e(t[0],n):o},Mt=/^(?:checkbox|radio)$/i;!function(){var t=pt.createElement("input"),e=pt.createElement("div"),n=pt.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",et.leadingWhitespace=3===e.firstChild.nodeType,et.tbody=!e.getElementsByTagName("tbody").length,et.htmlSerialize=!!e.getElementsByTagName("link").length,et.html5Clone="<:nav></:nav>"!==pt.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),et.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",et.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",et.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,et.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){et.noCloneEvent=!1}),e.cloneNode(!0).click()),null==et.deleteExpando){et.deleteExpando=!0;try{delete e.test}catch(t){et.deleteExpando=!1}}}(),function(){var e,n,i=pt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(et[e+"Bubbles"]=n in t)||(i.setAttribute(n,"t"),et[e+"Bubbles"]=!1===i.attributes[n].expando);i=null}();var Et=/^(?:input|select|textarea)$/i,Lt=/^key/,At=/^(?:mouse|pointer|contextmenu)|click/,It=/^(?:focusinfocus|focusoutblur)$/,Nt=/^([^.]*)(?:\.(.+)|)$/;it.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,p,f,m,g=it._data(t);if(g){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=it.guid++),(s=g.events)||(s=g.events={}),(u=g.handle)||(u=g.handle=function(t){return typeof it===wt||t&&it.event.triggered===t.type?void 0:it.event.dispatch.apply(u.elem,arguments)},u.elem=t),a=(e=(e||"").match(vt)||[""]).length;a--;)o=Nt.exec(e[a])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p&&(c=it.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,c=it.event.special[p]||{},h=it.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&it.expr.match.needsContext.test(r),namespace:f.join(".")},l),(d=s[p])||(d=s[p]=[],d.delegateCount=0,c.setup&&!1!==c.setup.call(t,i,f,u)||(t.addEventListener?t.addEventListener(p,u,!1):t.attachEvent&&t.attachEvent("on"+p,u))),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),it.event.global[p]=!0);t=null}},remove:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,p,f,m,g=it.hasData(t)&&it._data(t);if(g&&(u=g.events)){for(c=(e=(e||"").match(vt)||[""]).length;c--;)if(a=Nt.exec(e[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=it.event.special[p]||{},d=u[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)s=d[o],!r&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(t,s));l&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,f,g.handle)||it.removeEvent(t,p,g.handle),delete u[p])}else for(p in u)it.event.remove(t,p+e[c],n,i,!0);it.isEmptyObject(u)&&(delete g.handle,it._removeData(t,"events"))}},trigger:function(e,n,i,r){var o,s,a,l,c,u,h,d=[i||pt],p=tt.call(e,"type")?e.type:e,f=tt.call(e,"namespace")?e.namespace.split("."):[];if(a=u=i=i||pt,3!==i.nodeType&&8!==i.nodeType&&!It.test(p+it.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,e=e[it.expando]?e:new it.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:it.makeArray(n,[e]),c=it.event.special[p]||{},r||!c.trigger||!1!==c.trigger.apply(i,n))){if(!r&&!c.noBubble&&!it.isWindow(i)){for(l=c.delegateType||p,It.test(l+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),u=a;u===(i.ownerDocument||pt)&&d.push(u.defaultView||u.parentWindow||t)}for(h=0;(a=d[h++])&&!e.isPropagationStopped();)e.type=h>1?l:c.bindType||p,(o=(it._data(a,"events")||{})[e.type]&&it._data(a,"handle"))&&o.apply(a,n),(o=s&&a[s])&&o.apply&&it.acceptData(a)&&(e.result=o.apply(a,n),!1===e.result&&e.preventDefault());if(e.type=p,!r&&!e.isDefaultPrevented()&&(!c._default||!1===c._default.apply(d.pop(),n))&&it.acceptData(i)&&s&&i[p]&&!it.isWindow(i)){(u=i[s])&&(i[s]=null),it.event.triggered=p;try{i[p]()}catch(t){}it.event.triggered=void 0,u&&(i[s]=u)}return e.result}},dispatch:function(t){t=it.event.fix(t);var e,n,i,r,o,s=[],a=X.call(arguments),l=(it._data(this,"events")||{})[t.type]||[],c=it.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(s=it.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(i.namespace))&&(t.handleObj=i,t.data=i.data,void 0!==(n=((it.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(r=[],o=0;a>o;o++)i=e[o],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?it(n,this).index(l)>=0:it.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&s.push({elem:l,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[it.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=At.test(r)?this.mouseHooks:Lt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new it.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=o.srcElement||pt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||pt,r=i.documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return it.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return it.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=it.extend(new it.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?it.event.trigger(r,null,e):it.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},it.removeEvent=pt.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===wt&&(t[i]=null),t.detachEvent(i,n))},it.Event=function(t,e){return this instanceof it.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?d:p):this.type=t,e&&it.extend(this,e),this.timeStamp=t&&t.timeStamp||it.now(),void(this[it.expando]=!0)):new it.Event(t,e)},it.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){it.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!it.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),et.submitBubbles||(it.event.special.submit={setup:function(){return!it.nodeName(this,"form")&&void it.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=it.nodeName(e,"input")||it.nodeName(e,"button")?e.form:void 0;n&&!it._data(n,"submitBubbles")&&(it.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),it._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&it.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return!it.nodeName(this,"form")&&void it.event.remove(this,"._submit")}}),et.changeBubbles||(it.event.special.change={setup:function(){return Et.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(it.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),it.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),it.event.simulate("change",this,t,!0)})),!1):void it.event.add(this,"beforeactivate._change",function(t){var e=t.target;Et.test(e.nodeName)&&!it._data(e,"changeBubbles")&&(it.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||it.event.simulate("change",this.parentNode,t,!0)}),it._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return it.event.remove(this,"._change"),!Et.test(this.nodeName)}}),et.focusinBubbles||it.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){it.event.simulate(e,t.target,it.event.fix(t),!0)};it.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=it._data(i,e);r||i.addEventListener(t,n,!0),it._data(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=it._data(i,e)-1;r?it._data(i,e,r):(i.removeEventListener(t,n,!0),it._removeData(i,e))}}}),it.fn.extend({on:function(t,e,n,i,r){var o,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(o in t)this.on(o,e,n,t[o],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),!1===i)i=p;else if(!i)return this;return 1===r&&(s=i,i=function(t){return it().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=it.guid++)),this.each(function(){it.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,it(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(!1===e||"function"==typeof e)&&(n=e,e=void 0),!1===n&&(n=p),this.each(function(){it.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){it.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?it.event.trigger(t,e,n,!0):void 0}});var Pt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ot=/ jQuery\d+="(?:null|\d+)"/g,Yt=new RegExp("<(?:"+Pt+")[\\s/>]","i"),Rt=/^\s+/,Ft=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ht=/<([\w:]+)/,zt=/<tbody/i,jt=/<|&#?\w+;/,$t=/<(?:script|style|link)/i,Wt=/checked\s*(?:[^=]|=\s*.checked.)/i,Bt=/^$|\/(?:java|ecma)script/i,Ut=/^true\/(.*)/,qt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Vt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:et.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Xt=m(pt).appendChild(pt.createElement("div"));Vt.optgroup=Vt.option,Vt.tbody=Vt.tfoot=Vt.colgroup=Vt.caption=Vt.thead,Vt.th=Vt.td,it.extend({clone:function(t,e,n){var i,r,o,s,a,l=it.contains(t.ownerDocument,t);if(et.html5Clone||it.isXMLDoc(t)||!Yt.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Xt.innerHTML=t.outerHTML,Xt.removeChild(o=Xt.firstChild)),!(et.noCloneEvent&&et.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||it.isXMLDoc(t)))for(i=g(o),a=g(t),s=0;null!=(r=a[s]);++s)i[s]&&S(r,i[s]);if(e)if(n)for(a=a||g(t),i=i||g(o),s=0;null!=(r=a[s]);s++)x(r,i[s]);else x(t,o);return(i=g(o,"script")).length>0&&w(i,!l&&g(t,"script")),i=a=r=null,o},buildFragment:function(t,e,n,i){for(var r,o,s,a,l,c,u,h=t.length,d=m(e),p=[],f=0;h>f;f++)if((o=t[f])||0===o)if("object"===it.type(o))it.merge(p,o.nodeType?[o]:o);else if(jt.test(o)){for(a=a||d.appendChild(e.createElement("div")),l=(Ht.exec(o)||["",""])[1].toLowerCase(),u=Vt[l]||Vt._default,a.innerHTML=u[1]+o.replace(Ft,"<$1></$2>")+u[2],r=u[0];r--;)a=a.lastChild;if(!et.leadingWhitespace&&Rt.test(o)&&p.push(e.createTextNode(Rt.exec(o)[0])),!et.tbody)for(r=(o="table"!==l||zt.test(o)?"<table>"!==u[1]||zt.test(o)?0:a:a.firstChild)&&o.childNodes.length;r--;)it.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(it.merge(p,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else p.push(e.createTextNode(o));for(a&&d.removeChild(a),et.appendChecked||it.grep(g(p,"input"),v),f=0;o=p[f++];)if((!i||-1===it.inArray(o,i))&&(s=it.contains(o.ownerDocument,o),a=g(d.appendChild(o),"script"),s&&w(a),n))for(r=0;o=a[r++];)Bt.test(o.type||"")&&n.push(o);return a=null,d},cleanData:function(t,e){for(var n,i,r,o,s=0,a=it.expando,l=it.cache,c=et.deleteExpando,u=it.event.special;null!=(n=t[s]);s++)if((e||it.acceptData(n))&&(r=n[a],o=r&&l[r])){if(o.events)for(i in o.events)u[i]?it.event.remove(n,i):it.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[a]:typeof n.removeAttribute!==wt?n.removeAttribute(a):n[a]=null,V.push(r))}}}),it.fn.extend({text:function(t){return Dt(this,function(t){return void 0===t?it.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pt).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||y(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?it.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||it.cleanData(g(n)),n.parentNode&&(e&&it.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&it.cleanData(g(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&it.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return it.clone(this,t,e)})},html:function(t){return Dt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Ot,""):void 0;if(!("string"!=typeof t||$t.test(t)||!et.htmlSerialize&&Yt.test(t)||!et.leadingWhitespace&&Rt.test(t)||Vt[(Ht.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Ft,"<$1></$2>");try{for(;i>n;n++)1===(e=this[n]||{}).nodeType&&(it.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,it.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=G.apply([],t);var n,i,r,o,s,a,l=0,c=this.length,u=this,h=c-1,d=t[0],p=it.isFunction(d);if(p||c>1&&"string"==typeof d&&!et.checkClone&&Wt.test(d))return this.each(function(n){var i=u.eq(n);p&&(t[0]=d.call(this,n,i.html())),i.domManip(t,e)});if(c&&(a=it.buildFragment(t,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(r=(o=it.map(g(a,"script"),_)).length;c>l;l++)i=a,l!==h&&(i=it.clone(i,!0,!0),r&&it.merge(o,g(i,"script"))),e.call(this[l],i,l);if(r)for(s=o[o.length-1].ownerDocument,it.map(o,b),l=0;r>l;l++)i=o[l],Bt.test(i.type||"")&&!it._data(i,"globalEval")&&it.contains(s,i)&&(i.src?it._evalUrl&&it._evalUrl(i.src):it.globalEval((i.text||i.textContent||i.innerHTML||"").replace(qt,"")));a=n=null}return this}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){it.fn[t]=function(t){for(var n,i=0,r=[],o=it(t),s=o.length-1;s>=i;i++)n=i===s?this:this.clone(!0),it(o[i])[e](n),K.apply(r,n.get());return this.pushStack(r)}});var Gt,Kt={};!function(){var t;et.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,i;return(n=pt.getElementsByTagName("body")[0])&&n.style?(e=pt.createElement("div"),i=pt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==wt&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(pt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(i),t):void 0}}();var Qt,Jt,Zt=/^margin/,te=new RegExp("^("+kt+")(?!px)[a-z%]+$","i"),ee=/^(top|right|bottom|left)$/;t.getComputedStyle?(Qt=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},Jt=function(t,e,n){var i,r,o,s,a=t.style;return n=n||Qt(t),s=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==s||it.contains(t.ownerDocument,t)||(s=it.style(t,e)),te.test(s)&&Zt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0===s?s:s+""}):pt.documentElement.currentStyle&&(Qt=function(t){return t.currentStyle},Jt=function(t,e,n){var i,r,o,s,a=t.style;return n=n||Qt(t),null==(s=n?n[e]:void 0)&&a&&a[e]&&(s=a[e]),te.test(s)&&!ee.test(e)&&(i=a.left,r=t.runtimeStyle,(o=r&&r.left)&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),void 0===s?s:s+""||"auto"}),function(){function e(){var e,n,i,r;(n=pt.getElementsByTagName("body")[0])&&n.style&&(e=pt.createElement("div"),i=pt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=s=!1,l=!0,t.getComputedStyle&&(o="1%"!==(t.getComputedStyle(e,null)||{}).top,s="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,r=e.appendChild(pt.createElement("div")),r.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=e.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===r[0].offsetHeight)&&(r[0].style.display="",r[1].style.display="none",a=0===r[0].offsetHeight),n.removeChild(i))}var n,i,r,o,s,a,l;(n=pt.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(i=(r=n.getElementsByTagName("a")[0])&&r.style)&&(i.cssText="float:left;opacity:.5",et.opacity="0.5"===i.opacity,et.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",et.clearCloneStyle="content-box"===n.style.backgroundClip,et.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,it.extend(et,{reliableHiddenOffsets:function(){return null==a&&e(),a},boxSizingReliable:function(){return null==s&&e(),s},pixelPosition:function(){return null==o&&e(),o},reliableMarginRight:function(){return null==l&&e(),l}}))}(),it.swap=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r};var ne=/alpha\([^)]*\)/i,ie=/opacity\s*=\s*([^)]*)/,re=/^(none|table(?!-c[ea]).+)/,oe=new RegExp("^("+kt+")(.*)$","i"),se=new RegExp("^([+-])=("+kt+")","i"),ae={position:"absolute",visibility:"hidden",display:"block"},le={letterSpacing:"0",fontWeight:"400"},ce=["Webkit","O","Moz","ms"];it.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Jt(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:et.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=it.camelCase(e),l=t.style;if(e=it.cssProps[a]||(it.cssProps[a]=D(l,a)),s=it.cssHooks[e]||it.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e];if("string"===(o=typeof n)&&(r=se.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(it.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||it.cssNumber[a]||(n+="px"),et.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(t,n,i)))))try{l[e]=n}catch(t){}}},css:function(t,e,n,i){var r,o,s,a=it.camelCase(e);return e=it.cssProps[a]||(it.cssProps[a]=D(t.style,a)),(s=it.cssHooks[e]||it.cssHooks[a])&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=Jt(t,e,i)),"normal"===o&&e in le&&(o=le[e]),""===n||n?(r=parseFloat(o),!0===n||it.isNumeric(r)?r||0:o):o}}),it.each(["height","width"],function(t,e){it.cssHooks[e]={get:function(t,n,i){return n?re.test(it.css(t,"display"))&&0===t.offsetWidth?it.swap(t,ae,function(){return A(t,e,i)}):A(t,e,i):void 0},set:function(t,n,i){var r=i&&Qt(t);return E(0,n,i?L(t,e,i,et.boxSizing&&"border-box"===it.css(t,"boxSizing",!1,r),r):0)}}}),et.opacity||(it.cssHooks.opacity={get:function(t,e){return ie.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=it.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===it.trim(o.replace(ne,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=ne.test(o)?o.replace(ne,r):o+" "+r)}}),it.cssHooks.marginRight=T(et.reliableMarginRight,function(t,e){return e?it.swap(t,{display:"inline-block"},Jt,[t,"marginRight"]):void 0}),it.each({margin:"",padding:"",border:"Width"},function(t,e){it.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Ct[i]+e]=o[i]||o[i-2]||o[0];return r}},Zt.test(t)||(it.cssHooks[t+e].set=E)}),it.fn.extend({css:function(t,e){return Dt(this,function(t,e,n){var i,r,o={},s=0;if(it.isArray(e)){for(i=Qt(t),r=e.length;r>s;s++)o[e[s]]=it.css(t,e[s],!1,i);return o}return void 0!==n?it.style(t,e,n):it.css(t,e)},t,e,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Tt(this)?it(this).show():it(this).hide()})}}),it.Tween=I,I.prototype={constructor:I,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(it.cssNumber[n]?"":"px")},cur:function(){var t=I.propHooks[this.prop];return t&&t.get?t.get(this):I.propHooks._default.get(this)},run:function(t){var e,n=I.propHooks[this.prop];return this.pos=e=this.options.duration?it.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=it.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){it.fx.step[t.prop]?it.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[it.cssProps[t.prop]]||it.cssHooks[t.prop])?it.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},it.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},it.fx=I.prototype.init,it.fx.step={};var ue,he,de=/^(?:toggle|show|hide)$/,pe=new RegExp("^(?:([+-])=|)("+kt+")([a-z%]*)$","i"),fe=/queueHooks$/,me=[function(t,e,n){var i,r,o,s,a,l,c,u=this,h={},d=t.style,p=t.nodeType&&Tt(t),f=it._data(t,"fxshow");n.queue||(null==(a=it._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,it.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(c=it.css(t,"display"))?it._data(t,"olddisplay")||C(t.nodeName):c)&&"none"===it.css(t,"float")&&(et.inlineBlockNeedsLayout&&"inline"!==C(t.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",et.shrinkWrapBlocks()||u.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],de.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!f||void 0===f[i])continue;p=!0}h[i]=f&&f[i]||it.style(t,i)}else c=void 0;if(it.isEmptyObject(h))"inline"===("none"===c?C(t.nodeName):c)&&(d.display=c);else{f?"hidden"in f&&(p=f.hidden):f=it._data(t,"fxshow",{}),o&&(f.hidden=!p),p?it(t).show():u.done(function(){it(t).hide()}),u.done(function(){var e;it._removeData(t,"fxshow");for(e in h)it.style(t,e,h[e])});for(i in h)s=O(p?f[i]:0,i,u),i in f||(f[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}],ge={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=pe.exec(e),o=r&&r[3]||(it.cssNumber[t]?"":"px"),s=(it.cssNumber[t]||"px"!==o&&+i)&&pe.exec(it.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do{a=a||".5",s/=a,it.style(n.elem,t,s+o)}while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};it.Animation=it.extend(R,{tweener:function(t,e){it.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],ge[n]=ge[n]||[],ge[n].unshift(e)},prefilter:function(t,e){e?me.unshift(t):me.push(t)}}),it.speed=function(t,e,n){var i=t&&"object"==typeof t?it.extend({},t):{complete:n||!n&&e||it.isFunction(t)&&t,duration:t,easing:n&&e||e&&!it.isFunction(e)&&e};return i.duration=it.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in it.fx.speeds?it.fx.speeds[i.duration]:it.fx.speeds._default,(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){it.isFunction(i.old)&&i.old.call(this),i.queue&&it.dequeue(this,i.queue)},i},it.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Tt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=it.isEmptyObject(t),o=it.speed(e,n,i),s=function(){var e=R(this,it.extend({},t),o);(r||it._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=it.timers,s=it._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&fe.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&it.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=it._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=it.timers,s=i?i.length:0;for(n.finish=!0,it.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),it.each(["toggle","show","hide"],function(t,e){var n=it.fn[e];it.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(P(e,!0),t,i,r)}}),it.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){it.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),it.timers=[],it.fx.tick=function(){var t,e=it.timers,n=0;for(ue=it.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||it.fx.stop(),ue=void 0},it.fx.timer=function(t){it.timers.push(t),t()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){he||(he=setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){clearInterval(he),he=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(t,e){return t=it.fx?it.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t,e,n,i,r;(e=pt.createElement("div")).setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=e.getElementsByTagName("a")[0],r=(n=pt.createElement("select")).appendChild(pt.createElement("option")),t=e.getElementsByTagName("input")[0],i.style.cssText="top:1px",et.getSetAttribute="t"!==e.className,et.style=/top/.test(i.getAttribute("style")),et.hrefNormalized="/a"===i.getAttribute("href"),et.checkOn=!!t.value,et.optSelected=r.selected,et.enctype=!!pt.createElement("form").enctype,n.disabled=!0,et.optDisabled=!r.disabled,(t=pt.createElement("input")).setAttribute("value",""),et.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),et.radioValue="t"===t.value}();var ve=/\r/g;it.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=it.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,it(this).val()):t)?r="":"number"==typeof r?r+="":it.isArray(r)&&(r=it.map(r,function(t){return null==t?"":t+""})),(e=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=it.valHooks[r.type]||it.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ve,""):null==n?"":n:void 0}}),it.extend({valHooks:{option:{get:function(t){var e=it.find.attr(t,"value");return null!=e?e:it.trim(it.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(!(!(n=i[l]).selected&&l!==r||(et.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&it.nodeName(n.parentNode,"optgroup"))){if(e=it(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=it.makeArray(e),s=r.length;s--;)if(i=r[s],it.inArray(it.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(t){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(t,e){return it.isArray(e)?t.checked=it.inArray(it(t).val(),e)>=0:void 0}},et.checkOn||(it.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ye,_e,be=it.expr.attrHandle,we=/^(?:checked|selected)$/i,xe=et.getSetAttribute,Se=et.input;it.fn.extend({attr:function(t,e){return Dt(this,it.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){it.removeAttr(this,t)})}}),it.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===wt?it.prop(t,e,n):(1===o&&it.isXMLDoc(t)||(e=e.toLowerCase(),i=it.attrHooks[e]||(it.expr.match.bool.test(e)?_e:ye)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=it.find.attr(t,e))?void 0:r:null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void it.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(vt);if(o&&1===t.nodeType)for(;n=o[r++];)i=it.propFix[n]||n,it.expr.match.bool.test(n)?Se&&xe||!we.test(n)?t[i]=!1:t[it.camelCase("default-"+n)]=t[i]=!1:it.attr(t,n,""),t.removeAttribute(xe?n:i)},attrHooks:{type:{set:function(t,e){if(!et.radioValue&&"radio"===e&&it.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),_e={set:function(t,e,n){return!1===e?it.removeAttr(t,n):Se&&xe||!we.test(n)?t.setAttribute(!xe&&it.propFix[n]||n,n):t[it.camelCase("default-"+n)]=t[n]=!0,n}},it.each(it.expr.match.bool.source.match(/\w+/g),function(t,e){var n=be[e]||it.find.attr;be[e]=Se&&xe||!we.test(e)?function(t,e,i){var r,o;return i||(o=be[e],be[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,be[e]=o),r}:function(t,e,n){return n?void 0:t[it.camelCase("default-"+e)]?e.toLowerCase():null}}),Se&&xe||(it.attrHooks.value={set:function(t,e,n){return it.nodeName(t,"input")?void(t.defaultValue=e):ye&&ye.set(t,e,n)}}),xe||(ye={set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},be.id=be.name=be.coords=function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},it.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:ye.set},it.attrHooks.contenteditable={set:function(t,e,n){ye.set(t,""!==e&&e,n)}},it.each(["width","height"],function(t,e){it.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),et.style||(it.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var ke=/^(?:input|select|textarea|button|object)$/i,Ce=/^(?:a|area)$/i;it.fn.extend({prop:function(t,e){return Dt(this,it.prop,t,e,arguments.length>1)},removeProp:function(t){return t=it.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),it.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return(1!==o||!it.isXMLDoc(t))&&(e=it.propFix[e]||e,r=it.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=it.find.attr(t,"tabindex");return e?parseInt(e,10):ke.test(t.nodeName)||Ce.test(t.nodeName)&&t.href?0:-1}}}}),et.hrefNormalized||it.each(["href","src"],function(t,e){it.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),et.optSelected||(it.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this}),et.enctype||(it.propFix.enctype="encoding");var Te=/[\t\r\n\f]/g;it.fn.extend({addClass:function(t){var e,n,i,r,o,s,a=0,l=this.length,c="string"==typeof t&&t;if(it.isFunction(t))return this.each(function(e){it(this).addClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(vt)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Te," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=it.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,i,r,o,s,a=0,l=this.length,c=0===arguments.length||"string"==typeof t&&t;if(it.isFunction(t))return this.each(function(e){it(this).removeClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(vt)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Te," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=t?it.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(it.isFunction(t)?function(n){it(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,i=0,r=it(this),o=t.match(vt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===wt||"boolean"===n)&&(this.className&&it._data(this,"__className__",this.className),this.className=this.className||!1===t?"":it._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Te," ").indexOf(e)>=0)return!0;return!1}}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){it.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),it.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var De=it.now(),Me=/\?/,Ee=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;it.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,r=it.trim(e+"");return r&&!it.trim(r.replace(Ee,function(t,e,r,o){return n&&e&&(i=0),0===i?t:(n=r||e,i+=!o-!r,"")}))?Function("return "+r)():it.error("Invalid JSON: "+e)},it.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new DOMParser,n=i.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(t){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||it.error("Invalid XML: "+e),n};var Le,Ae,Ie=/#.*$/,Ne=/([?&])_=[^&]*/,Pe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Oe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ye=/^(?:GET|HEAD)$/,Re=/^\/\//,Fe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,He={},ze={},je="*/".concat("*");try{Ae=location.href}catch(t){(Ae=pt.createElement("a")).href="",Ae=Ae.href}Le=Fe.exec(Ae.toLowerCase())||[],it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ae,type:"GET",isLocal:Oe.test(Le[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?z(z(t,it.ajaxSettings),e):z(it.ajaxSettings,t)},ajaxPrefilter:F(He),ajaxTransport:F(ze),ajax:function(t,e){function n(t,e,n,i){var r,u,v,y,b,x=e;2!==_&&(_=2,a&&clearTimeout(a),c=void 0,s=i||"",w.readyState=t>0?4:0,r=t>=200&&300>t||304===t,n&&(y=j(h,w,n)),y=$(h,y,w,r),r?(h.ifModified&&((b=w.getResponseHeader("Last-Modified"))&&(it.lastModified[o]=b),(b=w.getResponseHeader("etag"))&&(it.etag[o]=b)),204===t||"HEAD"===h.type?x="nocontent":304===t?x="notmodified":(x=y.state,u=y.data,v=y.error,r=!v)):(v=x,(t||!x)&&(x="error",0>t&&(t=0))),w.status=t,w.statusText=(e||x)+"",r?f.resolveWith(d,[u,x,w]):f.rejectWith(d,[w,x,v]),w.statusCode(g),g=void 0,l&&p.trigger(r?"ajaxSuccess":"ajaxError",[w,h,r?u:v]),m.fireWith(d,[w,x]),l&&(p.trigger("ajaxComplete",[w,h]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,s,a,l,c,u,h=it.ajaxSetup({},e),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?it(d):it.event,f=it.Deferred(),m=it.Callbacks("once memory"),g=h.statusCode||{},v={},y={},_=0,b="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!u)for(u={};e=Pe.exec(s);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return _||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>_)for(e in t)g[e]=[g[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||b;return c&&c.abort(e),n(0,e),this}};if(f.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,h.url=((t||h.url||Ae)+"").replace(Ie,"").replace(Re,Le[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=it.trim(h.dataType||"*").toLowerCase().match(vt)||[""],null==h.crossDomain&&(i=Fe.exec(h.url.toLowerCase()),h.crossDomain=!(!i||i[1]===Le[1]&&i[2]===Le[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Le[3]||("http:"===Le[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=it.param(h.data,h.traditional)),H(He,h,e,w),2===_)return w;(l=h.global)&&0==it.active++&&it.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ye.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(Me.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=Ne.test(o)?o.replace(Ne,"$1_="+De++):o+(Me.test(o)?"&":"?")+"_="+De++)),h.ifModified&&(it.lastModified[o]&&w.setRequestHeader("If-Modified-Since",it.lastModified[o]),it.etag[o]&&w.setRequestHeader("If-None-Match",it.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+je+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)w.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(!1===h.beforeSend.call(d,w,h)||2===_))return w.abort();b="abort";for(r in{success:1,error:1,complete:1})w[r](h[r]);if(c=H(ze,h,e,w)){w.readyState=1,l&&p.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},h.timeout));try{_=1,c.send(v,n)}catch(t){if(!(2>_))throw t;n(-1,t)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return it.get(t,e,n,"json")},getScript:function(t,e){return it.get(t,void 0,e,"script")}}),it.each(["get","post"],function(t,e){it[e]=function(t,n,i,r){return it.isFunction(n)&&(r=r||i,i=n,n=void 0),it.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){it.fn[e]=function(t){return this.on(e,t)}}),it._evalUrl=function(t){return it.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},it.fn.extend({wrapAll:function(t){if(it.isFunction(t))return this.each(function(e){it(this).wrapAll(t.call(this,e))});if(this[0]){var e=it(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(it.isFunction(t)?function(e){it(this).wrapInner(t.call(this,e))}:function(){var e=it(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=it.isFunction(t);return this.each(function(n){it(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!et.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||it.css(t,"display"))},it.expr.filters.visible=function(t){return!it.expr.filters.hidden(t)};var $e=/%20/g,We=/\[\]$/,Be=/\r?\n/g,Ue=/^(?:submit|button|image|reset|file)$/i,qe=/^(?:input|select|textarea|keygen)/i;it.param=function(t,e){var n,i=[],r=function(t,e){e=it.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(t)||t.jquery&&!it.isPlainObject(t))it.each(t,function(){r(this.name,this.value)});else for(n in t)W(n,t[n],e,r);return i.join("&").replace($e,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=it.prop(this,"elements");return t?it.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!it(this).is(":disabled")&&qe.test(this.nodeName)&&!Ue.test(t)&&(this.checked||!Mt.test(t))}).map(function(t,e){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(t){return{name:e.name,value:t.replace(Be,"\r\n")}}):{name:e.name,value:n.replace(Be,"\r\n")}}).get()}}),it.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&B()||U()}:B;var Ve=0,Xe={},Ge=it.ajaxSettings.xhr();t.ActiveXObject&&it(t).on("unload",function(){for(var t in Xe)Xe[t](void 0,!0)}),et.cors=!!Ge&&"withCredentials"in Ge,(Ge=et.ajax=!!Ge)&&it.ajaxTransport(function(t){if(!t.crossDomain||et.cors){var e;return{send:function(n,i){var r,o=t.xhr(),s=++Ve;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(t.hasContent&&t.data||null),e=function(n,r){var a,l,c;if(e&&(r||4===o.readyState))if(delete Xe[s],e=void 0,o.onreadystatechange=it.noop,r)4!==o.readyState&&o.abort();else{c={},a=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(t){l=""}a||!t.isLocal||t.crossDomain?1223===a&&(a=204):a=c.text?200:404}c&&i(a,l,c,o.getAllResponseHeaders())},t.async?4===o.readyState?setTimeout(e):o.onreadystatechange=Xe[s]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return it.globalEval(t),t}}}),it.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),it.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=pt.head||it("head")[0]||pt.documentElement;return{send:function(i,r){(e=pt.createElement("script")).async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var Ke=[],Qe=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ke.pop()||it.expando+"_"+De++;return this[t]=!0,t}}),it.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=!1!==e.jsonp&&(Qe.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qe.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=it.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Qe,"$1"+r):!1!==e.jsonp&&(e.url+=(Me.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||it.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Ke.push(r)),s&&it.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),it.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||pt;var i=ut.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=it.buildFragment([t],e,r),r&&r.length&&it(r).remove(),it.merge([],i.childNodes))};var Je=it.fn.load;it.fn.load=function(t,e,n){if("string"!=typeof t&&Je)return Je.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>=0&&(i=it.trim(t.slice(a,t.length)),t=t.slice(0,a)),it.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&it.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,s.html(i?it("<div>").append(it.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){s.each(n,r||[t.responseText,e,t])}),this},it.expr.filters.animated=function(t){return it.grep(it.timers,function(e){return t===e.elem}).length};var Ze=t.document.documentElement;it.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,c=it.css(t,"position"),u=it(t),h={};"static"===c&&(t.style.position="relative"),a=u.offset(),o=it.css(t,"top"),l=it.css(t,"left"),("absolute"===c||"fixed"===c)&&it.inArray("auto",[o,l])>-1?(i=u.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),it.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):u.css(h)}},it.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){it.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(e=o.documentElement,it.contains(e,r)?(typeof r.getBoundingClientRect!==wt&&(i=r.getBoundingClientRect()),n=q(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===it.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),it.nodeName(t[0],"html")||(n=t.offset()),n.top+=it.css(t[0],"borderTopWidth",!0),n.left+=it.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-it.css(i,"marginTop",!0),left:e.left-n.left-it.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Ze;t&&!it.nodeName(t,"html")&&"static"===it.css(t,"position");)t=t.offsetParent;return t||Ze})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);it.fn[t]=function(i){return Dt(this,function(t,i,r){var o=q(t);return void 0===r?o?e in o?o[e]:o.document.documentElement[i]:t[i]:void(o?o.scrollTo(n?it(o).scrollLeft():r,n?r:it(o).scrollTop()):t[i]=r)},t,i,arguments.length,null)}}),it.each(["top","left"],function(t,e){it.cssHooks[e]=T(et.pixelPosition,function(t,n){return n?(n=Jt(t,e),te.test(n)?it(t).position()[e]+"px":n):void 0})}),it.each({Height:"height",Width:"width"},function(t,e){it.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){it.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===r?"margin":"border");return Dt(this,function(e,n,i){var r;return it.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?it.css(e,n,s):it.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),it.fn.size=function(){return this.length},it.fn.andSelf=it.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return it});var tn=t.jQuery,en=t.$;return it.noConflict=function(e){return t.$===it&&(t.$=en),e&&t.jQuery===it&&(t.jQuery=tn),it},typeof e===wt&&(t.jQuery=t.$=it),it}),window.Modernizr=function(t,e,n){function i(t){m.cssText=t}function r(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var i in t){var r=t[i];if(!o(r,"-")&&m[r]!==n)return"pfx"!=e||r}return!1}function a(t,e,i){for(var o in t){var s=e[t[o]];if(s!==n)return!1===i?t[o]:r(s,"function")?s.bind(i||e):s}return!1}function l(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+y.join(i+" ")+i).split(" ");return r(e,"string")||r(e,"undefined")?s(o,e):(o=(t+" "+_.join(i+" ")+i).split(" "),a(o,e,n))}var c,u,h={},d=e.documentElement,p="modernizr",f=e.createElement(p),m=f.style,g=" -webkit- -moz- -o- -ms- ".split(" "),v="Webkit Moz O ms",y=v.split(" "),_=v.toLowerCase().split(" "),b={},w=[],x=w.slice,S=function(t,n,i,r){var o,s,a,l,c=e.createElement("div"),u=e.body,h=u||e.createElement("body");if(parseInt(i,10))for(;i--;)a=e.createElement("div"),a.id=r?r[i]:p+(i+1),c.appendChild(a);return o=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),c.id=p,(u?c:h).innerHTML+=o,h.appendChild(c),u||(h.style.background="",h.style.overflow="hidden",l=d.style.overflow,d.style.overflow="hidden",d.appendChild(h)),s=n(c,t),u?c.parentNode.removeChild(c):(h.parentNode.removeChild(h),d.style.overflow=l),!!s},k={}.hasOwnProperty;u=r(k,"undefined")||r(k.call,"undefined")?function(t,e){return e in t&&r(t.constructor.prototype[e],"undefined")}:function(t,e){return k.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=x.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var o=new r,s=e.apply(o,n.concat(x.call(arguments)));return Object(s)===s?s:o}return e.apply(t,n.concat(x.call(arguments)))};return i}),b.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:S(["@media (",g.join("touch-enabled),("),p,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},b.csstransforms3d=function(){var t=!!l("perspective");return t&&"webkitPerspective"in d.style&&S("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,n){t=9===e.offsetLeft&&3===e.offsetHeight}),t},b.csstransitions=function(){return l("transition")};for(var C in b)u(b,C)&&(c=C.toLowerCase(),h[c]=b[C](),w.push((h[c]?"":"no-")+c));return h.addTest=function(t,e){if("object"==typeof t)for(var i in t)u(t,i)&&h.addTest(i,t[i]);else{if(t=t.toLowerCase(),h[t]!==n)return h;e="function"==typeof e?e():e,d.className+=" "+(e?"":"no-")+t,h[t]=e}return h},i(""),f=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=g.elements;return"string"==typeof t?t.split(" "):t}function r(t){var e=m[t[p]];return e||(e={},f++,t[p]=f,m[f]=e),e}function o(t,n,i){if(n||(n=e),c)return n.createElement(t);i||(i=r(n));var o;return!(o=i.cache[t]?i.cache[t].cloneNode():d.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t)).canHaveChildren||h.test(t)||o.tagUrn?o:i.frag.appendChild(o)}function s(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return g.shivMethods?o(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(g,e.frag)}function a(t){t||(t=e);var i=r(t);return g.shivCSS&&!l&&!i.hasCSS&&(i.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||s(t,i),t}var l,c,u=t.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,d=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p="_html5shiv",f=0,m={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",l="hidden"in t,c=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){l=!0,c=!0}}();var g={elements:u.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==u.shivCSS,supportsUnknownElements:c,shivMethods:!1!==u.shivMethods,type:"default",shivDocument:a,createElement:o,createDocumentFragment:function(t,n){if(t||(t=e),c)return t.createDocumentFragment();for(var o=(n=n||r(t)).frag.cloneNode(),s=0,a=i(),l=a.length;s<l;s++)o.createElement(a[s]);return o}};t.html5=g,a(e)}(this,e),h._version="2.8.3",h._prefixes=g,h._domPrefixes=_,h._cssomPrefixes=y,h.testProp=function(t){return s([t])},h.testAllProps=l,h.testStyles=S,h.prefixed=function(t,e,n){return e?l(t,e,n):l(t,"pfx")},d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+w.join(" "),h}(this,this.document),function(t,e,n){function i(t){return"[object Function]"==g.call(t)}function r(t){return"string"==typeof t}function o(){}function s(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=v.shift();y=1,t?t.t?f(function(){("c"==t.t?d.injectCss:d.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):y=0}function l(t,n,i,r,o,l,c){function u(e){if(!p&&s(h.readyState)&&(_.r=p=1,!y&&a(),h.onload=h.onreadystatechange=null,e)){"img"!=t&&f(function(){w.removeChild(h)},50);for(var i in T[n])T[n].hasOwnProperty(i)&&T[n][i].onload()}}var c=c||d.errorTimeout,h=e.createElement(t),p=0,g=0,_={t:i,s:n,e:o,a:l,x:c};1===T[n]&&(g=1,T[n]=[]),"object"==t?h.data=n:(h.src=n,h.type=t),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){u.call(this,g)},v.splice(r,0,_),"img"!=t&&(g||2===T[n]?(w.insertBefore(h,b?null:m),f(u,c)):T[n].push(h))}function c(t,e,n,i,o){return y=0,e=e||"j",r(t)?l("c"==e?S:x,t,e,this.i++,n,i,o):(v.splice(this.i++,0,t),1==v.length&&a()),this}function u(){var t=d;return t.loader={load:c,i:0},t}var h,d,p=e.documentElement,f=t.setTimeout,m=e.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,_="MozAppearance"in p.style,b=_&&!!e.createRange().compareNode,w=b?p:m.parentNode,p=t.opera&&"[object Opera]"==g.call(t.opera),p=!!e.attachEvent&&!p,x=_?"object":p?"script":"img",S=p?"script":x,k=Array.isArray||function(t){return"[object Array]"==g.call(t)},C=[],T={},D={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};(d=function(t){function e(t){var e,n,i,t=t.split("!"),r=C.length,o=t.pop(),s=t.length,o={url:o,origUrl:o,prefixes:t};for(n=0;n<s;n++)i=t[n].split("="),(e=D[i.shift()])&&(o=e(o,i));for(n=0;n<r;n++)o=C[n](o);return o}function s(t,r,o,s,a){var l=e(t),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(r&&(r=i(r)?r:r[t]||r[s]||r[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,r,o,s,a):(T[l.url]?l.noexec=!0:T[l.url]=1,o.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(i(r)||i(c))&&o.load(function(){u(),r&&r(l.origUrl,a,s),c&&c(l.origUrl,a,s),T[l.url]=2})))}function a(t,e){function n(t,n){if(t){if(r(t))n||(h=function(){var t=[].slice.call(arguments);d.apply(this,t),p()}),s(t,h,e,0,c);else if(Object(t)===t)for(l in a=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(l)&&(!n&&!--a&&(i(h)?h=function(){var t=[].slice.call(arguments);d.apply(this,t),p()}:h[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),p()}}(d[l])),s(t[l],h,e,l,c))}else!n&&p()}var a,l,c=!!t.test,u=t.load||t.both,h=t.callback||o,d=h,p=t.complete||o;n(c?t.yep:t.nope,!!u),u&&n(u)}var l,c,h=this.yepnope.loader;if(r(t))s(t,0,h,0);else if(k(t))for(l=0;l<t.length;l++)c=t[l],r(c)?s(c,0,h,0):k(c)?d(c):Object(c)===c&&a(c,h);else Object(t)===t&&a(t,h)}).addPrefix=function(t,e){D[t]=e},d.addFilter=function(t){C.push(t)},d.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",h=function(){e.removeEventListener("DOMContentLoaded",h,0),e.readyState="complete"},0)),t.yepnope=u(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,n,i,r,l,c){var u,h,p=e.createElement("script"),r=r||d.errorTimeout;p.src=t;for(h in i)p.setAttribute(h,i[h]);n=c?a:n||o,p.onreadystatechange=p.onload=function(){!u&&s(p.readyState)&&(u=1,n(),p.onload=p.onreadystatechange=null)},f(function(){u||(u=1,n(1))},r),l?p.onload():m.parentNode.insertBefore(p,m)},t.yepnope.injectCss=function(t,n,i,r,s,l){var c,r=e.createElement("link"),n=l?a:n||o;r.href=t,r.rel="stylesheet",r.type="text/css";for(c in i)r.setAttribute(c,i[c]);s||(m.parentNode.insertBefore(r,m),f(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,i){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,!(!e.href||!o||"map"!==r.nodeName.toLowerCase())&&(!!(s=t("img[usemap='#"+o+"']")[0])&&n(s))):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(n){return e(n,!isNaN(t.attr(n,"tabindex")))},tabbable:function(n){var i=t.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&e(n,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?s["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,r=t(this[0]);r.length&&r[0]!==document;){if(("absolute"===(n=r.css("position"))||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;o.length>r;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}};var i=0,r=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,s,a,l={},c=e.split(".")[0];return e=e.split(".")[1],r=c+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[c]=t[c]||{},o=t[c][e],s=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(l[e]=i)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},l,{constructor:s,namespace:c,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var n,i,o=r.call(arguments,1),s=0,a=o.length;a>s;s++)for(n in o[s])i=o[s][n],o[s].hasOwnProperty(n)&&void 0!==i&&(e[n]=t.isPlainObject(i)?t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=r.call(arguments,1),l=this;return o=!s&&a.length?t.widget.extend.apply(null,[o].concat(a)):o,s?this.each(function(){var n,r=t.data(this,i);return"instance"===o?(l=r,!1):r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,a))!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,i);e?(e.option(o||{}),e._init&&e._init()):t.data(this,i,new n(o,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;i.length-1>o;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){return e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,a):n.bind(c,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget;var o=!1;t(document).mouseup(function(){o=!1}),t.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0,!0))}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):e.which?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),o=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function e(t,e,n){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var r,o,s=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return t("body").append(i),e=o.offsetWidth,i.css("overflow","scroll"),n=o.offsetWidth,e===n&&(n=i[0].clientWidth),i.remove(),r=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||r?n.width():n.outerWidth(),height:i||r?n.height():n.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return f.apply(this,arguments);r=t.extend({},r);var p,m,g,v,y,_,b=t(r.of),w=t.position.getWithinInfo(r.within),x=t.position.getScrollInfo(w),S=(r.collision||"flip").split(" "),k={};return _=i(b),b[0].preventDefault&&(r.at="left top"),m=_.width,g=_.height,v=_.offset,y=t.extend({},v),t.each(["my","at"],function(){var t,e,n=(r[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",t=h.exec(n[0]),e=h.exec(n[1]),k[this]=[t?t[0]:0,e?e[0]:0],r[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===S.length&&(S[1]=S[0]),"right"===r.at[0]?y.left+=m:"center"===r.at[0]&&(y.left+=m/2),"bottom"===r.at[1]?y.top+=g:"center"===r.at[1]&&(y.top+=g/2),p=e(k.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var i,c,u=t(this),h=u.outerWidth(),d=u.outerHeight(),f=n(this,"marginLeft"),_=n(this,"marginTop"),C=h+f+n(this,"marginRight")+x.width,T=d+_+n(this,"marginBottom")+x.height,D=t.extend({},y),M=e(k.my,u.outerWidth(),u.outerHeight());"right"===r.my[0]?D.left-=h:"center"===r.my[0]&&(D.left-=h/2),"bottom"===r.my[1]?D.top-=d:"center"===r.my[1]&&(D.top-=d/2),D.left+=M[0],D.top+=M[1],o||(D.left=l(D.left),D.top=l(D.top)),i={marginLeft:f,marginTop:_},t.each(["left","top"],function(e,n){t.ui.position[S[e]]&&t.ui.position[S[e]][n](D,{targetWidth:m,targetHeight:g,elemWidth:h,elemHeight:d,collisionPosition:i,collisionWidth:C,collisionHeight:T,offset:[p[0]+M[0],p[1]+M[1]],my:r.my,at:r.at,within:w,elem:u})}),r.using&&(c=function(t){var e=v.left-D.left,n=e+m-h,i=v.top-D.top,o=i+g-d,l={target:{element:b,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:D.left,top:D.top,width:h,height:d},horizontal:0>n?"left":e>0?"right":"center",vertical:0>o?"top":i>0?"bottom":"middle"};h>m&&m>a(e+n)&&(l.horizontal="center"),d>g&&g>a(i+o)&&(l.vertical="middle"),l.important=s(a(e),a(n))>s(a(i),a(o))?"horizontal":"vertical",r.using.call(this,t,l)}),u.offset(t.extend(D,{using:c}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,c=a+e.collisionWidth-o-r;e.collisionWidth>o?l>0&&0>=c?(n=t.left+l+e.collisionWidth-o-r,t.left+=l-n):t.left=c>0&&0>=l?r:l>c?r+o-e.collisionWidth:r:l>0?t.left+=l:c>0?t.left-=c:t.left=s(t.left-a,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,c=a+e.collisionHeight-o-r;e.collisionHeight>o?l>0&&0>=c?(n=t.top+l+e.collisionHeight-o-r,t.top+=l-n):t.top=c>0&&0>=l?r:l>c?r+o-e.collisionHeight:r:l>0?t.top+=l:c>0?t.top-=c:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,h=c+e.collisionWidth-s-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>u?(0>(n=t.left+d+p+f+e.collisionWidth-s-o)||a(u)>n)&&(t.left+=d+p+f):h>0&&((i=t.left-e.collisionPosition.marginLeft+d+p+f-l)>0||h>a(i))&&(t.left+=d+p+f)},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,h=c+e.collisionHeight-s-l,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];0>u?(i=t.top+d+p+f+e.collisionHeight-s-o,t.top+d+p+f>u&&(0>i||a(u)>i)&&(t.top+=d+p+f)):h>0&&(n=t.top-e.collisionPosition.marginTop+d+p+f-l,t.top+d+p+f>h&&(n>0||h>a(n))&&(t.top+=d+p+f))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,n,i,r,s,a=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in i)e.style[s]=i[s];e.appendChild(l),(n=a||document.documentElement).insertBefore(e,n.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",r=t(l).offset().left,o=r>10&&11>r,e.innerHTML="",n.removeChild(e)}()}(),t.ui.position,t.widget("ui.draggable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.document[0],i=this.options;try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&t(n.activeElement).blur()}catch(t){}return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(t(!0===i.iframeFix?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),void((i=n[0])&&(e="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=i.options,o=t.extend({},n,{item:i.element});i.sortables=[],t(r.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",e,o))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});t.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,r))})},drag:function(e,n,i){var r=this;t.each(i.sortables,function(){var o=!1,s=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(s.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",e),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",e),i.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,l,c,u,h,d,p,f=i.options,m=f.snapTolerance,g=n.offset.left,v=g+i.helperProportions.width,y=n.offset.top,_=y+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--)l=i.snapElements[d].left,c=l+i.snapElements[d].width,u=i.snapElements[d].top,h=u+i.snapElements[d].height,l-m>v||g>c+m||u-m>_||y>h+m||!t.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(r=m>=Math.abs(u-_),o=m>=Math.abs(h-y),s=m>=Math.abs(l-v),a=m>=Math.abs(c-g),r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top-i.margins.top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top-i.margins.top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left-i.margins.left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left-i.margins.left)),p=r||o||s||a,"outer"!==f.snapMode&&(r=m>=Math.abs(u-y),o=m>=Math.abs(h-_),s=m>=Math.abs(l-g),a=m>=Math.abs(c-v),r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top-i.margins.top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top-i.margins.top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left-i.margins.left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left-i.margins.left)),!i.snapElements[d].snapping&&(r||o||s||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=r||o||s||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&t.ui.intersect(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e)?(r=!0,!1):void 0}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,n){return t>=e&&e+n>t}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left,s=(e.positionAbs||e.position.absolute).top,a=o+e.helperProportions.width,l=s+e.helperProportions.height,c=n.offset.left,u=n.offset.top,h=c+n.proportions().width,d=u+n.proportions().height;switch(i){case"fit":return o>=c&&h>=a&&s>=u&&d>=l;case"intersect":return o+e.helperProportions.width/2>c&&h>a-e.helperProportions.width/2&&s+e.helperProportions.height/2>u&&d>l-e.helperProportions.height/2;case"pointer":return t(r.pageY,u,n.proportions().height)&&t(r.pageX,c,n.proportions().width);case"touch":return(s>=u&&d>=s||l>=u&&d>=l||u>s&&l>d)&&(o>=c&&h>=o||a>=c&&h>=a||c>o&&a>h);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;o.length>i;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;a.length>r;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=t.ui.intersect(e,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r})).length&&(i=t(o[0]).droppable("instance"),i.greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0||(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n,i,r,o,s=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},n=0;e.length>n;n++)i=t.trim(e[n]),o="ui-resizable-"+i,(r=t("<div class='ui-resizable-handle "+o+"'></div>")).css({zIndex:a.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(e){var n,i,r,o;e=e||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=this.element.children(this.handles[n]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),t(this.handles[n]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(t(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),s.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,s,a,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,o=i?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-r},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(t.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&c&&(t.left=a-e.minWidth),i&&c&&(t.left=a-e.maxWidth),s&&u&&(t.top=l-e.minHeight),r&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)n[e]=parseInt(i[e],10)||0,n[e]+=parseInt(r[e],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,s,a,l=t(this).resizable("instance"),c=l.options,u=l.element,h=c.containment,d=h instanceof t?h.get(0):/parent/.test(h)?u.parent().get(0):h;d&&(l.containerElement=t(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(d,"left")?d.scrollWidth:o,a=l._hasScroll(d)?d.scrollHeight:r,l.parentData={element:d,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,r,o,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||e.shiftKey,h={top:0,left:0},d=s.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),u&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,u&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,u&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,c=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:c}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?n(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],n(e.alsoResize)):t.each(e.alsoResize,function(t){n(t)})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0},l=function(e,i){t(e).each(function(){var e=t(this),r=t(this).data("ui-resizable-alsoresize"),o={},s=i&&i.length?i:e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(s,function(t,e){var n=(r[e]||0)+(a[e]||0);n&&n>=0&&(o[e]=n||null)}),e.css(o)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):t.each(r.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,h=Math.round((r.width-o.width)/c)*c,d=Math.round((r.height-o.height)/u)*u,p=o.width+h,f=o.height+d,m=i.maxWidth&&p>i.maxWidth,g=i.maxHeight&&f>i.maxHeight,v=i.minWidth&&i.minWidth>p,y=i.minHeight&&i.minHeight>f;i.grid=l,v&&(p+=c),y&&(f+=u),m&&(p-=c),g&&(f-=u),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.top=s.top-d):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.left=s.left-h):((0>=f-u||0>=p-c)&&(e=n._getPaddingPlusBorderDimensions(this)),f-u>0?(n.size.height=f,n.position.top=s.top-d):(f=u-e.height,n.size.height=f,n.position.top=s.top+o.height-f),p-c>0?(n.size.width=p,n.position.left=s.left-h):(p=u-e.height,n.size.width=p,n.position.left=s.left+o.width-p))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(e=t(n.options.filter,n.element[0])).addClass("ui-selectee"),e.each(function(){var e=t(this),n=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:n.left,top:n.top,right:n.left+e.outerWidth(),bottom:n.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");return r?(i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return o>a&&(n=a,a=o,o=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),c=!1;n&&n.element!==i.element[0]&&("touch"===r.tolerance?c=!(n.left>a||o>n.right||n.top>l||s>n.bottom):"fit"===r.tolerance&&(c=n.left>o&&a>n.right&&n.top>s&&l>n.bottom),c?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-t(document).scrollTop()<s.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)),e.pageX-t(document).scrollLeft()<s.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||i+c>a&&l>i+c,d="y"===this.options.axis||e+u>o&&s>e+u,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&s>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>a&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,r,o,s=[],a=[],l=this._connectWith();if(l&&e)for(n=l.length-1;n>=0;n--)for(r=t(l[n]),i=r.length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;n>=0;n--)a[n][0].each(function(){s.push(this)});return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;e.length>n;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(r=t(d[n]),i=r.length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],a=h[n][0],i=0,c=a.length;c>i;i++)(l=t(a[i])).data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(r)}):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var n,i,r,o,s,a,l,c,u,h,d=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,s=(u=d.floating||this._isFloating(this.currentItem))?"left":"top",a=u?"width":"height",h=u?"clientX":"clientY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],c=!1,e[h]-l>this.items[i][a]/2&&(c=!0),r>Math.abs(e[h]-l)&&(r=Math.abs(e[h]-l),o=this.items[i],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;r.length>i;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;r.length>i;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.Tether=e()}(this,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=t.getBoundingClientRect(),n={};for(var i in e)n[i]=e[i];if(t.ownerDocument!==document){var o=t.ownerDocument.defaultView.frameElement;if(o){var s=r(o);n.top+=s.top,n.bottom+=s.top,n.left+=s.left,n.right+=s.left}}return n}function o(t){var e=(getComputedStyle(t)||{}).position,n=[];if("fixed"===e)return[t];for(var i=t;(i=i.parentNode)&&i&&1===i.nodeType;){var r=void 0;try{r=getComputedStyle(i)}catch(t){}if(void 0===r||null===r)return n.push(i),n;var o=r,s=o.overflow,a=o.overflowX,l=o.overflowY;/(auto|scroll)/.test(s+l+a)&&("absolute"!==e||["relative","absolute","fixed"].indexOf(r.position)>=0)&&n.push(i)}return n.push(t.ownerDocument.body),t.ownerDocument!==document&&n.push(t.ownerDocument.defaultView),n}function s(){C&&document.body.removeChild(C),C=null}function a(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var n=e.documentElement,i=r(t),o=M();return i.top-=o.top,i.left-=o.left,void 0===i.width&&(i.width=document.body.scrollWidth-i.left-i.right),void 0===i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-n.clientTop,i.left=i.left-n.clientLeft,i.right=e.body.clientWidth-i.width-i.left,i.bottom=e.body.clientHeight-i.height-i.top,i}function l(t){return t.offsetParent||document.documentElement}function c(){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");u(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;n===i&&(i=e.clientWidth),document.body.removeChild(e);var r=n-i;return{width:r,height:r}}function u(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}),t}function h(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),i=f(t).replace(n," ");m(t,i)}}function d(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{h(t,e);var n=f(t)+" "+e;m(t,n)}}function p(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=f(t);return new RegExp("(^| )"+e+"( |$)","gi").test(n)}function f(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function m(t,e){t.setAttribute("class",e)}function g(t,e,n){n.forEach(function(n){-1===e.indexOf(n)&&p(t,n)&&h(t,n)}),e.forEach(function(e){p(t,e)||d(t,e)})}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function y(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+n>=e&&e>=t-n}function _(){return"undefined"!=typeof performance&&void 0!==performance.now?performance.now():+new Date}function b(){for(var t={top:0,left:0},e=arguments.length,n=Array(e),i=0;e>i;i++)n[i]=arguments[i];return n.forEach(function(e){var n=e.top,i=e.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof i&&(i=parseFloat(i,10)),t.top+=n,t.left+=i}),t}function w(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}function x(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),void 0!==e.nodeType&&function(){var t=e,n=a(e),i=n,r=getComputedStyle(e);if(e=[i.left,i.top,n.width+i.left,n.height+i.top],t.ownerDocument!==document){var o=t.ownerDocument.defaultView;e[0]+=o.pageXOffset,e[1]+=o.pageYOffset,e[2]+=o.pageXOffset,e[3]+=o.pageYOffset}X.forEach(function(t,n){"Top"===(t=t[0].toUpperCase()+t.substr(1))||"Left"===t?e[n]+=parseFloat(r["border"+t+"Width"]):e[n]-=parseFloat(r["border"+t+"Width"])})}(),e}var S=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),k=void 0;void 0===k&&(k={modules:[]});var C=null,T=function(){var t=0;return function(){return++t}}(),D={},M=function(){var t=C;t||((t=document.createElement("div")).setAttribute("data-tether-id",T()),u(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),C=t);var e=t.getAttribute("data-tether-id");return void 0===D[e]&&(D[e]=r(t),L(function(){delete D[e]})),D[e]},E=[],L=function(t){E.push(t)},A=function(){for(var t=void 0;t=E.pop();)t()},I=function(){function t(){i(this,t)}return S(t,[{key:"on",value:function(t,e,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})}},{key:"once",value:function(t,e,n){this.on(t,e,n,!0)}},{key:"off",value:function(t,e){if(void 0!==this.bindings&&void 0!==this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var n=0;n<this.bindings[t].length;)this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):++n}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];for(;e<this.bindings[t].length;){var o=this.bindings[t][e],s=o.handler,a=o.ctx,l=o.once,c=a;void 0===c&&(c=this),s.apply(c,i),l?this.bindings[t].splice(e,1):++e}}}}]),t}();k.Utils={getActualBoundingClientRect:r,getScrollParents:o,getBounds:a,getOffsetParent:l,extend:u,addClass:d,removeClass:h,hasClass:p,updateClasses:g,defer:L,flush:A,uniqueId:T,Evented:I,getScrollBarSize:c,removeUtilElements:s};var N=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),P=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=s,i=!0,a=c=void 0}};if(void 0===k)throw new Error("You must include the utils.js file before tether.js");var O=k.Utils,o=O.getScrollParents,a=O.getBounds,l=O.getOffsetParent,u=O.extend,d=O.addClass,h=O.removeClass,g=O.updateClasses,L=O.defer,A=O.flush,c=O.getScrollBarSize,s=O.removeUtilElements,Y=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<e.length;++n){var i=e[n];if(void 0!==t.style[i])return i}}(),R=[],F=function(){R.forEach(function(t){t.position(!1)}),A()};!function(){var t=null,e=null,n=null,i=function i(){return void 0!==e&&e>16?(e=Math.min(e-16,250),void(n=setTimeout(i,250))):void(void 0!==t&&_()-t<10||(null!=n&&(clearTimeout(n),n=null),t=_(),F(),e=_()-t))};"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,i)})}();var H={center:"center",left:"right",right:"left"},z={middle:"middle",top:"bottom",bottom:"top"},j={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},$=function(t,e){var n=t.left,i=t.top;return"auto"===n&&(n=H[e.left]),"auto"===i&&(i=z[e.top]),{left:n,top:i}},W=function(t){var e=t.left,n=t.top;return void 0!==j[t.left]&&(e=j[t.left]),void 0!==j[t.top]&&(n=j[t.top]),{left:e,top:n}},B=function(t){var e=t.split(" "),n=N(e,2);return{top:n[0],left:n[1]}},U=B,q=function(t){function e(t){var n=this;i(this,e),P(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.position=this.position.bind(this),R.push(this),this.history=[],this.setOptions(t,!1),k.modules.forEach(function(t){void 0!==t.initialize&&t.initialize.call(n)}),this.position()}return v(e,I),S(e,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],i={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=u(i,t);var r=this.options,s=r.element,a=r.target,l=r.targetModifier;if(this.element=s,this.target=a,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),d(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&d(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=U(this.options.targetAttachment),this.attachment=U(this.options.attachment),this.offset=B(this.options.offset),this.targetOffset=B(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=o(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return a(this.target);if("visible"===this.targetModifier)return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((o={height:(t=a(this.target)).height,width:t.width,top:t.top,left:t.left}).height=Math.min(o.height,t.height-(pageYOffset-t.top)),o.height=Math.min(o.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),o.height=Math.min(innerHeight,o.height),o.height-=2,o.width=Math.min(o.width,t.width-(pageXOffset-t.left)),o.width=Math.min(o.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),o.width=Math.min(innerWidth,o.width),o.width-=2,o.top<pageYOffset&&(o.top=pageYOffset),o.left<pageXOffset&&(o.left=pageXOffset),o);if("scroll-handle"===this.targetModifier){var t=void 0,e=this.target;e===document.body?(e=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=a(e);var n=getComputedStyle(e),i=0;(e.scrollWidth>e.clientWidth||[n.overflow,n.overflowX].indexOf("scroll")>=0||this.target!==document.body)&&(i=15);var r=t.height-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth)-i,o={width:15,height:.975*r*(r/e.scrollHeight),left:t.left+t.width-parseFloat(n.borderLeftWidth)-15},s=0;408>r&&this.target===document.body&&(s=-11e-5*Math.pow(r,2)-.00727*r+22.58),this.target!==document.body&&(o.height=Math.max(o.height,24));var l=this.target.scrollTop/(e.scrollHeight-r);return o.top=l*(r-o.height-s)+t.top+parseFloat(n.borderTopWidth),this.target===document.body&&(o.height=Math.max(o.height,24)),o}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;h(this.target,this.getClass("enabled")),h(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),R.forEach(function(e,n){e===t&&R.splice(n,1)}),0===R.length&&s()}},{key:"updateAttachClasses",value:function(t,e){var n=this;t=t||this.attachment,e=e||this.targetAttachment;var i=["left","top","bottom","right","middle","center"];void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var r=this._addAttachClasses;t.top&&r.push(this.getClass("element-attached")+"-"+t.top),t.left&&r.push(this.getClass("element-attached")+"-"+t.left),e.top&&r.push(this.getClass("target-attached")+"-"+e.top),e.left&&r.push(this.getClass("target-attached")+"-"+e.left);var o=[];i.forEach(function(t){o.push(n.getClass("element-attached")+"-"+t),o.push(n.getClass("target-attached")+"-"+t)}),L(function(){void 0!==n._addAttachClasses&&(g(n.element,n._addAttachClasses,o),!1!==n.options.addTargetClasses&&g(n.target,n._addAttachClasses,o),delete n._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=$(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var i=this.cache("element-bounds",function(){return a(t.element)}),r=i.width,o=i.height;if(0===r&&0===o&&void 0!==this.lastSize){var s=this.lastSize;r=s.width,o=s.height}else this.lastSize={width:r,height:o};var u=this.cache("target-bounds",function(){return t.getTargetBounds()}),h=u,d=w(W(this.attachment),{width:r,height:o}),p=w(W(n),h),f=w(this.offset,{width:r,height:o}),m=w(this.targetOffset,h);d=b(d,f),p=b(p,m);for(var g=u.left+p.left-d.left,v=u.top+p.top-d.top,y=0;y<k.modules.length;++y){var _=k.modules[y].position.call(this,{left:g,top:v,targetAttachment:n,targetPos:u,elementPos:i,offset:d,targetOffset:p,manualOffset:f,manualTargetOffset:m,scrollbarSize:T,attachment:this.attachment});if(!1===_)return!1;void 0!==_&&"object"==typeof _&&(v=_.top,g=_.left)}var x={page:{top:v,left:g},viewport:{top:v-pageYOffset,bottom:pageYOffset-v-o+innerHeight,left:g-pageXOffset,right:pageXOffset-g-r+innerWidth}},S=this.target.ownerDocument,C=S.defaultView,T=void 0;return S.body.scrollWidth>C.innerWidth&&(T=this.cache("scrollbar-size",c),x.viewport.bottom-=T.height),S.body.scrollHeight>C.innerHeight&&(T=this.cache("scrollbar-size",c),x.viewport.right-=T.width),(-1===["","static"].indexOf(S.body.style.position)||-1===["","static"].indexOf(S.body.parentElement.style.position))&&(x.page.bottom=S.body.scrollHeight-v-o,x.page.right=S.body.scrollWidth-g-r),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var e=t.cache("target-offsetparent",function(){return l(t.target)}),n=t.cache("target-offsetparent-bounds",function(){return a(e)}),i=getComputedStyle(e),r=n,o={};if(["Top","Left","Bottom","Right"].forEach(function(t){o[t.toLowerCase()]=parseFloat(i["border"+t+"Width"])}),n.right=S.body.scrollWidth-n.left-r.width+o.right,n.bottom=S.body.scrollHeight-n.top-r.height+o.bottom,x.page.top>=n.top+o.top&&x.page.bottom>=n.bottom&&x.page.left>=n.left+o.left&&x.page.right>=n.right){var s=e.scrollTop,c=e.scrollLeft;x.offset={top:x.page.top-n.top+s-o.top,left:x.page.left-n.left+c-o.left}}}(),this.move(x),this.history.unshift(x),this.history.length>3&&this.history.pop(),e&&A(),!0}}},{key:"move",value:function(t){var e=this;if(void 0!==this.element.parentNode){var n={};for(var i in t){n[i]={};for(var r in t[i]){for(var o=!1,s=0;s<this.history.length;++s){var a=this.history[s];if(void 0!==a[i]&&!y(a[i][r],t[i][r])){o=!0;break}}o||(n[i][r]=!0)}}var c={top:"",left:"",right:"",bottom:""},h=function(t,n){if(!1!==(void 0!==e.options.optimizations?e.options.optimizations.gpu:null)){var i=void 0,r=void 0;t.top?(c.top=0,i=n.top):(c.bottom=0,i=-n.bottom),t.left?(c.left=0,r=n.left):(c.right=0,r=-n.right),c[Y]="translateX("+Math.round(r)+"px) translateY("+Math.round(i)+"px)","msTransform"!==Y&&(c[Y]+=" translateZ(0)")}else t.top?c.top=n.top+"px":c.bottom=n.bottom+"px",t.left?c.left=n.left+"px":c.right=n.right+"px"},d=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(c.position="absolute",h(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(c.position="fixed",h(n.viewport,t.viewport)):void 0!==n.offset&&n.offset.top&&n.offset.left?function(){c.position="absolute";var i=e.cache("target-offsetparent",function(){return l(e.target)});l(e.element)!==i&&L(function(){e.element.parentNode.removeChild(e.element),i.appendChild(e.element)}),h(n.offset,t.offset),d=!0}():(c.position="absolute",h({top:!0,left:!0},t.page)),!d){for(var p=!0,f=this.element.parentNode;f&&1===f.nodeType&&"BODY"!==f.tagName;){if("static"!==getComputedStyle(f).position){p=!1;break}f=f.parentNode}p||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var m={},g=!1;for(var r in c){var v=c[r];this.element.style[r]!==v&&(g=!0,m[r]=v)}g&&L(function(){u(e.element.style,m)})}}}]),e}();q.modules=[],k.position=F;var V=u(q,k),N=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=(O=k.Utils).getBounds,u=O.extend,g=O.updateClasses,L=O.defer,X=["left","top","right","bottom"];k.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=t.targetAttachment;if(!this.options.constraints)return!0;var o=this.cache("element-bounds",function(){return a(e.element)}),s=o.height,l=o.width;if(0===l&&0===s&&void 0!==this.lastSize){var c=this.lastSize;l=c.width,s=c.height}var h=this.cache("target-bounds",function(){return e.getTargetBounds()}),d=h.height,p=h.width,f=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,n=t.pinnedClass;e&&f.push(e),n&&f.push(n)}),f.forEach(function(t){["left","top","right","bottom"].forEach(function(e){f.push(t+"-"+e)})});var m=[],v=u({},r),y=u({},this.attachment);return this.options.constraints.forEach(function(t){var o=t.to,a=t.attachment,c=t.pin;void 0===a&&(a="");var u=void 0,h=void 0;if(a.indexOf(" ")>=0){var f=a.split(" "),g=N(f,2);h=g[0],u=g[1]}else u=h=a;var _=x(e,o);("target"===h||"both"===h)&&(n<_[1]&&"top"===v.top&&(n+=d,v.top="bottom"),n+s>_[3]&&"bottom"===v.top&&(n-=d,v.top="top")),"together"===h&&("top"===v.top&&("bottom"===y.top&&n<_[1]?(n+=d,v.top="bottom",n+=s,y.top="top"):"top"===y.top&&n+s>_[3]&&n-(s-d)>=_[1]&&(n-=s-d,v.top="bottom",y.top="bottom")),"bottom"===v.top&&("top"===y.top&&n+s>_[3]?(n-=d,v.top="top",n-=s,y.top="bottom"):"bottom"===y.top&&n<_[1]&&n+(2*s-d)<=_[3]&&(n+=s-d,v.top="top",y.top="top")),"middle"===v.top&&(n+s>_[3]&&"top"===y.top?(n-=s,y.top="bottom"):n<_[1]&&"bottom"===y.top&&(n+=s,y.top="top"))),("target"===u||"both"===u)&&(i<_[0]&&"left"===v.left&&(i+=p,v.left="right"),i+l>_[2]&&"right"===v.left&&(i-=p,v.left="left")),"together"===u&&(i<_[0]&&"left"===v.left?"right"===y.left?(i+=p,v.left="right",i+=l,y.left="left"):"left"===y.left&&(i+=p,v.left="right",i-=l,y.left="right"):i+l>_[2]&&"right"===v.left?"left"===y.left?(i-=p,v.left="left",i-=l,y.left="right"):"right"===y.left&&(i-=p,v.left="left",i+=l,y.left="left"):"center"===v.left&&(i+l>_[2]&&"left"===y.left?(i-=l,y.left="right"):i<_[0]&&"right"===y.left&&(i+=l,y.left="left"))),("element"===h||"both"===h)&&(n<_[1]&&"bottom"===y.top&&(n+=s,y.top="top"),n+s>_[3]&&"top"===y.top&&(n-=s,y.top="bottom")),("element"===u||"both"===u)&&(i<_[0]&&("right"===y.left?(i+=l,y.left="left"):"center"===y.left&&(i+=l/2,y.left="left")),i+l>_[2]&&("left"===y.left?(i-=l,y.left="right"):"center"===y.left&&(i-=l/2,y.left="right"))),"string"==typeof c?c=c.split(",").map(function(t){return t.trim()}):!0===c&&(c=["top","left","right","bottom"]),c=c||[];var b=[],w=[];n<_[1]&&(c.indexOf("top")>=0?(n=_[1],b.push("top")):w.push("top")),n+s>_[3]&&(c.indexOf("bottom")>=0?(n=_[3]-s,b.push("bottom")):w.push("bottom")),i<_[0]&&(c.indexOf("left")>=0?(i=_[0],b.push("left")):w.push("left")),i+l>_[2]&&(c.indexOf("right")>=0?(i=_[2]-l,b.push("right")):w.push("right")),b.length&&function(){var t=void 0;t=void 0!==e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),m.push(t),b.forEach(function(e){m.push(t+"-"+e)})}(),w.length&&function(){var t=void 0;t=void 0!==e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),m.push(t),w.forEach(function(e){m.push(t+"-"+e)})}(),(b.indexOf("left")>=0||b.indexOf("right")>=0)&&(y.left=v.left=!1),(b.indexOf("top")>=0||b.indexOf("bottom")>=0)&&(y.top=v.top=!1),(v.top!==r.top||v.left!==r.left||y.top!==e.attachment.top||y.left!==e.attachment.left)&&(e.updateAttachClasses(y,v),e.trigger("update",{attachment:y,targetAttachment:v}))}),L(function(){!1!==e.options.addTargetClasses&&g(e.target,m,f),g(e.element,m,f)}),{top:n,left:i}}});var a=(O=k.Utils).getBounds,g=O.updateClasses,L=O.defer;k.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=this.cache("element-bounds",function(){return a(e.element)}),o=r.height,s=r.width,l=this.getTargetBounds(),c=n+o,u=i+s,h=[];n<=l.bottom&&c>=l.top&&["left","right"].forEach(function(t){var e=l[t];(e===i||e===u)&&h.push(t)}),i<=l.right&&u>=l.left&&["top","bottom"].forEach(function(t){var e=l[t];(e===n||e===c)&&h.push(t)});var d=[],p=[],f=["left","top","right","bottom"];return d.push(this.getClass("abutted")),f.forEach(function(t){d.push(e.getClass("abutted")+"-"+t)}),h.length&&p.push(this.getClass("abutted")),h.forEach(function(t){p.push(e.getClass("abutted")+"-"+t)}),L(function(){!1!==e.options.addTargetClasses&&g(e.target,p,d),g(e.element,p,d)}),!0}});N=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return k.modules.push({position:function(t){var e=t.top,n=t.left;if(this.options.shift){var i=this.options.shift;"function"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:e,left:n}));var r=void 0,o=void 0;if("string"==typeof i){(i=i.split(" "))[1]=i[1]||i[0];var s=N(i,2);r=s[0],o=s[1],r=parseFloat(r,10),o=parseFloat(o,10)}else r=i.top,o=i.left;return e+=r,n+=o,{top:e,left:n}}}}),V}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");+function(t){var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),function(){function t(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){function e(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function n(t){return(t[0]||t).nodeType}function i(){return{bindType:s.end,delegateType:s.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function r(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in a)if(void 0!==t.style[e])return{end:a[e]};return!1}function o(e){var n=this,i=!1;return t(this).one(l.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||l.triggerTransitionEnd(n)},e),this}var s=!1,a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},l={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href")||"",e=/^#[a-z]/i.test(e)?e:null),e},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(s.end)},supportsTransitionEnd:function(){return Boolean(s)},typeCheckConfig:function(t,i,r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o],a=i[o],l=a&&n(a)?"element":e(a);if(!new RegExp(s).test(l))throw new Error(t.toUpperCase()+': Option "'+o+'" provided type "'+l+'" but expected type "'+s+'".')}}};return s=r(),t.fn.emulateTransitionEnd=o,l.supportsTransitionEnd()&&(t.event.special[l.TRANSITION_END]=i()),l}(jQuery),s=(function(t){var e="alert",i="bs.alert",s="."+i,a=t.fn[e],l={DISMISS:'[data-dismiss="alert"]'},c={CLOSE:"close"+s,CLOSED:"closed"+s,CLICK_DATA_API:"click"+s+".data-api"},u={ALERT:"alert",FADE:"fade",SHOW:"show"},h=function(){function e(t){n(this,e),this._element=t}return e.prototype.close=function(t){t=t||this._element;var e=this._getRootElement(t);this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.prototype.dispose=function(){t.removeData(this._element,i),this._element=null},e.prototype._getRootElement=function(e){var n=o.getSelectorFromElement(e),i=!1;return n&&(i=t(n)[0]),i||(i=t(e).closest("."+u.ALERT)[0]),i},e.prototype._triggerCloseEvent=function(e){var n=t.Event(c.CLOSE);return t(e).trigger(n),n},e.prototype._removeElement=function(e){var n=this;return t(e).removeClass(u.SHOW),o.supportsTransitionEnd()&&t(e).hasClass(u.FADE)?void t(e).one(o.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(150):void this._destroyElement(e)},e.prototype._destroyElement=function(e){t(e).detach().trigger(c.CLOSED).remove()},e._jQueryInterface=function(n){return this.each(function(){var r=t(this),o=r.data(i);o||(o=new e(this),r.data(i,o)),"close"===n&&o[n](this)})},e._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(e,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}}]),e}();t(document).on(c.CLICK_DATA_API,l.DISMISS,h._handleDismiss(new h)),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=a,h._jQueryInterface}}(jQuery),function(t){var e="button",i="bs.button",o="."+i,s=".data-api",a=t.fn[e],l={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},c={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},u={CLICK_DATA_API:"click"+o+s,FOCUS_BLUR_DATA_API:"focus"+o+s+" blur"+o+s},h=function(){function e(t){n(this,e),this._element=t}return e.prototype.toggle=function(){var e=!0,n=t(this._element).closest(c.DATA_TOGGLE)[0];if(n){var i=t(this._element).find(c.INPUT)[0];if(i){if("radio"===i.type)if(i.checked&&t(this._element).hasClass(l.ACTIVE))e=!1;else{var r=t(n).find(c.ACTIVE)[0];r&&t(r).removeClass(l.ACTIVE)}e&&(i.checked=!t(this._element).hasClass(l.ACTIVE),t(i).trigger("change")),i.focus()}}this._element.setAttribute("aria-pressed",!t(this._element).hasClass(l.ACTIVE)),e&&t(this._element).toggleClass(l.ACTIVE)},e.prototype.dispose=function(){t.removeData(this._element,i),this._element=null},e._jQueryInterface=function(n){return this.each(function(){var r=t(this).data(i);r||(r=new e(this),t(this).data(i,r)),"toggle"===n&&r[n]()})},r(e,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}}]),e}();t(document).on(u.CLICK_DATA_API,c.DATA_TOGGLE_CARROT,function(e){e.preventDefault();var n=e.target;t(n).hasClass(l.BUTTON)||(n=t(n).closest(c.BUTTON)),h._jQueryInterface.call(t(n),"toggle")}).on(u.FOCUS_BLUR_DATA_API,c.DATA_TOGGLE_CARROT,function(e){var n=t(e.target).closest(c.BUTTON)[0];t(n).toggleClass(l.FOCUS,/^focus(in)?$/.test(e.type))}),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=a,h._jQueryInterface}}(jQuery),function(t){var e="carousel",s="bs.carousel",a="."+s,l=".data-api",c=t.fn[e],u={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},h={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},d={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},p={SLIDE:"slide"+a,SLID:"slid"+a,KEYDOWN:"keydown"+a,MOUSEENTER:"mouseenter"+a,MOUSELEAVE:"mouseleave"+a,LOAD_DATA_API:"load"+a+l,CLICK_DATA_API:"click"+a+l},f={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},m={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},g=function(){function l(e,i){n(this,l),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this._config=this._getConfig(i),this._element=t(e)[0],this._indicatorsElement=t(this._element).find(m.INDICATORS)[0],this._addEventListeners()}return l.prototype.next=function(){if(this._isSliding)throw new Error("Carousel is sliding");this._slide(d.NEXT)},l.prototype.nextWhenVisible=function(){document.hidden||this.next()},l.prototype.prev=function(){if(this._isSliding)throw new Error("Carousel is sliding");this._slide(d.PREVIOUS)},l.prototype.pause=function(e){e||(this._isPaused=!0),t(this._element).find(m.NEXT_PREV)[0]&&o.supportsTransitionEnd()&&(o.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},l.prototype.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},l.prototype.to=function(e){var n=this;this._activeElement=t(this._element).find(m.ACTIVE_ITEM)[0];var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0)){if(this._isSliding)return void t(this._element).one(p.SLID,function(){return n.to(e)});if(i===e)return this.pause(),void this.cycle();var r=e>i?d.NEXT:d.PREVIOUS;this._slide(r,this._items[e])}},l.prototype.dispose=function(){t(this._element).off(a),t.removeData(this._element,s),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},l.prototype._getConfig=function(n){return n=t.extend({},u,n),o.typeCheckConfig(e,n,h),n},l.prototype._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(p.KEYDOWN,function(t){return e._keydown(t)}),"hover"!==this._config.pause||"ontouchstart"in document.documentElement||t(this._element).on(p.MOUSEENTER,function(t){return e.pause(t)}).on(p.MOUSELEAVE,function(t){return e.cycle(t)})},l.prototype._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next();break;default:return}},l.prototype._getItemIndex=function(e){return this._items=t.makeArray(t(e).parent().find(m.ITEM)),this._items.indexOf(e)},l.prototype._getItemByDirection=function(t,e){var n=t===d.NEXT,i=t===d.PREVIOUS,r=this._getItemIndex(e),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return e;var s=(r+(t===d.PREVIOUS?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},l.prototype._triggerSlideEvent=function(e,n){var i=t.Event(p.SLIDE,{relatedTarget:e,direction:n});return t(this._element).trigger(i),i},l.prototype._setActiveIndicatorElement=function(e){if(this._indicatorsElement){t(this._indicatorsElement).find(m.ACTIVE).removeClass(f.ACTIVE);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&t(n).addClass(f.ACTIVE)}},l.prototype._slide=function(e,n){var i=this,r=t(this._element).find(m.ACTIVE_ITEM)[0],s=n||r&&this._getItemByDirection(e,r),a=Boolean(this._interval),l=void 0,c=void 0,u=void 0;if(e===d.NEXT?(l=f.LEFT,c=f.NEXT,u=d.LEFT):(l=f.RIGHT,c=f.PREV,u=d.RIGHT),s&&t(s).hasClass(f.ACTIVE))this._isSliding=!1;else if(!this._triggerSlideEvent(s,u).isDefaultPrevented()&&r&&s){this._isSliding=!0,a&&this.pause(),this._setActiveIndicatorElement(s);var h=t.Event(p.SLID,{relatedTarget:s,direction:u});o.supportsTransitionEnd()&&t(this._element).hasClass(f.SLIDE)?(t(s).addClass(c),o.reflow(s),t(r).addClass(l),t(s).addClass(l),t(r).one(o.TRANSITION_END,function(){t(s).removeClass(l+" "+c).addClass(f.ACTIVE),t(r).removeClass(f.ACTIVE+" "+c+" "+l),i._isSliding=!1,setTimeout(function(){return t(i._element).trigger(h)},0)}).emulateTransitionEnd(600)):(t(r).removeClass(f.ACTIVE),t(s).addClass(f.ACTIVE),this._isSliding=!1,t(this._element).trigger(h)),a&&this.cycle()}},l._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(s),r=t.extend({},u,t(this).data());"object"===(void 0===e?"undefined":i(e))&&t.extend(r,e);var o="string"==typeof e?e:r.slide;if(n||(n=new l(this,r),t(this).data(s,n)),"number"==typeof e)n.to(e);else if("string"==typeof o){if(void 0===n[o])throw new Error('No method named "'+o+'"');n[o]()}else r.interval&&(n.pause(),n.cycle())})},l._dataApiClickHandler=function(e){var n=o.getSelectorFromElement(this);if(n){var i=t(n)[0];if(i&&t(i).hasClass(f.CAROUSEL)){var r=t.extend({},t(i).data(),t(this).data()),a=this.getAttribute("data-slide-to");a&&(r.interval=!1),l._jQueryInterface.call(t(i),r),a&&t(i).data(s).to(a),e.preventDefault()}}},r(l,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return u}}]),l}();t(document).on(p.CLICK_DATA_API,m.DATA_SLIDE,g._dataApiClickHandler),t(window).on(p.LOAD_DATA_API,function(){t(m.DATA_RIDE).each(function(){var e=t(this);g._jQueryInterface.call(e,e.data())})}),t.fn[e]=g._jQueryInterface,t.fn[e].Constructor=g,t.fn[e].noConflict=function(){return t.fn[e]=c,g._jQueryInterface}}(jQuery),function(t){var e="collapse",s="bs.collapse",a="."+s,l=t.fn[e],c={toggle:!0,parent:""},u={toggle:"boolean",parent:"string"},h={SHOW:"show"+a,SHOWN:"shown"+a,HIDE:"hide"+a,HIDDEN:"hidden"+a,CLICK_DATA_API:"click"+a+".data-api"},d={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},p={WIDTH:"width",HEIGHT:"height"},f={ACTIVES:".card > .show, .card > .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},m=function(){function a(e,i){n(this,a),this._isTransitioning=!1,this._element=e,this._config=this._getConfig(i),this._triggerArray=t.makeArray(t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]')),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return a.prototype.toggle=function(){t(this._element).hasClass(d.SHOW)?this.hide():this.show()},a.prototype.show=function(){var e=this;if(this._isTransitioning)throw new Error("Collapse is transitioning");if(!t(this._element).hasClass(d.SHOW)){var n=void 0,i=void 0;if(this._parent&&((n=t.makeArray(t(this._parent).find(f.ACTIVES))).length||(n=null)),!(n&&(i=t(n).data(s))&&i._isTransitioning)){var r=t.Event(h.SHOW);if(t(this._element).trigger(r),!r.isDefaultPrevented()){n&&(a._jQueryInterface.call(t(n),"hide"),i||t(n).data(s,null));var l=this._getDimension();t(this._element).removeClass(d.COLLAPSE).addClass(d.COLLAPSING),this._element.style[l]=0,this._element.setAttribute("aria-expanded",!0),this._triggerArray.length&&t(this._triggerArray).removeClass(d.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var c=function(){t(e._element).removeClass(d.COLLAPSING).addClass(d.COLLAPSE).addClass(d.SHOW),e._element.style[l]="",e.setTransitioning(!1),t(e._element).trigger(h.SHOWN)};if(!o.supportsTransitionEnd())return void c();var u="scroll"+(l[0].toUpperCase()+l.slice(1));t(this._element).one(o.TRANSITION_END,c).emulateTransitionEnd(600),this._element.style[l]=this._element[u]+"px"}}}},a.prototype.hide=function(){var e=this;if(this._isTransitioning)throw new Error("Collapse is transitioning");if(t(this._element).hasClass(d.SHOW)){var n=t.Event(h.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension(),r=i===p.WIDTH?"offsetWidth":"offsetHeight";this._element.style[i]=this._element[r]+"px",o.reflow(this._element),t(this._element).addClass(d.COLLAPSING).removeClass(d.COLLAPSE).removeClass(d.SHOW),this._element.setAttribute("aria-expanded",!1),this._triggerArray.length&&t(this._triggerArray).addClass(d.COLLAPSED).attr("aria-expanded",!1),this.setTransitioning(!0);var s=function(){e.setTransitioning(!1),t(e._element).removeClass(d.COLLAPSING).addClass(d.COLLAPSE).trigger(h.HIDDEN)};return this._element.style[i]="",o.supportsTransitionEnd()?void t(this._element).one(o.TRANSITION_END,s).emulateTransitionEnd(600):void s()}}},a.prototype.setTransitioning=function(t){this._isTransitioning=t},a.prototype.dispose=function(){t.removeData(this._element,s),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},a.prototype._getConfig=function(n){return n=t.extend({},c,n),n.toggle=Boolean(n.toggle),o.typeCheckConfig(e,n,u),n},a.prototype._getDimension=function(){return t(this._element).hasClass(p.WIDTH)?p.WIDTH:p.HEIGHT},a.prototype._getParent=function(){var e=this,n=t(this._config.parent)[0],i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return t(n).find(i).each(function(t,n){e._addAriaAndCollapsedClass(a._getTargetFromElement(n),[n])}),n},a.prototype._addAriaAndCollapsedClass=function(e,n){if(e){var i=t(e).hasClass(d.SHOW);e.setAttribute("aria-expanded",i),n.length&&t(n).toggleClass(d.COLLAPSED,!i).attr("aria-expanded",i)}},a._getTargetFromElement=function(e){var n=o.getSelectorFromElement(e);return n?t(n)[0]:null},a._jQueryInterface=function(e){return this.each(function(){var n=t(this),r=n.data(s),o=t.extend({},c,n.data(),"object"===(void 0===e?"undefined":i(e))&&e);if(!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||(r=new a(this,o),n.data(s,r)),"string"==typeof e){if(void 0===r[e])throw new Error('No method named "'+e+'"');r[e]()}})},r(a,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return c}}]),a}();t(document).on(h.CLICK_DATA_API,f.DATA_TOGGLE,function(e){e.preventDefault();var n=m._getTargetFromElement(this),i=t(n).data(s)?"toggle":t(this).data();m._jQueryInterface.call(t(n),i)}),t.fn[e]=m._jQueryInterface,t.fn[e].Constructor=m,t.fn[e].noConflict=function(){return t.fn[e]=l,m._jQueryInterface}}(jQuery),function(t){var e="dropdown",i="bs.dropdown",s="."+i,a=".data-api",l=t.fn[e],c={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,CLICK:"click"+s,CLICK_DATA_API:"click"+s+a,FOCUSIN_DATA_API:"focusin"+s+a,KEYDOWN_DATA_API:"keydown"+s+a},u={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",SHOW:"show"},h={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},d=function(){function e(t){n(this,e),this._element=t,this._addEventListeners()}return e.prototype.toggle=function(){if(this.disabled||t(this).hasClass(u.DISABLED))return!1;var n=e._getParentFromElement(this),i=t(n).hasClass(u.SHOW);if(e._clearMenus(),i)return!1;if("ontouchstart"in document.documentElement&&!t(n).closest(h.NAVBAR_NAV).length){var r=document.createElement("div");r.className=u.BACKDROP,t(r).insertBefore(this),t(r).on("click",e._clearMenus)}var o={relatedTarget:this},s=t.Event(c.SHOW,o);return t(n).trigger(s),!s.isDefaultPrevented()&&(this.focus(),this.setAttribute("aria-expanded",!0),t(n).toggleClass(u.SHOW),t(n).trigger(t.Event(c.SHOWN,o)),!1)},e.prototype.dispose=function(){t.removeData(this._element,i),t(this._element).off(s),this._element=null},e.prototype._addEventListeners=function(){t(this._element).on(c.CLICK,this.toggle)},e._jQueryInterface=function(n){return this.each(function(){var r=t(this).data(i);if(r||(r=new e(this),t(this).data(i,r)),"string"==typeof n){if(void 0===r[n])throw new Error('No method named "'+n+'"');r[n].call(this)}})},e._clearMenus=function(n){if(!n||3!==n.which){var i=t(h.BACKDROP)[0];i&&i.parentNode.removeChild(i);for(var r=t.makeArray(t(h.DATA_TOGGLE)),o=0;o<r.length;o++){var s=e._getParentFromElement(r[o]),a={relatedTarget:r[o]};if(t(s).hasClass(u.SHOW)&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"focusin"===n.type)&&t.contains(s,n.target))){var l=t.Event(c.HIDE,a);t(s).trigger(l),l.isDefaultPrevented()||(r[o].setAttribute("aria-expanded","false"),t(s).removeClass(u.SHOW).trigger(t.Event(c.HIDDEN,a)))}}}},e._getParentFromElement=function(e){var n=void 0,i=o.getSelectorFromElement(e);return i&&(n=t(i)[0]),n||e.parentNode},e._dataApiKeydownHandler=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!t(this).hasClass(u.DISABLED))){var i=e._getParentFromElement(this),r=t(i).hasClass(u.SHOW);if(!r&&27!==n.which||r&&27===n.which){if(27===n.which){var o=t(i).find(h.DATA_TOGGLE)[0];t(o).trigger("focus")}return void t(this).trigger("click")}var s=t(i).find(h.VISIBLE_ITEMS).get();if(s.length){var a=s.indexOf(n.target);38===n.which&&a>0&&a--,40===n.which&&a<s.length-1&&a++,a<0&&(a=0),s[a].focus()}}},r(e,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}}]),e}();t(document).on(c.KEYDOWN_DATA_API,h.DATA_TOGGLE,d._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API,h.ROLE_MENU,d._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API,h.ROLE_LISTBOX,d._dataApiKeydownHandler).on(c.CLICK_DATA_API+" "+c.FOCUSIN_DATA_API,d._clearMenus).on(c.CLICK_DATA_API,h.DATA_TOGGLE,d.prototype.toggle).on(c.CLICK_DATA_API,h.FORM_CHILD,function(t){t.stopPropagation()}),t.fn[e]=d._jQueryInterface,t.fn[e].Constructor=d,t.fn[e].noConflict=function(){return t.fn[e]=l,d._jQueryInterface}}(jQuery),function(t){var e="modal",s="bs.modal",a="."+s,l=t.fn[e],c={backdrop:!0,keyboard:!0,focus:!0,show:!0},u={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},h={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,FOCUSIN:"focusin"+a,RESIZE:"resize"+a,CLICK_DISMISS:"click.dismiss"+a,KEYDOWN_DISMISS:"keydown.dismiss"+a,MOUSEUP_DISMISS:"mouseup.dismiss"+a,MOUSEDOWN_DISMISS:"mousedown.dismiss"+a,CLICK_DATA_API:"click"+a+".data-api"},d={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},p={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"},f=function(){function l(e,i){n(this,l),this._config=this._getConfig(i),this._element=e,this._dialog=t(e).find(p.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return l.prototype.toggle=function(t){return this._isShown?this.hide():this.show(t)},l.prototype.show=function(e){var n=this;if(this._isTransitioning)throw new Error("Modal is transitioning");o.supportsTransitionEnd()&&t(this._element).hasClass(d.FADE)&&(this._isTransitioning=!0);var i=t.Event(h.SHOW,{relatedTarget:e});t(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),t(document.body).addClass(d.OPEN),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(h.CLICK_DISMISS,p.DATA_DISMISS,function(t){return n.hide(t)}),t(this._dialog).on(h.MOUSEDOWN_DISMISS,function(){t(n._element).one(h.MOUSEUP_DISMISS,function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))},l.prototype.hide=function(e){var n=this;if(e&&e.preventDefault(),this._isTransitioning)throw new Error("Modal is transitioning");var i=o.supportsTransitionEnd()&&t(this._element).hasClass(d.FADE);i&&(this._isTransitioning=!0);var r=t.Event(h.HIDE);t(this._element).trigger(r),this._isShown&&!r.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),t(document).off(h.FOCUSIN),t(this._element).removeClass(d.SHOW),t(this._element).off(h.CLICK_DISMISS),t(this._dialog).off(h.MOUSEDOWN_DISMISS),i?t(this._element).one(o.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(300):this._hideModal())},l.prototype.dispose=function(){t.removeData(this._element,s),t(window,document,this._element,this._backdrop).off(a),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._originalBodyPadding=null,this._scrollbarWidth=null},l.prototype._getConfig=function(n){return n=t.extend({},c,n),o.typeCheckConfig(e,n,u),n},l.prototype._showElement=function(e){var n=this,i=o.supportsTransitionEnd()&&t(this._element).hasClass(d.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&o.reflow(this._element),t(this._element).addClass(d.SHOW),this._config.focus&&this._enforceFocus();var r=t.Event(h.SHOWN,{relatedTarget:e}),s=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(r)};i?t(this._dialog).one(o.TRANSITION_END,s).emulateTransitionEnd(300):s()},l.prototype._enforceFocus=function(){var e=this;t(document).off(h.FOCUSIN).on(h.FOCUSIN,function(n){document===n.target||e._element===n.target||t(e._element).has(n.target).length||e._element.focus()})},l.prototype._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(h.KEYDOWN_DISMISS,function(t){27===t.which&&e.hide()}):this._isShown||t(this._element).off(h.KEYDOWN_DISMISS)},l.prototype._setResizeEvent=function(){var e=this;this._isShown?t(window).on(h.RESIZE,function(t){return e._handleUpdate(t)}):t(window).off(h.RESIZE)},l.prototype._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden","true"),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(d.OPEN),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(h.HIDDEN)})},l.prototype._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},l.prototype._showBackdrop=function(e){var n=this,i=t(this._element).hasClass(d.FADE)?d.FADE:"";if(this._isShown&&this._config.backdrop){var r=o.supportsTransitionEnd()&&i;if(this._backdrop=document.createElement("div"),this._backdrop.className=d.BACKDROP,i&&t(this._backdrop).addClass(i),t(this._backdrop).appendTo(document.body),t(this._element).on(h.CLICK_DISMISS,function(t){return n._ignoreBackdropClick?void(n._ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide()))}),r&&o.reflow(this._backdrop),t(this._backdrop).addClass(d.SHOW),!e)return;if(!r)return void e();t(this._backdrop).one(o.TRANSITION_END,e).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(d.SHOW);var s=function(){n._removeBackdrop(),e&&e()};o.supportsTransitionEnd()&&t(this._element).hasClass(d.FADE)?t(this._backdrop).one(o.TRANSITION_END,s).emulateTransitionEnd(150):s()}else e&&e()},l.prototype._handleUpdate=function(){this._adjustDialog()},l.prototype._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},l.prototype._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},l.prototype._checkScrollbar=function(){this._isBodyOverflowing=document.body.clientWidth<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},l.prototype._setScrollbar=function(){var e=parseInt(t(p.FIXED_CONTENT).css("padding-right")||0,10);this._originalBodyPadding=document.body.style.paddingRight||"",this._isBodyOverflowing&&(document.body.style.paddingRight=e+this._scrollbarWidth+"px")},l.prototype._resetScrollbar=function(){document.body.style.paddingRight=this._originalBodyPadding},l.prototype._getScrollbarWidth=function(){var t=document.createElement("div");t.className=d.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},l._jQueryInterface=function(e,n){return this.each(function(){var r=t(this).data(s),o=t.extend({},l.Default,t(this).data(),"object"===(void 0===e?"undefined":i(e))&&e);if(r||(r=new l(this,o),t(this).data(s,r)),"string"==typeof e){if(void 0===r[e])throw new Error('No method named "'+e+'"');r[e](n)}else o.show&&r.show(n)})},r(l,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return c}}]),l}();t(document).on(h.CLICK_DATA_API,p.DATA_TOGGLE,function(e){var n=this,i=void 0,r=o.getSelectorFromElement(this);r&&(i=t(r)[0]);var a=t(i).data(s)?"toggle":t.extend({},t(i).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var l=t(i).one(h.SHOW,function(e){e.isDefaultPrevented()||l.one(h.HIDDEN,function(){t(n).is(":visible")&&n.focus()})});f._jQueryInterface.call(t(i),a,this)}),t.fn[e]=f._jQueryInterface,t.fn[e].Constructor=f,t.fn[e].noConflict=function(){return t.fn[e]=l,f._jQueryInterface}}(jQuery),function(t){var e="scrollspy",s="bs.scrollspy",a="."+s,l=t.fn[e],c={offset:10,method:"auto",target:""},u={offset:"number",method:"string",target:"(string|element)"},h={ACTIVATE:"activate"+a,SCROLL:"scroll"+a,LOAD_DATA_API:"load"+a+".data-api"},d={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",NAV_LINK:"nav-link",NAV:"nav",ACTIVE:"active"},p={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",LIST_ITEM:".list-item",LI:"li",LI_DROPDOWN:"li.dropdown",NAV_LINKS:".nav-link",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},f={OFFSET:"offset",POSITION:"position"},m=function(){function l(e,i){var r=this;n(this,l),this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(i),this._selector=this._config.target+" "+p.NAV_LINKS+","+this._config.target+" "+p.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(h.SCROLL,function(t){return r._process(t)}),this.refresh(),this._process()}return l.prototype.refresh=function(){var e=this,n=this._scrollElement!==this._scrollElement.window?f.POSITION:f.OFFSET,i="auto"===this._config.method?n:this._config.method,r=i===f.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),t.makeArray(t(this._selector)).map(function(e){var n=void 0,s=o.getSelectorFromElement(e);return s&&(n=t(s)[0]),n&&(n.offsetWidth||n.offsetHeight)?[t(n)[i]().top+r,s]:null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},l.prototype.dispose=function(){t.removeData(this._element,s),t(this._scrollElement).off(a),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},l.prototype._getConfig=function(n){if("string"!=typeof(n=t.extend({},c,n)).target){var i=t(n.target).attr("id");i||(i=o.getUID(e),t(n.target).attr("id",i)),n.target="#"+i}return o.typeCheckConfig(e,n,u),n},l.prototype._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},l.prototype._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},l.prototype._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.offsetHeight},l.prototype._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},l.prototype._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",");n=n.map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'});var i=t(n.join(","));i.hasClass(d.DROPDOWN_ITEM)?(i.closest(p.DROPDOWN).find(p.DROPDOWN_TOGGLE).addClass(d.ACTIVE),i.addClass(d.ACTIVE)):i.parents(p.LI).find("> "+p.NAV_LINKS).addClass(d.ACTIVE),t(this._scrollElement).trigger(h.ACTIVATE,{relatedTarget:e})},l.prototype._clear=function(){t(this._selector).filter(p.ACTIVE).removeClass(d.ACTIVE)},l._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(s),r="object"===(void 0===e?"undefined":i(e))&&e;if(n||(n=new l(this,r),t(this).data(s,n)),"string"==typeof e){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e]()}})},r(l,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return c}}]),l}();t(window).on(h.LOAD_DATA_API,function(){for(var e=t.makeArray(t(p.DATA_SPY)),n=e.length;n--;){var i=t(e[n]);m._jQueryInterface.call(i,i.data())}}),t.fn[e]=m._jQueryInterface,t.fn[e].Constructor=m,t.fn[e].noConflict=function(){return t.fn[e]=l,m._jQueryInterface}}(jQuery),function(t){var e="tab",i="bs.tab",s="."+i,a=t.fn[e],l={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,CLICK_DATA_API:"click"+s+".data-api"},c={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},u={A:"a",LI:"li",DROPDOWN:".dropdown",LIST:"ul:not(.dropdown-menu), ol:not(.dropdown-menu), nav:not(.dropdown-menu)",FADE_CHILD:"> .nav-item .fade, > .fade",ACTIVE:".active",ACTIVE_CHILD:"> .nav-item > .active, > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},h=function(){function e(t){n(this,e),this._element=t}return e.prototype.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(c.ACTIVE)||t(this._element).hasClass(c.DISABLED))){var n=void 0,i=void 0,r=t(this._element).closest(u.LIST)[0],s=o.getSelectorFromElement(this._element);r&&(i=t.makeArray(t(r).find(u.ACTIVE)),i=i[i.length-1]);var a=t.Event(l.HIDE,{relatedTarget:this._element}),h=t.Event(l.SHOW,{relatedTarget:i});if(i&&t(i).trigger(a),t(this._element).trigger(h),!h.isDefaultPrevented()&&!a.isDefaultPrevented()){s&&(n=t(s)[0]),this._activate(this._element,r);var d=function(){var n=t.Event(l.HIDDEN,{relatedTarget:e._element}),r=t.Event(l.SHOWN,{relatedTarget:i});t(i).trigger(n),t(e._element).trigger(r)};n?this._activate(n,n.parentNode,d):d()}}},e.prototype.dispose=function(){t.removeClass(this._element,i),this._element=null},e.prototype._activate=function(e,n,i){var r=this,s=t(n).find(u.ACTIVE_CHILD)[0],a=i&&o.supportsTransitionEnd()&&(s&&t(s).hasClass(c.FADE)||Boolean(t(n).find(u.FADE_CHILD)[0])),l=function(){return r._transitionComplete(e,s,a,i)};s&&a?t(s).one(o.TRANSITION_END,l).emulateTransitionEnd(150):l(),s&&t(s).removeClass(c.SHOW)},e.prototype._transitionComplete=function(e,n,i,r){if(n){t(n).removeClass(c.ACTIVE);var s=t(n.parentNode).find(u.DROPDOWN_ACTIVE_CHILD)[0];s&&t(s).removeClass(c.ACTIVE),n.setAttribute("aria-expanded",!1)}if(t(e).addClass(c.ACTIVE),e.setAttribute("aria-expanded",!0),i?(o.reflow(e),t(e).addClass(c.SHOW)):t(e).removeClass(c.FADE),e.parentNode&&t(e.parentNode).hasClass(c.DROPDOWN_MENU)){var a=t(e).closest(u.DROPDOWN)[0];a&&t(a).find(u.DROPDOWN_TOGGLE).addClass(c.ACTIVE),e.setAttribute("aria-expanded",!0)}r&&r()},e._jQueryInterface=function(n){return this.each(function(){var r=t(this),o=r.data(i);if(o||(o=new e(this),r.data(i,o)),"string"==typeof n){if(void 0===o[n])throw new Error('No method named "'+n+'"');o[n]()}})},r(e,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}}]),e}();t(document).on(l.CLICK_DATA_API,u.DATA_TOGGLE,function(e){e.preventDefault(),h._jQueryInterface.call(t(this),"show")}),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=a,h._jQueryInterface}}(jQuery),function(t){if("undefined"==typeof Tether)throw new Error("Bootstrap tooltips require Tether (http://tether.io/)");var e="tooltip",s="bs.tooltip",a="."+s,l=t.fn[e],c={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:"0 0",constraints:[],container:!1},u={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"string",constraints:"array",container:"(string|element|boolean)"},h={TOP:"bottom center",RIGHT:"middle left",BOTTOM:"top center",LEFT:"middle right"},d={SHOW:"show",OUT:"out"},p={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,INSERTED:"inserted"+a,CLICK:"click"+a,FOCUSIN:"focusin"+a,FOCUSOUT:"focusout"+a,MOUSEENTER:"mouseenter"+a,MOUSELEAVE:"mouseleave"+a},f={FADE:"fade",SHOW:"show"},m={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner"},g={element:!1,enabled:!1},v={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},y=function(){function l(t,e){n(this,l),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._isTransitioning=!1,this._tether=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}return l.prototype.enable=function(){this._isEnabled=!0},l.prototype.disable=function(){this._isEnabled=!1},l.prototype.toggleEnabled=function(){this._isEnabled=!this._isEnabled},l.prototype.toggle=function(e){if(e){var n=this.constructor.DATA_KEY,i=t(e.currentTarget).data(n);i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(t(this.getTipElement()).hasClass(f.SHOW))return void this._leave(null,this);this._enter(null,this)}},l.prototype.dispose=function(){clearTimeout(this._timeout),this.cleanupTether(),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._tether=null,this.element=null,this.config=null,this.tip=null},l.prototype.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var n=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){if(this._isTransitioning)throw new Error("Tooltip is transitioning");t(this.element).trigger(n);var i=t.contains(this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!i)return;var r=this.getTipElement(),s=o.getUID(this.constructor.NAME);r.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&t(r).addClass(f.FADE);var a="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,c=this._getAttachment(a),u=!1===this.config.container?document.body:t(this.config.container);t(r).data(this.constructor.DATA_KEY,this).appendTo(u),t(this.element).trigger(this.constructor.Event.INSERTED),this._tether=new Tether({attachment:c,element:r,target:this.element,classes:g,classPrefix:"bs-tether",offset:this.config.offset,constraints:this.config.constraints,addTargetClasses:!1}),o.reflow(r),this._tether.position(),t(r).addClass(f.SHOW);var h=function(){var n=e._hoverState;e._hoverState=null,e._isTransitioning=!1,t(e.element).trigger(e.constructor.Event.SHOWN),n===d.OUT&&e._leave(null,e)};if(o.supportsTransitionEnd()&&t(this.tip).hasClass(f.FADE))return this._isTransitioning=!0,void t(this.tip).one(o.TRANSITION_END,h).emulateTransitionEnd(l._TRANSITION_DURATION);h()}},l.prototype.hide=function(e){var n=this,i=this.getTipElement(),r=t.Event(this.constructor.Event.HIDE);if(this._isTransitioning)throw new Error("Tooltip is transitioning");var s=function(){n._hoverState!==d.SHOW&&i.parentNode&&i.parentNode.removeChild(i),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),n._isTransitioning=!1,n.cleanupTether(),e&&e()};t(this.element).trigger(r),r.isDefaultPrevented()||(t(i).removeClass(f.SHOW),this._activeTrigger[v.CLICK]=!1,this._activeTrigger[v.FOCUS]=!1,this._activeTrigger[v.HOVER]=!1,o.supportsTransitionEnd()&&t(this.tip).hasClass(f.FADE)?(this._isTransitioning=!0,t(i).one(o.TRANSITION_END,s).emulateTransitionEnd(150)):s(),this._hoverState="")},l.prototype.isWithContent=function(){return Boolean(this.getTitle())},l.prototype.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0]},l.prototype.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(m.TOOLTIP_INNER),this.getTitle()),e.removeClass(f.FADE+" "+f.SHOW),this.cleanupTether()},l.prototype.setElementContent=function(e,n){var r=this.config.html;"object"===(void 0===n?"undefined":i(n))&&(n.nodeType||n.jquery)?r?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text()):e[r?"html":"text"](n)},l.prototype.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},l.prototype.cleanupTether=function(){this._tether&&this._tether.destroy()},l.prototype._getAttachment=function(t){return h[t.toUpperCase()]},l.prototype._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(n!==v.MANUAL){var i=n===v.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r=n===v.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(i,e.config.selector,function(t){return e._enter(t)}).on(r,e.config.selector,function(t){return e._leave(t)})}t(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=t.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},l.prototype._fixTitle=function(){var t=i(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},l.prototype._enter=function(e,n){var i=this.constructor.DATA_KEY;return(n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusin"===e.type?v.FOCUS:v.HOVER]=!0),t(n.getTipElement()).hasClass(f.SHOW)||n._hoverState===d.SHOW?void(n._hoverState=d.SHOW):(clearTimeout(n._timeout),n._hoverState=d.SHOW,n.config.delay&&n.config.delay.show?void(n._timeout=setTimeout(function(){n._hoverState===d.SHOW&&n.show()},n.config.delay.show)):void n.show())},l.prototype._leave=function(e,n){var i=this.constructor.DATA_KEY;if((n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusout"===e.type?v.FOCUS:v.HOVER]=!1),!n._isWithActiveTrigger())return clearTimeout(n._timeout),n._hoverState=d.OUT,n.config.delay&&n.config.delay.hide?void(n._timeout=setTimeout(function(){n._hoverState===d.OUT&&n.hide()},n.config.delay.hide)):void n.hide()},l.prototype._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},l.prototype._getConfig=function(n){return(n=t.extend({},this.constructor.Default,t(this.element).data(),n)).delay&&"number"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),o.typeCheckConfig(e,n,this.constructor.DefaultType),n},l.prototype._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},l._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(s),r="object"===(void 0===e?"undefined":i(e))&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new l(this,r),t(this).data(s,n)),"string"==typeof e)){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e]()}})},r(l,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return c}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return s}},{key:"Event",get:function(){return p}},{key:"EVENT_KEY",get:function(){return a}},{key:"DefaultType",get:function(){return u}}]),l}();return t.fn[e]=y._jQueryInterface,t.fn[e].Constructor=y,t.fn[e].noConflict=function(){return t.fn[e]=l,y._jQueryInterface},y}(jQuery));!function(o){var a="popover",l="bs.popover",c="."+l,u=o.fn[a],h=o.extend({},s.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),d=o.extend({},s.DefaultType,{content:"(string|element|function)"}),p={FADE:"fade",SHOW:"show"},f={TITLE:".popover-title",CONTENT:".popover-content"},m={HIDE:"hide"+c,HIDDEN:"hidden"+c,SHOW:"show"+c,SHOWN:"shown"+c,INSERTED:"inserted"+c,CLICK:"click"+c,FOCUSIN:"focusin"+c,FOCUSOUT:"focusout"+c,MOUSEENTER:"mouseenter"+c,MOUSELEAVE:"mouseleave"+c},g=function(s){function u(){return n(this,u),t(this,s.apply(this,arguments))}return e(u,s),u.prototype.isWithContent=function(){return this.getTitle()||this._getContent()},u.prototype.getTipElement=function(){return this.tip=this.tip||o(this.config.template)[0]},u.prototype.setContent=function(){var t=o(this.getTipElement());this.setElementContent(t.find(f.TITLE),this.getTitle()),this.setElementContent(t.find(f.CONTENT),this._getContent()),t.removeClass(p.FADE+" "+p.SHOW),this.cleanupTether()},u.prototype._getContent=function(){return this.element.getAttribute("data-content")||("function"==typeof this.config.content?this.config.content.call(this.element):this.config.content)},u._jQueryInterface=function(t){return this.each(function(){var e=o(this).data(l),n="object"===(void 0===t?"undefined":i(t))?t:null;if((e||!/destroy|hide/.test(t))&&(e||(e=new u(this,n),o(this).data(l,e)),"string"==typeof t)){if(void 0===e[t])throw new Error('No method named "'+t+'"');e[t]()}})},r(u,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return h}},{key:"NAME",get:function(){return a}},{key:"DATA_KEY",get:function(){return l}},{key:"Event",get:function(){return m}},{key:"EVENT_KEY",get:function(){return c}},{key:"DefaultType",get:function(){return d}}]),u}(s);o.fn[a]=g._jQueryInterface,o.fn[a].Constructor=g,o.fn[a].noConflict=function(){return o.fn[a]=u,g._jQueryInterface}}(jQuery)}(),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,i,r){return jQuery.easing[jQuery.easing.def](t,e,n,i,r)},easeInQuad:function(t,e,n,i,r){return i*(e/=r)*e+n},easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n},easeInOutQuad:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,r){return i*(e/=r)*e*e+n},easeOutCubic:function(t,e,n,i,r){return i*((e=e/r-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,r){return i*(e/=r)*e*e*e+n},easeOutQuart:function(t,e,n,i,r){return-i*((e=e/r-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,r){return i*(e/=r)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,r){return i*((e=e/r-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,r){return-i*Math.cos(e/r*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,r){return i*Math.sin(e/r*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,r){return-i/2*(Math.cos(Math.PI*e/r)-1)+n},easeInExpo:function(t,e,n,i,r){return 0==e?n:i*Math.pow(2,10*(e/r-1))+n},easeOutExpo:function(t,e,n,i,r){return e==r?n+i:i*(1-Math.pow(2,-10*e/r))+n},easeInOutExpo:function(t,e,n,i,r){return 0==e?n:e==r?n+i:(e/=r/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(2-Math.pow(2,-10*--e))+n},easeInCirc:function(t,e,n,i,r){return-i*(Math.sqrt(1-(e/=r)*e)-1)+n},easeOutCirc:function(t,e,n,i,r){return i*Math.sqrt(1-(e=e/r-1)*e)+n},easeInOutCirc:function(t,e,n,i,r){return(e/=r/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=r))return n+i;if(s||(s=.3*r),a<Math.abs(i)){a=i;o=s/4}else o=s/(2*Math.PI)*Math.asin(i/a);return-a*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)+n},easeOutElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=r))return n+i;if(s||(s=.3*r),a<Math.abs(i)){a=i;o=s/4}else o=s/(2*Math.PI)*Math.asin(i/a);return a*Math.pow(2,-10*e)*Math.sin((e*r-o)*(2*Math.PI)/s)+i+n},easeInOutElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(2==(e/=r/2))return n+i;if(s||(s=r*(.3*1.5)),a<Math.abs(i)){a=i;o=s/4}else o=s/(2*Math.PI)*Math.asin(i/a);return e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)*-.5+n:a*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)*.5+i+n},easeInBack:function(t,e,n,i,r,o){return void 0==o&&(o=1.70158),i*(e/=r)*e*((o+1)*e-o)+n},easeOutBack:function(t,e,n,i,r,o){return void 0==o&&(o=1.70158),i*((e=e/r-1)*e*((o+1)*e+o)+1)+n},easeInOutBack:function(t,e,n,i,r,o){return void 0==o&&(o=1.70158),(e/=r/2)<1?i/2*(e*e*((1+(o*=1.525))*e-o))+n:i/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+n},easeInBounce:function(t,e,n,i,r){return i-jQuery.easing.easeOutBounce(t,r-e,0,i,r)+n},easeOutBounce:function(t,e,n,i,r){return(e/=r)<1/2.75?i*(7.5625*e*e)+n:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,r){return e<r/2?.5*jQuery.easing.easeInBounce(t,2*e,0,i,r)+n:.5*jQuery.easing.easeOutBounce(t,2*e-r,0,i,r)+.5*i+n}}),function(t){t.fn.unveil=function(e,n){function i(){var e=l.filter(function(){var e=t(this),n=o.scrollTop(),i=n+o.height(),r=e.offset().top;return r+e.height()>=n-s&&r<=i+s});r=e.trigger("unveil"),l=l.not(r)}var r,o=t(window),s=e||0,a=window.devicePixelRatio>1?"data-src-retina":"data-src",l=this;return this.one("unveil",function(){var t=this.getAttribute(a);(t=t||this.getAttribute("data-src"))&&(this.setAttribute("src",t),"function"==typeof n&&n.call(this))}),o.scroll(i),o.resize(i),i(),this}}(window.jQuery||window.Zepto),function(t){var e=function(e,n){this.$elem=t(e),this.$elem.data("instance",this),this.init(n)};e.prototype={defaults:{classes:{animated:"list-view-animated",container:"list-view-wrapper",hidden:"list-view-hidden",stationaryHeader:"list-view-fake-header"},selectors:{groupContainer:".list-view-group-container",groupHeader:".list-view-group-header",stationaryHeader:"h2"}},init:function(e){var n=this,i=!!navigator.userAgent.match(/ipad|iphone|ipod/gi);this.options=t.extend(!0,{},this.defaults,e||{}),this.elems=[],this.$elem.addClass("list-view"),this.$elem.children().wrapAll(["<div class='",this.options.classes.container,"' data-ios='",i,"'></div>"].join("")),this.$elem.prepend(["<",this.options.selectors.stationaryHeader,"/>"].join("")),this.$listWrapper=this.$elem.find("."+this.options.classes.container),this.$fakeHeader=this.$elem.find(this.options.selectors.stationaryHeader).eq(0),this.$fakeHeader.addClass(this.options.classes.stationaryHeader),this.$elem.find(this.options.selectors.groupContainer).each(function(t){var e=n.$elem.find(n.options.selectors.groupContainer).eq(t),i=e.find(n.options.selectors.groupHeader).eq(0),r=e.height(),o=e.position().top;n.elems.push({list:e,header:i,listHeight:r,headerText:i.text(),headerHeight:i.outerHeight(),listOffset:o,listBottom:r+o})}),this.$fakeHeader.text(this.elems[0].headerText),this.$listWrapper.scroll(function(){n.testPosition()})},testPosition:function(){for(var e,n,i=this.$listWrapper.scrollTop(),r=0;this.elems[r].listOffset-i<=0&&(e=this.elems[r],(n=e.listBottom-i)<-e.headerHeight&&e,!(++r>=this.elems.length)););0>n&&n>-e.headerHeight?(this.$fakeHeader.addClass(this.options.classes.hidden),t(e.list).addClass(this.options.classes.animated)):(this.$fakeHeader.removeClass(this.options.classes.hidden),e&&t(e.list).removeClass(this.options.classes.animated)),e&&this.$fakeHeader.text(e.headerText)}},t.fn.ioslist=function(n,i){return this.each("string"==typeof n?function(){t(this).data("instance")[n](i)}:function(){new e(this,n)})}}(jQuery,window,document),function(t){t.fn.addBack=t.fn.addBack||t.fn.andSelf,t.fn.extend({actual:function(e,n){if(!this[e])throw'$.actual => The jQuery method "'+e+'" you called does not exist';var i,r,o={absolute:!1,clone:!1,includeMargin:!1},s=t.extend(o,n),a=this.eq(0);if(!0===s.clone)i=function(){a=a.clone().attr("style","position: absolute !important; top: -1000 !important; ").appendTo("body")},r=function(){a.remove()};else{var l,c=[],u="";i=function(){l=a.parents().addBack().filter(":hidden"),u+="visibility: hidden !important; display: block !important; ",!0===s.absolute&&(u+="position: absolute !important; "),l.each(function(){var e=t(this),n=e.attr("style");c.push(n),e.attr("style",n?n+";"+u:u)})},r=function(){l.each(function(e){var n=t(this),i=c[e];void 0===i?n.removeAttr("style"):n.attr("style",i)})}}i();var h=/(outer)/.test(e)?a[e](s.includeMargin):a[e]();return r(),h}})}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof exports?require("jquery"):t.jQuery)}(this,function(t){"use strict";function e(e){if(r.webkit&&!e)return{height:0,width:0};if(!r.data.outer){var n={border:"none","box-sizing":"content-box",height:"200px",margin:"0",padding:"0",width:"200px"};r.data.inner=t("<div>").css(t.extend({},n)),r.data.outer=t("<div>").css(t.extend({left:"-1000px",overflow:"scroll",position:"absolute",top:"-1000px"},n)).append(r.data.inner).appendTo("body")}return r.data.outer.scrollLeft(1e3).scrollTop(1e3),{height:Math.ceil(r.data.outer.offset().top-r.data.inner.offset().top||0),width:Math.ceil(r.data.outer.offset().left-r.data.inner.offset().left||0)}}function n(){var t=e(!0);return!(t.height||t.width)}function i(t){var e=t.originalEvent;return!(e.axis&&e.axis===e.HORIZONTAL_AXIS||e.wheelDeltaX)}var r={data:{index:0,name:"scrollbar"},firefox:/firefox/i.test(navigator.userAgent),macosx:/mac/i.test(navigator.platform),msedge:/edge\/\d+/i.test(navigator.userAgent),msie:/(msie|trident)/i.test(navigator.userAgent),mobile:/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/webkit/i.test(navigator.userAgent)&&!/edge\/\d+/i.test(navigator.userAgent)};r.scrolls.add=function(t){this.remove(t).push(t)},r.scrolls.remove=function(e){for(;t.inArray(e,this)>=0;)this.splice(t.inArray(e,this),1);return this};var o={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!1,ignoreOverlay:!1,isRtl:!1,scrollStep:30,showArrows:!1,stepScrolling:!0,scrollx:null,scrolly:null,onDestroy:null,onFallback:null,onInit:null,onScroll:null,onUpdate:null},s=function(i){r.scroll||(r.overlay=n(),r.scroll=e(),l(),t(window).resize(function(){var t=!1;if(r.scroll&&(r.scroll.height||r.scroll.width)){var n=e();n.height===r.scroll.height&&n.width===r.scroll.width||(r.scroll=n,t=!0)}l(t)})),this.container=i,this.namespace=".scrollbar_"+r.data.index++,this.options=t.extend({},o,window.jQueryScrollbarOptions||{}),this.scrollTo=null,this.scrollx={},this.scrolly={},i.data(r.data.name,this),r.scrolls.add(this)};s.prototype={destroy:function(){if(this.wrapper){this.container.removeData(r.data.name),r.scrolls.remove(this);var e=this.container.scrollLeft(),n=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:"",margin:"","max-height":""}).removeClass("scroll-content scroll-scrollx_visible scroll-scrolly_visible").off(this.namespace).scrollLeft(e).scrollTop(n),this.scrollx.scroll.removeClass("scroll-scrollx_visible").find("div").addBack().off(this.namespace),this.scrolly.scroll.removeClass("scroll-scrolly_visible").find("div").addBack().off(this.namespace),this.wrapper.remove(),t(document).add("body").off(this.namespace),t.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},init:function(e){var n=this,o=this.container,s=this.containerWrapper||o,a=this.namespace,l=t.extend(this.options,e||{}),c={x:this.scrollx,y:this.scrolly},u=this.wrapper,h={},d={scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop()};if(r.mobile&&l.ignoreMobile||r.overlay&&l.ignoreOverlay||r.macosx&&!r.webkit)return t.isFunction(l.onFallback)&&l.onFallback.apply(this,[o]),!1;if(u)h={height:"auto","margin-bottom":-1*r.scroll.height+"px","max-height":""},h[l.isRtl?"margin-left":"margin-right"]=-1*r.scroll.width+"px",s.css(h);else{if(this.wrapper=u=t("<div>").addClass("scroll-wrapper").addClass(o.attr("class")).css("position","absolute"===o.css("position")?"absolute":"relative").insertBefore(o).append(o),l.isRtl&&u.addClass("scroll--rtl"),o.is("textarea")&&(this.containerWrapper=s=t("<div>").insertBefore(o).append(o),u.addClass("scroll-textarea")),h={height:"auto","margin-bottom":-1*r.scroll.height+"px","max-height":""},h[l.isRtl?"margin-left":"margin-right"]=-1*r.scroll.width+"px",s.addClass("scroll-content").css(h),o.on("scroll"+a,function(e){var i=o.scrollLeft(),s=o.scrollTop();if(l.isRtl)switch(!0){case r.firefox:i=Math.abs(i);case r.msedge||r.msie:i=o[0].scrollWidth-o[0].clientWidth-i}t.isFunction(l.onScroll)&&l.onScroll.call(n,{maxScroll:c.y.maxScrollOffset,scroll:s,size:c.y.size,visible:c.y.visible},{maxScroll:c.x.maxScrollOffset,scroll:i,size:c.x.size,visible:c.x.visible}),c.x.isVisible&&c.x.scroll.bar.css("left",i*c.x.kx+"px"),c.y.isVisible&&c.y.scroll.bar.css("top",s*c.y.kx+"px")}),u.on("scroll"+a,function(){u.scrollTop(0).scrollLeft(0)}),l.disableBodyScroll){var p=function(t){i(t)?c.y.isVisible&&c.y.mousewheel(t):c.x.isVisible&&c.x.mousewheel(t)};u.on("MozMousePixelScroll"+a,p),u.on("mousewheel"+a,p),r.mobile&&u.on("touchstart"+a,function(e){var n=e.originalEvent.touches&&e.originalEvent.touches[0]||e,i={pageX:n.pageX,pageY:n.pageY},r={left:o.scrollLeft(),top:o.scrollTop()};t(document).on("touchmove"+a,function(t){var e=t.originalEvent.targetTouches&&t.originalEvent.targetTouches[0]||t;o.scrollLeft(r.left+i.pageX-e.pageX),o.scrollTop(r.top+i.pageY-e.pageY),t.preventDefault()}),t(document).on("touchend"+a,function(){t(document).off(a)})})}t.isFunction(l.onInit)&&l.onInit.apply(this,[o])}t.each(c,function(e,s){var u=null,h=1,d="x"===e?"scrollLeft":"scrollTop",p=l.scrollStep,f=function(){var t=o[d]();o[d](t+p),1==h&&t+p>=m&&(t=o[d]()),-1==h&&t+p<=m&&(t=o[d]()),o[d]()==t&&u&&u()},m=0;s.scroll||(s.scroll=n._getScroll(l["scroll"+e]).addClass("scroll-"+e),l.showArrows&&s.scroll.addClass("scroll-element_arrows_visible"),s.mousewheel=function(t){if(!s.isVisible||"x"===e&&i(t))return!0;if("y"===e&&!i(t))return c.x.mousewheel(t),!0;var r=-1*t.originalEvent.wheelDelta||t.originalEvent.detail,a=s.size-s.visible-s.offset;return r||("x"===e&&t.originalEvent.deltaX?r=40*t.originalEvent.deltaX:"y"===e&&t.originalEvent.deltaY&&(r=40*t.originalEvent.deltaY)),(r>0&&m<a||r<0&&m>0)&&((m+=r)<0&&(m=0),m>a&&(m=a),n.scrollTo=n.scrollTo||{},n.scrollTo[d]=m,setTimeout(function(){n.scrollTo&&(o.stop().animate(n.scrollTo,240,"linear",function(){m=o[d]()}),n.scrollTo=null)},1)),t.preventDefault(),!1},s.scroll.on("MozMousePixelScroll"+a,s.mousewheel).on("mousewheel"+a,s.mousewheel).on("mouseenter"+a,function(){m=o[d]()}),s.scroll.find(".scroll-arrow, .scroll-element_track").on("mousedown"+a,function(i){if(1!=i.which)return!0;h=1;var a={eventOffset:i["x"===e?"pageX":"pageY"],maxScrollValue:s.size-s.visible-s.offset,scrollbarOffset:s.scroll.bar.offset()["x"===e?"left":"top"],scrollbarSize:s.scroll.bar["x"===e?"outerWidth":"outerHeight"]()},c=0,g=0;if(t(this).hasClass("scroll-arrow")){if(h=t(this).hasClass("scroll-arrow_more")?1:-1,p=l.scrollStep*h,m=h>0?a.maxScrollValue:0,l.isRtl)switch(!0){case r.firefox:m=h>0?0:-1*a.maxScrollValue;break;case r.msie||r.msedge:}}else h=a.eventOffset>a.scrollbarOffset+a.scrollbarSize?1:a.eventOffset<a.scrollbarOffset?-1:0,"x"===e&&l.isRtl&&(r.msie||r.msedge)&&(h*=-1),p=Math.round(.75*s.visible)*h,m=a.eventOffset-a.scrollbarOffset-(l.stepScrolling?1==h?a.scrollbarSize:0:Math.round(a.scrollbarSize/2)),m=o[d]()+m/s.kx;return n.scrollTo=n.scrollTo||{},n.scrollTo[d]=l.stepScrolling?o[d]()+p:m,l.stepScrolling&&(u=function(){m=o[d](),clearInterval(g),clearTimeout(c),c=0,g=0},c=setTimeout(function(){g=setInterval(f,40)},l.duration+100)),setTimeout(function(){n.scrollTo&&(o.animate(n.scrollTo,l.duration),n.scrollTo=null)},1),n._handleMouseDown(u,i)}),s.scroll.bar.on("mousedown"+a,function(i){if(1!=i.which)return!0;var c=i["x"===e?"pageX":"pageY"],u=o[d]();return s.scroll.addClass("scroll-draggable"),t(document).on("mousemove"+a,function(t){var n=parseInt((t["x"===e?"pageX":"pageY"]-c)/s.kx,10);"x"===e&&l.isRtl&&(r.msie||r.msedge)&&(n*=-1),o[d](u+n)}),n._handleMouseDown(function(){s.scroll.removeClass("scroll-draggable"),m=o[d]()},i)}))}),t.each(c,function(t,e){var n="scroll-scroll"+t+"_visible",i="x"==t?c.y:c.x;e.scroll.removeClass(n),i.scroll.removeClass(n),s.removeClass(n)}),t.each(c,function(e,n){t.extend(n,"x"==e?{offset:parseInt(o.css("left"),10)||0,size:o.prop("scrollWidth"),visible:u.width()}:{offset:parseInt(o.css("top"),10)||0,size:o.prop("scrollHeight"),visible:u.height()})}),this._updateScroll("x",this.scrollx),this._updateScroll("y",this.scrolly),t.isFunction(l.onUpdate)&&l.onUpdate.apply(this,[o]),t.each(c,function(t,e){var n="x"===t?"left":"top",i="x"===t?"outerWidth":"outerHeight",r="x"===t?"width":"height",s=parseInt(o.css(n),10)||0,a=e.size,c=e.visible+s,u=e.scroll.size[i]()+(parseInt(e.scroll.size.css(n),10)||0);l.autoScrollSize&&(e.scrollbarSize=parseInt(u*c/a,10),e.scroll.bar.css(r,e.scrollbarSize+"px")),e.scrollbarSize=e.scroll.bar[i](),e.kx=(u-e.scrollbarSize)/(a-c)||1,e.maxScrollOffset=a-c}),o.scrollLeft(d.scrollLeft).scrollTop(d.scrollTop).trigger("scroll")},_getScroll:function(e){var n={advanced:['<div class="scroll-element">','<div class="scroll-element_corner"></div>','<div class="scroll-arrow scroll-arrow_less"></div>','<div class="scroll-arrow scroll-arrow_more"></div>','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_inner-wrapper">','<div class="scroll-element_inner scroll-element_track">','<div class="scroll-element_inner-bottom"></div>',"</div>","</div>",'<div class="scroll-bar">','<div class="scroll-bar_body">','<div class="scroll-bar_body-inner"></div>',"</div>",'<div class="scroll-bar_bottom"></div>','<div class="scroll-bar_center"></div>',"</div>","</div>","</div>"].join(""),simple:['<div class="scroll-element">','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_track"></div>','<div class="scroll-bar"></div>',"</div>","</div>"].join("")};return n[e]&&(e=n[e]),e||(e=n.simple),e="string"==typeof e?t(e).appendTo(this.wrapper):t(e),t.extend(e,{bar:e.find(".scroll-bar"),size:e.find(".scroll-element_size"),track:e.find(".scroll-element_track")}),e},_handleMouseDown:function(e,n){var i=this.namespace;return t(document).on("blur"+i,function(){t(document).add("body").off(i),e&&e()}),t(document).on("dragstart"+i,function(t){return t.preventDefault(),!1}),t(document).on("mouseup"+i,function(){t(document).add("body").off(i),e&&e()}),t("body").on("selectstart"+i,function(t){return t.preventDefault(),!1}),n&&n.preventDefault(),!1},_updateScroll:function(e,n){var i=this.container,o=this.containerWrapper||i,s="scroll-scroll"+e+"_visible",a="x"===e?this.scrolly:this.scrollx,l=parseInt(this.container.css("x"===e?"left":"top"),10)||0,c=this.wrapper,u=n.size,h=n.visible+l;n.isVisible=u-h>1,n.isVisible?(n.scroll.addClass(s),a.scroll.addClass(s),o.addClass(s)):(n.scroll.removeClass(s),a.scroll.removeClass(s),o.removeClass(s)),"y"===e&&(i.is("textarea")||u<h?o.css({height:h+r.scroll.height+"px","max-height":"none"}):o.css({"max-height":h+r.scroll.height+"px"})),n.size==i.prop("scrollWidth")&&a.size==i.prop("scrollHeight")&&n.visible==c.width()&&a.visible==c.height()&&n.offset==(parseInt(i.css("left"),10)||0)&&a.offset==(parseInt(i.css("top"),10)||0)||(t.extend(this.scrollx,{offset:parseInt(i.css("left"),10)||0,size:i.prop("scrollWidth"),visible:c.width()}),t.extend(this.scrolly,{offset:parseInt(i.css("top"),10)||0,size:this.container.prop("scrollHeight"),visible:c.height()}),this._updateScroll("x"===e?"y":"x",a))}};var a=s;t.fn.scrollbar=function(e,n){return"string"!=typeof e&&(n=e,e="init"),void 0===n&&(n=[]),t.isArray(n)||(n=[n]),this.not("body, .scroll-wrapper").each(function(){var i=t(this),o=i.data(r.data.name);(o||"init"===e)&&(o||(o=new a(i)),o[e]&&o[e].apply(o,n))}),this},t.fn.scrollbar.options=o;var l=function(){var t=0,e=0;return function(n){var i,o,s,a,c,u,h;for(i=0;i<r.scrolls.length;i++)a=r.scrolls[i],o=a.container,s=a.options,c=a.wrapper,u=a.scrollx,h=a.scrolly,(n||s.autoUpdate&&c&&c.is(":visible")&&(o.prop("scrollWidth")!=u.size||o.prop("scrollHeight")!=h.size||c.width()!=u.visible||c.height()!=h.visible))&&(a.init(),s.debug&&(window.console&&console.log({scrollHeight:o.prop("scrollHeight")+":"+a.scrolly.size,scrollWidth:o.prop("scrollWidth")+":"+a.scrollx.size,visibleHeight:c.height()+":"+a.scrolly.visible,visibleWidth:c.width()+":"+a.scrollx.visible},!0),e++));clearTimeout(t),t=setTimeout(l,300)}}();window.angular&&function(t){t.module("jQueryScrollbar",[]).provider("jQueryScrollbar",function(){var e=o;return{setOptions:function(n){t.extend(e,n)},$get:function(){return{options:t.copy(e)}}}}).directive("jqueryScrollbar",["jQueryScrollbar","$parse",function(t,e){return{restrict:"AC",link:function(n,i,r){var o=e(r.jqueryScrollbar)(n);i.scrollbar(o||t.options).on("$destroy",function(){i.scrollbar("destroy")})}}}])}(window.angular)}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?n=e:e={};var t,n,i;!function(e){function r(t,e){return b.call(t,e)}function o(t,e){var n,i,r,o,s,a,l,c,u,h,d,p=e&&e.split("/"),f=y.map,m=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(s=(t=t.split("/")).length-1,y.nodeIdCompat&&x.test(t[s])&&(t[s]=t[s].replace(x,"")),t=p.slice(0,p.length-1).concat(t),u=0;u<t.length;u+=1)if("."===(d=t[u]))t.splice(u,1),u-=1;else if(".."===d){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||m)&&f){for(u=(n=t.split("/")).length;u>0;u-=1){if(i=n.slice(0,u).join("/"),p)for(h=p.length;h>0;h-=1)if((r=f[p.slice(0,h).join("/")])&&(r=r[i])){o=r,a=u;break}if(o)break;!l&&m&&m[i]&&(l=m[i],c=u)}!o&&l&&(o=l,a=c),o&&(n.splice(0,a,o),t=n.join("/"))}return t}function s(t,n){return function(){var i=w.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),p.apply(e,i.concat([t,n]))}}function a(t){return function(e){return o(e,t)}}function l(t){return function(e){g[t]=e}}function c(t){if(r(v,t)){var n=v[t];delete v[t],_[t]=!0,d.apply(e,n)}if(!r(g,t)&&!r(_,t))throw new Error("No "+t);return g[t]}function u(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function h(t){return function(){return y&&y.config&&y.config[t]||{}}}var d,p,f,m,g={},v={},y={},_={},b=Object.prototype.hasOwnProperty,w=[].slice,x=/\.js$/;f=function(t,e){var n,i=u(t),r=i[0];return t=i[1],r&&(r=o(r,e),n=c(r)),r?t=n&&n.normalize?n.normalize(t,a(e)):o(t,e):(t=o(t,e),i=u(t),r=i[0],t=i[1],r&&(n=c(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:n}},m={require:function(t){return s(t)},exports:function(t){var e=g[t];return void 0!==e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:h(t)}}},d=function(t,n,i,o){var a,u,h,d,p,y,b=[],w=typeof i;if(o=o||t,"undefined"===w||"function"===w){for(n=!n.length&&i.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if(d=f(n[p],o),"require"===(u=d.f))b[p]=m.require(t);else if("exports"===u)b[p]=m.exports(t),y=!0;else if("module"===u)a=b[p]=m.module(t);else if(r(g,u)||r(v,u)||r(_,u))b[p]=c(u);else{if(!d.p)throw new Error(t+" missing "+u);d.p.load(d.n,s(o,!0),l(u),{}),b[p]=g[u]}h=i?i.apply(g[t],b):void 0,t&&(a&&a.exports!==e&&a.exports!==g[t]?g[t]=a.exports:h===e&&y||(g[t]=h))}else t&&(g[t]=i)},t=n=p=function(t,n,i,r,o){if("string"==typeof t)return m[t]?m[t](n):c(f(t,n).f);if(!t.splice){if((y=t).deps&&p(y.deps,y.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=r,r=o),r?d(e,t,n,i):setTimeout(function(){d(e,t,n,i)},4),p},p.config=function(t){return p(t)},t._defined=g,(i=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),r(g,t)||r(v,t)||(v[t]=[t,e,n])}).amd={jQuery:!0}}(),e.requirejs=t,e.require=n,e.define=i}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web pages."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,n=[];for(var i in e)"function"==typeof e[i]&&"constructor"!==i&&n.push(i);return n}var n={};n.Extend=function(t,e){function n(){this.constructor=t}var i={}.hasOwnProperty;for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},n.Decorate=function(t,n){function i(){var e=Array.prototype.unshift,i=n.prototype.constructor.length,r=t.prototype.constructor;i>0&&(e.call(arguments,t.prototype.constructor),r=n.prototype.constructor),r.apply(this,arguments)}var r=e(n),o=e(t);n.displayName=t.displayName,i.prototype=new function(){this.constructor=i};for(var s=0;s<o.length;s++){var a=o[s];i.prototype[a]=t.prototype[a]}for(var l=0;l<r.length;l++){var c=r[l];i.prototype[c]=function(t){var e=function(){};t in i.prototype&&(e=i.prototype[t]);var r=n.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),r.apply(this,arguments)}}(c)}return i};var i=function(){this.listeners={}};return i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;i>n;n++)t[n].apply(this,e)},n.Observable=i,n.generateChars=function(t){for(var e="",n=0;t>n;n++)e+=Math.floor(36*Math.random()).toString(36);return e},n.bind=function(t,e){return function(){t.apply(e,arguments)}},n._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var r=0;r<n.length;r++){var o=n[r];(o=o.substring(0,1).toLowerCase()+o.substring(1))in i||(i[o]={}),r==n.length-1&&(i[o]=t[e]),i=i[o]}delete t[e]}}return t},n.hasScroll=function(e,n){var i=t(n),r=n.style.overflowX,o=n.style.overflowY;return(r!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===r||"scroll"===o||(i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},n.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,function(t){i=i.add(t)}),n=i}e.append(n)},n}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(e.message);i.append(n(r(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],r=this.option(i);e.push(r)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var e=this;this.data.current(function(n){var i=t.map(n,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var e=t(this),n=t.data(this,"data"),r=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(r,i)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};e.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==e.id&&delete i["aria-selected"],null!=e._resultId&&(n.id=e._resultId),e.title&&(n.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,delete i["aria-selected"]);for(var r in i){var o=i[r];n.setAttribute(r,o)}if(e.children){var s=t(n),a=document.createElement("strong");a.className="select2-results__group",t(a),this.template(e,a);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],h=this.option(u);l.push(h)}var d=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});d.append(l),s.append(a),s.append(d)}else this.template(e,n);return t.data(n,"data",e),n},n.prototype.bind=function(e,n){var i=this,r=e.id+"-results";this.$results.attr("id",r),e.on("results:all",function(t){i.clear(),i.append(t.data),e.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),e.on("results:append",function(t){i.append(t.data),e.isOpen()&&i.setClasses()}),e.on("query",function(t){i.hideMessages(),i.showLoading(t)}),e.on("select",function(){e.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),e.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),e.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=i.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=i.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t);if(0!==n){var r=n-1;0===t.length&&(r=0);var o=e.eq(r);o.trigger("mouseenter");var s=i.$results.offset().top,a=o.offset().top,l=i.$results.scrollTop()+(a-s);0===r?i.$results.scrollTop(0):0>a-s&&i.$results.scrollTop(l)}}),e.on("results:next",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t)+1;if(!(n>=e.length)){var r=e.eq(n);r.trigger("mouseenter");var o=i.$results.offset().top+i.$results.outerHeight(!1),s=r.offset().top+r.outerHeight(!1),a=i.$results.scrollTop()+s-o;0===n?i.$results.scrollTop(0):s>o&&i.$results.scrollTop(a)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){i.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-e+t.deltaY,r=t.deltaY>0&&e-t.deltaY<=0,o=t.deltaY<0&&n<=i.$results.height();r?(i.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):o&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var n=t(this),r=n.data("data");return"true"===n.attr("aria-selected")?void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:e,data:r}):i.trigger("close",{})):void i.trigger("select",{originalEvent:e,data:r})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var n=t(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:n,element:t(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,i=t.offset().top,r=this.$results.scrollTop()+(i-n),o=i-n;r-=2*t.outerHeight(!1),2>=e?this.$results.scrollTop(0):(o>this.$results.outerHeight()||0>o)&&this.$results.scrollTop(r)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=i(e,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=r(o):t(n).append(o)},n}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},i.prototype.bind=function(t,e){var i=this,r=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){i.trigger("focus",t)}),this.$selection.on("blur",function(t){i._handleBlur(t)}),this.$selection.on("keydown",function(t){i.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){i.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){i.update(t.data)}),t.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",r),i._attachCloseHandler(t)}),t.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.focus(),i._detachCloseHandler(t)}),t.on("enable",function(){i.$selection.attr("tabindex",i._tabindex)}),t.on("disable",function(){i.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(e){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)},1)},i.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var n=t(e.target).closest(".select2");t(".select2.select2-container--open").each(function(){var e=t(this);this!=n[0]&&e.data("element").select2("close")})})},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){e.find(".selection").append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n,i){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,e),r.prototype.render=function(){var t=r.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},r.prototype.bind=function(t,e){var n=this;r.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),t.on("focus",function(e){t.isOpen()||n.$selection.focus()}),t.on("selection:update",function(t){n.update(t.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},r.prototype.selectionContainer=function(){return t("<span></span>")},r.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.prop("title",e.title||e.text)}else this.clear()},r}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function i(t,e){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(e,n){var r=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){r.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!r.options.get("disabled")){var n=t(this).parent().data("data");r.trigger("unselect",{originalEvent:e,data:n})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var r=t[i],o=this.selectionContainer(),s=this.display(r,o);o.append(s),o.prop("title",r.title||r.text),o.data("data",r),e.push(o)}var a=this.$selection.find(".select2-selection__rendered");n.appendMany(a,e)}},i}),e.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||n)return t.call(this,e);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},e}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function n(){}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},n.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),r=0;r<i.length;r++){var o={data:i[r]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||(n.which==e.DELETE||n.which==e.BACKSPACE)&&this._handleClear(n)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=t('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=e.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(t,e,i){var r=this;t.call(this,e,i),e.on("open",function(){r.$search.trigger("focus")}),e.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),e.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),e.on("disable",function(){r.$search.prop("disabled",!0)}),e.on("focus",function(t){r.$search.trigger("focus")}),e.on("results:focus",function(t){r.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){r.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){r._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented(),t.which===n.BACKSPACE&&""===r.$search.val()){var e=r.$searchContainer.prev(".select2-selection__choice");if(e.length>0){var i=e.data("data");r.searchRemoveChoice(i),t.preventDefault()}}});var o=document.documentMode,s=o&&11>=o;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){return s?void r.$selection.off("input.search input.searchcheck"):void r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(s&&"input"===t.type)r.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&r.handleSearch(t)}})},i.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";t=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").innerWidth():.75*(this.$search.val().length+1)+"em",this.$search.css("width",t)},i}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,i){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];e.call(this,n,i),n.on("*",function(e,n){if(-1!==t.inArray(e,o)){n=n||{};var i=t.Event("select2:"+e,{params:n});r.$element.trigger(i),-1!==t.inArray(e,s)&&(n.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),e.define("select2/data/base",["../utils"],function(t){function e(t,n){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return i+=t.generateChars(4),i+=null!=n.id?"-"+n.id.toString():"-"+t.generateChars(4)},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each(function(){var t=n(this),r=i.item(t);e.push(r)}),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var r=[];(t=[t]).push.apply(t,i);for(var o=0;o<t.length;o++){var s=t[o].id;-1===n.inArray(s,r)&&r.push(s)}e.$element.val(r),e.$element.trigger("change")});else{var i=t.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple"))return t.selected=!1,n(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(i){for(var r=[],o=0;o<i.length;o++){var s=i[o].id;s!==t.id&&-1===n.inArray(s,r)&&r.push(s)}e.$element.val(r),e.$element.trigger("change")})},i.prototype.bind=function(t,e){var n=this;this.container=t,t.on("select",function(t){n.select(t.data)}),t.on("unselect",function(t){n.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(t,e){var i=[],r=this;this.$element.children().each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var o=r.item(e),s=r.matches(t,o);null!==s&&i.push(s)}}),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=n(e),r=this._normalizeItem(t);return r.element=e,n.data(e,"data",r),i},i.prototype.item=function(t){var e={};if(null!=(e=n.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),r=[],o=0;o<i.length;o++){var s=n(i[o]),a=this.item(s);r.push(a)}e.children=r}return e=this._normalizeItem(e),e.element=t[0],n.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){n.isPlainObject(t)||(t={id:t,text:t});var e={selected:!1,disabled:!1};return null!=(t=n.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},e,t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return e.Extend(i,t),i.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){for(var i=this,r=this.$element.find("option"),o=r.map(function(){return i.item(n(this)).id}).get(),s=[],a=0;a<t.length;a++){var l=this._normalizeItem(t[a]);if(n.inArray(l.id,o)>=0){var c=r.filter(function(t){return function(){return n(this).val()==t.id}}(l)),u=this.item(c),h=n.extend(!0,{},l,u),d=this.option(h);c.replaceWith(d)}else{var p=this.option(l);if(l.children){var f=this.convertToOptions(l.children);e.appendMany(p,f)}s.push(p)}}return s},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var r=n.ajax(t);return r.then(e),r.fail(i),r}};return n.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){function i(){var i=o.transport(o,function(i){var o=r.processResults(i,t);r.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(o)},function(){i.status&&"0"===i.status||r.trigger("results:message",{message:"errorLoading"})});r._request=i}var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof o.url&&(o.url=o.url.call(this.$element,t)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,i){var r=i.get("tags"),o=i.get("createTag");void 0!==o&&(this.createTag=o);var s=i.get("insertTag");if(void 0!==s&&(this.insertTag=s),e.call(this,n,i),t.isArray(r))for(var a=0;a<r.length;a++){var l=r[a],c=this._normalizeItem(l),u=this.option(c);this.$element.append(u)}}return e.prototype.query=function(t,e,n){function i(t,o){for(var s=t.results,a=0;a<s.length;a++){var l=s[a],c=null!=l.children&&!i({results:l.children},!0);if(l.text===e.term||c)return!o&&(t.data=s,void n(t))}if(o)return!0;var u=r.createTag(e);if(null!=u){var h=r.option(u);h.attr("data-select2-tag",!0),r.addOptions([h]),r.insertTag(s,u)}t.results=s,n(t)}var r=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,n):void t.call(this,e,i)},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(e){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,i){function r(t){o.trigger("select",{data:t})}var o=this;n.term=n.term||"";var s=this.tokenizer(n,this.options,function(e){var n=o._normalizeItem(e);if(!o.$element.find("option").filter(function(){return t(this).val()===n.id}).length){var i=o.option(n);i.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([i])}r(n)});s.term!==n.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.focus()),n.term=s.term),e.call(this,n,i)},e.prototype.tokenizer=function(e,n,i,r){for(var o=i.get("tokenSeparators")||[],s=n.term,a=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};a<s.length;){var c=s[a];if(-1!==t.inArray(c,o)){var u=s.substr(0,a),h=l(t.extend({},n,{term:u}));null!=h?(r(h),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){var i=this;this.current(function(r){var o=null!=r?r.length:0;return i.maximumSelectionLength>0&&o>=i.maximumSelectionLength?void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):void t.call(i,e,n)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t,e){function n(){}return n.prototype.render=function(e){var n=e.call(this),i=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),this.$search.on("keydown",function(t){r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(e){t(this).off("keyup")}),this.$search.on("keyup input",function(t){r.handleSearch(t)}),n.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus(),window.setTimeout(function(){r.$search.focus()},0)}),n.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val("")}),n.on("focus",function(){n.isOpen()&&r.$search.focus()}),n.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(r.showSearch(t)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide"))})},n.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.showSearch=function(t,e){return!0},n}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--){var r=e[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),n.on("query",function(t){r.lastParams=t,r.loading=!0}),n.on("query:append",function(t){r.lastParams=t,r.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,r.$loadingMore[0]);!r.loading&&e&&r.$results.offset().top+r.$results.outerHeight(!1)+50>=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1)&&r.loadMore()})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function n(e,n,i){this.$dropdownParent=i.get("dropdownParent")||t(document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this,r=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),r||(r=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var r=this,o="scroll.select2."+i.id,s="resize.select2."+i.id,a="orientationchange.select2."+i.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(o,function(e){var n=t(this).data("select2-scroll-position");t(this).scrollTop(n.y)}),t(window).on(o+" "+s+" "+a,function(t){r._positionDropdown(),r._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var r="scroll.select2."+i.id,o="resize.select2."+i.id,s="orientationchange.select2."+i.id;this.$container.parents().filter(e.hasScroll).off(r),t(window).off(r+" "+o+" "+s)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=o.top,s.bottom=o.top+s.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},c=l.top<o.top-a.height,u=l.bottom>o.bottom+a.height,h={left:o.left,top:s.bottom},d=this.$dropdownParent;"static"===d.css("position")&&(d=d.offsetParent());var p=d.offset();h.top-=p.top,h.left-=p.left,n||i||(r="below"),u||!c||n?!c&&u&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(h.top=s.top-p.top-a.height),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(h)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var n=0,i=0;i<e.length;i++){var r=e[i];r.children?n+=t(r.children):n++}return n}function e(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return e.prototype.showSearch=function(e,n){return!(t(n.data.results)<this.minimumResultsForSearch)&&e.call(this,n)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var n=e.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var r=i.data("data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,i,r,o,s,a,l,c,u,h,d,p,f,m,g,v,y,_,b,w,x,S,k,C,T,D,M){function E(){this.reset()}return E.prototype.apply=function(h){if(null==(h=t.extend(!0,{},this.defaults,h)).dataAdapter){if(null!=h.ajax?h.dataAdapter=f:null!=h.data?h.dataAdapter=p:h.dataAdapter=d,h.minimumInputLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,v)),h.maximumInputLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,y)),h.maximumSelectionLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,_)),h.tags&&(h.dataAdapter=c.Decorate(h.dataAdapter,m)),(null!=h.tokenSeparators||null!=h.tokenizer)&&(h.dataAdapter=c.Decorate(h.dataAdapter,g)),null!=h.query){var M=e(h.amdBase+"compat/query");h.dataAdapter=c.Decorate(h.dataAdapter,M)}if(null!=h.initSelection){var E=e(h.amdBase+"compat/initSelection");h.dataAdapter=c.Decorate(h.dataAdapter,E)}}if(null==h.resultsAdapter&&(h.resultsAdapter=n,null!=h.ajax&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,S)),null!=h.placeholder&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,x)),h.selectOnClose&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,T))),null==h.dropdownAdapter){if(h.multiple)h.dropdownAdapter=b;else{var L=c.Decorate(b,w);h.dropdownAdapter=L}if(0!==h.minimumResultsForSearch&&(h.dropdownAdapter=c.Decorate(h.dropdownAdapter,C)),h.closeOnSelect&&(h.dropdownAdapter=c.Decorate(h.dropdownAdapter,D)),null!=h.dropdownCssClass||null!=h.dropdownCss||null!=h.adaptDropdownCssClass){var A=e(h.amdBase+"compat/dropdownCss");h.dropdownAdapter=c.Decorate(h.dropdownAdapter,A)}h.dropdownAdapter=c.Decorate(h.dropdownAdapter,k)}if(null==h.selectionAdapter){if(h.multiple?h.selectionAdapter=r:h.selectionAdapter=i,null!=h.placeholder&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,o)),h.allowClear&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,s)),h.multiple&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,a)),null!=h.containerCssClass||null!=h.containerCss||null!=h.adaptContainerCssClass){var I=e(h.amdBase+"compat/containerCss");h.selectionAdapter=c.Decorate(h.selectionAdapter,I)}h.selectionAdapter=c.Decorate(h.selectionAdapter,l)}if("string"==typeof h.language)if(h.language.indexOf("-")>0){var N=h.language.split("-")[0];h.language=[h.language,N]}else h.language=[h.language];if(t.isArray(h.language)){var P=new u;h.language.push("en");for(var O=h.language,Y=0;Y<O.length;Y++){var R=O[Y],F={};try{F=u.loadPath(R)}catch(t){try{R=this.defaults.amdLanguageBase+R,F=u.loadPath(R)}catch(t){h.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+R+'" could not be automatically loaded. A fallback will be used instead.');continue}}P.extend(F)}h.translations=P}else{var H=u.loadPath(this.defaults.amdLanguageBase+"en"),z=new u(h.language);z.extend(H),h.translations=z}return h},E.prototype.reset=function(){function e(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return h[t]||t})}function n(i,r){if(""===t.trim(i.term))return r;if(r.children&&r.children.length>0){for(var o=t.extend(!0,{},r),s=r.children.length-1;s>=0;s--)null==n(i,r.children[s])&&o.children.splice(s,1);return o.children.length>0?o:n(i,o)}var a=e(r.text).toUpperCase(),l=e(i.term).toUpperCase();return a.indexOf(l)>-1?r:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:M,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},E.prototype.set=function(e,n){var i={};i[t.camelCase(e)]=n;var r=c._convertData(i);t.extend(this.defaults,r)},new E}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,i){function r(e,r){if(this.options=e,null!=r&&this.fromElement(r),this.options=n.apply(this.options),r&&r.is("input")){var o=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var r={};r=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var o=e.extend(!0,{},r);o=i._convertData(o);for(var s in o)e.inArray(s,n)>-1||(e.isPlainObject(this.options[s])?e.extend(this.options[s],o[s]):this.options[s]=o[s]);return this},r.prototype.get=function(t){return this.options[t]},r.prototype.set=function(t,e){this.options[t]=e},r}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,i){var r=function(t,n){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),r.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(t,this.options);var s=this.render();this._placeContainer(s);var a=this.options.get("selectionAdapter");this.selection=new a(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){u.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4),e=e.replace(/(:|\.|\[|\]|,)/g,""),e="select2-"+e},r.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},r.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var r=t.outerWidth(!1);return 0>=r?"auto":r+"px"}if("style"==e){var o=t.attr("style");if("string"!=typeof o)return null;for(var s=o.split(";"),a=0,l=s.length;l>a;a+=1){var c=s[a].replace(/\s/g,"").match(n);if(null!==c&&c.length>=1)return c[1]}return null}return e},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){t.each(n,e._syncA),t.each(n,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},r.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(i,r){-1===t.inArray(i,n)&&e.trigger(i,r)})},r.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&e.altKey?(t.close(),e.preventDefault()):n===i.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(t,e){var n=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&e.addedNodes.length>0)for(var r=0;r<e.addedNodes.length;r++)e.addedNodes[r].selected&&(n=!0);else e.removedNodes&&e.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})})}},r.prototype.trigger=function(t,e){var n=r.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in i){var o=i[t],s={prevented:!1,name:t,args:e};if(n.call(this,o,s),s.prevented)return void(e.prevented=!0)}n.call(this,t,e)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},r.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},r}),e.define("select2/compat/utils",["jquery"],function(t){return{syncCssClasses:function(e,n,i){var r,o,s=[];(r=t.trim(e.attr("class")))&&(r=""+r,t(r.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&s.push(this)})),(r=t.trim(n.attr("class")))&&(r=""+r,t(r.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(o=i(this))&&s.push(o)})),e.attr("class",s.join(" "))}}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(t,e){function n(t){return null}function i(){}return i.prototype.render=function(i){var r=i.call(this),o=this.options.get("containerCssClass")||"";t.isFunction(o)&&(o=o(this.$element));var s=this.options.get("adaptContainerCssClass");if(s=s||n,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var a=s;s=function(t){var e=a(t);return null!=e?e+" "+t:t}}var l=this.options.get("containerCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(r,this.$element,s),r.css(l),r.addClass(o),r},i}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(t,e){function n(t){return null}function i(){}return i.prototype.render=function(i){var r=i.call(this),o=this.options.get("dropdownCssClass")||"";t.isFunction(o)&&(o=o(this.$element));var s=this.options.get("adaptDropdownCssClass");if(s=s||n,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var a=s;s=function(t){var e=a(t);return null!=e?e+" "+t:t}}var l=this.options.get("dropdownCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(r,this.$element,s),r.css(l),r.addClass(o),r},i}),e.define("select2/compat/initSelection",["jquery"],function(t){function e(t,e,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,t.call(this,e,n)}return e.prototype.current=function(e,n){var i=this;return this._isInitialized?void e.call(this,n):void this.initSelection.call(null,this.$element,function(e){i._isInitialized=!0,t.isArray(e)||(e=[e]),n(e)})},e}),e.define("select2/compat/inputData",["jquery"],function(t){function e(t,e,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===e.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),t.call(this,e,n)}return e.prototype.current=function(e,n){function i(e,n){var r=[];return e.selected||-1!==t.inArray(e.id,n)?(e.selected=!0,r.push(e)):e.selected=!1,e.children&&r.push.apply(r,i(e.children,n)),r}for(var r=[],o=0;o<this._currentData.length;o++){var s=this._currentData[o];r.push.apply(r,i(s,this.$element.val().split(this._valueSeparator)))}n(r)},e.prototype.select=function(e,n){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+n.id,this.$element.val(i),this.$element.trigger("change")}else this.current(function(e){t.map(e,function(t){t.selected=!1})}),this.$element.val(n.id),this.$element.trigger("change")},e.prototype.unselect=function(t,e){var n=this;e.selected=!1,this.current(function(t){for(var i=[],r=0;r<t.length;r++){var o=t[r];e.id!=o.id&&i.push(o.id)}n.$element.val(i.join(n._valueSeparator)),n.$element.trigger("change")})},e.prototype.query=function(t,e,n){for(var i=[],r=0;r<this._currentData.length;r++){var o=this._currentData[r],s=this.matches(e,o);null!==s&&i.push(s)}n({results:i})},e.prototype.addOptions=function(e,n){var i=t.map(n,function(e){return t.data(e[0],"data")});this._currentData.push.apply(this._currentData,i)},e}),e.define("select2/compat/matcher",["jquery"],function(t){return function(e){return function(n,i){var r=t.extend(!0,{},i);if(null==n.term||""===t.trim(n.term))return r;if(i.children){for(var o=i.children.length-1;o>=0;o--){var s=i.children[o];e(n.term,s.text,s)||r.children.splice(o,1)}if(r.children.length>0)return r}return e(n.term,i.text,i)?r:null}}}),e.define("select2/compat/query",[],function(){function t(t,e,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.callback=n,this.options.get("query").call(null,e)},t}),e.define("select2/dropdown/attachContainer",[],function(){function t(t,e,n){t.call(this,e,n)}return t.prototype.position=function(t,e,n){n.find(".dropdown-wrapper").append(e),e.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},t}),e.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(i.join(" "),function(t){t.stopPropagation()})},t}),e.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(i.join(" "),function(t){t.stopPropagation()})},t}),function(n){"function"==typeof e.define&&e.define.amd?e.define("jquery-mousewheel",["jquery"],n):"object"==typeof exports?module.exports=n:n(t)}(function(t){function e(e){var s=e||window.event,a=l.call(arguments,1),c=0,h=0,d=0,p=0,f=0,m=0;if(e=t.event.fix(s),e.type="mousewheel","detail"in s&&(d=-1*s.detail),"wheelDelta"in s&&(d=s.wheelDelta),"wheelDeltaY"in s&&(d=s.wheelDeltaY),"wheelDeltaX"in s&&(h=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(h=-1*d,d=0),c=0===d?h:d,"deltaY"in s&&(d=-1*s.deltaY,c=d),"deltaX"in s&&(h=s.deltaX,0===d&&(c=-1*h)),0!==d||0!==h){if(1===s.deltaMode){var g=t.data(this,"mousewheel-line-height");c*=g,d*=g,h*=g}else if(2===s.deltaMode){var v=t.data(this,"mousewheel-pages-height");c*=v,d*=v,h*=v}if(p=Math.max(Math.abs(d),Math.abs(h)),(!o||o>p)&&(o=p,i(s,p)&&(o/=40)),i(s,p)&&(c/=40,h/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/o),h=Math[h>=1?"floor":"ceil"](h/o),d=Math[d>=1?"floor":"ceil"](d/o),u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=e.clientX-y.left,m=e.clientY-y.top}return e.deltaX=h,e.deltaY=d,e.deltaFactor=o,e.offsetX=f,e.offsetY=m,e.deltaMode=0,a.unshift(e,c,h,d),r&&clearTimeout(r),r=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function n(){o=null}function i(t,e){return u.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var r,o,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=s.length;c;)t.event.fixHooks[s[--c]]=t.event.mouseHooks;var u=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",u.getLineHeight(this)),t.data(this,"mousewheel-pages-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=a.length;n;)this.removeEventListener(a[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-pages-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,n,i){if(null==t.fn.select2){var r=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var i=t.extend(!0,{},e);new n(t(this),i)}),this;if("string"==typeof e){var i,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=n[e].apply(n,o)}),t.inArray(e,r)>-1?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n}),function(t){"use strict";function e(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function n(t,e){(i(t,e)?o:r)(t,e)}var i,r,o;"classList"in document.documentElement?(i=function(t,e){return t.classList.contains(e)},r=function(t,e){t.classList.add(e)},o=function(t,e){t.classList.remove(e)}):(i=function(t,n){return e(n).test(t.className)},r=function(t,e){i(t,e)||(t.className=t.className+" "+e)},o=function(t,n){t.className=t.className.replace(e(n)," ")});var s={hasClass:i,addClass:r,removeClass:o,toggleClass:n,has:i,add:r,remove:o,toggle:n};"function"==typeof define&&define.amd?define(s):t.classie=s}(window),function(t){"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function n(t,n){this.el=t,this.options=e({},this.options),e(this.options,n),this._init()}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[Modernizr.prefixed("transition")],r={transitions:Modernizr.csstransitions};n.prototype.options={onSubmit:function(){return!1}},n.prototype._init=function(){this.current=0,this.questions=[].slice.call(this.el.querySelectorAll("ol.questions > li")),this.questionsCount=this.questions.length,classie.addClass(this.questions[0],"current"),this.ctrlNext=this.el.querySelector("button.next"),this.progress=this.el.querySelector("div.progress"),this.questionStatus=this.el.querySelector("span.number"),this.currentNum=this.questionStatus.querySelector("span.number-current"),this.currentNum.innerHTML=Number(this.current+1),this.totalQuestionNum=this.questionStatus.querySelector("span.number-total"),this.totalQuestionNum.innerHTML=this.questionsCount,this.error=this.el.querySelector("span.error-message"),this._initEvents()},n.prototype._initEvents=function(){var t=this,e=this.questions[this.current].querySelector("input"),n=function(){e.removeEventListener("focus",n),classie.addClass(t.ctrlNext,"show")};e.addEventListener("focus",n),this.ctrlNext.addEventListener("click",function(e){e.preventDefault(),t._nextQuestion()}),this.el.addEventListener("keydown",function(e){13===(e.keyCode||e.which)&&(e.preventDefault(),t._nextQuestion())}),this.el.addEventListener("keydown",function(t){9===(t.keyCode||t.which)&&t.preventDefault()})},n.prototype._nextQuestion=function(){if(!this._validade())return!1;this.current===this.questionsCount-1&&(this.isFilled=!0),this._clearError();var t=this.questions[this.current];if(++this.current,this._progress(),!this.isFilled){this._updateQuestionNumber(),classie.addClass(this.el,"show-next");var e=this.questions[this.current];classie.removeClass(t,"current"),classie.addClass(e,"current")}var n=this,o=function(t){r.transitions&&this.removeEventListener(i,o),n.isFilled?n._submit():(classie.removeClass(n.el,"show-next"),n.currentNum.innerHTML=n.nextQuestionNum.innerHTML,n.questionStatus.removeChild(n.nextQuestionNum),e.querySelector("input").focus())};r.transitions?this.progress.addEventListener(i,o):o()},n.prototype._progress=function(){this.progress.style.width=this.current*(100/this.questionsCount)+"%"},n.prototype._updateQuestionNumber=function(){this.nextQuestionNum=document.createElement("span"),this.nextQuestionNum.className="number-next",this.nextQuestionNum.innerHTML=Number(this.current+1),this.questionStatus.appendChild(this.nextQuestionNum)},n.prototype._submit=function(){this.options.onSubmit(this.el)},n.prototype._validade=function(){return""!==this.questions[this.current].querySelector("input").value||(this._showError("EMPTYSTR"),!1)},n.prototype._showError=function(t){var e="";switch(t){case"EMPTYSTR":e="Please fill the field before continuing";break;case"INVALIDEMAIL":e="Please fill a valid email address"}this.error.innerHTML=e,classie.addClass(this.error,"show")},n.prototype._clearError=function(){classie.removeClass(this.error,"show")},t.stepsForm=n}(window),function(){function t(e){var n=t.modules[e];if(!n)throw new Error('failed to require "'+e+'"');return"exports"in n||"function"!=typeof n.definition||(n.client=n.component=!0,n.definition.call(this,n.exports={},n),delete n.definition),n.exports}t.loader="component",t.helper={},t.helper.semVerSort=function(t,e){for(var n=t.version.split("."),i=e.version.split("."),r=0;r<n.length;++r){var o=parseInt(n[r],10),s=parseInt(i[r],10);if(o!==s)return o>s?1:-1;var a=n[r].substr((""+o).length),l=i[r].substr((""+s).length);if(""===a&&""!==l)return 1;if(""!==a&&""===l)return-1;if(""!==a&&""!==l)return a>l?1:-1}return 0},t.latest=function(e,n){function i(t){throw new Error('failed to find latest module of "'+t+'"')}var r=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/;/(.*)~(.*)/.test(e)||i(e);for(var o=Object.keys(t.modules),s=[],a=[],l=0;l<o.length;l++){var c=o[l];if(new RegExp(e+"@").test(c)){var u=c.substr(e.length+1);null!=r.exec(c)?s.push({version:u,name:c}):a.push({version:u,name:c})}}if(0===s.concat(a).length&&i(e),s.length>0){h=s.sort(t.helper.semVerSort).pop().name;return!0===n?h:t(h)}var h=a.pop().name;return!0===n?h:t(h)},t.modules={},t.register=function(e,n){t.modules[e]={definition:n}},t.define=function(e,n){t.modules[e]={exports:n}},t.register("abpetkov~transitionize@0.0.3",function(t,e){function n(t,e){if(!(this instanceof n))return new n(t,e);this.element=t,this.props=e||{},this.init()}e.exports=n,n.prototype.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},n.prototype.init=function(){var t=[];for(var e in this.props)t.push(e+" "+this.props[e]);this.element.style.transition=t.join(", "),this.isSafari()&&(this.element.style.webkitTransition=t.join(", "))}}),t.register("ftlabs~fastclick@v0.6.11",function(t,e){function n(t){"use strict";var e,i=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=t,!t||!t.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return n.prototype.onClick.apply(i,arguments)},this.onMouse=function(){return n.prototype.onMouse.apply(i,arguments)},this.onTouchStart=function(){return n.prototype.onTouchStart.apply(i,arguments)},this.onTouchMove=function(){return n.prototype.onTouchMove.apply(i,arguments)},this.onTouchEnd=function(){return n.prototype.onTouchEnd.apply(i,arguments)},this.onTouchCancel=function(){return n.prototype.onTouchCancel.apply(i,arguments)},n.notNeeded(t)||(this.deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,i):r.call(t,e,n,i)},t.addEventListener=function(e,n,i){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(t,e,n,i)}),"function"==typeof t.onclick&&(e=t.onclick,t.addEventListener("click",function(t){e(t)},!1),t.onclick=null))}n.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,n.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),n.prototype.deviceIsIOS4=n.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),n.prototype.deviceIsIOSWithBadTarget=n.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),n.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},n.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},n.prototype.sendClick=function(t,e){"use strict";var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},n.prototype.determineEventType=function(t){"use strict";return this.deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},n.prototype.focus=function(t){"use strict";var e;this.deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},n.prototype.updateScrollParent=function(t){"use strict";var e,n;if(!(e=t.fastClickScrollParent)||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},n.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},n.prototype.onTouchStart=function(t){"use strict";var e,n,i;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],this.deviceIsIOS){if((i=window.getSelection()).rangeCount&&!i.isCollapsed)return!0;if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<200&&t.preventDefault(),!0},n.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},n.prototype.onTouchMove=function(t){"use strict";return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},n.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},n.prototype.onTouchEnd=function(t){"use strict";var e,n,i,r,o,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(o=t.changedTouches[0],(s=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||s).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(i=s.tagName.toLowerCase())){if(e=this.findControl(s)){if(this.focus(s),this.deviceIsAndroid)return!1;s=e}}else if(this.needsFocus(s))return t.timeStamp-n>100||this.deviceIsIOS&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(s),this.deviceIsIOS4&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return!(!this.deviceIsIOS||this.deviceIsIOS4||!(r=s.fastClickScrollParent)||r.fastClickLastScrollTop===r.scrollTop)||(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},n.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},n.prototype.onMouse=function(t){"use strict";return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},n.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},n.prototype.destroy=function(){"use strict";var t=this.layer;this.deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},n.notNeeded=function(t){"use strict";var e,i;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n.prototype.deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction},n.attach=function(t){"use strict";return new n(t)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return n}):void 0!==e&&e.exports?(e.exports=n.attach,e.exports.FastClick=n):window.FastClick=n}),t.register("component~indexof@0.0.3",function(t,e){e.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}}),t.register("component~classes@1.2.1",function(e,n){function i(t){if(!t)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}var r=t("component~indexof@0.0.3"),o=/\s+/,s=Object.prototype.toString;n.exports=function(t){return new i(t)},i.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array();return~r(e,t)||e.push(t),this.el.className=e.join(" "),this},i.prototype.remove=function(t){if("[object RegExp]"==s.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),n=r(e,t);return~n&&e.splice(n,1),this.el.className=e.join(" "),this},i.prototype.removeMatching=function(t){for(var e=this.array(),n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this},i.prototype.toggle=function(t,e){return this.list?(void 0!==e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):(void 0!==e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},i.prototype.array=function(){var t=this.el.className.replace(/^\s+|\s+$/g,"").split(o);return""===t[0]&&t.shift(),t},i.prototype.has=i.prototype.contains=function(t){return this.list?this.list.contains(t):!!~r(this.array(),t)}}),t.register("switchery",function(e,n){function i(t,e){if(!(this instanceof i))return new i(t,e);this.element=t,this.options=e||{};for(var n in a)null==this.options[n]&&(this.options[n]=a[n]);null!=this.element&&"checkbox"==this.element.type&&this.init()}var r=t("abpetkov~transitionize@0.0.3"),o=t("ftlabs~fastclick@v0.6.11"),s=t("component~classes@1.2.1");n.exports=i;var a={color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#fff",className:"switchery",disabled:!1,disabledOpacity:.5,speed:"0.4s",size:"default"};i.prototype.hide=function(){this.element.style.display="none"},i.prototype.show=function(){var t=this.create();this.insertAfter(this.element,t)},i.prototype.create=function(){return this.switcher=document.createElement("span"),this.jack=document.createElement("small"),this.switcher.appendChild(this.jack),this.switcher.className=this.options.className,this.switcher},i.prototype.insertAfter=function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},i.prototype.isChecked=function(){return this.element.checked},i.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled||this.element.readOnly},i.prototype.setPosition=function(t){var e=this.isChecked(),n=this.switcher,i=this.jack;t&&e?e=!1:t&&!e&&(e=!0),!0===e?(this.element.checked=!0,window.getComputedStyle?i.style.left=parseInt(window.getComputedStyle(n).width)-parseInt(window.getComputedStyle(i).width)+"px":i.style.left=parseInt(n.currentStyle.width)-parseInt(i.currentStyle.width)+"px",this.options.color&&this.colorize(),this.setSpeed()):(i.style.left=0,this.element.checked=!1,this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor,this.switcher.style.borderColor=this.options.secondaryColor,this.switcher.style.backgroundColor=this.options.secondaryColor!==a.secondaryColor?this.options.secondaryColor:"#fff",this.jack.style.backgroundColor=this.options.jackColor,this.setSpeed())},i.prototype.setSpeed=function(){var t={},e={left:this.options.speed.replace(/[a-z]/,"")/2+"s"};t=this.isChecked()?{border:this.options.speed,"box-shadow":this.options.speed,"background-color":3*this.options.speed.replace(/[a-z]/,"")+"s"}:{border:this.options.speed,"box-shadow":this.options.speed},r(this.switcher,t),r(this.jack,e)},i.prototype.setSize=function(){switch(this.options.size){case"small":s(this.switcher).add("switchery-small");break;case"large":s(this.switcher).add("switchery-large");break;default:s(this.switcher).add("switchery-default")}},i.prototype.colorize=function(){var t=this.switcher.offsetHeight/2;this.switcher.style.backgroundColor=this.options.color,this.switcher.style.borderColor=this.options.color,this.switcher.style.boxShadow="inset 0 0 0 "+t+"px "+this.options.color,this.jack.style.backgroundColor=this.options.jackColor},i.prototype.handleOnchange=function(t){if(document.dispatchEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!0),this.element.dispatchEvent(e)}else this.element.fireEvent("onchange")},i.prototype.handleChange=function(){var t=this,e=this.element;e.addEventListener?e.addEventListener("change",function(){t.setPosition()}):e.attachEvent("onchange",function(){t.setPosition()})},i.prototype.handleClick=function(){var t=this,e=this.switcher,n="label"!==t.element.parentNode.tagName.toLowerCase();!1===this.isDisabled()?(o(e),e.addEventListener?e.addEventListener("click",function(e){t.setPosition(n),t.handleOnchange(t.element.checked)}):e.attachEvent("onclick",function(){t.setPosition(n),t.handleOnchange(t.element.checked)})):(this.element.disabled=!0,this.switcher.style.opacity=this.options.disabledOpacity)},i.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",!0)},i.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")},i.prototype.init=function(){this.hide(),this.show(),this.setSize(),this.setPosition(),this.markAsSwitched(),this.handleChange(),this.handleClick()}}),"object"==typeof exports?module.exports=t("switchery"):"function"==typeof define&&define.amd?define("Switchery",[],function(){return t("switchery")}):(this||window).Switchery=t("switchery")}(),function(){function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,r=this,o=r.EventEmitter;i.getListeners=function(t){var e,n,i=this._getEvents();if("object"==typeof t){e={};for(n in i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n])}else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,n=[];for(e=0;t.length>e;e+=1)n.push(t[e].listener);return n},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,n){var i,r=this.getListenersAsObject(t),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===e(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,n){var i,r,o=this.getListenersAsObject(t);for(r in o)o.hasOwnProperty(r)&&-1!==(i=e(o[r],n))&&o[r].splice(i,1);return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,r,o=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)o.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(r=e[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if("object"===n)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var n,i,r,o=this.getListenersAsObject(t);for(r in o)if(o.hasOwnProperty(r))for(i=o[r].length;i--;)!0===(n=o[r][i]).once&&this.removeListener(t,n.listener),n.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return r.EventEmitter=o,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(t,e,n){t.addEventListener(e,n,!1)}:n.attachEvent&&(i=function(t,n,i){t[n+i]=i.handleEvent?function(){var n=e(t);i.handleEvent.call(i,n)}:function(){var n=e(t);i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var r=function(){};n.removeEventListener?r=function(t,e,n){t.removeEventListener(e,n,!1)}:n.detachEvent&&(r=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):t.eventie=o}(this),function(t,e){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return e(t,n,i)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,n){function i(t,e){for(var n in e)t[n]=e[n];return t}function r(t){return"[object Array]"===d.call(t)}function o(t){var e=[];if(r(t))e=t;else if("number"==typeof t.length)for(var n=0,i=t.length;i>n;n++)e.push(t[n]);else e.push(t);return e}function s(t,e,n){if(!(this instanceof s))return new s(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=o(t),this.options=i({},this.options),"function"==typeof e?n=e:i(this.options,e),n&&this.on("always",n),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var r=this;setTimeout(function(){r.check()})}function a(t){this.img=t}function l(t){this.src=t,p[t]=this}var c=t.jQuery,u=t.console,h=void 0!==u,d=Object.prototype.toString;s.prototype=new e,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;e>t;t++){var n=this.elements[t];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var r=n.querySelectorAll("img"),o=0,s=r.length;s>o;o++){var a=r[o];this.addImage(a)}}},s.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},s.prototype.check=function(){var t=this,e=0,n=this.images.length;if(this.hasAnyBroken=!1,n)for(var i=0;n>i;i++){var r=this.images[i];r.on("confirm",function(i,r){return t.options.debug&&h&&u.log("confirm",i,r),t.progress(i),++e===n&&t.complete(),!0}),r.check()}else this.complete()},s.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var n=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[n](e)}})},c&&(c.fn.imagesLoaded=function(t,e){return new s(this,t,e).jqDeferred.promise(c(this))}),(a.prototype=new e).check=function(){var t=p[this.img.src]||new l(this.img.src);if(t.isConfirmed)this.confirm(t.isLoaded,"cached was confirmed");else if(this.img.complete&&void 0!==this.img.naturalWidth)this.confirm(0!==this.img.naturalWidth,"naturalWidth");else{var e=this;t.on("confirm",function(t,n){return e.confirm(t.isLoaded,n),!0}),t.check()}},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var p={};return l.prototype=new e,l.prototype.check=function(){if(!this.isChecked){var t=new Image;n.bind(t,"load",this),n.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},l.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},l.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},l.prototype.unbindProxyEvents=function(t){n.unbind(t.target,"load",this),n.unbind(t.target,"error",this)},s}),function(t){function e(){}function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function r(e,n){t.fn[e]=function(r){if("string"==typeof r){for(var s=i.call(arguments,1),a=0,l=this.length;l>a;a++){var c=this[a],u=t.data(c,e);if(u)if(t.isFunction(u[r])&&"_"!==r.charAt(0)){var h=u[r].apply(u,s);if(void 0!==h)return h}else o("no such method '"+r+"' for "+e+" instance");else o("cannot call methods on "+e+" prior to initialization; attempted to call '"+r+"'")}return this}return this.each(function(){var i=t.data(this,e);i?(i.option(r),i._init()):(i=new n(this,r),t.data(this,e,i))})}}if(t){var o="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){n(e),r(t,e)},t.bridget}}var i=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):n(t.jQuery)}(window),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(t,e,n){t.addEventListener(e,n,!1)}:n.attachEvent&&(i=function(t,n,i){t[n+i]=i.handleEvent?function(){var n=e(t);i.handleEvent.call(i,n)}:function(){var n=e(t);i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var r=function(){};n.removeEventListener?r=function(t,e,n){t.removeEventListener(e,n,!1)}:n.detachEvent&&(r=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):"object"==typeof exports?module.exports=o:t.eventie=o}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():o.push(t))}function n(t){var n="readystatechange"===t.type&&"complete"!==r.readyState;if(!e.isReady&&!n){e.isReady=!0;for(var i=0,s=o.length;s>i;i++)(0,o[i])()}}function i(i){return i.bind(r,"DOMContentLoaded",n),i.bind(r,"readystatechange",n),i.bind(t,"load",n),e}var r=t.document,o=[];e.isReady=!1,"function"==typeof define&&define.amd?(e.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],i)):t.docReady=i(t.eventie)}(this),function(){function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,r=this,o=r.EventEmitter;i.getListeners=function(t){var e,n,i=this._getEvents();if(t instanceof RegExp){e={};for(n in i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n])}else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,n=[];for(e=0;t.length>e;e+=1)n.push(t[e].listener);return n},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,n){var i,r=this.getListenersAsObject(t),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===e(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,n){var i,r,o=this.getListenersAsObject(t);for(r in o)o.hasOwnProperty(r)&&-1!==(i=e(o[r],n))&&o[r].splice(i,1);return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,r,o=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)o.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(r=e[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if(t instanceof RegExp)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var n,i,r,o=this.getListenersAsObject(t);for(r in o)if(o.hasOwnProperty(r))for(i=o[r].length;i--;)!0===(n=o[r][i]).once&&this.removeListener(t,n.listener),n.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return r.EventEmitter=o,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof i[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,r=0,o=n.length;o>r;r++)if(e=n[r]+t,"string"==typeof i[e])return e}}var n="Webkit Moz ms Ms O".split(" "),i=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t);return-1===t.indexOf("%")&&!isNaN(e)&&e}function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,n=s.length;n>e;e++)t[s[e]]=0;return t}function i(t){function i(t,e){if(r||-1===e.indexOf("%"))return e;var n=t.style,i=n.left,o=t.runtimeStyle,s=o&&o.left;return s&&(o.left=t.currentStyle.left),n.left=e,e=n.pixelLeft,n.left=i,s&&(o.left=s),e}var a,l=t("boxSizing");return function(){if(l){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[l]="border-box";var n=document.body||document.documentElement;n.appendChild(t);var i=o(t);a=200===e(i.width),n.removeChild(t)}}(),function(t){if("string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var r=o(t);if("none"===r.display)return n();var c={};c.width=t.offsetWidth,c.height=t.offsetHeight;for(var u=c.isBorderBox=!(!l||!r[l]||"border-box"!==r[l]),h=0,d=s.length;d>h;h++){var p=s[h],f=r[p];f=i(t,f);var m=parseFloat(f);c[p]=isNaN(m)?0:m}var g=c.paddingLeft+c.paddingRight,v=c.paddingTop+c.paddingBottom,y=c.marginLeft+c.marginRight,_=c.marginTop+c.marginBottom,b=c.borderLeftWidth+c.borderRightWidth,w=c.borderTopWidth+c.borderBottomWidth,x=u&&a,S=e(r.width);!1!==S&&(c.width=S+(x?0:g+b));var k=e(r.height);return!1!==k&&(c.height=k+(x?0:v+w)),c.innerWidth=c.width-(g+b),c.innerHeight=c.height-(v+w),c.outerWidth=c.width+y,c.outerHeight=c.height+_,c}}}var r=t.getComputedStyle,o=r?function(t){return r(t,null)}:function(t){return t.currentStyle},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],i):"object"==typeof exports?module.exports=i(require("get-style-property")):t.getSize=i(t.getStyleProperty)}(window),function(t,e){function n(t,e){return t[o](e)}function i(t){t.parentNode||document.createDocumentFragment().appendChild(t)}var r,o=function(){if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0,i=t.length;i>n;n++){var r=t[n]+"MatchesSelector";if(e[r])return r}}();if(o){var s=n(document.createElement("div"),"div");r=s?n:function(t,e){return i(t),n(t,e)}}else r=function(t,e){i(t);for(var n=t.parentNode.querySelectorAll(e),r=0,o=n.length;o>r;r++)if(n[r]===t)return!0;return!1};"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return r}):window.matchesSelector=r}(0,Element.prototype),function(t){function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){for(var e in t)return!1;return null,!0}function i(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function r(t,r,o){function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=o("transition"),c=o("transform"),u=l&&c,h=!!o("perspective"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,n=p.length;n>e;e++){var i=p[e],r=o(i);r&&r!==i&&(t[i]=r)}return t}();e(a.prototype,t.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=r(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var n in t)e[f[n]||n]=t[n]},a.prototype.getPosition=function(){var t=s(this.element),e=this.layout.options,n=e.isOriginLeft,i=e.isOriginTop,r=parseInt(t[n?"left":"right"],10),o=parseInt(t[i?"top":"bottom"],10);r=isNaN(r)?0:r,o=isNaN(o)?0:o;var a=this.layout.size;r-=n?a.paddingLeft:a.paddingRight,o-=i?a.paddingTop:a.paddingBottom,this.position.x=r,this.position.y=o},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,n={};e.isOriginLeft?(n.left=this.position.x+t.paddingLeft+"px",n.right=""):(n.right=this.position.x+t.paddingRight+"px",n.left=""),e.isOriginTop?(n.top=this.position.y+t.paddingTop+"px",n.bottom=""):(n.bottom=this.position.y+t.paddingBottom+"px",n.top=""),this.css(n),this.emitEvent("layout",[this])};var m=h?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};a.prototype._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,r=parseInt(t,10),o=parseInt(e,10),s=r===this.position.x&&o===this.position.y;if(this.setPosition(t,e),!s||this.isTransitioning){var a=t-n,l=e-i,c={},u=this.layout.options;a=u.isOriginLeft?a:-a,l=u.isOriginTop?l:-l,c.transform=m(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=u?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.prototype._transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var g=c&&i(c)+",opacity";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:g,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(d,this,!1))},a.prototype.transition=a.prototype[l?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var v={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=v[t.propertyName]||t.propertyName;delete e.ingProperties[i],n(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd&&(e.onEnd[i].call(this),delete e.onEnd[i]),this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var y={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(y)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(l&&parseFloat(this.layout.options.transitionDuration)){var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()}else this.removeElem()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}var o=t.getComputedStyle,s=o?function(t){return o(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],r):(t.Outlayer={},t.Outlayer.Item=r(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){return"[object Array]"===h.call(t)}function i(t){var e=[];if(n(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,r=t.length;r>i;i++)e.push(t[i]);else e.push(t);return e}function r(t,e){var n=p(e,t);-1!==n&&e.splice(n,1)}function o(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()}function s(n,s,h,p,f,m){function g(t,n){if("string"==typeof t&&(t=a.querySelector(t)),t&&d(t)){this.element=t,this.options=e({},this.constructor.defaults),this.option(n);var i=++v;this.element.outlayerGUID=i,y[i]=this,this._create(),this.options.isInitLayout&&this.layout()}else l&&l.error("Bad "+this.constructor.namespace+" element: "+t)}var v=0,y={};return g.namespace="outlayer",g.Item=m,g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(g.prototype,h.prototype),g.prototype.option=function(t){e(this.options,t)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],r=0,o=e.length;o>r;r++){var s=new n(e[r],this);i.push(s)}return i},g.prototype._filterFindItemElements=function(t){t=i(t);for(var e=this.options.itemSelector,n=[],r=0,o=t.length;o>r;r++){var s=t[r];if(d(s))if(e){f(s,e)&&n.push(s);for(var a=s.querySelectorAll(e),l=0,c=a.length;c>l;l++)n.push(a[l])}else n.push(s)}return n},g.prototype.getItemElements=function(){for(var t=[],e=0,n=this.items.length;n>e;e++)t.push(this.items[e].element);return t},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=p(this.element)},g.prototype._getMeasurement=function(t,e){var n,i=this.options[t];i?("string"==typeof i?n=this.element.querySelector(i):d(i)&&(n=i),this[t]=n?p(n)[e]:i):this[t]=0},g.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},g.prototype._getItemsForLayout=function(t){for(var e=[],n=0,i=t.length;i>n;n++){var r=t[n];r.isIgnored||e.push(r)}return e},g.prototype._layoutItems=function(t,e){function n(){i.emitEvent("layoutComplete",[i,t])}var i=this;if(t&&t.length){this._itemsOn(t,"layout",n);for(var r=[],o=0,s=t.length;s>o;o++){var a=t[o],l=this._getItemLayoutPosition(a);l.item=a,l.isInstant=e||a.isLayoutInstant,r.push(l)}this._processLayoutQueue(r)}else n()},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(t){for(var e=0,n=t.length;n>e;e++){var i=t[e];this._positionItem(i.item,i.x,i.y,i.isInstant)}},g.prototype._positionItem=function(t,e,n,i){i?t.goTo(e,n):t.moveTo(e,n)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},g.prototype._getContainerSize=u,g.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},g.prototype._itemsOn=function(t,e,n){for(var i=0,r=t.length,o=this,s=0,a=t.length;a>s;s++)t[s].on(e,function(){return++i===r&&n.call(o),!0})},g.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},g.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},g.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,n=t.length;n>e;e++){var i=t[e];this.ignore(i)}}},g.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,n=t.length;n>e;e++){var i=t[e];r(i,this.stamps),this.unignore(i)}},g.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i(t)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var n=this.stamps[t];this._manageStamp(n)}}},g.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},g.prototype._manageStamp=u,g.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,i=p(t);return{left:e.left-n.left-i.marginLeft,top:e.top-n.top-i.marginTop,right:n.right-e.right-i.marginRight,bottom:n.bottom-e.bottom-i.marginBottom}},g.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},g.prototype.bindResize=function(){this.isResizeBound||(n.bind(t,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&n.unbind(t,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(function(){t.resize(),delete t.resizeTimeout},100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var t=p(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},g.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},g.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},g.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var n=0;e>n;n++)t[n].reveal()},g.prototype.hide=function(t){var e=t&&t.length;if(e)for(var n=0;e>n;n++)t[n].hide()},g.prototype.getItem=function(t){for(var e=0,n=this.items.length;n>e;e++){var i=this.items[e];if(i.element===t)return i}},g.prototype.getItems=function(t){if(t&&t.length){for(var e=[],n=0,i=t.length;i>n;n++){var r=t[n],o=this.getItem(r);o&&e.push(o)}return e}},g.prototype.remove=function(t){t=i(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var n=0,o=e.length;o>n;n++){var s=e[n];s.remove(),r(s,this.items)}}},g.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,n=this.items.length;n>e;e++)this.items[e].destroy();this.unbindResize(),delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},g.data=function(t){var e=t&&t.outlayerGUID;return e&&y[e]},g.create=function(t,n){function i(){g.apply(this,arguments)}return Object.create?i.prototype=Object.create(g.prototype):e(i.prototype,g.prototype),i.prototype.constructor=i,i.defaults=e({},g.defaults),e(i.defaults,n),i.prototype.settings={},i.namespace=t,i.data=g.data,i.Item=function(){m.apply(this,arguments)},i.Item.prototype=new m,s(function(){for(var e=o(t),n=a.querySelectorAll(".js-"+e),r="data-"+e+"-options",s=0,u=n.length;u>s;s++){var h,d=n[s],p=d.getAttribute(r);try{h=p&&JSON.parse(p)}catch(t){l&&l.error("Error parsing "+r+" on "+d.nodeName.toLowerCase()+(d.id?"#"+d.id:"")+": "+t);continue}var f=new i(d,h);c&&c.data(d,t,f)}}),c&&c.bridget&&c.bridget(t,i),i},g.Item=m,g}var a=t.document,l=t.console,c=t.jQuery,u=function(){},h=Object.prototype.toString,d="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},p=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):t.Outlayer=s(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t){function e(){t.Item.apply(this,arguments)}return e.prototype=new t.Item,e.prototype._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var n in t){var i=e[n];this.sortData[n]=i(this.element,this)}}},e}"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window),function(t){function e(t,e){function n(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){for(var t=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],i=0,r=t.length;r>i;i++){var o=t[i];n.prototype[o]=function(t){return function(){return e.prototype[t].apply(this.isotope,arguments)}}(o)}}(),n.prototype.needsVerticalResizeLayout=function(){var e=t(this.isotope.element);return this.isotope.size&&e&&e.innerHeight!==this.isotope.size.innerHeight},n.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},n.prototype.getSegmentSize=function(t,e){var n=t+e,i="outer"+e;if(this._getMeasurement(n,i),!this[n]){var r=this.getFirstItemSize();this[n]=r&&r[i]||this.isotope.size["inner"+e]}},n.prototype.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},n.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},n.modes={},n.create=function(t,e){function i(){n.apply(this,arguments)}return i.prototype=new n,e&&(i.options=e),i.prototype.namespace=t,n.modes[t]=i,i},n}"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window),function(t){function e(t,e){var i=t.create("masonry");return i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},i.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",r=Math[i](t.size.outerWidth/this.columnWidth);r=Math.min(r,this.cols);for(var o=this._getColGroup(r),s=Math.min.apply(Math,o),a=n(o,s),l={x:this.columnWidth*a,y:s},c=s+t.size.outerHeight,u=this.cols+1-o.length,h=0;u>h;h++)this.colYs[a+h]=c;return l},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;n>i;i++){var r=this.colYs.slice(i,i+t);e[i]=Math.max.apply(Math,r)}return e},i.prototype._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),r=this.options.isOriginLeft?i.left:i.right,o=r+n.outerWidth,s=Math.floor(r/this.columnWidth);s=Math.max(0,s);var a=Math.floor(o/this.columnWidth);a-=o%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?i.top:i.bottom)+n.outerHeight,c=s;a>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},i}var n=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1};"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):t.Masonry=e(t.Outlayer,t.getSize)}(window),function(t){function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t,n){var i=t.create("masonry"),r=i.prototype._getElementOffset,o=i.prototype.layout,s=i.prototype._getMeasurement;e(i.prototype,n.prototype),i.prototype._getElementOffset=r,i.prototype.layout=o,i.prototype._getMeasurement=s;var a=i.prototype.measureColumns;i.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,a.call(this)};var l=i.prototype._manageStamp;return i.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,l.apply(this,arguments)},i}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],n):n(t.Isotope.LayoutMode,t.Masonry)}(window),function(t){function e(t){var e=t.create("fitRows");return e.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0},e.prototype._getItemLayoutPosition=function(t){t.getSize(),0!==this.x&&t.size.outerWidth+this.x>this.isotope.size.innerWidth&&(this.x=0,this.y=this.maxY);var e={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=t.size.outerWidth,e},e.prototype._getContainerSize=function(){return{height:this.maxY}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):e(t.Isotope.LayoutMode)}(window),function(t){function e(t){var e=t.create("vertical",{horizontalAlignment:0});return e.prototype._resetLayout=function(){this.y=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,n=this.y;return this.y+=t.size.outerHeight,{x:e,y:n}},e.prototype._getContainerSize=function(){return{height:this.y}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):e(t.Isotope.LayoutMode)}(window),function(t){function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){return"[object Array]"===c.call(t)}function i(t){var e=[];if(n(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,r=t.length;r>i;i++)e.push(t[i]);else e.push(t);return e}function r(t,e){var n=u(e,t);-1!==n&&e.splice(n,1)}function o(t,n,o,c,u){function h(t,e){return function(n,i){for(var r=0,o=t.length;o>r;r++){var s=t[r],a=n.sortData[s],l=i.sortData[s];if(a>l||l>a){var c=(void 0!==e[s]?e[s]:e)?1:-1;return(a>l?1:-1)*c}}return 0}}var d=t.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});d.Item=c,d.LayoutMode=u,d.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),t.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var e in u.modes)this._initLayoutMode(e)},d.prototype.reloadItems=function(){this.itemGUID=0,t.prototype.reloadItems.call(this)},d.prototype._itemize=function(){for(var e=t.prototype._itemize.apply(this,arguments),n=0,i=e.length;i>n;n++)e[n].id=this.itemGUID++;return this._updateItemsSortData(e),e},d.prototype._initLayoutMode=function(t){var n=u.modes[t],i=this.options[t]||{};this.options[t]=n.options?e(n.options,i):i,this.modes[t]=new n(this)},d.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?void this.arrange():void this._layout()},d.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},d.prototype.arrange=function(t){this.option(t),this._getIsInstant(),this.filteredItems=this._filter(this.items),this._sort(),this._layout()},d.prototype._init=d.prototype.arrange,d.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},d.prototype._filter=function(t){function e(){h.reveal(r),h.hide(o)}var n=this.options.filter;n=n||"*";for(var i=[],r=[],o=[],s=this._getFilterTest(n),a=0,l=t.length;l>a;a++){var c=t[a];if(!c.isIgnored){var u=s(c);u&&i.push(c),u&&c.isHidden?r.push(c):u||c.isHidden||o.push(c)}}var h=this;return this._isInstant?this._noTransition(e):e(),i},d.prototype._getFilterTest=function(t){return s&&this.options.isJQueryFiltering?function(e){return s(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return o(e.element,t)}},d.prototype.updateSortData=function(t){this._getSorters(),t=i(t);var e=this.getItems(t);e=e.length?e:this.items,this._updateItemsSortData(e)},d.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var n=t[e];this._sorters[e]=p(n)}},d.prototype._updateItemsSortData=function(t){for(var e=0,n=t.length;n>e;e++)t[e].updateSortData()};var p=function(){function t(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var n=t.querySelector(e);return n&&l(n)}}return function(e){if("string"!=typeof e)return e;var n=a(e).split(" "),i=n[0],r=i.match(/^\[(.+)\]$/),o=t(r&&r[1],i),s=d.sortDataParsers[n[1]];return e=s?function(t){return t&&s(o(t))}:function(t){return t&&o(t)}}}();d.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},d.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=h([].concat.apply(t,this.sortHistory),this.options.sortAscending);this.filteredItems.sort(e),t!==this.sortHistory[0]&&this.sortHistory.unshift(t)}},d.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw Error("No layout mode: "+t);return e.options=this.options[t],e},d.prototype._resetLayout=function(){t.prototype._resetLayout.call(this),this._mode()._resetLayout()},d.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},d.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},d.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},d.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},d.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var n=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(n)}},d.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(n),this.filteredItems=i.concat(this.filteredItems)}},d.prototype._filterRevealAdded=function(t){var e=this._noTransition(function(){return this._filter(t)});return this.layoutItems(e,!0),this.reveal(e),t},d.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var n,i,r=e.length;for(n=0;r>n;n++)i=e[n],this.element.appendChild(i.element);var o=this._filter(e);for(this._noTransition(function(){this.hide(o)}),n=0;r>n;n++)e[n].isLayoutInstant=!0;for(this.arrange(),n=0;r>n;n++)delete e[n].isLayoutInstant;this.reveal(o)}};var f=d.prototype.remove;return d.prototype.remove=function(t){t=i(t);var e=this.getItems(t);if(f.call(this,t),e&&e.length)for(var n=0,o=e.length;o>n;n++)r(e[n],this.filteredItems)},d.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var n=t.call(this);return this.options.transitionDuration=e,n},d}var s=t.jQuery,a=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},l=document.documentElement.textContent?function(t){return t.textContent}:function(t){return t.innerText},c=Object.prototype.toString,u=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],o):t.Isotope=o(t.Outlayer,t.getSize,t.matchesSelector,t.Isotope.Item,t.Isotope.LayoutMode)}(window),function(t){"use strict";var e=function(e,n){this.options=n,this.$tabs=t(e),this._accordionVisible=!1,this._initAccordion(),this._checkStateOnResize();var i=this;setTimeout(function(){i.checkState()},0)};e.DEFAULTS={accordionClass:"visible-xs",tabsClass:"hidden-xs",accordionTemplate:function(t,e,n,i){return'<div class="panel panel-default">   <div class="panel-heading">      <h4 class="panel-title">      </h4>   </div>   <div id="'+e+'" class="panel-collapse collapse '+(i?"in":"")+'">       <div class="panel-body js-tabcollapse-panel-body">       </div>   </div></div>'}},e.prototype.checkState=function(){this.$tabs.is(":visible")&&this._accordionVisible?(this.showTabs(),this._accordionVisible=!1):this.$accordion.is(":visible")&&!this._accordionVisible&&(this.showAccordion(),this._accordionVisible=!0)},e.prototype.showTabs=function(){var e=this;this.$tabs.trigger(t.Event("show-tabs.bs.tabcollapse")),this.$accordion.find(".js-tabcollapse-panel-heading").detach().each(function(){var n=t(this),i=n.data("bs.tabcollapse.parentLi"),r=e._panelHeadingToTabHeading(n);i.removeClass("active"),i.parent().hasClass("dropdown-menu")&&!i.siblings("li").hasClass("active")&&i.parent().parent().removeClass("active"),r.hasClass("collapsed")?r.removeClass("collapsed"):(i.addClass("active"),i.parent().hasClass("dropdown-menu")&&i.parent().parent().addClass("active")),i.append(n)}),t("li").hasClass("active")||t("li").first().addClass("active"),this.$accordion.find(".js-tabcollapse-panel-body").each(function(){var e=t(this);e.data("bs.tabcollapse.tabpane").append(e.contents().detach())}),this.$accordion.html(""),this.options.updateLinks&&this.getTabContentElement().find('[data-toggle-was="tab"], [data-toggle-was="pill"]').each(function(){var e=t(this),n=e.attr("href").replace(/-collapse$/g,"");e.attr({"data-toggle":e.attr("data-toggle-was"),"data-toggle-was":"","data-parent":"",href:n})}),this.$tabs.trigger(t.Event("shown-tabs.bs.tabcollapse"))},e.prototype.getTabContentElement=function(){var e=t(this.options.tabContentSelector);return 0===e.length&&(e=this.$tabs.siblings(".tab-content")),e},e.prototype.showAccordion=function(){this.$tabs.trigger(t.Event("show-accordion.bs.tabcollapse"));var e=this;if(this.$tabs.find('li:not(.dropdown) [data-toggle="tab"], li:not(.dropdown) [data-toggle="pill"]').each(function(){var n=t(this),i=n.parent();n.data("bs.tabcollapse.parentLi",i),e.$accordion.append(e._createAccordionGroup(e.$accordion.attr("id"),n.detach()))}),this.options.updateLinks){var n=this.$accordion.attr("id");this.$accordion.find(".js-tabcollapse-panel-body").find('[data-toggle="tab"], [data-toggle="pill"]').each(function(){var e=t(this),i=e.attr("href")+"-collapse";e.attr({"data-toggle-was":e.attr("data-toggle"),"data-toggle":"collapse","data-parent":"#"+n,href:i})})}this.$tabs.trigger(t.Event("shown-accordion.bs.tabcollapse"))},e.prototype._panelHeadingToTabHeading=function(t){var e=t.attr("href").replace(/-collapse$/g,"");return t.attr({"data-toggle":"tab",href:e,"data-parent":""}),t},e.prototype._tabHeadingToPanelHeading=function(t,e,n,i){return t.addClass("js-tabcollapse-panel-heading "+(i?"":"collapsed")),t.attr({"data-toggle":"collapse","data-parent":"#"+n,href:"#"+e}),t},e.prototype._checkStateOnResize=function(){var e=this;t(window).resize(function(){clearTimeout(e._resizeTimeout),e._resizeTimeout=setTimeout(function(){e.checkState()},100)})},e.prototype._initAccordion=function(){var e=this.$tabs.attr("id"),n=(e||function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;5>n;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}())+"-accordion";this.$accordion=t('<div class="panel-group '+this.options.accordionClass+'" id="'+n+'"></div>'),this.$tabs.after(this.$accordion),this.$tabs.addClass(this.options.tabsClass),this.getTabContentElement().addClass(this.options.tabsClass)},e.prototype._createAccordionGroup=function(e,n){var i=n.attr("data-target"),r=n.data("bs.tabcollapse.parentLi").is(".active");i||(i=n.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var o=t(i),s=o.attr("id")+"-collapse",a=t(this.options.accordionTemplate(n,s,e,r));return a.find(".panel-heading > .panel-title").append(this._tabHeadingToPanelHeading(n,s,e,r)),a.find(".panel-body").append(o.contents().detach()).data("bs.tabcollapse.tabpane",o),a},t.fn.tabCollapse=function(n){return this.each(function(){var i=t(this),r=i.data("bs.tabcollapse"),o=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);r||i.data("bs.tabcollapse",new e(this,o))})},t.fn.tabCollapse.Constructor=e}(window.jQuery),function(t,e,n,i,r){var o=0,s=function(){var e=i.userAgent,n=/msie\s\d+/i;return 0<e.search(n)&&(e=n.exec(e).toString(),9>(e=e.split(" ")[1]))&&(t("html").addClass("lt-ie9"),!0)}(),a="ontouchstart"in n||0<i.msMaxTouchPoints;Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=[].slice;if("function"!=typeof e)throw new TypeError;var i=n.call(arguments,1),r=function(){if(this instanceof r){(o=function(){}).prototype=e.prototype;var o=new o,s=e.apply(o,i.concat(n.call(arguments)));return Object(s)===s?s:o}return e.apply(t,i.concat(n.call(arguments)))};return r});var l=function(i,r,o){this.VERSION="2.0.0",this.input=i,this.plugin_count=o,this.old_to=this.old_from=this.calc_count=this.current_plugin=0,this.raf_id=null,this.is_update=this.is_key=this.force_redraw=this.dragging=!1,this.is_start=!0,this.is_click=this.is_resize=this.is_active=!1,this.$cache={win:t(n),body:t(e.body),input:t(i),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,grid:null,grid_labels:[]},(i={type:(i=this.$cache.input).data("type"),min:i.data("min"),max:i.data("max"),from:i.data("from"),to:i.data("to"),step:i.data("step"),min_interval:i.data("minInterval"),max_interval:i.data("maxInterval"),values:i.data("values"),from_fixed:i.data("fromFixed"),from_min:i.data("fromMin"),from_max:i.data("fromMax"),from_shadow:i.data("fromShadow"),to_fixed:i.data("toFixed"),to_min:i.data("toMin"),to_max:i.data("toMax"),to_shadow:i.data("toShadow"),prettify_enabled:i.data("prettifyEnabled"),prettify_separator:i.data("prettifySeparator"),force_edges:i.data("forceEdges"),keyboard:i.data("keyboard"),keyboard_step:i.data("keyboardStep"),grid:i.data("grid"),grid_margin:i.data("gridMargin"),grid_num:i.data("gridNum"),grid_snap:i.data("gridSnap"),hide_min_max:i.data("hideMinMax"),hide_from_to:i.data("hideFromTo"),prefix:i.data("prefix"),postfix:i.data("postfix"),max_postfix:i.data("maxPostfix"),decorate_both:i.data("decorateBoth"),values_separator:i.data("valuesSeparator"),disable:i.data("disable")}).values=i.values&&i.values.split(","),r=t.extend(i,r),this.options=t.extend({type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!1,keyboard_step:5,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" — ",disable:!1,onStart:null,onChange:null,onFinish:null,onUpdate:null},r),this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_step:0,p_pointer:0,p_handle:0,p_single:0,p_single_real:0,p_from:0,p_from_real:0,p_to:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from:0,p_from_left:0,p_to:0,p_to_left:0,p_single:0,p_single_left:0},this.init()};l.prototype={init:function(t){this.coords.p_step=this.options.step/((this.options.max-this.options.min)/100),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&this.options.onUpdate(this.result)):(this.force_redraw=!0,this.calc(!0),this.options.onStart&&"function"==typeof this.options.onStart&&this.options.onStart(this.result)),this.raf_id=requestAnimationFrame(this.updateScene.bind(this))},append:function(){this.$cache.input.before('<span class="irs js-irs-'+this.plugin_count+'"></span>'),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span><span class="irs-bar"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar-edge"></span><span class="irs-shadow shadow-single"></span><span class="irs-slider single"></span>'),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>'),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to")),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?this.appendDisableMask():(this.$cache.cont.removeClass("irs-disabled"),this.bindEvents())},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.input.off("keydown.irs_"+this.plugin_count),a?(this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count)):(this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),s&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count))),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){a?(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),"single"===this.options.type?(this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")))):(this.options.keyboard&&this.$cache.input.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),s&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),"single"===this.options.type?(this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))))},pointerMove:function(t){this.dragging&&(this.coords.x_pointer=(a?t.originalEvent.touches[0]:t).pageX-this.coords.x_gap,this.calc())},pointerUp:function(e){if(this.current_plugin===this.plugin_count&&this.is_active){this.is_active=!1;var n=this.options.onFinish&&"function"==typeof this.options.onFinish;e=t.contains(this.$cache.cont[0],e.target)||this.dragging,n&&e&&this.options.onFinish(this.result),this.force_redraw=!0,this.dragging=!1,s&&t("*").prop("unselectable",!1)}},pointerDown:function(e,n){n.preventDefault();var i=a?n.originalEvent.touches[0]:n;if(2!==n.button){switch(this.current_plugin=this.plugin_count,this.target=e,this.dragging=this.is_active=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=i.pageX-this.coords.x_gap,this.calcPointer(),e){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single);break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last")}s&&t("*").prop("unselectable",!0),this.$cache.input.trigger("focus")}},pointerClick:function(t,e){e.preventDefault();var n=a?e.originalEvent.touches[0]:e;2!==e.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(n.pageX-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.input.trigger("focus"))},key:function(t,e){if(!(this.current_plugin!==this.plugin_count||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){switch(e.which){case 83:case 65:case 40:case 37:e.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:e.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var e=this.coords.p_pointer,e=t?e+this.options.keyboard_step:e-this.options.keyboard_step;this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*e),this.is_key=!0,this.calc()},setMinMax:function(){this.options.hide_min_max?(this.$cache.min[0].style.display="none",this.$cache.max[0].style.display="none"):(this.options.values.length?(this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))):(this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min)),this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max))),this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1))},calc:function(t){if((10===++this.calc_count||t)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1)),this.coords.w_rs){this.calcPointer(),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),t=100-this.coords.p_handle;var e=this.toFixed(this.coords.p_pointer-this.coords.p_gap);switch("click"===this.target&&(e=this.toFixed(this.coords.p_pointer-this.coords.p_handle/2),this.target=this.chooseHandle(e)),0>e?e=0:e>t&&(e=t),this.target){case"base":e=(this.options.max-this.options.min)/100,t=(this.result.from-this.options.min)/e,e=(this.result.to-this.options.min)/e,this.coords.p_single_real=this.toFixed(t),this.coords.p_from_real=this.toFixed(t),this.coords.p_to_real=this.toFixed(e),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single=this.toFixed(t-this.coords.p_handle/100*t),this.coords.p_from=this.toFixed(t-this.coords.p_handle/100*t),this.coords.p_to=this.toFixed(e-this.coords.p_handle/100*e),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.calcWithStep(e/t*100),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single=this.toFixed(this.coords.p_single_real/100*t);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.calcWithStep(e/t*100),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from=this.toFixed(this.coords.p_from_real/100*t);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.calcWithStep(e/t*100),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to=this.toFixed(this.coords.p_to_real/100*t)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single,this.result.from_percent=this.coords.p_single_real,this.result.from=this.calcReal(this.coords.p_single_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to-this.coords.p_from),this.result.from_percent=this.coords.p_from_real,this.result.from=this.calcReal(this.coords.p_from_real),this.result.to_percent=this.coords.p_to_real,this.result.to=this.calcReal(this.coords.p_to_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointer:function(){this.coords.w_rs?(0>this.coords.x_pointer?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},chooseHandle:function(t){return"single"===this.options.type?"single":t>=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single+this.coords.p_handle/2-this.labels.p_single/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from+this.coords.p_handle/2-this.labels.p_from/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to+this.coords.p_handle/2-this.labels.p_to/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to)/2-this.labels.p_single/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single))},updateScene:function(){this.drawHandles(),this.raf_id=requestAnimationFrame(this.updateScene.bind(this))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.s_single[0].style.left=this.coords.p_single+"%",this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.options.values.length?(this.$cache.input.prop("value",this.result.from_value),this.$cache.input.data("from",this.result.from_value)):(this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from))):(this.$cache.s_from[0].style.left=this.coords.p_from+"%",this.$cache.s_to[0].style.left=this.coords.p_to+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%"),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.options.values.length?(this.$cache.input.prop("value",this.result.from_value+";"+this.result.to_value),this.$cache.input.data("from",this.result.from_value),this.$cache.input.data("to",this.result.to_value)):(this.$cache.input.prop("value",this.result.from+";"+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))),this.$cache.input.trigger("change"),this.old_from=this.result.from,this.old_to=this.result.to,!this.options.onChange||"function"!=typeof this.options.onChange||this.is_resize||this.is_update||this.is_start||this.options.onChange(this.result),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.is_key||this.is_click)&&this.options.onFinish(this.result),this.is_resize=this.is_update=!1),this.force_redraw=this.is_click=this.is_key=this.is_start=!1)},drawLabels:function(){var t,e=this.options.values.length,n=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)e=e?this.decorate(n[this.result.from]):this.decorate(this._prettify(this.result.from),this.result.from),this.$cache.single.html(e),this.calcLabels(),this.$cache.min[0].style.visibility=this.labels.p_single_left<this.labels.p_min+1?"hidden":"visible",this.$cache.max[0].style.visibility=this.labels.p_single_left+this.labels.p_single>100-this.labels.p_max-1?"hidden":"visible";else{e?(this.options.decorate_both?(e=this.decorate(n[this.result.from]),e+=this.options.values_separator,e+=this.decorate(n[this.result.to])):e=this.decorate(n[this.result.from]+this.options.values_separator+n[this.result.to]),t=this.decorate(n[this.result.from]),n=this.decorate(n[this.result.to])):(this.options.decorate_both?(e=this.decorate(this._prettify(this.result.from)),e+=this.options.values_separator,e+=this.decorate(this._prettify(this.result.to))):e=this.decorate(this._prettify(this.result.from)+this.options.values_separator+this._prettify(this.result.to),this.result.from),t=this.decorate(this._prettify(this.result.from),this.result.from),n=this.decorate(this._prettify(this.result.to),this.result.to)),this.$cache.single.html(e),this.$cache.from.html(t),this.$cache.to.html(n),this.calcLabels(),n=Math.min(this.labels.p_single_left,this.labels.p_from_left),e=this.labels.p_single_left+this.labels.p_single,t=this.labels.p_to_left+this.labels.p_to;var i=Math.max(e,t);this.labels.p_from_left+this.labels.p_from>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",this.result.from===this.result.to?(this.$cache.from[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden",i=t):(this.$cache.from[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",i=Math.max(e,t))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),this.$cache.min[0].style.visibility=n<this.labels.p_min+1?"hidden":"visible",this.$cache.max[0].style.visibility=i>100-this.labels.p_max-1?"hidden":"visible"}},drawShadow:function(){var t,e,n=this.options,i=this.$cache;"single"===n.type?n.from_shadow&&(n.from_min||n.from_max)?(t=this.calcPercent(n.from_min||n.min),e=this.calcPercent(n.from_max||n.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,i.shad_single[0].style.display="block",i.shad_single[0].style.left=t+"%",i.shad_single[0].style.width=e+"%"):i.shad_single[0].style.display="none":(n.from_shadow&&(n.from_min||n.from_max)?(t=this.calcPercent(n.from_min||n.min),e=this.calcPercent(n.from_max||n.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,i.shad_from[0].style.display="block",i.shad_from[0].style.left=t+"%",i.shad_from[0].style.width=e+"%"):i.shad_from[0].style.display="none",n.to_shadow&&(n.to_min||n.to_max)?(t=this.calcPercent(n.to_min||n.min),n=this.calcPercent(n.to_max||n.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),n=this.toFixed(n-this.coords.p_handle/100*n),t+=this.coords.p_handle/2,i.shad_to[0].style.display="block",i.shad_to[0].style.left=t+"%",i.shad_to[0].style.width=n+"%"):i.shad_to[0].style.display="none")},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input")},calcPercent:function(t){return this.toFixed((t-this.options.min)/((this.options.max-this.options.min)/100))},calcReal:function(t){var e=this.options.min,n=this.options.max,i=0;return 0>e&&(i=Math.abs(e),e+=i,n+=i),t=(n-e)/100*t+e,(e=this.options.step.toString().split(".")[1])?t=+t.toFixed(e.length):(t/=this.options.step,t*=this.options.step,t=+t.toFixed(0)),i&&(t-=i),t<this.options.min?t=this.options.min:t>this.options.max&&(t=this.options.max),e?+t.toFixed(e.length):this.toFixed(t)},calcWithStep:function(t){var e=Math.round(t/this.coords.p_step)*this.coords.p_step;return 100<e&&(e=100),100===t&&(e=100),this.toFixed(e)},checkInterval:function(t,e,n){var i=this.options;return i.min_interval||i.max_interval?(t=this.calcReal(t),e=this.calcReal(e),"from"===n?(i.min_interval&&e-t<i.min_interval&&(t=e-i.min_interval),i.max_interval&&e-t>i.max_interval&&(t=e-i.max_interval)):(i.min_interval&&t-e<i.min_interval&&(t=e+i.min_interval),i.max_interval&&t-e>i.max_interval&&(t=e+i.max_interval)),this.calcPercent(t)):t},checkDiapason:function(t,e,n){return e||n?(t=this.calcReal(t),"number"==typeof e&&t<e&&(t=e),"number"==typeof n&&t>n&&(t=n),this.calcPercent(t)):t},toFixed:function(t){return+(t=t.toFixed(5))},_prettify:function(t){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(t):this.prettify(t):t},prettify:function(t){return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,e){return this.options.force_edges?(0>t?t=0:t>100-e&&(t=100-e),this.toFixed(t)):this.toFixed(t)},validate:function(){var t,e,n=this.options,i=this.result,r=n.values,o=r.length;if("string"==typeof n.min&&(n.min=+n.min),"string"==typeof n.max&&(n.max=+n.max),"string"==typeof n.from&&(n.from=+n.from),"string"==typeof n.to&&(n.to=+n.to),"string"==typeof n.step&&(n.step=+n.step),"string"==typeof n.from_min&&(n.from_min=+n.from_min),"string"==typeof n.from_max&&(n.from_max=+n.from_max),"string"==typeof n.to_min&&(n.to_min=+n.to_min),"string"==typeof n.to_max&&(n.to_max=+n.to_max),"string"==typeof n.keyboard_step&&(n.keyboard_step=+n.keyboard_step),"string"==typeof n.grid_num&&(n.grid_num=+n.grid_num),n.max<=n.min&&(n.max=n.min?2*n.min:n.min+1,n.step=1),o)for(n.p_values=[],n.min=0,n.max=o-1,n.step=1,n.grid_num=n.max,n.grid_snap=!0,e=0;e<o;e++)t=+r[e],isNaN(t)?t=r[e]:(r[e]=t,t=this._prettify(t)),n.p_values.push(t);("number"!=typeof n.from||isNaN(n.from))&&(n.from=n.min),("number"!=typeof n.to||isNaN(n.from))&&(n.to=n.max),(n.from<n.min||n.from>n.max)&&(n.from=n.min),(n.to>n.max||n.to<n.min)&&(n.to=n.max),n.from>n.to&&(n.from=n.to),("number"!=typeof n.step||isNaN(n.step)||!n.step||0>n.step)&&(n.step=1),("number"!=typeof n.keyboard_step||isNaN(n.keyboard_step)||!n.keyboard_step||0>n.keyboard_step)&&(n.keyboard_step=5),n.from_min&&n.from<n.from_min&&(n.from=n.from_min),n.from_max&&n.from>n.from_max&&(n.from=n.from_max),n.to_min&&n.to<n.to_min&&(n.to=n.to_min),n.to_max&&n.from>n.to_max&&(n.to=n.to_max),i&&(i.min!==n.min&&(i.min=n.min),i.max!==n.max&&(i.max=n.max),(i.from<i.min||i.from>i.max)&&(i.from=n.from),(i.to<i.min||i.to>i.max)&&(i.to=n.to)),("number"!=typeof n.min_interval||isNaN(n.min_interval)||!n.min_interval||0>n.min_interval)&&(n.min_interval=0),("number"!=typeof n.max_interval||isNaN(n.max_interval)||!n.max_interval||0>n.max_interval)&&(n.max_interval=0),n.min_interval&&n.min_interval>n.max-n.min&&(n.min_interval=n.max-n.min),n.max_interval&&n.max_interval>n.max-n.min&&(n.max_interval=n.max-n.min)},decorate:function(t,e){var n="",i=this.options;return i.prefix&&(n+=i.prefix),n+=t,i.max_postfix&&(i.values.length&&t===i.p_values[i.max]?(n+=i.max_postfix,i.postfix&&(n+=" ")):e===i.max&&(n+=i.max_postfix,i.postfix&&(n+=" "))),i.postfix&&(n+=i.postfix),n},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.calcPercent(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.calcPercent(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(t){this.result.min=this.options.min,this.result.max=this.options.max,t?("string"==typeof t.from&&(t.from=+t.from),"string"==typeof t.to&&(t.to=+t.to),"number"!=typeof t.from||isNaN(t.from)||this.updateFrom(),"number"!=typeof t.to||isNaN(t.to)||this.updateTo()):(this.updateFrom(),this.updateTo())},appendGrid:function(){if(this.options.grid){var t,e,n=this.options;t=n.max-n.min;var i,r,o=n.grid_num,s=0,a=0,l=4,c=0,u="";for(this.calcGridMargin(),n.grid_snap?(o=t/n.step,s=this.toFixed(n.step/(t/100))):s=this.toFixed(100/o),4<o&&(l=3),7<o&&(l=2),14<o&&(l=1),28<o&&(l=0),t=0;t<o+1;t++){for(i=l,100<(a=this.toFixed(s*t))&&(a=100,0>(i-=2)&&(i=0)),this.coords.big[t]=a,r=(a-s*(t-1))/(i+1),e=1;e<=i&&0!==a;e++)c=this.toFixed(a-r*e),u+='<span class="irs-grid-pol small" style="left: '+c+'%"></span>';u+='<span class="irs-grid-pol" style="left: '+a+'%"></span>',c=this.calcReal(a),u+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+a+'%">'+(c=n.values.length?n.p_values[c]:this._prettify(c))+"</span>"}this.coords.big_num=Math.ceil(o+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(u),this.cacheGridLabels()}},cacheGridLabels:function(){var t,e,n=this.coords.big_num;for(e=0;e<n;e++)t=this.$cache.grid.find(".js-grid-text-"+e),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){var t,e;e=[];var n=[],i=this.coords.big_num;for(t=0;t<i;t++)this.coords.big_w[t]=this.$cache.grid_labels[t].outerWidth(!1),this.coords.big_p[t]=this.toFixed(this.coords.big_w[t]/this.coords.w_rs*100),this.coords.big_x[t]=this.toFixed(this.coords.big_p[t]/2),e[t]=this.toFixed(this.coords.big[t]-this.coords.big_x[t]),n[t]=this.toFixed(e[t]+this.coords.big_p[t]);for(this.options.force_edges&&(e[0]<this.coords.grid_gap&&(e[0]=this.coords.grid_gap,n[0]=this.toFixed(e[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),n[i-1]>100-this.coords.grid_gap&&(n[i-1]=100-this.coords.grid_gap,e[i-1]=this.toFixed(n[i-1]-this.coords.big_p[i-1]),this.coords.big_x[i-1]=this.toFixed(this.coords.big_p[i-1]-this.coords.grid_gap))),this.calcGridCollision(2,e,n),this.calcGridCollision(4,e,n),t=0;t<i;t++)e=this.$cache.grid_labels[t][0],e.style.marginLeft=-this.coords.big_x[t]+"%"},calcGridCollision:function(t,e,n){var i,r,o=this.coords.big_num;for(i=0;i<o&&!((r=i+t/2)>=o);i+=t)this.$cache.grid_labels[r][0].style.visibility=n[i]<=e[r]?"visible":"hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(e){this.is_update=!0,this.options=t.extend(this.options,e),this.validate(),this.updateResult(e),this.toggleInput(),this.remove(),this.init(!0)},reset:function(){this.updateResult(),this.update()},destroy:function(){this.toggleInput(),t.data(this.input,"ionRangeSlider",null),this.remove(),this.options=this.input=null}},t.fn.ionRangeSlider=function(e){return this.each(function(){t.data(this,"ionRangeSlider")||t.data(this,"ionRangeSlider",new l(this,e,o++))})},function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!n.requestAnimationFrame;++i)n.requestAnimationFrame=n[e[i]+"RequestAnimationFrame"],n.cancelAnimationFrame=n[e[i]+"CancelAnimationFrame"]||n[e[i]+"CancelRequestAnimationFrame"];n.requestAnimationFrame||(n.requestAnimationFrame=function(e,i){var r=(new Date).getTime(),o=Math.max(0,16-(r-t)),s=n.setTimeout(function(){e(r+o)},o);return t=r+o,s}),n.cancelAnimationFrame||(n.cancelAnimationFrame=function(t){clearTimeout(t)})}()}(jQuery,document,window,navigator),function(t){function e(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function n(t,e){return 100*e/(t[1]-t[0])}function i(t,e){for(var n=1;t>=e[n];)n+=1;return n}function r(t,i,r,o){this.xPct=[],this.xVal=[],this.xSteps=[o||!1],this.xNumSteps=[!1],this.snap=i,this.direction=r;for(var s in t)if(t.hasOwnProperty(s)){if(i=s,r=t[s],o=void 0,"number"==typeof r&&(r=[r]),"[object Array]"!==Object.prototype.toString.call(r))throw Error("noUiSlider: 'range' contains invalid value.");if(o="min"===i?0:"max"===i?100:parseFloat(i),!e(o)||!e(r[0]))throw Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(o),this.xVal.push(r[0]),o?this.xSteps.push(!isNaN(r[1])&&r[1]):isNaN(r[1])||(this.xSteps[0]=r[1])}this.xNumSteps=this.xSteps.slice(0);for(s in this.xNumSteps)this.xNumSteps.hasOwnProperty(s)&&(t=Number(s),(i=this.xNumSteps[s])&&(this.xSteps[t]=n([this.xVal[t],this.xVal[t+1]],i)/(100/(this.xPct[t+1]-this.xPct[t]))))}r.prototype.getMargin=function(t){return 2===this.xPct.length&&n(this.xVal,t)},r.prototype.toStepping=function(t){var e=this.xVal,r=this.xPct;if(t>=e.slice(-1)[0])t=100;else{var o,s,a=i(t,e);o=e[a-1],s=e[a],e=r[a-1],r=r[a],t=e+(t=n(o=[o,s],0>o[0]?t+Math.abs(o[0]):t-o[0]))/(100/(r-e))}return this.direction&&(t=100-t),t},r.prototype.fromStepping=function(t){this.direction&&(t=100-t);var e,n=this.xVal;if(e=this.xPct,100<=t)e=n.slice(-1)[0];else{var r,o,s=i(t,e);r=n[s-1],o=n[s],n=e[s-1],r=[r,o],e=100/(e[s]-n)*(t-n)*(r[1]-r[0])/100+r[0]}return t=Math.pow(10,7),Number((Math.round(e*t)/t).toFixed(7))},r.prototype.getStep=function(t){this.direction&&(t=100-t);var e=this.xPct,n=this.xSteps,r=this.snap;if(100!==t){var o=i(t,e);r?(n=e[o-1],e=e[o],t=t-n>(e-n)/2?e:n):(n[o-1]?(r=e[o-1],n=n[o-1],e=Math.round((t-e[o-1])/n)*n,e=r+e):e=t,t=e)}return this.direction&&(t=100-t),t},r.prototype.getApplicableStep=function(t){var e=i(t,this.xPct);return t=100===t?2:1,[this.xNumSteps[e-2],this.xVal[e-t],this.xNumSteps[e-t]]},r.prototype.convert=function(t){return this.getStep(this.toStepping(t))},t.noUiSlider={Spectrum:r}}(window.jQuery||window.Zepto),function(t){function e(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function n(t,n){if(!e(n))throw Error("noUiSlider: 'step' is not numeric.");t.singleStep=n}function i(e,n){if("object"!=typeof n||t.isArray(n))throw Error("noUiSlider: 'range' is not an object.");if(void 0===n.min||void 0===n.max)throw Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new t.noUiSlider.Spectrum(n,e.snap,e.dir,e.singleStep)}function r(e,n){var i=n;if(n=t.isArray(i)?i:[i],!t.isArray(n)||!n.length||2<n.length)throw Error("noUiSlider: 'start' option is incorrect.");e.handles=n.length,e.start=n}function o(t,e){if(t.snap=e,"boolean"!=typeof e)throw Error("noUiSlider: 'snap' option must be a boolean.")}function s(t,e){if(t.animate=e,"boolean"!=typeof e)throw Error("noUiSlider: 'animate' option must be a boolean.")}function a(t,e){if("lower"===e&&1===t.handles)t.connect=1;else if("upper"===e&&1===t.handles)t.connect=2;else if(!0===e&&2===t.handles)t.connect=3;else{if(!1!==e)throw Error("noUiSlider: 'connect' option doesn't match handle count.");t.connect=0}}function l(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw Error("noUiSlider: 'orientation' option is invalid.")}}function c(t,n){if(!e(n))throw Error("noUiSlider: 'margin' option must be numeric.");if(t.margin=t.spectrum.getMargin(n),!t.margin)throw Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function u(t,n){if(!e(n))throw Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(n),!t.limit)throw Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function h(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.connect=[0,2,1,3][t.connect];break;default:throw Error("noUiSlider: 'direction' option was not recognized.")}}function d(t,e){if("string"!=typeof e)throw Error("noUiSlider: 'behaviour' must be a string containing options.");var n=0<=e.indexOf("tap"),i=0<=e.indexOf("drag"),r=0<=e.indexOf("fixed"),o=0<=e.indexOf("snap");t.events={tap:n||o,drag:i,fixed:r,snap:o}}function p(t,e){if(t.format=e,"function"==typeof e.to&&"function"==typeof e.from)return!0;throw Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}var f={to:function(t){return t.toFixed(2)},from:Number};t.noUiSlider.testOptions=function(e){var m,g={margin:0,limit:0,animate:!0,format:f};return m={step:{r:!1,t:n},start:{r:!0,t:r},connect:{r:!0,t:a},direction:{r:!0,t:h},snap:{r:!1,t:o},animate:{r:!1,t:s},range:{r:!0,t:i},orientation:{r:!1,t:l},margin:{r:!1,t:c},limit:{r:!1,t:u},behaviour:{r:!0,t:d},format:{r:!1,t:p}},e=t.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},e),t.each(m,function(t,n){if(void 0===e[t]){if(n.r)throw Error("noUiSlider: '"+t+"' is required.");return!0}n.t(g,e[t])}),g.style=g.ort?"top":"left",g}}(window.jQuery||window.Zepto),function(t){function e(t){return Math.max(Math.min(t,100),0)}function n(t,e,n){t.addClass(e),setTimeout(function(){t.removeClass(e)},n)}function i(e,n){var i=t("<div><div/></div>").addClass(f[2]),r=["-lower","-upper"];return e&&r.reverse(),i.children().addClass(f[3]+" "+f[3]+r[n]),i}function r(t,e,n){switch(t){case 1:e.addClass(f[7]),n[0].addClass(f[6]);break;case 3:n[1].addClass(f[6]);case 2:n[0].addClass(f[7]);case 0:e.addClass(f[6])}}function o(t,e,n){var r,o=[];for(r=0;r<t;r+=1)o.push(i(e,r).appendTo(n));return o}function s(e,n,i){return i.addClass([f[0],f[8+e],f[4+n]].join(" ")),t("<div/>").appendTo(i).addClass(f[1])}function a(i,a,l){function c(){return S[["width","height"][a.ort]]()}function u(t){var e,n=[C.val()];for(e=0;e<t.length;e+=1)C.trigger(t[e],n)}function d(t){return 1===t.length?t[0]:a.dir?t.reverse():t}function m(t){return function(e,n){C.val([t?null:n,t?n:null],!0)}}function g(e){var n=t.inArray(e,E);C[0].linkAPI&&C[0].linkAPI[e]&&C[0].linkAPI[e].change(M[n],k[n].children(),C)}function v(t,n,i){var r=t[0]!==k[0][0]?1:0,o=T[0]+a.margin,s=T[1]-a.margin,l=T[0]+a.limit,c=T[1]-a.limit;return 1<k.length&&(n=r?Math.max(n,o):Math.min(n,s)),!1!==i&&a.limit&&1<k.length&&(n=r?Math.min(n,l):Math.max(n,c)),n=D.getStep(n),(n=e(parseFloat(n.toFixed(7))))!==T[r]&&(t.css(a.style,n+"%"),t.is(":first-child")&&t.toggleClass(f[17],50<n),T[r]=n,M[r]=D.fromStepping(n),g(E[r]),!0)}function y(t,e,n,i){return t=t.replace(/\s/g,".nui ")+".nui",e.on(t,function(t){if(C.attr("disabled")||C.hasClass(f[14]))return!1;t.preventDefault();var e,r,o=0===t.type.indexOf("touch"),s=0===t.type.indexOf("mouse"),l=0===t.type.indexOf("pointer"),c=t;0===t.type.indexOf("MSPointer")&&(l=!0),t.originalEvent&&(t=t.originalEvent),o&&(e=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY),(s||l)&&(l||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),e=t.clientX+window.pageXOffset,r=t.clientY+window.pageYOffset),c.points=[e,r],c.cursor=s,(t=c).calcPoint=t.points[a.ort],n(t,i)})}function _(t,n){var i,r=n.handles||k,o=!1,o=100*(t.calcPoint-n.start)/c(),s=r[0][0]!==k[0][0]?1:0,a=n.positions;i=o+a[0],o+=a[1],1<r.length?(0>i&&(o+=Math.abs(i)),100<o&&(i-=o-100),i=[e(i),e(o)]):i=[i,o],o=v(r[0],i[s],1===r.length),1<r.length&&(o=v(r[1],i[s?0:1],!1)||o),o&&u(["slide"])}function b(e){t("."+f[15]).removeClass(f[15]),e.cursor&&t("body").css("cursor","").off(".nui"),h.off(".nui"),C.removeClass(f[12]),u(["set","change"])}function w(e,n){1===n.handles.length&&n.handles[0].children().addClass(f[15]),e.stopPropagation(),y(p.move,h,_,{start:e.calcPoint,handles:n.handles,positions:[T[0],T[k.length-1]]}),y(p.end,h,b,null),e.cursor&&(t("body").css("cursor",t(e.target).css("cursor")),1<k.length&&C.addClass(f[12]),t("body").on("selectstart.nui",!1))}function x(e){var i=e.calcPoint,r=0;e.stopPropagation(),t.each(k,function(){r+=this.offset()[a.style]}),r=i<r/2||1===k.length?0:1,i=100*(i-=S.offset()[a.style])/c(),a.events.snap||n(C,f[14],300),v(k[r],i),u(["slide","set","change"]),a.events.snap&&w(e,{handles:[k[r]]})}var S,k,C=t(i),T=[-1,-1],D=a.spectrum,M=[],E=["lower","upper"].slice(0,a.handles);if(a.dir&&E.reverse(),i.LinkUpdate=g,i.LinkConfirm=function(e,n){var i=t.inArray(e,E);return n&&n.appendTo(k[i].children()),a.dir&&(i=1===i?0:1),m(i)},i.LinkDefaultFormatter=a.format,i.LinkDefaultFlag="lower",i.reappend=function(){var t,e;for(t=0;t<E.length;t+=1)this.linkAPI&&this.linkAPI[e=E[t]]&&this.linkAPI[e].reconfirm(e)},C.hasClass(f[0]))throw Error("Slider was already initialized.");S=s(a.dir,a.ort,C),k=o(a.handles,a.dir,S),r(a.connect,C,k),function(t){var e;if(!t.fixed)for(e=0;e<k.length;e+=1)y(p.start,k[e].children(),w,{handles:[k[e]]});t.tap&&y(p.start,S,x,{handles:k}),t.drag&&(e=S.find("."+f[7]).addClass(f[10]),t.fixed&&(e=e.add(S.children().not(e).children())),y(p.start,e,w,{handles:k}))}(a.events),i.vSet=function(e){if(C[0].LinkIsEmitting)return this;var i;e=t.isArray(e)?e:[e],a.dir&&1<a.handles&&e.reverse(),a.animate&&-1!==T[0]&&n(C,f[14],300),i=1<k.length?3:1,1===e.length&&(i=1);var r,o,s;for(a.limit&&(i+=1),r=0;r<i;r+=1)o=r%2,null!==(s=e[o])&&!1!==s&&("number"==typeof s&&(s=String(s)),(!1===(s=a.format.from(s))||isNaN(s)||!1===v(k[o],D.toStepping(s),r===3-a.dir))&&g(E[o]));return u(["set"]),this},i.vGet=function(){var t,e=[];for(t=0;t<a.handles;t+=1)e[t]=a.format.to(M[t]);return d(e)},i.destroy=function(){return t(this).off(".nui").removeClass(f.join(" ")).empty(),delete this.LinkUpdate,delete this.LinkConfirm,delete this.LinkDefaultFormatter,delete this.LinkDefaultFlag,delete this.reappend,delete this.vGet,delete this.vSet,delete this.getCurrentStep,delete this.getInfo,delete this.destroy,l},i.getCurrentStep=function(){return d(t.map(T,function(t,e){var n=D.getApplicableStep(t);return[[M[e]-n[2]>=n[1]?n[2]:n[0],n[2]]]}))},i.getInfo=function(){return[D,a.style,a.ort]},C.val(a.start)}function l(e){if(!this.length)throw Error("noUiSlider: Can't initialize slider on empty selection.");var n=t.noUiSlider.testOptions(e,this);return this.each(function(){a(this,n,e)})}function c(e){return this.each(function(){if(this.destroy){var n=t(this).val(),i=this.destroy(),r=t.extend({},i,e);t(this).noUiSlider(r),this.reappend(),i.start===r.start&&t(this).val(n)}else t(this).noUiSlider(e)})}function u(){return this[0][arguments.length?"vSet":"vGet"].apply(this[0],arguments)}var h=t(document),d=t.fn.val,p=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},f="noUi-target noUi-base noUi-origin noUi-handle noUi-horizontal noUi-vertical noUi-background noUi-connect noUi-ltr noUi-rtl noUi-dragable  noUi-state-drag  noUi-state-tap noUi-active  noUi-stacking".split(" ");t.fn.val=function(){var e=arguments,n=t(this[0]);return arguments.length?this.each(function(){(t(this).hasClass(f[0])?u:d).apply(t(this),e)}):(n.hasClass(f[0])?u:d).call(n)},t.fn.noUiSlider=function(t,e){return(e?c:l).call(this,t)}}(window.jQuery||window.Zepto),function(t){"use strict";function e(e){return e instanceof t||t.zepto&&t.zepto.isZ(e)}function n(e,n,i){var r=this,s=!1;if(this.changeHandler=function(e){var n=r.formatInstance.from(t(this).val());if(!1===n||isNaN(n))return t(this).val(r.lastSetValue),!1;r.changeHandlerMethod.call("",e,n)},this.el=!1,this.formatInstance=i,t.each(o,function(t,i){return!(s=i.call(r,e,n))}),!s)throw new RangeError("(Link) Invalid Link.")}function i(t){this.items=[],this.elements=[],this.origin=t}function r(e,r,o,s){0===e&&(e=this.LinkDefaultFlag),this.linkAPI||(this.linkAPI={}),this.linkAPI[e]||(this.linkAPI[e]=new i(this));var a=new n(r,o,s||this.LinkDefaultFormatter);a.target||(a.target=t(this)),a.changeHandlerMethod=this.LinkConfirm(e,a.el),this.linkAPI[e].push(a,a.el),this.LinkUpdate(e)}var o=[function(e,n){if("string"==typeof e&&0===e.indexOf("-inline-"))return this.method=n||"html",this.target=this.el=t(e.replace("-inline-","")||"<div/>"),!0},function(e){if("string"==typeof e&&0!==e.indexOf("-")){this.method="val";var n=document.createElement("input");return n.name=e,n.type="hidden",this.target=this.el=t(n),!0}},function(t){if("function"==typeof t)return this.target=!1,this.method=t,!0},function(t,n){if(e(t)&&!n)return t.is("input, select, textarea")?(this.method="val",this.target=t.on("change.liblink",this.changeHandler)):(this.target=t,this.method="html"),!0},function(t,n){if(e(t)&&("function"==typeof n||"string"==typeof n&&t[n]))return this.method=n,this.target=t,!0}];n.prototype.set=function(t){var e=Array.prototype.slice.call(arguments).slice(1);this.lastSetValue=this.formatInstance.to(t),e.unshift(this.lastSetValue),("function"==typeof this.method?this.method:this.target[this.method]).apply(this.target,e)},i.prototype.push=function(t,e){this.items.push(t),e&&this.elements.push(e)},i.prototype.reconfirm=function(t){var e;for(e=0;e<this.elements.length;e+=1)this.origin.LinkConfirm(t,this.elements[e])},i.prototype.remove=function(t){var e;for(e=0;e<this.items.length;e+=1)this.items[e].target.off(".liblink");for(e=0;e<this.elements.length;e+=1)this.elements[e].remove()},i.prototype.change=function(t){if(this.origin.LinkIsEmitting)return!1;this.origin.LinkIsEmitting=!0;var e,n=Array.prototype.slice.call(arguments,1);for(n.unshift(t),e=0;e<this.items.length;e+=1)this.items[e].set.apply(this.items[e],n);this.origin.LinkIsEmitting=!1},t.fn.Link=function(e){var n=this;if(!1===e)return n.each(function(){this.linkAPI&&(t.map(this.linkAPI,function(t){t.remove()}),delete this.linkAPI)});if(void 0===e)e=0;else if("string"!=typeof e)throw new Error("Flag must be string.");return{to:function(t,i,o){return n.each(function(){r.call(this,e,t,i,o)})}}}}(window.jQuery||window.Zepto);var _canLog=!0,getDynaTreePersistData=null,DTNodeStatus_Error=-1,DTNodeStatus_Loading=1,DTNodeStatus_Ok=0;!function($){function getDtNodeFromElement(t){return alert("getDtNodeFromElement is deprecated"),$.ui.dynatree.getNode(t)}function noop(){}function offsetString(t){return 0===t?"":t>0?"+"+t:""+t}function _checkBrowser(){var t,e;return t=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||0>t.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}(navigator.userAgent),e={},t.browser&&(e[t.browser]=!0,e.version=t.version),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0),e}function versionCompare(t,e){var n,i,r,o=(""+t).split("."),s=(""+e).split("."),a=Math.min(o.length,s.length);for(r=0;a>r;r++)if(n=parseInt(o[r],10),i=parseInt(s[r],10),isNaN(n)&&(n=o[r]),isNaN(i)&&(i=s[r]),n!=i)return n>i?1:i>n?-1:NaN;return o.length===s.length?0:o.length<s.length?-1:1}function _initDragAndDrop(t){var e=t.options.dnd||null;e&&(e.onDragStart||e.onDrop)&&_registerDnd(),e&&e.onDragStart&&t.$tree.draggable({addClasses:!1,appendTo:"body",containment:!1,delay:0,distance:4,revert:!0===e.revert&&function(t){if(logMsg("draggable.revert(), dropped=",t),"boolean"==typeof t)return!t;var e=$.ui.ddmanager&&$.ui.ddmanager.current&&$.ui.ddmanager.current.helper;return e&&e.hasClass("dynatree-drop-reject")},scroll:!0,scrollSpeed:7,scrollSensitivity:10,connectToDynatree:!0,helper:function(t){var e=$.ui.dynatree.getNode(t.target);return e?e.tree._onDragEvent("helper",e,null,t,null,null):"<div></div>"},start:function(t,e){return!!e.helper.data("dtSourceNode")}}),e&&e.onDrop&&t.$tree.droppable({addClasses:!1,tolerance:"pointer",greedy:!1})}var Class={create:function(){return function(){this.initialize.apply(this,arguments)}}},BROWSER=_checkBrowser(),jquerySupports={positionMyOfs:versionCompare($.ui.version,"1.9")>=0},DynaTreeNode=Class.create();DynaTreeNode.prototype={initialize:function(t,e,n){this.parent=t,this.tree=e,"string"==typeof n&&(n={title:n}),n.key=null==n.key?"_"+e._nodeCount++:""+n.key,this.data=$.extend({},$.ui.dynatree.nodedatadefaults,n),this.li=null,this.span=null,this.ul=null,this.childList=null,this._isLoading=!1,this.hasSubSel=!1,this.bExpanded=!1,this.bSelected=!1},toString:function(){return"DynaTreeNode<"+this.data.key+">: '"+this.data.title+"'"},toDict:function(t,e){var n,i=$.extend({},this.data);if(i.activate=this.tree.activeNode===this,i.focus=this.tree.focusNode===this,i.expand=this.bExpanded,i.select=this.bSelected,e&&e(i),t&&this.childList){i.children=[];for(var r=0,o=this.childList.length;o>r;r++)(n=this.childList[r]).isStatusNode()||i.children.push(n.toDict(!0,e))}else delete i.children;return i},fromDict:function(t){var e=t.children;return void 0===e?(this.data=$.extend(this.data,t),void this.render()):(t=$.extend({},t),t.children=void 0,this.data=$.extend(this.data,t),this.removeChildren(),void this.addChild(e))},_getInnerHtml:function(){var t,e=this.tree,n=e.options,i=e.cache,r=this.getLevel(),o=this.data,s="";n.minExpandLevel>r?r>1&&(s+=i.tagConnector):s+=!1!==this.hasChildren()?i.tagExpander:i.tagConnector,n.checkbox&&!0!==o.hideCheckbox&&!o.isStatusNode&&(s+=i.tagCheckbox),o.icon?(t="/"===o.icon.charAt(0)?o.icon:n.imagePath+o.icon,s+="<img src='"+t+"' alt='' />"):!1===o.icon||(s+=o.iconClass?"<span class=' "+o.iconClass+"'></span>":i.tagNodeIcon);var a="";if(n.onCustomRender&&(a=n.onCustomRender.call(e,this)||""),!a){var l=o.tooltip?' title="'+o.tooltip.replace(/\"/g,"&quot;")+'"':"",c=o.href||"#";a=n.noLink||o.noLink?'<span style="display:inline-block;" class="'+n.classNames.title+'"'+l+">"+o.title+"</span>":'<a href="'+c+'" class="'+n.classNames.title+'"'+l+">"+o.title+"</a>"}return s+=a},_fixOrder:function(){var t=this.childList;if(t&&this.ul)for(var e=this.ul.firstChild,n=0,i=t.length-1;i>n;n++){var r=t[n],o=e.dtnode;r!==o?(this.tree.logDebug("_fixOrder: mismatch at index "+n+": "+r+" != "+o),this.ul.insertBefore(r.li,o.li)):e=e.nextSibling}},render:function(t,e){var n=this.tree,i=this.parent,r=this.data,o=n.options,s=o.classNames,a=this.isLastSibling(),l=!1;if(i||this.ul){if(i){this.li||(l=!0,this.li=document.createElement("li"),this.li.dtnode=this,r.key&&o.generateIds&&(this.li.id=o.idPrefix+r.key),this.span=document.createElement("span"),this.span.className=s.title,this.li.appendChild(this.span),i.ul||(i.ul=document.createElement("ul"),i.ul.style.display="none",i.li.appendChild(i.ul)),i.ul.appendChild(this.li)),this.span.innerHTML=this._getInnerHtml();var c=[];c.push(s.node),r.isFolder&&c.push(s.folder),this.bExpanded&&c.push(s.expanded),!1!==this.hasChildren()&&c.push(s.hasChildren),r.isLazy&&null===this.childList&&c.push(s.lazy),a&&c.push(s.lastsib),this.bSelected&&c.push(s.selected),this.hasSubSel&&c.push(s.partsel),n.activeNode===this&&c.push(s.active),r.addClass&&c.push(r.addClass),c.push(s.combinedExpanderPrefix+(this.bExpanded?"e":"c")+(r.isLazy&&null===this.childList?"d":"")+(a?"l":"")),c.push(s.combinedIconPrefix+(this.bExpanded?"e":"c")+(r.isFolder?"f":"")),this.span.className=c.join(" "),this.li.className=a?s.lastsib:"",l&&o.onCreate&&o.onCreate.call(n,this,this.span),o.onRender&&o.onRender.call(n,this,this.span)}}else this.li=this.span=null,this.ul=document.createElement("ul"),this.ul.className=o.minExpandLevel>1?s.container+" "+s.noConnector:s.container;if((this.bExpanded||!0===e)&&this.childList){for(var u=0,h=this.childList.length;h>u;u++)this.childList[u].render(!1,e);this._fixOrder()}if(this.ul){var d="none"===this.ul.style.display,p=!!this.bExpanded;if(t&&o.fx&&d===p){var f=o.fx.duration||200;$(this.ul).animate(o.fx,f)}else this.ul.style.display=this.bExpanded||!i?"":"none"}},getKeyPath:function(t){var e=[],n=this.tree.options.keyPathSeparator;return this.visitParents(function(t){t.parent&&e.unshift(t.data.key)},!t),n+e.join(n)},getParent:function(){return this.parent},getChildren:function(){return void 0===this.hasChildren()?void 0:this.childList},hasChildren:function(){return this.data.isLazy?null===this.childList||void 0===this.childList?void 0:0!==this.childList.length&&(1!==this.childList.length||!this.childList[0].isStatusNode()||void 0):!!this.childList},isFirstSibling:function(){var t=this.parent;return!t||t.childList[0]===this},isLastSibling:function(){var t=this.parent;return!t||t.childList[t.childList.length-1]===this},isLoading:function(){return!!this._isLoading},getPrevSibling:function(){if(!this.parent)return null;for(var t=this.parent.childList,e=1,n=t.length;n>e;e++)if(t[e]===this)return t[e-1];return null},getNextSibling:function(){if(!this.parent)return null;for(var t=this.parent.childList,e=0,n=t.length-1;n>e;e++)if(t[e]===this)return t[e+1];return null},isStatusNode:function(){return!0===this.data.isStatusNode},isChildOf:function(t){return this.parent&&this.parent===t},isDescendantOf:function(t){if(!t)return!1;for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},countChildren:function(){var t=this.childList;if(!t)return 0;for(var e=t.length,n=0,i=e;i>n;n++)e+=t[n].countChildren();return e},sortChildren:function(t,e){var n=this.childList;if(n){if(t=t||function(t,e){var n=t.data.title.toLowerCase(),i=e.data.title.toLowerCase();return n===i?0:n>i?1:-1},n.sort(t),e)for(var i=0,r=n.length;r>i;i++)n[i].childList&&n[i].sortChildren(t,"$norender$");"$norender$"!==e&&this.render()}},_setStatusNode:function(t){var e=this.childList?this.childList[0]:null;if(t)e?(t.isStatusNode=!0,t.key="_statusNode",e.data=t,e.render()):(t.isStatusNode=!0,t.key="_statusNode",e=this.addChild(t));else if(e&&e.isStatusNode()){try{this.ul&&(this.ul.removeChild(e.li),e.li=null)}catch(t){}1===this.childList.length?this.childList=[]:this.childList.shift()}},setLazyNodeStatus:function(t,e){var n=e&&e.tooltip?e.tooltip:null,i=e&&e.info?" ("+e.info+")":"";switch(t){case DTNodeStatus_Ok:this._setStatusNode(null),$(this.span).removeClass(this.tree.options.classNames.nodeLoading),this._isLoading=!1,this.tree.options.autoFocus&&(this===this.tree.tnRoot&&this.childList&&this.childList.length>0?this.childList[0].focus():this.focus());break;case DTNodeStatus_Loading:this._isLoading=!0,$(this.span).addClass(this.tree.options.classNames.nodeLoading),this.parent||this._setStatusNode({title:this.tree.options.strings.loading+i,tooltip:n,addClass:this.tree.options.classNames.nodeWait});break;case DTNodeStatus_Error:this._isLoading=!1,this._setStatusNode({title:this.tree.options.strings.loadError+i,tooltip:n,addClass:this.tree.options.classNames.nodeError});break;default:throw"Bad LazyNodeStatus: '"+t+"'."}},_parentList:function(t,e){for(var n=[],i=e?this:this.parent;i;)(t||i.parent)&&n.unshift(i),i=i.parent;return n},getLevel:function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},_getTypeForOuterNodeEvent:function(t){var e=this.tree.options.classNames,n=t.target;if(0>n.className.indexOf(e.node))return null;for(var i=t.pageX-n.offsetLeft,r=t.pageY-n.offsetTop,o=0,s=n.childNodes.length;s>o;o++){var a=n.childNodes[o],l=a.offsetLeft-n.offsetLeft,c=a.offsetTop-n.offsetTop,u=a.clientWidth,h=a.clientHeight;if(i>=l&&l+u>=i&&r>=c&&c+h>=r){if(a.className==e.title)return"title";if(a.className==e.expander)return"expander";if(a.className==e.checkbox||a.className==e.radio)return"checkbox";if(a.className==e.nodeIcon)return"icon"}}return"prefix"},getEventTargetType:function(t){var e=t&&t.target?t.target.className:"",n=this.tree.options.classNames;return e.indexOf(n.title)>=0?"title":e.indexOf(n.expander)>=0?"expander":e.indexOf(n.checkbox)>=0||e.indexOf(n.radio)>=0?"checkbox":e.indexOf(n.nodeIcon)>=0?"icon":e.indexOf(n.empty)>=0||e.indexOf(n.vline)>=0||e.indexOf(n.connector)>=0?"prefix":e.indexOf(n.node)>=0?this._getTypeForOuterNodeEvent(t):null},isVisible:function(){for(var t=this._parentList(!0,!1),e=0,n=t.length;n>e;e++)if(!t[e].bExpanded)return!1;return!0},makeVisible:function(){for(var t=this._parentList(!0,!1),e=0,n=t.length;n>e;e++)t[e]._expand(!0)},focus:function(){this.makeVisible();try{$(this.span).find(">a").focus()}catch(t){}},isFocused:function(){return this.tree.tnFocused===this},_activate:function(t,e){this.tree.logDebug("dtnode._activate(%o, fireEvents=%o) - %o",t,e,this);var n=this.tree.options;if(!this.data.isStatusNode)if(t){if(e&&n.onQueryActivate&&!1===n.onQueryActivate.call(this.tree,t,this))return;if(this.tree.activeNode){if(this.tree.activeNode===this)return;this.tree.activeNode.deactivate()}n.activeVisible&&this.makeVisible(),this.tree.activeNode=this,n.persist&&$.cookie(n.cookieId+"-active",this.data.key,n.cookie),this.tree.persistence.activeKey=this.data.key,$(this.span).addClass(n.classNames.active),e&&n.onActivate&&n.onActivate.call(this.tree,this)}else if(this.tree.activeNode===this){if(n.onQueryActivate&&!1===n.onQueryActivate.call(this.tree,!1,this))return;$(this.span).removeClass(n.classNames.active),n.persist&&$.cookie(n.cookieId+"-active","",n.cookie),this.tree.persistence.activeKey=null,this.tree.activeNode=null,e&&n.onDeactivate&&n.onDeactivate.call(this.tree,this)}},activate:function(){this._activate(!0,!0)},activateSilently:function(){this._activate(!0,!1)},deactivate:function(){this._activate(!1,!0)},isActive:function(){return this.tree.activeNode===this},_userActivate:function(){var t=!0,e=!1;if(this.data.isFolder)switch(this.tree.options.clickFolderMode){case 2:t=!1,e=!0;break;case 3:t=e=!0}null===this.parent&&(e=!1),e&&(this.toggleExpand(),this.focus()),t&&this.activate()},_setSubSel:function(t){t?(this.hasSubSel=!0,$(this.span).addClass(this.tree.options.classNames.partsel)):(this.hasSubSel=!1,$(this.span).removeClass(this.tree.options.classNames.partsel))},_updatePartSelectionState:function(){var t;if(!this.hasChildren())return t=this.bSelected&&!this.data.unselectable&&!this.data.isStatusNode,this._setSubSel(!1),t;var e,n,i=this.childList,r=!0,o=!0;for(e=0,n=i.length;n>e;e++){var s=i[e]._updatePartSelectionState();!1!==s&&(o=!1),!0!==s&&(r=!1)}return t=!!r||!o&&void 0,this._setSubSel(void 0===t),this.bSelected=!0===t,t},_fixSelectionState:function(){var t,e,n;if(this.bSelected)for(this.visit(function(t){t.parent._setSubSel(!0),t.data.unselectable||t._select(!0,!1,!1)}),t=this.parent;t;){t._setSubSel(!0);var i=!0;for(e=0,n=t.childList.length;n>e;e++){var r=t.childList[e];if(!r.bSelected&&!r.data.isStatusNode&&!r.data.unselectable){i=!1;break}}i&&t._select(!0,!1,!1),t=t.parent}else for(this._setSubSel(!1),this.visit(function(t){t._setSubSel(!1),t._select(!1,!1,!1)}),t=this.parent;t;){t._select(!1,!1,!1);var o=!1;for(e=0,n=t.childList.length;n>e;e++)if(t.childList[e].bSelected||t.childList[e].hasSubSel){o=!0;break}t._setSubSel(o),t=t.parent}},_select:function(t,e,n){var i=this.tree.options;this.data.isStatusNode||this.bSelected!==t&&(e&&i.onQuerySelect&&!1===i.onQuerySelect.call(this.tree,t,this)||(1==i.selectMode&&t&&this.tree.visit(function(t){return t.bSelected?(t._select(!1,!1,!1),!1):void 0}),this.bSelected=t,t?(i.persist&&this.tree.persistence.addSelect(this.data.key),$(this.span).addClass(i.classNames.selected),n&&3===i.selectMode&&this._fixSelectionState(),e&&i.onSelect&&i.onSelect.call(this.tree,!0,this)):(i.persist&&this.tree.persistence.clearSelect(this.data.key),$(this.span).removeClass(i.classNames.selected),n&&3===i.selectMode&&this._fixSelectionState(),e&&i.onSelect&&i.onSelect.call(this.tree,!1,this))))},select:function(t){return this.data.unselectable?this.bSelected:this._select(!1!==t,!0,!0)},toggleSelect:function(){return this.select(!this.bSelected)},isSelected:function(){return this.bSelected},isLazy:function(){return!!this.data.isLazy},_loadContent:function(){try{var t=this.tree.options;this.tree.logDebug("_loadContent: start - %o",this),this.setLazyNodeStatus(DTNodeStatus_Loading),!0===t.onLazyRead.call(this.tree,this)&&(this.setLazyNodeStatus(DTNodeStatus_Ok),this.tree.logDebug("_loadContent: succeeded - %o",this))}catch(t){this.tree.logWarning("_loadContent: failed - %o",t),this.setLazyNodeStatus(DTNodeStatus_Error,{tooltip:""+t})}},_expand:function(t,e){if(this.bExpanded!==t){this.tree.logDebug("dtnode._expand(%o) - %o",t,this);var n=this.tree.options;if(!t&&this.getLevel()<n.minExpandLevel)this.tree.logDebug("dtnode._expand(%o) prevented collapse - %o",t,this);else if(!n.onQueryExpand||!1!==n.onQueryExpand.call(this.tree,t,this)){this.bExpanded=t,n.persist&&(t?this.tree.persistence.addExpand(this.data.key):this.tree.persistence.clearExpand(this.data.key));var i=!(this.data.isLazy&&null===this.childList||this._isLoading||e);if(this.render(i),this.bExpanded&&this.parent&&n.autoCollapse)for(var r=this._parentList(!1,!0),o=0,s=r.length;s>o;o++)r[o].collapseSiblings();return n.activeVisible&&this.tree.activeNode&&!this.tree.activeNode.isVisible()&&this.tree.activeNode.deactivate(),t&&this.data.isLazy&&null===this.childList&&!this._isLoading?void this._loadContent():void(n.onExpand&&n.onExpand.call(this.tree,t,this))}}else this.tree.logDebug("dtnode._expand(%o) IGNORED - %o",t,this)},isExpanded:function(){return this.bExpanded},expand:function(t){t=!1!==t,(this.childList||this.data.isLazy||!t)&&(null!==this.parent||t)&&this._expand(t)},scheduleAction:function(t,e){this.tree.timer&&(clearTimeout(this.tree.timer),this.tree.logDebug("clearTimeout(%o)",this.tree.timer));var n=this;switch(t){case"cancel":break;case"expand":this.tree.timer=setTimeout(function(){n.tree.logDebug("setTimeout: trigger expand"),n.expand(!0)},e);break;case"activate":this.tree.timer=setTimeout(function(){n.tree.logDebug("setTimeout: trigger activate"),n.activate()},e);break;default:throw"Invalid mode "+t}this.tree.logDebug("setTimeout(%s, %s): %s",t,e,this.tree.timer)},toggleExpand:function(){this.expand(!this.bExpanded)},collapseSiblings:function(){if(null!==this.parent)for(var t=this.parent.childList,e=0,n=t.length;n>e;e++)t[e]!==this&&t[e].bExpanded&&t[e]._expand(!1)},_onClick:function(t){var e=this.getEventTargetType(t);if("expander"===e)this.toggleExpand(),this.focus();else if("checkbox"===e)this.toggleSelect(),this.focus();else{this._userActivate();var n=this.span.getElementsByTagName("a");if(!n[0])return!0;BROWSER.msie&&9>parseInt(BROWSER.version,10)||n[0].focus()}t.preventDefault()},_onDblClick:function(){},_onKeydown:function(t){var e,n=!0;switch(t.which){case 107:case 187:this.bExpanded||this.toggleExpand();break;case 109:case 189:this.bExpanded&&this.toggleExpand();break;case 32:this._userActivate();break;case 8:this.parent&&this.parent.focus();break;case 37:this.bExpanded?(this.toggleExpand(),this.focus()):this.parent&&this.parent.parent&&this.parent.focus();break;case 39:this.bExpanded||!this.childList&&!this.data.isLazy?this.childList&&this.childList[0].focus():(this.toggleExpand(),this.focus());break;case 38:for(e=this.getPrevSibling();e&&e.bExpanded&&e.childList;)e=e.childList[e.childList.length-1];!e&&this.parent&&this.parent.parent&&(e=this.parent),e&&e.focus();break;case 40:if(this.bExpanded&&this.childList)e=this.childList[0];else for(var i=this._parentList(!1,!0),r=i.length-1;r>=0&&!(e=i[r].getNextSibling());r--);e&&e.focus();break;default:n=!1}n&&t.preventDefault()},_onKeypress:function(){},_onFocus:function(t){var e=this.tree.options;"blur"==t.type||"focusout"==t.type?(e.onBlur&&e.onBlur.call(this.tree,this),this.tree.tnFocused&&$(this.tree.tnFocused.span).removeClass(e.classNames.focused),this.tree.tnFocused=null,e.persist&&$.cookie(e.cookieId+"-focus","",e.cookie)):("focus"==t.type||"focusin"==t.type)&&(this.tree.tnFocused&&this.tree.tnFocused!==this&&(this.tree.logDebug("dtnode.onFocus: out of sync: curFocus: %o",this.tree.tnFocused),$(this.tree.tnFocused.span).removeClass(e.classNames.focused)),this.tree.tnFocused=this,e.onFocus&&e.onFocus.call(this.tree,this),$(this.tree.tnFocused.span).addClass(e.classNames.focused),e.persist&&$.cookie(e.cookieId+"-focus",this.data.key,e.cookie))},visit:function(t,e){var n=!0;if(!0===e&&(!1===(n=t(this))||"skip"===n))return n;if(this.childList)for(var i=0,r=this.childList.length;r>i&&!1!==(n=this.childList[i].visit(t,!0));i++);return n},visitParents:function(t,e){if(e&&!1===t(this))return!1;for(var n=this.parent;n;){if(!1===t(n))return!1;n=n.parent}return!0},remove:function(){if(this===this.tree.root)throw"Cannot remove system root";return this.parent.removeChild(this)},removeChild:function(t){var e=this.childList;if(1===e.length){if(t!==e[0])throw"removeChild: invalid child";return this.removeChildren()}t===this.tree.activeNode&&t.deactivate(),this.tree.options.persist&&(t.bSelected&&this.tree.persistence.clearSelect(t.data.key),t.bExpanded&&this.tree.persistence.clearExpand(t.data.key)),t.removeChildren(!0),this.ul&&t.li&&this.ul.removeChild(t.li);for(var n=0,i=e.length;i>n;n++)if(e[n]===t){this.childList.splice(n,1);break}},removeChildren:function(t,e){this.tree.logDebug("%s.removeChildren(%o)",this,t);var n=this.tree,i=this.childList;if(i){for(var r=0,o=i.length;o>r;r++){var s=i[r];s!==n.activeNode||e||s.deactivate(),this.tree.options.persist&&!e&&(s.bSelected&&this.tree.persistence.clearSelect(s.data.key),s.bExpanded&&this.tree.persistence.clearExpand(s.data.key)),s.removeChildren(!0,e),this.ul&&s.li&&$("li",$(this.ul)).remove()}this.childList=null}t||(this._isLoading=!1,this.render())},setTitle:function(t){this.fromDict({title:t})},reload:function(){throw"Use reloadChildren() instead"},reloadChildren:function(t){if(null===this.parent)throw"Use tree.reload() instead";if(!this.data.isLazy)throw"node.reloadChildren() requires lazy nodes.";if(t){var e=this,n="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key;this.tree.$tree.bind(n,function(i,r,o){if(e.tree.$tree.unbind(n),e.tree.logDebug("loaded %o, %o, %o",i,r,o),r!==e)throw"got invalid load event";t.call(e.tree,r,o)})}this.removeChildren(),this._loadContent()},_loadKeyPath:function(t,e){var n=this.tree;if(n.logDebug("%s._loadKeyPath(%s)",this,t),""===t)throw"Key path must not be empty";var i=t.split(n.options.keyPathSeparator);if(""===i[0])throw"Key path must be relative (don't start with '/')";var r=i.shift();if(this.childList)for(var o=0,s=this.childList.length;s>o;o++){var a=this.childList[o];if(a.data.key===r){if(0===i.length)e.call(n,a,"ok");else if(!a.data.isLazy||null!==a.childList&&void 0!==a.childList)e.call(n,a,"loaded"),a._loadKeyPath(i.join(n.options.keyPathSeparator),e);else{n.logDebug("%s._loadKeyPath(%s) -> reloading %s...",this,t,a);var l=this;a.reloadChildren(function(r,o){o?(n.logDebug("%s._loadKeyPath(%s) -> reloaded %s.",r,t,r),e.call(n,a,"loaded"),r._loadKeyPath(i.join(n.options.keyPathSeparator),e)):(n.logWarning("%s._loadKeyPath(%s) -> reloadChildren() failed.",l,t),e.call(n,a,"error"))})}return}}e.call(n,void 0,"notfound",r,0===i.length),n.logWarning("Node not found: "+r)},resetLazy:function(){if(null===this.parent)throw"Use tree.reload() instead";if(!this.data.isLazy)throw"node.resetLazy() requires lazy nodes.";this.expand(!1),this.removeChildren()},_addChildNode:function(t,e){var n=this.tree,i=n.options,r=n.persistence;if(t.parent=this,null===this.childList?this.childList=[]:e||this.childList.length>0&&$(this.childList[this.childList.length-1].span).removeClass(i.classNames.lastsib),e){var o=$.inArray(e,this.childList);if(0>o)throw"<beforeNode> must be a child of <this>";this.childList.splice(o,0,t)}else this.childList.push(t);var s=n.isInitializing();if(i.persist&&r.cookiesFound&&s?(r.activeKey===t.data.key&&(n.activeNode=t),r.focusedKey===t.data.key&&(n.focusNode=t),t.bExpanded=$.inArray(t.data.key,r.expandedKeyList)>=0,t.bSelected=$.inArray(t.data.key,r.selectedKeyList)>=0):(t.data.activate&&(n.activeNode=t,i.persist&&(r.activeKey=t.data.key)),t.data.focus&&(n.focusNode=t,i.persist&&(r.focusedKey=t.data.key)),t.bExpanded=!0===t.data.expand,t.bExpanded&&i.persist&&r.addExpand(t.data.key),t.bSelected=!0===t.data.select,t.bSelected&&i.persist&&r.addSelect(t.data.key)),i.minExpandLevel>=t.getLevel()&&(this.bExpanded=!0),t.bSelected&&3==i.selectMode)for(var a=this;a;)a.hasSubSel||a._setSubSel(!0),a=a.parent;return n.bEnableUpdate&&this.render(),t},addChild:function(t,e){if("string"==typeof t)throw"Invalid data type for "+t;if(t&&0!==t.length){if(t instanceof DynaTreeNode)return this._addChildNode(t,e);t.length||(t=[t]);for(var n=this.tree.enableUpdate(!1),i=null,r=0,o=t.length;o>r;r++){var s=t[r],a=this._addChildNode(new DynaTreeNode(this,this.tree,s),e);i||(i=a),s.children&&a.addChild(s.children,null)}return this.tree.enableUpdate(n),i}},append:function(t){return this.tree.logWarning("node.append() is deprecated (use node.addChild() instead)."),this.addChild(t,null)},appendAjax:function(t){var e=this;if(this.removeChildren(!1,!0),this.setLazyNodeStatus(DTNodeStatus_Loading),t.debugLazyDelay){var n=t.debugLazyDelay;return t.debugLazyDelay=0,this.tree.logInfo("appendAjax: waiting for debugLazyDelay "+n),void setTimeout(function(){e.appendAjax(t)},n)}var i=t.success,r=t.error,o="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key,s=$.extend({},this.tree.options.ajaxDefaults,t,{success:function(t,n){var r=e.tree.phase,s=e.tree.options;e.tree.phase="init",s.postProcess?t=s.postProcess.call(this,t,this.dataType):t&&t.hasOwnProperty("d")&&(t="string"==typeof t.d?$.parseJSON(t.d):t.d),$.isArray(t)&&0===t.length||e.addChild(t,null),e.tree.phase="postInit",i&&i.call(s,e,t,n),e.tree.logDebug("trigger "+o),e.tree.$tree.trigger(o,[e,!0]),e.tree.phase=r,e.setLazyNodeStatus(DTNodeStatus_Ok),$.isArray(t)&&0===t.length&&(e.childList=[],e.render())},error:function(t,n,i){e.tree.logWarning("appendAjax failed:",n,":\n",t,"\n",i),r&&r.call(s,e,t,n,i),e.tree.$tree.trigger(o,[e,!1]),e.setLazyNodeStatus(DTNodeStatus_Error,{info:n,tooltip:""+i})}});$.ajax(s)},move:function(t,e){var n;if(this!==t){if(!this.parent)throw"Cannot move system root";(void 0===e||"over"==e)&&(e="child");var i=this.parent,r="child"===e?t:t.parent;if(r.isDescendantOf(this))throw"Cannot move a node to it's own descendant";if(1==this.parent.childList.length)this.parent.childList=this.parent.data.isLazy?[]:null,this.parent.bExpanded=!1;else{if(0>(n=$.inArray(this,this.parent.childList)))throw"Internal error";this.parent.childList.splice(n,1)}if(this.parent.ul&&this.li&&this.parent.ul.removeChild(this.li),this.parent=r,r.hasChildren())switch(e){case"child":r.childList.push(this);break;case"before":if(0>(n=$.inArray(t,r.childList)))throw"Internal error";r.childList.splice(n,0,this);break;case"after":if(0>(n=$.inArray(t,r.childList)))throw"Internal error";r.childList.splice(n+1,0,this);break;default:throw"Invalid mode "+e}else r.childList=[this];if(r.ul||(r.ul=document.createElement("ul"),r.ul.style.display="none",r.li&&r.li.appendChild(r.ul)),this.li&&r.ul.appendChild(this.li),this.tree!==t.tree)throw this.visit(function(e){e.tree=t.tree},null,!0),"Not yet implemented.";i.isDescendantOf(r)||i.render(),r.isDescendantOf(i)||r.render()}},lastentry:void 0};var DynaTreeStatus=Class.create();DynaTreeStatus._getTreePersistData=function(t,e){var n=new DynaTreeStatus(t,e);return n.read(),n.toDict()},getDynaTreePersistData=DynaTreeStatus._getTreePersistData,DynaTreeStatus.prototype={initialize:function(t,e){void 0===t&&(t=$.ui.dynatree.prototype.options.cookieId),e=$.extend({},$.ui.dynatree.prototype.options.cookie,e),this.cookieId=t,this.cookieOpts=e,this.cookiesFound=void 0,this.activeKey=null,this.focusedKey=null,this.expandedKeyList=null,this.selectedKeyList=null},_log:function(){Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments)},read:function(){this.cookiesFound=!1;var t=$.cookie(this.cookieId+"-active");this.activeKey=t||"",t&&(this.cookiesFound=!0),t=$.cookie(this.cookieId+"-focus"),this.focusedKey=t||"",t&&(this.cookiesFound=!0),t=$.cookie(this.cookieId+"-expand"),this.expandedKeyList=t?t.split(","):[],t&&(this.cookiesFound=!0),t=$.cookie(this.cookieId+"-select"),this.selectedKeyList=t?t.split(","):[],t&&(this.cookiesFound=!0)},write:function(){$.cookie(this.cookieId+"-active",null===this.activeKey?"":this.activeKey,this.cookieOpts),$.cookie(this.cookieId+"-focus",null===this.focusedKey?"":this.focusedKey,this.cookieOpts),$.cookie(this.cookieId+"-expand",null===this.expandedKeyList?"":this.expandedKeyList.join(","),this.cookieOpts),$.cookie(this.cookieId+"-select",null===this.selectedKeyList?"":this.selectedKeyList.join(","),this.cookieOpts)},addExpand:function(t){0>$.inArray(t,this.expandedKeyList)&&(this.expandedKeyList.push(t),$.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts))},clearExpand:function(t){var e=$.inArray(t,this.expandedKeyList);e>=0&&(this.expandedKeyList.splice(e,1),$.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts))},addSelect:function(t){0>$.inArray(t,this.selectedKeyList)&&(this.selectedKeyList.push(t),$.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts))},clearSelect:function(t){var e=$.inArray(t,this.selectedKeyList);e>=0&&(this.selectedKeyList.splice(e,1),$.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts))},isReloading:function(){return!0===this.cookiesFound},toDict:function(){return{cookiesFound:this.cookiesFound,activeKey:this.activeKey,focusedKey:this.activeKey,expandedKeyList:this.expandedKeyList,selectedKeyList:this.selectedKeyList}},lastentry:void 0};var DynaTree=Class.create();DynaTree.version="@@Version",DynaTree.prototype={initialize:function(t){this.phase="init",this.$widget=t,this.options=t.options,this.$tree=t.element,this.timer=null,this.divTree=this.$tree.get(0),_initDragAndDrop(this)},_load:function(t){this.$widget;var e=this.options,n=this;this.bEnableUpdate=!0,this._nodeCount=1,this.activeNode=null,this.focusNode=null,void 0!==e.rootVisible&&this.logWarning("Option 'rootVisible' is no longer supported."),1>e.minExpandLevel&&(this.logWarning("Option 'minExpandLevel' must be >= 1."),e.minExpandLevel=1),e.classNames!==$.ui.dynatree.prototype.options.classNames&&(e.classNames=$.extend({},$.ui.dynatree.prototype.options.classNames,e.classNames)),e.ajaxDefaults!==$.ui.dynatree.prototype.options.ajaxDefaults&&(e.ajaxDefaults=$.extend({},$.ui.dynatree.prototype.options.ajaxDefaults,e.ajaxDefaults)),e.dnd!==$.ui.dynatree.prototype.options.dnd&&(e.dnd=$.extend({},$.ui.dynatree.prototype.options.dnd,e.dnd)),e.imagePath||$("script").each(function(){var t=/.*dynatree[^\/]*\.js$/i;return this.src.search(t)>=0?(e.imagePath=this.src.indexOf("/")>=0?this.src.slice(0,this.src.lastIndexOf("/"))+"/ui-dynatree/":"ui-dynatree/",n.logDebug("Guessing imagePath from '%s': '%s'",this.src,e.imagePath),!1):void 0}),this.persistence=new DynaTreeStatus(e.cookieId,e.cookie),e.persist&&($.cookie||_log("warn","Please include jquery.cookie.js to use persistence."),this.persistence.read()),this.logDebug("DynaTree.persistence: %o",this.persistence.toDict()),this.cache={tagEmpty:"<span class='"+e.classNames.empty+"'></span>",tagVline:"<span class='"+e.classNames.vline+"'></span>",tagExpander:"<span class='"+e.classNames.expander+"'></span>",tagConnector:"<span class='"+e.classNames.connector+"'></span>",tagNodeIcon:"<span class='"+e.classNames.nodeIcon+"'></span>",tagCheckbox:"<span class='"+e.classNames.checkbox+"'></span>",lastentry:void 0},(e.children||e.initAjax&&e.initAjax.url||e.initId)&&$(this.divTree).empty();var i=this.$tree.find(">ul:first").hide();this.tnRoot=new DynaTreeNode(null,this,{}),this.tnRoot.bExpanded=!0,this.tnRoot.render(),this.divTree.appendChild(this.tnRoot.ul);var r=this.tnRoot,o=e.persist&&this.persistence.isReloading(),s=!1,a=this.enableUpdate(!1);this.logDebug("Dynatree._load(): read tree structure..."),e.children?r.addChild(e.children):e.initAjax&&e.initAjax.url?(s=!0,r.data.isLazy=!0,this._reloadAjax(t)):e.initId?this._createFromTag(r,$("#"+e.initId)):(this._createFromTag(r,i),i.remove()),this._checkConsistency(),s||3!=e.selectMode||r._updatePartSelectionState(),this.logDebug("Dynatree._load(): render nodes..."),this.enableUpdate(a),this.logDebug("Dynatree._load(): bind events..."),this.$widget.bind(),this.logDebug("Dynatree._load(): postInit..."),this.phase="postInit",e.persist&&this.persistence.write(),this.focusNode&&this.focusNode.isVisible()&&(this.logDebug("Focus on init: %o",this.focusNode),this.focusNode.focus()),s||(e.onPostInit&&e.onPostInit.call(this,o,!1),t&&t.call(this,"ok")),this.phase="idle"},_reloadAjax:function(t){var e=this.options;if(!e.initAjax||!e.initAjax.url)throw"tree.reload() requires 'initAjax' mode.";var n=this.persistence,i=$.extend({},e.initAjax);i.addActiveKey&&(i.data.activeKey=n.activeKey),i.addFocusedKey&&(i.data.focusedKey=n.focusedKey),i.addExpandedKeyList&&(i.data.expandedKeyList=n.expandedKeyList.join(",")),i.addSelectedKeyList&&(i.data.selectedKeyList=n.selectedKeyList.join(",")),i.success&&this.logWarning("initAjax: success callback is ignored; use onPostInit instead."),i.error&&this.logWarning("initAjax: error callback is ignored; use onPostInit instead.");var r=n.isReloading();i.success=function(n){3==e.selectMode&&n.tree.tnRoot._updatePartSelectionState(),e.onPostInit&&e.onPostInit.call(n.tree,r,!1),t&&t.call(n.tree,"ok")},i.error=function(n,i,o,s){e.onPostInit&&e.onPostInit.call(n.tree,r,!0,i,o,s),t&&t.call(n.tree,"error",i,o,s)},this.logDebug("Dynatree._init(): send Ajax request..."),this.tnRoot.appendAjax(i)},toString:function(){return"Dynatree '"+this.$tree.attr("id")+"'"},toDict:function(t){var e=this.tnRoot.toDict(!0);return t?e:e.children},serializeArray:function(t){for(var e=this.getSelectedNodes(t),n=this.$tree.attr("name")||this.$tree.attr("id"),i=[],r=0,o=e.length;o>r;r++)i.push({name:n,value:e[r].data.key});return i},getPersistData:function(){return this.persistence.toDict()},logDebug:function(){this.options.debugLevel>=2&&(Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments))},logInfo:function(){this.options.debugLevel>=1&&(Array.prototype.unshift.apply(arguments,["info"]),_log.apply(this,arguments))},logWarning:function(){Array.prototype.unshift.apply(arguments,["warn"]),_log.apply(this,arguments)},isInitializing:function(){return"init"==this.phase||"postInit"==this.phase},isReloading:function(){return("init"==this.phase||"postInit"==this.phase)&&this.options.persist&&this.persistence.cookiesFound},isUserEvent:function(){return"userEvent"==this.phase},redraw:function(){this.tnRoot.render(!1,!1)},renderInvisibleNodes:function(){this.tnRoot.render(!1,!0)},reload:function(t){this._load(t)},getRoot:function(){return this.tnRoot},enable:function(){this.$widget.enable()},disable:function(){this.$widget.disable()},getNodeByKey:function(t){var e=document.getElementById(this.options.idPrefix+t);if(e)return e.dtnode?e.dtnode:null;var n=null;return this.visit(function(e){return e.data.key===t?(n=e,!1):void 0},!0),n},getActiveNode:function(){return this.activeNode},reactivate:function(t){var e=this.activeNode;e&&(this.activeNode=null,e.activate(),t&&e.focus())},getSelectedNodes:function(t){var e=[];return this.tnRoot.visit(function(n){return n.bSelected&&(e.push(n),!0===t)?"skip":void 0}),e},activateKey:function(t){var e=null===t?null:this.getNodeByKey(t);return e?(e.focus(),e.activate(),e):(this.activeNode&&this.activeNode.deactivate(),this.activeNode=null,null)},loadKeyPath:function(t,e){var n=t.split(this.options.keyPathSeparator);return""===n[0]&&n.shift(),n[0]==this.tnRoot.data.key&&(this.logDebug("Removed leading root key."),n.shift()),t=n.join(this.options.keyPathSeparator),this.tnRoot._loadKeyPath(t,e)},selectKey:function(t,e){var n=this.getNodeByKey(t);return n?(n.select(e),n):null},enableUpdate:function(t){return this.bEnableUpdate==t?t:(this.bEnableUpdate=t,t&&this.redraw(),!t)},count:function(){return this.tnRoot.countChildren()},visit:function(t,e){return this.tnRoot.visit(t,e)},_createFromTag:function(parentTreeNode,$ulParent){var self=this;$ulParent.find(">li").each(function(){var $li=$(this),$liSpan=$li.find(">span:first"),$liA=$li.find(">a:first"),title,href=null,target=null,tooltip;if($liSpan.length)title=$liSpan.html();else if($liA.length)title=$liA.html(),href=$liA.attr("href"),target=$liA.attr("target"),tooltip=$liA.attr("title");else{title=$li.html();var iPos=title.search(/<ul/i);title=iPos>=0?$.trim(title.substring(0,iPos)):$.trim(title)}var data={title:title,tooltip:tooltip,isFolder:$li.hasClass("folder"),isLazy:$li.hasClass("lazy"),expand:$li.hasClass("expanded"),select:$li.hasClass("selected"),activate:$li.hasClass("active"),focus:$li.hasClass("focused"),noLink:$li.hasClass("noLink")};if(href&&(data.href=href,data.target=target),$li.attr("title")&&(data.tooltip=$li.attr("title")),$li.attr("id")&&(data.key=""+$li.attr("id")),$li.attr("data")){var dataAttr=$.trim($li.attr("data"));if(dataAttr){"{"!=dataAttr.charAt(0)&&(dataAttr="{"+dataAttr+"}");try{$.extend(data,eval("("+dataAttr+")"))}catch(t){throw"Error parsing node data: "+t+"\ndata:\n'"+dataAttr+"'"}}}var childNode=parentTreeNode.addChild(data),$ul=$li.find(">ul:first");$ul.length&&self._createFromTag(childNode,$ul)})},_checkConsistency:function(){},_setDndStatus:function(t,e,n,i,r){var o,s=t?$(t.span):null,a=$(e.span),l=0,c="center";if(this.$dndMarker||(this.$dndMarker=$("<div id='dynatree-drop-marker'></div>").hide().css({"z-index":1e3}).prependTo($(this.divTree).parent())),"after"===i||"before"===i||"over"===i){switch(i){case"before":this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-over"),this.$dndMarker.addClass("dynatree-drop-before"),c="top";break;case"after":this.$dndMarker.removeClass("dynatree-drop-before dynatree-drop-over"),this.$dndMarker.addClass("dynatree-drop-after"),c="bottom";break;default:this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-before"),this.$dndMarker.addClass("dynatree-drop-over"),a.addClass("dynatree-drop-target"),l=8}o=jquerySupports.positionMyOfs?{my:"left"+offsetString(l)+" center",at:"left "+c,of:a}:{my:"left center",at:"left "+c,of:a,offset:l+" 0"},this.$dndMarker.show().position(o)}else a.removeClass("dynatree-drop-target"),this.$dndMarker.hide();"after"===i?a.addClass("dynatree-drop-after"):a.removeClass("dynatree-drop-after"),"before"===i?a.addClass("dynatree-drop-before"):a.removeClass("dynatree-drop-before"),!0===r?(s&&s.addClass("dynatree-drop-accept"),a.addClass("dynatree-drop-accept"),n.addClass("dynatree-drop-accept")):(s&&s.removeClass("dynatree-drop-accept"),a.removeClass("dynatree-drop-accept"),n.removeClass("dynatree-drop-accept")),!1===r?(s&&s.addClass("dynatree-drop-reject"),a.addClass("dynatree-drop-reject"),n.addClass("dynatree-drop-reject")):(s&&s.removeClass("dynatree-drop-reject"),a.removeClass("dynatree-drop-reject"),n.removeClass("dynatree-drop-reject"))},_onDragEvent:function(t,e,n,i,r,o){var s,a,l,c=this.options.dnd,u=null,h=$(e.span);switch(t){case"helper":var d=$("<div class='dynatree-drag-helper'><span class='dynatree-drag-helper-img' /></div>").append(h.find(".dynatree-title").clone());$("ul.dynatree-container",e.tree.divTree).append(d),d.data("dtSourceNode",e),u=d;break;case"start":e.isStatusNode()?u=!1:c.onDragStart&&(u=c.onDragStart(e)),!1===u?(this.logDebug("tree.onDragStart() cancelled"),r.helper.trigger("mouseup"),r.helper.hide()):h.addClass("dynatree-drag-source");break;case"enter":u=!!(l=c.onDragEnter?c.onDragEnter(e,n,r,o):null)&&($.isArray(l)?{over:$.inArray("over",l)>=0,before:$.inArray("before",l)>=0,after:$.inArray("after",l)>=0}:{over:!0===l||"over"===l,before:!0===l||"before"===l,after:!0===l||"after"===l}),r.helper.data("enterResponse",u);break;case"over":if(a=r.helper.data("enterResponse"),s=null,!1===a);else if("string"==typeof a)s=a;else{var p=h.offset(),f={x:i.pageX-p.left,y:i.pageY-p.top},m={x:f.x/h.width(),y:f.y/h.height()};a.after&&m.y>.75?s="after":!a.over&&a.after&&m.y>.5?s="after":a.before&&.25>=m.y?s="before":!a.over&&a.before&&.5>=m.y?s="before":a.over&&(s="over"),c.preventVoidMoves&&(e===n?s=null:"before"===s&&n&&e===n.getNextSibling()?s=null:"after"===s&&n&&e===n.getPrevSibling()?s=null:"over"===s&&n&&n.parent===e&&n.isLastSibling()&&(s=null)),r.helper.data("hitMode",s)}"over"===s&&c.autoExpandMS&&!1!==e.hasChildren()&&!e.bExpanded&&e.scheduleAction("expand",c.autoExpandMS),s&&c.onDragOver&&("over"===(u=c.onDragOver(e,n,s,r,o))||"before"===u||"after"===u)&&(s=u),this._setDndStatus(n,e,r.helper,s,!1!==u&&null!==s);break;case"drop":var g=r.helper.hasClass("dynatree-drop-reject");(s=r.helper.data("hitMode"))&&c.onDrop&&!g&&c.onDrop(e,n,s,r,o);break;case"leave":e.scheduleAction("cancel"),r.helper.data("enterResponse",null),r.helper.data("hitMode",null),this._setDndStatus(n,e,r.helper,"out",void 0),c.onDragLeave&&c.onDragLeave(e,n,r,o);break;case"stop":h.removeClass("dynatree-drag-source"),c.onDragStop&&c.onDragStop(e);break;default:throw"Unsupported drag event: "+t}return u},cancelDrag:function(){var t=$.ui.ddmanager.current;t&&t.cancel()},lastentry:void 0},$.widget("ui.dynatree",{_init:function(){return 0>versionCompare($.ui.version,"1.8")?(this.options.debugLevel>=0&&_log("warn","ui.dynatree._init() was called; you should upgrade to jquery.ui.core.js v1.8 or higher."),this._create()):void(this.options.debugLevel>=2&&_log("debug","ui.dynatree._init() was called; no current default functionality."))},_create:function(){this.options.debugLevel>=1&&logMsg("Dynatree._create(): version='%s', debugLevel=%o.",$.ui.dynatree.version,this.options.debugLevel),this.options.event+=".dynatree",this.element.get(0),this.tree=new DynaTree(this),this.tree._load(),this.tree.logDebug("Dynatree._init(): done.")},bind:function(){function t(t){t=$.event.fix(t||window.event);var e=$.ui.dynatree.getNode(t.target);return!!e&&e._onFocus(t)}this.unbind();var e="click.dynatree dblclick.dynatree";this.options.keyboard&&(e+=" keypress.dynatree keydown.dynatree"),this.element.bind(e,function(t){var e=$.ui.dynatree.getNode(t.target);if(!e)return!0;var n=e.tree,i=n.options;n.logDebug("event(%s): dtnode: %s",t.type,e);var r=n.phase;n.phase="userEvent";try{switch(t.type){case"click":return(!i.onClick||!1!==i.onClick.call(n,e,t))&&e._onClick(t);case"dblclick":return(!i.onDblClick||!1!==i.onDblClick.call(n,e,t))&&e._onDblClick(t);case"keydown":return(!i.onKeydown||!1!==i.onKeydown.call(n,e,t))&&e._onKeydown(t);case"keypress":return(!i.onKeypress||!1!==i.onKeypress.call(n,e,t))&&e._onKeypress(t)}}catch(i){n.logWarning("bind(%o): dtnode: %o, error: %o",t,e,i)}finally{n.phase=r}});var n=this.tree.divTree;n.addEventListener?(n.addEventListener("focus",t,!0),n.addEventListener("blur",t,!0)):n.onfocusin=n.onfocusout=t},unbind:function(){this.element.unbind(".dynatree")},enable:function(){this.bind(),$.Widget.prototype.enable.apply(this,arguments)},disable:function(){this.unbind(),$.Widget.prototype.disable.apply(this,arguments)},getTree:function(){return this.tree},getRoot:function(){return this.tree.getRoot()},getActiveNode:function(){return this.tree.getActiveNode()},getSelectedNodes:function(){return this.tree.getSelectedNodes()},lastentry:void 0}),0>versionCompare($.ui.version,"1.8")&&($.ui.dynatree.getter="getTree getRoot getActiveNode getSelectedNodes"),$.extend($.ui.dynatree,{version:"1.2.6",buildType:"release",_DynaTreeClass:DynaTree,_DynaTreeNodeClass:DynaTreeNode,getNode:function(t){if(t instanceof DynaTreeNode)return t;for(void 0!==t.selector&&(t=t[0]);t;){if(t.dtnode)return t.dtnode;t=t.parentNode}return null},getPersistData:DynaTreeStatus._getTreePersistData}),$.ui.dynatree.prototype.options={title:"Dynatree",minExpandLevel:1,imagePath:null,children:null,initId:null,initAjax:null,autoFocus:!0,keyboard:!0,persist:!1,autoCollapse:!1,clickFolderMode:3,activeVisible:!0,checkbox:!1,selectMode:2,fx:null,noLink:!1,onClick:null,onDblClick:null,onKeydown:null,onKeypress:null,onFocus:null,onBlur:null,onQueryActivate:null,onQuerySelect:null,onQueryExpand:null,onPostInit:null,onActivate:null,onDeactivate:null,onSelect:null,onExpand:null,onLazyRead:null,onCustomRender:null,onCreate:null,onRender:null,postProcess:null,dnd:{onDragStart:null,onDragStop:null,revert:!1,autoExpandMS:1e3,preventVoidMoves:!0,onDragEnter:null,onDragOver:null,onDrop:null,onDragLeave:null},ajaxDefaults:{cache:!1,timeout:0,dataType:"json"},strings:{loading:"Loading&#8230;",loadError:"Load error!"},generateIds:!1,idPrefix:"dynatree-id-",keyPathSeparator:"/",cookieId:"dynatree",cookie:{expires:null},classNames:{container:"dynatree-container",node:"dynatree-node",folder:"dynatree-folder",empty:"dynatree-empty",vline:"dynatree-vline",expander:"dynatree-expander",connector:"dynatree-connector",checkbox:"dynatree-checkbox",radio:"dynatree-radio",nodeIcon:"dynatree-icon",title:"dynatree-title",noConnector:"dynatree-no-connector",nodeError:"dynatree-statusnode-error",nodeWait:"dynatree-statusnode-wait",hidden:"dynatree-hidden",combinedExpanderPrefix:"dynatree-exp-",combinedIconPrefix:"dynatree-ico-",nodeLoading:"dynatree-loading",hasChildren:"dynatree-has-children",active:"dynatree-active",selected:"dynatree-selected",expanded:"dynatree-expanded",lazy:"dynatree-lazy",focused:"dynatree-focused",partsel:"dynatree-partsel",lastsib:"dynatree-lastsib"},debugLevel:1,lastentry:void 0},0>versionCompare($.ui.version,"1.8")&&($.ui.dynatree.defaults=$.ui.dynatree.prototype.options),$.ui.dynatree.nodedatadefaults={title:null,key:null,isFolder:!1,isLazy:!1,tooltip:null,href:null,icon:null,addClass:null,noLink:!1,activate:!1,focus:!1,expand:!1,select:!1,hideCheckbox:!1,unselectable:!1,children:null,lastentry:void 0};var didRegisterDnd=!1,_registerDnd=function(){didRegisterDnd||($.ui.plugin.add("draggable","connectToDynatree",{start:function(t,e){var n=$(this).data("ui-draggable")||$(this).data("draggable"),i=e.helper.data("dtSourceNode")||null;return i?(n.offset.click.top=-2,n.offset.click.left=16,i.tree._onDragEvent("start",i,null,t,e,n)):void 0},drag:function(t,e){var n=$(this).data("ui-draggable")||$(this).data("draggable"),i=e.helper.data("dtSourceNode")||null,r=e.helper.data("dtTargetNode")||null,o=$.ui.dynatree.getNode(t.target);t.target&&!o&&$(t.target).closest("div.dynatree-drag-helper,#dynatree-drop-marker").length>0||(e.helper.data("dtTargetNode",o),r&&r!==o&&r.tree._onDragEvent("leave",r,i,t,e,n),o&&o.tree.options.dnd.onDrop&&(o===r?o.tree._onDragEvent("over",o,i,t,e,n):o.tree._onDragEvent("enter",o,i,t,e,n)))},stop:function(t,e){var n=$(this).data("ui-draggable")||$(this).data("draggable"),i=e.helper.data("dtSourceNode")||null,r=e.helper.data("dtTargetNode")||null,o="mouseup"==t.type&&1==t.which;logMsg("draggable-connectToDynatree.stop: targetNode(from event): %s, dtTargetNode: %s",r,e.helper.data("dtTargetNode")),o||logMsg("Drag was cancelled"),r&&(o&&r.tree._onDragEvent("drop",r,i,t,e,n),r.tree._onDragEvent("leave",r,i,t,e,n)),i&&i.tree._onDragEvent("stop",i,null,t,e,n)}}),didRegisterDnd=!0)}}(jQuery),function(t,e,n,i){function r(n,i){this.w=t(e),this.el=t(n),this.options=t.extend({},u,i),this.init()}var o="ontouchstart"in e,s=function(){var t=n.createElement("div"),i=n.documentElement;if(!("pointerEvents"in t.style))return!1;t.style.pointerEvents="auto",t.style.pointerEvents="x",i.appendChild(t);var r=e.getComputedStyle&&"auto"===e.getComputedStyle(t,"").pointerEvents;return i.removeChild(t),!!r}(),a=o?"touchstart":"mousedown",l=o?"touchmove":"mousemove",c=o?"touchend":"mouseup";eCancel=o?"touchcancel":"mouseup";var u={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",emptyClass:"dd-empty",expandBtnHTML:'<button data-action="expand" type="button">Expand</button>',collapseBtnHTML:'<button data-action="collapse" type="button">Collapse</button>',group:0,maxDepth:5,threshold:20};r.prototype={init:function(){var n=this;n.reset(),n.el.data("nestable-group",this.options.group),n.placeEl=t('<div class="'+n.options.placeClass+'"/>'),t.each(this.el.find(n.options.itemNodeName),function(e,i){n.setParent(t(i))}),n.el.on("click","button",function(e){if(!n.dragEl&&(o||0===e.button)){var i=t(e.currentTarget),r=i.data("action"),s=i.parent(n.options.itemNodeName);"collapse"===r&&n.collapseItem(s),"expand"===r&&n.expandItem(s)}});var i=function(e){var i=t(e.target);if(!i.hasClass(n.options.handleClass)){if(i.closest("."+n.options.noDragClass).length)return;i=i.closest("."+n.options.handleClass)}!i.length||n.dragEl||!o&&0!==e.button||o&&1!==e.touches.length||(e.preventDefault(),n.dragStart(o?e.touches[0]:e))},r=function(t){n.dragEl&&(t.preventDefault(),n.dragMove(o?t.touches[0]:t))},s=function(t){n.dragEl&&(t.preventDefault(),n.dragStop(o?t.touches[0]:t))};o?(n.el[0].addEventListener(a,i,!1),e.addEventListener(l,r,!1),e.addEventListener(c,s,!1),e.addEventListener(eCancel,s,!1)):(n.el.on(a,i),n.w.on(l,r),n.w.on(c,s))},serialize:function(){var e=this;return step=function(n,i){var r=[];return n.children(e.options.itemNodeName).each(function(){var n=t(this),o=t.extend({},n.data()),s=n.children(e.options.listNodeName);s.length&&(o.children=step(s,i+1)),r.push(o)}),r},step(e.el.find(e.options.listNodeName).first(),0)},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null},expandItem:function(t){t.removeClass(this.options.collapsedClass),t.children('[data-action="expand"]').hide(),t.children('[data-action="collapse"]').show(),t.children(this.options.listNodeName).show()},collapseItem:function(t){t.children(this.options.listNodeName).length&&(t.addClass(this.options.collapsedClass),t.children('[data-action="collapse"]').hide(),t.children('[data-action="expand"]').show(),t.children(this.options.listNodeName).hide())},expandAll:function(){var e=this;e.el.find(e.options.itemNodeName).each(function(){e.expandItem(t(this))})},collapseAll:function(){var e=this;e.el.find(e.options.itemNodeName).each(function(){e.collapseItem(t(this))})},setParent:function(e){e.children(this.options.listNodeName).length&&(e.prepend(t(this.options.expandBtnHTML)),e.prepend(t(this.options.collapseBtnHTML))),e.children('[data-action="expand"]').hide()},unsetParent:function(t){t.removeClass(this.options.collapsedClass),t.children("[data-action]").remove(),t.children(this.options.listNodeName).remove()},dragStart:function(e){var i=this.mouse,r=t(e.target),o=r.closest(this.options.itemNodeName);this.placeEl.css("height",o.height()),i.offsetX=void 0!==e.offsetX?e.offsetX:e.pageX-r.offset().left,i.offsetY=void 0!==e.offsetY?e.offsetY:e.pageY-r.offset().top,i.startX=i.lastX=e.pageX,i.startY=i.lastY=e.pageY,this.dragRootEl=this.el,this.dragEl=t(n.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),this.dragEl.css("width",o.width()),o.after(this.placeEl),o[0].parentNode.removeChild(o[0]),o.appendTo(this.dragEl),t(n.body).append(this.dragEl),this.dragEl.css({left:e.pageX-i.offsetX,top:e.pageY-i.offsetY});var s,a,l=this.dragEl.find(this.options.itemNodeName);for(s=0;s<l.length;s++)(a=t(l[s]).parents(this.options.listNodeName).length)>this.dragDepth&&(this.dragDepth=a)},dragStop:function(t){var e=this.dragEl.children(this.options.itemNodeName).first();e[0].parentNode.removeChild(e[0]),this.placeEl.replaceWith(e),this.dragEl.remove(),this.el.trigger("change"),this.hasNewRoot&&this.dragRootEl.trigger("change"),this.reset()},dragMove:function(i){var r,o,a,l=this.options,c=this.mouse;this.dragEl.css({left:i.pageX-c.offsetX,top:i.pageY-c.offsetY}),c.lastX=c.nowX,c.lastY=c.nowY,c.nowX=i.pageX,c.nowY=i.pageY,c.distX=c.nowX-c.lastX,c.distY=c.nowY-c.lastY,c.lastDirX=c.dirX,c.lastDirY=c.dirY,c.dirX=0===c.distX?0:c.distX>0?1:-1,c.dirY=0===c.distY?0:c.distY>0?1:-1;var u=Math.abs(c.distX)>Math.abs(c.distY)?1:0;if(!c.moving)return c.dirAx=u,void(c.moving=!0);c.dirAx!==u?(c.distAxX=0,c.distAxY=0):(c.distAxX+=Math.abs(c.distX),0!==c.dirX&&c.dirX!==c.lastDirX&&(c.distAxX=0),c.distAxY+=Math.abs(c.distY),0!==c.dirY&&c.dirY!==c.lastDirY&&(c.distAxY=0)),c.dirAx=u,c.dirAx&&c.distAxX>=l.threshold&&(c.distAxX=0,a=this.placeEl.prev(l.itemNodeName),c.distX>0&&a.length&&!a.hasClass(l.collapsedClass)&&(r=a.find(l.listNodeName).last(),this.placeEl.parents(l.listNodeName).length+this.dragDepth<=l.maxDepth&&(r.length?(r=a.children(l.listNodeName).last()).append(this.placeEl):((r=t("<"+l.listNodeName+"/>").addClass(l.listClass)).append(this.placeEl),a.append(r),this.setParent(a)))),c.distX<0&&(this.placeEl.next(l.itemNodeName).length||(o=this.placeEl.parent(),this.placeEl.closest(l.itemNodeName).after(this.placeEl),o.children().length||this.unsetParent(o.parent()))));var h=!1;if(s||(this.dragEl[0].style.visibility="hidden"),this.pointEl=t(n.elementFromPoint(i.pageX-n.body.scrollLeft,i.pageY-(e.pageYOffset||n.documentElement.scrollTop))),s||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(l.handleClass)&&(this.pointEl=this.pointEl.parent(l.itemNodeName)),this.pointEl.hasClass(l.emptyClass))h=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(l.itemClass))return;var d=this.pointEl.closest("."+l.rootClass),p=this.dragRootEl.data("nestable-id")!==d.data("nestable-id");if(!c.dirAx||p||h){if(p&&l.group!==d.data("nestable-group"))return;if(this.dragDepth-1+this.pointEl.parents(l.listNodeName).length>l.maxDepth)return;var f=i.pageY<this.pointEl.offset().top+this.pointEl.height()/2;o=this.placeEl.parent(),h?((r=t(n.createElement(l.listNodeName)).addClass(l.listClass)).append(this.placeEl),this.pointEl.replaceWith(r)):f?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),o.children().length||this.unsetParent(o.parent()),this.dragRootEl.find(l.itemNodeName).length||this.dragRootEl.append('<div class="'+l.emptyClass+'"/>'),p&&(this.dragRootEl=d,this.hasNewRoot=this.el[0]!==this.dragRootEl[0])}}},t.fn.nestable=function(e){var n=this,i=this;return n.each(function(){var n=t(this).data("nestable");n?"string"==typeof e&&"function"==typeof n[e]&&(i=n[e]()):(t(this).data("nestable",new r(this,e)),t(this).data("nestable-id",(new Date).getTime()))}),i||n}}(window.jQuery||window.Zepto,window,document),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(this.length){var n=t.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new t.validator(e,this[0]),t.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){n.settings.submitHandler&&(n.submitButton=e.target),t(e.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(e){function i(){var i;return!n.settings.submitHandler||(n.submitButton&&(i=t("<input type='hidden'/>").attr("name",n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,e),n.submitButton&&i.remove(),!1)}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,n;return t(this[0]).is("form")?e=this.validate().form():(e=!0,n=t(this[0].form).validate(),this.each(function(){e=n.element(this)&&e})),e},removeAttrs:function(e){var n={},i=this;return t.each(e.split(/\s/),function(t,e){n[e]=i.attr(e),i.removeAttr(e)}),n},rules:function(e,n){var i,r,o,s,a,l,c=this[0];if(e)switch(i=t.data(c.form,"validator").settings,r=i.rules,o=t.validator.staticRules(c),e){case"add":t.extend(o,t.validator.normalizeRule(n)),delete o.messages,r[c.name]=o,n.messages&&(i.messages[c.name]=t.extend(i.messages[c.name],n.messages));break;case"remove":return n?(l={},t.each(n.split(/\s/),function(e,n){l[n]=o[n],delete o[n],"required"===n&&t(c).removeAttr("aria-required")}),l):(delete r[c.name],o)}return(s=t.validator.normalizeRules(t.extend({},t.validator.classRules(c),t.validator.attributeRules(c),t.validator.dataRules(c),t.validator.staticRules(c)),c)).required&&(a=s.required,delete s.required,s=t.extend({required:a},s),t(c).attr("aria-required","true")),s.remote&&(a=s.remote,delete s.remote,s=t.extend(s,{remote:a})),s}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,n){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=n,this.init()},t.validator.format=function(e,n){return 1===arguments.length?function(){var n=t.makeArray(arguments);return n.unshift(e),t.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=t.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return n})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).addClass(n).removeClass(i):t(e).addClass(n).removeClass(i)},unhighlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).removeClass(n).addClass(i):t(e).removeClass(n).addClass(i)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var n=t.data(this[0].form,"validator"),i="on"+e.type.replace(/^validate/,""),r=n.settings;r[i]&&!this.is(r.ignore)&&r[i].call(n,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};t.each(this.settings.groups,function(e,n){"string"==typeof n&&(n=n.split(/\s/)),t.each(n,function(t,n){i[n]=e})}),n=this.settings.rules,t.each(n,function(e,i){n[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",e).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var n=this.clean(e),i=this.validationTargetFor(n),r=!0;return this.lastElement=i,void 0===i?delete this.invalid[n.name]:(this.prepareElement(i),this.currentElements=t(i),(r=!1!==this.check(i))?delete this.invalid[i.name]:this.invalid[i.name]=!0),t(e).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var n in e)this.errorList.push({message:e[n],element:this.findByName(n)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in n||!e.objectLength(t(this).rules()))&&(n[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var n,i=t(e),r=e.type;return"radio"===r||"checkbox"===r?t("input[name='"+e.name+"']:checked").val():"number"===r&&void 0!==e.validity?!e.validity.badInput&&i.val():"string"==typeof(n=i.val())?n.replace(/\r/g,""):n},check:function(e){e=this.validationTargetFor(this.clean(e));var n,i,r,o=t(e).rules(),s=t.map(o,function(t,e){return e}).length,a=!1,l=this.elementValue(e);for(i in o){r={method:i,parameters:o[i]};try{if("dependency-mismatch"===(n=t.validator.methods[i].call(this,l,e,r.parameters))&&1===s){a=!0;continue}if(a=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!n)return this.formatAndAdd(e,r),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",t),t}}if(!a)return this.objectLength(o)&&this.successList.push(e),!0},customDataMessage:function(e,n){return t(e).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,n){return this.findDefined(this.customMessage(e.name,n),this.customDataMessage(e,n),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[n],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,n){var i=this.defaultMessage(e,n.method),r=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,e):r.test(i)&&(i=t.validator.format(i.replace(r,"{$1}"),n.parameters)),this.errorList.push({message:i,element:e,method:n.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,n){var i,r,o,s=this.errorsFor(e),a=this.idOrName(e),l=t(e).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(n)):(s=t("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass).html(n||""),i=s,this.settings.wrapper&&(i=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,t(e)):i.insertAfter(e),s.is("label")?s.attr("for",a):0===s.parents("label[for='"+a+"']").length&&(o=s.attr("id"),l?l.match(new RegExp("\b"+o+"\b"))||(l+=" "+o):l=o,t(e).attr("aria-describedby",l),(r=this.groups[e.name])&&t.each(this.groups,function(e,n){n===r&&t("[name='"+e+"']",this.currentForm).attr("aria-describedby",s.attr("id"))}))),!n&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var n=this.idOrName(e),i=t(e).attr("aria-describedby"),r="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(r=r+", #"+i.replace(/\s+/g,", #")),this.errors().filter(r)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,n){switch(n.nodeName.toLowerCase()){case"select":return t("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(e,n){return!!t(e,n.form).length},function:function(t,e){return t(e)}},optional:function(e){var n=this.elementValue(e);return!t.validator.methods.required.call(this,n,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,n){--this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,n){e.constructor===String?this.classRuleSettings[e]=n:t.extend(this.classRuleSettings,e)},classRules:function(e){var n={},i=t(e).attr("class");return i&&t.each(i.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(n,t.validator.classRuleSettings[this])}),n},attributeRules:function(e){var n,i,r={},o=t(e),s=e.getAttribute("type");for(n in t.validator.methods)"required"===n?(""===(i=e.getAttribute(n))&&(i=!0),i=!!i):i=o.attr(n),/min|max/.test(n)&&(null===s||/number|range|text/.test(s))&&(i=Number(i)),i||0===i?r[n]=i:s===n&&"range"!==s&&(r[n]=!0);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(e){var n,i,r={},o=t(e);for(n in t.validator.methods)void 0!==(i=o.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()))&&(r[n]=i);return r},staticRules:function(e){var n={},i=t.data(e.form,"validator");return i.settings.rules&&(n=t.validator.normalizeRule(i.settings.rules[e.name])||{}),n},normalizeRules:function(e,n){return t.each(e,function(i,r){if(!1!==r){if(r.param||r.depends){var o=!0;switch(typeof r.depends){case"string":o=!!t(r.depends,n.form).length;break;case"function":o=r.depends.call(n,n)}o?e[i]=void 0===r.param||r.param:delete e[i]}}else delete e[i]}),t.each(e,function(i,r){e[i]=t.isFunction(r)?r(n):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var n;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(n=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(n[0]),Number(n[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var n={};t.each(e.split(/\s/),function(){n[this]=!0}),e=n}return e},addMethod:function(e,n,i){t.validator.methods[e]=n,t.validator.messages[e]=void 0!==i?i:t.validator.messages[e],n.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=t(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(e,n)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var n,i,r=0,o=0,s=!1;if((t=t.replace(/\D/g,"")).length<13||t.length>19)return!1;for(n=t.length-1;n>=0;n--)i=t.charAt(n),o=parseInt(i,10),s&&(o*=2)>9&&(o-=9),r+=o,s=!s;return r%10==0},minlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||r>=i},maxlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||i>=r},rangelength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||r>=i[0]&&r<=i[1]},min:function(t,e,n){return this.optional(e)||t>=n},max:function(t,e,n){return this.optional(e)||n>=t},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},equalTo:function(e,n,i){var r=t(i);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(n).valid()}),e===r.val()},remote:function(e,n,i){if(this.optional(n))return"dependency-mismatch";var r,o,s=this.previousValue(n);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),s.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=s.message,i="string"==typeof i&&{url:i}||i,s.old===e?s.valid:(s.old=e,r=this,this.startRequest(n),o={},o[n.name]=e,t.ajax(t.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:o,context:r.currentForm,success:function(i){var o,a,l,c=!0===i||"true"===i;r.settings.messages[n.name].remote=s.originalMessage,c?(l=r.formSubmitted,r.prepareElement(n),r.formSubmitted=l,r.successList.push(n),delete r.invalid[n.name],r.showErrors()):(o={},a=i||r.defaultMessage(n,"remote"),o[n.name]=s.message=t.isFunction(a)?a(e):a,r.invalid[n.name]=!0,r.showErrors(o)),s.valid=c,r.stopRequest(n,c)}},i)),"pending")}}}),t.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var e,n={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,i){var r=t.port;"abort"===t.mode&&(n[r]&&n[r].abort(),n[r]=i)}):(e=t.ajax,t.ajax=function(i){var r=("mode"in i?i:t.ajaxSettings).mode,o=("port"in i?i:t.ajaxSettings).port;return"abort"===r?(n[o]&&n[o].abort(),n[o]=e.apply(this,arguments),n[o]):e.apply(this,arguments)}),t.extend(t.fn,{validateDelegate:function(e,n,i){return this.bind(n,function(n){var r=t(n.target);return r.is(e)?i.apply(r,arguments):void 0})}})});var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};window.rangy=function(){function t(t,e){var n=typeof t[e];return n==c||!(n!=l||!t[e])||"unknown"==n}function e(t,e){return!(typeof t[e]!=l||!t[e])}function n(t,e){return typeof t[e]!=u}function i(t){return function(e,n){for(var i=n.length;i--;)if(!t(e,n[i]))return!1;return!0}}function r(t){return t&&m(t,f)&&v(t,p)}function o(t){window.alert("Rangy not supported in your browser. Reason: "+t),y.initialized=!0,y.supported=!1}function s(){if(!y.initialized){var n,i=!1,s=!1;for(t(document,"createRange")&&(n=document.createRange(),m(n,d)&&v(n,h)&&(i=!0),n.detach()),(n=e(document,"body")?document.body:document.getElementsByTagName("body")[0])&&t(n,"createTextRange")&&(n=n.createTextRange(),r(n)&&(s=!0)),!i&&!s&&o("Neither Range nor TextRange are implemented"),y.initialized=!0,y.features={implementsDomRange:i,implementsTextRange:s},s=0,n=(i=b.concat(_)).length;n>s;++s)try{i[s](y)}catch(n){e(window,"console")&&t(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",n)}}}function a(t){this.name=t,this.supported=this.initialized=!1}var l="object",c="function",u="undefined",h="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer START_TO_START START_TO_END END_TO_START END_TO_END".split(" "),d="setStart setStartBefore setStartAfter setEnd setEndBefore setEndAfter collapse selectNode selectNodeContents compareBoundaryPoints deleteContents extractContents cloneContents insertNode surroundContents cloneRange toString detach".split(" "),p="boundingHeight boundingLeft boundingTop boundingWidth htmlText text".split(" "),f="collapse compareEndPoints duplicate getBookmark moveToBookmark moveToElementText parentElement pasteHTML select setEndPoint getBoundingClientRect".split(" "),m=i(t),g=i(e),v=i(n),y={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:t,isHostObject:e,isHostProperty:n,areHostMethods:m,areHostObjects:g,areHostProperties:v,isTextRange:r},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};y.fail=o,y.warn=function(t){t="Rangy warning: "+t,y.config.alertOnWarn?window.alert(t):typeof window.console!=u&&typeof window.console.log!=u&&window.console.log(t)},{}.hasOwnProperty?y.util.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}:o("hasOwnProperty not supported");var _=[],b=[];y.init=s,y.addInitListener=function(t){y.initialized?t(y):_.push(t)};var w=[];y.addCreateMissingNativeApiListener=function(t){w.push(t)},y.createMissingNativeApi=function(t){t=t||window,s();for(var e=0,n=w.length;n>e;++e)w[e](t)},a.prototype.fail=function(t){throw this.initialized=!0,this.supported=!1,Error("Module '"+this.name+"' failed to load: "+t)},a.prototype.warn=function(t){y.warn("Module "+this.name+": "+t)},a.prototype.createError=function(t){return Error("Error in Rangy "+this.name+" module: "+t)},y.createModule=function(t,e){var n=new a(t);y.modules[t]=n,b.push(function(t){e(t,n),n.initialized=!0,n.supported=!0})},y.requireModules=function(t){for(var e,n,i=0,r=t.length;r>i;++i){if(n=t[i],!((e=y.modules[n])&&e instanceof a))throw Error("Module '"+n+"' not found");if(!e.supported)throw Error("Module '"+n+"' not supported")}};var x=!1,g=function(){x||(x=!0,y.initialized||s())};if(typeof window==u)o("No window found");else{if(typeof document!=u)return t(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",g,!1),t(window,"addEventListener")?window.addEventListener("load",g,!1):t(window,"attachEvent")?window.attachEvent("onload",g):o("Window does not have required addEventListener or attachEvent method"),y;o("No document found")}}(),rangy.createModule("DomUtil",function(t,e){function n(t){for(var e=0;t=t.previousSibling;)e++;return e}function i(t,e){var n,i=[];for(n=t;n;n=n.parentNode)i.push(n);for(n=e;n;n=n.parentNode)if(m(i,n))return n;return null}function r(t,e,n){for(n=n?t:t.parentNode;n;){if((t=n.parentNode)===e)return n;n=t}return null}function o(t){return 3==(t=t.nodeType)||4==t||8==t}function s(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t}function a(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=d)return t.ownerDocument;if(typeof t.document!=d)return t.document;if(t.parentNode)return a(t.parentNode);throw Error("getDocument: no document found for node")}function l(t){return t?o(t)?'"'+t.data+'"':1==t.nodeType?"<"+t.nodeName+(t.id?' id="'+t.id+'"':"")+">["+t.childNodes.length+"]":t.nodeName:"[No node]"}function c(t){this._next=this.root=t}function u(t,e){this.node=t,this.offset=e}function h(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}var d="undefined",p=t.util;p.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||e.fail("document missing a Node creation method"),p.isHostMethod(document,"getElementsByTagName")||e.fail("document missing getElementsByTagName method");var f=document.createElement("div");p.areHostMethods(f,["insertBefore","appendChild","cloneNode"])||e.fail("Incomplete Element implementation"),p.isHostProperty(f,"innerHTML")||e.fail("Element is missing innerHTML property"),f=document.createTextNode("test"),p.areHostMethods(f,["splitText","deleteData","insertData","appendData","cloneNode"])||e.fail("Incomplete Text Node implementation");var m=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1};c.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e=this._current=this._next;if(this._current){if(!(t=e.firstChild))for(t=null;e!==this.root&&!(t=e.nextSibling);)e=e.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},u.prototype={equals:function(t){return this.node===t.node&this.offset==t.offset},inspect:function(){return"[DomPosition("+l(this.node)+":"+this.offset+")]"}},(h.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11}).toString=function(){return this.message},t.dom={arrayContains:m,isHtmlNamespace:function(t){var e;return typeof t.namespaceURI==d||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e},parentElement:function(t){return 1==(t=t.parentNode).nodeType?t:null},getNodeIndex:n,getNodeLength:function(t){var e;return o(t)?t.length:(e=t.childNodes)?e.length:0},getCommonAncestor:i,isAncestorOf:function(t,e,n){for(e=n?e:e.parentNode;e;){if(e===t)return!0;e=e.parentNode}return!1},getClosestAncestorIn:r,isCharacterDataNode:o,insertAfter:s,splitDataNode:function(t,e){var n=t.cloneNode(!1);return n.deleteData(0,e),t.deleteData(e,t.length-e),s(n,t),n},getDocument:a,getWindow:function(t){if(typeof(t=a(t)).defaultView!=d)return t.defaultView;if(typeof t.parentWindow!=d)return t.parentWindow;throw Error("Cannot get a window object for node")},getIframeWindow:function(t){if(typeof t.contentWindow!=d)return t.contentWindow;if(typeof t.contentDocument!=d)return t.contentDocument.defaultView;throw Error("getIframeWindow: No Window object found for iframe element")},getIframeDocument:function(t){if(typeof t.contentDocument!=d)return t.contentDocument;if(typeof t.contentWindow!=d)return t.contentWindow.document;throw Error("getIframeWindow: No Document object found for iframe element")},getBody:function(t){return p.isHostObject(t,"body")?t.body:t.getElementsByTagName("body")[0]},getRootContainer:function(t){for(var e;e=t.parentNode;)t=e;return t},comparePoints:function(t,e,o,s){var a;if(t==o)return e===s?0:s>e?-1:1;if(a=r(o,t,!0))return e<=n(a)?-1:1;if(a=r(t,o,!0))return n(a)<s?-1:1;if(e=i(t,o),t=t===e?e:r(t,e,!0),o=o===e?e:r(o,e,!0),t===o)throw Error("comparePoints got to case 4 and childA and childB are the same!");for(e=e.firstChild;e;){if(e===t)return-1;if(e===o)return 1;e=e.nextSibling}throw Error("Should not be here!")},inspectNode:l,fragmentFromNodeChildren:function(t){for(var e,n=a(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n},createIterator:function(t){return new c(t)},DomPosition:u},t.DOMException=h}),rangy.createModule("DomRange",function(t){function e(t,e){return 3!=t.nodeType&&(N.isAncestorOf(t,e.startContainer,!0)||N.isAncestorOf(t,e.endContainer,!0))}function n(t){return N.getDocument(t.startContainer)}function i(t,e,n){if(e=t._listeners[e])for(var i=0,r=e.length;r>i;++i)e[i].call(t,{target:t,args:n})}function r(t){return new P(t.parentNode,N.getNodeIndex(t))}function o(t){return new P(t.parentNode,N.getNodeIndex(t)+1)}function s(t,e,n){var i=11==t.nodeType?t.firstChild:t;return N.isCharacterDataNode(e)?n==e.length?N.insertAfter(t,e):e.parentNode.insertBefore(t,0==n?e:N.splitDataNode(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),i}function a(t){for(var e,i,r=n(t.range).createDocumentFragment();i=t.next();){if(e=t.isPartiallySelectedSubtree(),i=i.cloneNode(!e),e&&(e=t.getSubtreeIterator(),i.appendChild(a(e)),e.detach(!0)),10==i.nodeType)throw new O("HIERARCHY_REQUEST_ERR");r.appendChild(i)}return r}function l(t,e,n){for(var i,r,n=n||{stop:!1};i=t.next();)if(t.isPartiallySelectedSubtree()){if(!1===e(i)){n.stop=!0;break}if(i=t.getSubtreeIterator(),l(i,e,n),i.detach(!0),n.stop)break}else for(i=N.createIterator(i);r=i.next();)if(!1===e(r))return void(n.stop=!0)}function c(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(e=t.getSubtreeIterator(),c(e),e.detach(!0)):t.remove()}function u(t){for(var e,i,r=n(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),i=t.getSubtreeIterator(),e.appendChild(u(i)),i.detach(!0)):t.remove(),10==e.nodeType)throw new O("HIERARCHY_REQUEST_ERR");r.appendChild(e)}return r}function h(t,e,n){var i,r=!(!e||!e.length),o=!!n;r&&(i=RegExp("^("+e.join("|")+")$"));var s=[];return l(new p(t,!1),function(t){(!r||i.test(t.nodeType))&&(!o||n(t))&&s.push(t)}),s}function d(t){return"["+(void 0===t.getName?"Range":t.getName())+"("+N.inspectNode(t.startContainer)+":"+t.startOffset+", "+N.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function p(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&N.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||N.isCharacterDataNode(this.sc)?N.getClosestAncestorIn(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||N.isCharacterDataNode(this.ec)?N.getClosestAncestorIn(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function f(t){this.code=this[t],this.codeName=t,this.message="RangeException: "+this.codeName}function m(t,e,n){this.nodes=h(t,e,n),this._next=this.nodes[0],this._position=0}function g(t){return function(e,n){for(var i,r=n?e:e.parentNode;r;){if(i=r.nodeType,N.arrayContains(t,i))return r;r=r.parentNode}return null}}function v(t,e){if(W(t,e))throw new f("INVALID_NODE_TYPE_ERR")}function y(t){if(!t.startContainer)throw new O("INVALID_STATE_ERR")}function _(t,e){if(!N.arrayContains(e,t.nodeType))throw new f("INVALID_NODE_TYPE_ERR")}function b(t,e){if(0>e||e>(N.isCharacterDataNode(t)?t.length:t.childNodes.length))throw new O("INDEX_SIZE_ERR")}function w(t,e){if(j(t,!0)!==j(e,!0))throw new O("WRONG_DOCUMENT_ERR")}function x(t){if($(t,!0))throw new O("NO_MODIFICATION_ALLOWED_ERR")}function S(t,e){if(!t)throw new O(e)}function k(t){if(y(t),!((N.arrayContains(R,t.startContainer.nodeType)||j(t.startContainer,!0))&&(N.arrayContains(R,t.endContainer.nodeType)||j(t.endContainer,!0))&&t.startOffset<=(N.isCharacterDataNode(t.startContainer)?t.startContainer.length:t.startContainer.childNodes.length)&&t.endOffset<=(N.isCharacterDataNode(t.endContainer)?t.endContainer.length:t.endContainer.childNodes.length)))throw Error("Range error: Range is no longer valid after DOM mutation ("+t.inspect()+")")}function C(){}function T(t){t.START_TO_START=V,t.START_TO_END=X,t.END_TO_END=G,t.END_TO_START=K,t.NODE_BEFORE=Q,t.NODE_AFTER=J,t.NODE_BEFORE_AND_AFTER=Z,t.NODE_INSIDE=tt}function D(t){T(t),T(t.prototype)}function M(t,e){return function(){k(this);var n=this.startContainer,i=this.startOffset,r=this.commonAncestorContainer,s=new p(this,!0);return n!==r&&(n=N.getClosestAncestorIn(n,r,!0),i=o(n),n=i.node,i=i.offset),l(s,x),s.reset(),r=t(s),s.detach(),e(this,n,i,n,i),r}}function E(n,i,s){function a(t,e){return function(n){y(this),_(n,Y),_(z(n),R),n=(t?r:o)(n),(e?l:h)(this,n.node,n.offset)}}function l(t,e,n){var r=t.endContainer,o=t.endOffset;(e!==t.startContainer||n!==t.startOffset)&&((z(e)!=z(r)||1==N.comparePoints(e,n,r,o))&&(r=e,o=n),i(t,e,n,r,o))}function h(t,e,n){var r=t.startContainer,o=t.startOffset;(e!==t.endContainer||n!==t.endOffset)&&((z(e)!=z(r)||-1==N.comparePoints(e,n,r,o))&&(r=e,o=n),i(t,r,o,e,n))}n.prototype=new C,t.util.extend(n.prototype,{setStart:function(t,e){y(this),v(t,!0),b(t,e),l(this,t,e)},setEnd:function(t,e){y(this),v(t,!0),b(t,e),h(this,t,e)},setStartBefore:a(!0,!0),setStartAfter:a(!1,!0),setEndBefore:a(!0,!1),setEndAfter:a(!1,!1),collapse:function(t){k(this),t?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){y(this),v(t,!0),i(this,t,0,t,N.getNodeLength(t))},selectNode:function(t){y(this),v(t,!1),_(t,Y);var e=r(t),t=o(t);i(this,e.node,e.offset,t.node,t.offset)},extractContents:M(u,i),deleteContents:M(c,i),canSurroundContents:function(){k(this),x(this.startContainer),x(this.endContainer);var t=new p(this,!0),n=t._first&&e(t._first,this)||t._last&&e(t._last,this);return t.detach(),!n},detach:function(){s(this)},splitBoundaries:function(){k(this);var t=this.startContainer,e=this.startOffset,n=this.endContainer,r=this.endOffset,o=t===n;N.isCharacterDataNode(n)&&r>0&&r<n.length&&N.splitDataNode(n,r),N.isCharacterDataNode(t)&&e>0&&e<t.length&&(t=N.splitDataNode(t,e),o?(r-=e,n=t):n==t.parentNode&&r>=N.getNodeIndex(t)&&r++,e=0),i(this,t,e,n,r)},normalizeBoundaries:function(){k(this);var t=this.startContainer,e=this.startOffset,n=this.endContainer,r=this.endOffset,o=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(n=t,r=t.length,t.appendData(e.data),e.parentNode.removeChild(e))},s=function(i){var o=i.previousSibling;if(o&&o.nodeType==i.nodeType){t=i;var s=i.length;e=o.length,i.insertData(0,o.data),o.parentNode.removeChild(o),t==n?(r+=e,n=t):n==i.parentNode&&(o=N.getNodeIndex(i),r==o?(n=i,r=s):r>o&&r--)}},a=!0;N.isCharacterDataNode(n)?n.length==r&&o(n):(r>0&&(a=n.childNodes[r-1])&&N.isCharacterDataNode(a)&&o(a),a=!this.collapsed),a?N.isCharacterDataNode(t)?0==e&&s(t):e<t.childNodes.length&&(o=t.childNodes[e])&&N.isCharacterDataNode(o)&&s(o):(t=n,e=r),i(this,t,e,n,r)},collapseToPoint:function(t,e){y(this),v(t,!0),b(t,e),(t!==this.startContainer||e!==this.startOffset||t!==this.endContainer||e!==this.endOffset)&&i(this,t,e,t,e)}}),D(n)}function L(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:N.getCommonAncestor(t.startContainer,t.endContainer)}function A(t,e,n,r,o){var s=t.startContainer!==e||t.startOffset!==n,a=t.endContainer!==r||t.endOffset!==o;t.startContainer=e,t.startOffset=n,t.endContainer=r,t.endOffset=o,L(t),i(t,"boundarychange",{startMoved:s,endMoved:a})}function I(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},L(this)}t.requireModules(["DomUtil"]);var N=t.dom,P=N.DomPosition,O=t.DOMException;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,N.isCharacterDataNode(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,n=this._current;!N.isCharacterDataNode(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(t=n===this.sc?this.so:0,e=n===this.ec?this.eo:n.length,t!=e&&n.deleteData(t,e-t))},isPartiallySelectedSubtree:function(){return e(this._current,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)(t=this.range.cloneRange()).collapse();else{t=new I(n(this.range));var e=this._current,i=e,r=0,o=e,s=N.getNodeLength(e);N.isAncestorOf(e,this.sc,!0)&&(i=this.sc,r=this.so),N.isAncestorOf(e,this.ec,!0)&&(o=this.ec,s=this.eo),A(t,i,r,o,s)}return new p(t,this.clonePartiallySelectedTextNodes)},detach:function(t){t&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},f.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},f.prototype.toString=function(){return this.message},m.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var Y=[1,3,4,5,7,8,10],R=[2,9,11],F=[1,3,4,5,7,8,10,11],H=[1,3,4,5,7,8],z=N.getRootContainer,j=g([9,11]),$=g([5,6,10,12]),W=g([6,10,12]),B=document.createElement("style"),U=!1;try{B.innerHTML="<b>x</b>",U=3==B.firstChild.nodeType}catch(t){}t.features.htmlParsingConforms=U;var q="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" "),V=0,X=1,G=2,K=3,Q=0,J=1,Z=2,tt=3;C.prototype={attachListener:function(t,e){this._listeners[t].push(e)},compareBoundaryPoints:function(t,e){k(this),w(this.startContainer,e.startContainer);var n=t==K||t==V?"start":"end",i=t==X||t==V?"start":"end";return N.comparePoints(this[n+"Container"],this[n+"Offset"],e[i+"Container"],e[i+"Offset"])},insertNode:function(t){if(k(this),_(t,F),x(this.startContainer),N.isAncestorOf(t,this.startContainer,!0))throw new O("HIERARCHY_REQUEST_ERR");this.setStartBefore(s(t,this.startContainer,this.startOffset))},cloneContents:function(){k(this);var t,e;return this.collapsed?n(this).createDocumentFragment():this.startContainer===this.endContainer&&N.isCharacterDataNode(this.startContainer)?(t=this.startContainer.cloneNode(!0),t.data=t.data.slice(this.startOffset,this.endOffset),(e=n(this).createDocumentFragment()).appendChild(t),e):(e=new p(this,!0),t=a(e),e.detach(),t)},canSurroundContents:function(){k(this),x(this.startContainer),x(this.endContainer);var t=new p(this,!0),n=t._first&&e(t._first,this)||t._last&&e(t._last,this);return t.detach(),!n},surroundContents:function(t){if(_(t,H),!this.canSurroundContents())throw new f("BAD_BOUNDARYPOINTS_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);s(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){k(this);for(var t,e=new I(n(this)),i=q.length;i--;)t=q[i],e[t]=this[t];return e},toString:function(){k(this);var t=this.startContainer;if(t===this.endContainer&&N.isCharacterDataNode(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[];return l(t=new p(this,!0),function(t){(3==t.nodeType||4==t.nodeType)&&e.push(t.data)}),t.detach(),e.join("")},compareNode:function(t){k(this);var e=t.parentNode,n=N.getNodeIndex(t);if(!e)throw new O("NOT_FOUND_ERR");return t=this.comparePoint(e,n),e=this.comparePoint(e,n+1),0>t?e>0?Z:Q:e>0?J:tt},comparePoint:function(t,e){return k(this),S(t,"HIERARCHY_REQUEST_ERR"),w(t,this.startContainer),0>N.comparePoints(t,e,this.startContainer,this.startOffset)?-1:0<N.comparePoints(t,e,this.endContainer,this.endOffset)?1:0},createContextualFragment:U?function(t){var e=this.startContainer,n=N.getDocument(e);if(!e)throw new O("INVALID_STATE_ERR");var i=null;return 1==e.nodeType?i=e:N.isCharacterDataNode(e)&&(i=N.parentElement(e)),i=null===i||"HTML"==i.nodeName&&N.isHtmlNamespace(N.getDocument(i).documentElement)&&N.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1),i.innerHTML=t,N.fragmentFromNodeChildren(i)}:function(t){y(this);var e=n(this).createElement("body");return e.innerHTML=t,N.fragmentFromNodeChildren(e)},toHtml:function(){k(this);var t=n(this).createElement("div");return t.appendChild(this.cloneContents()),t.innerHTML},intersectsNode:function(t,e){if(k(this),S(t,"NOT_FOUND_ERR"),N.getDocument(t)!==n(this))return!1;var i=t.parentNode,r=N.getNodeIndex(t);S(i,"NOT_FOUND_ERR");var o=N.comparePoints(i,r,this.endContainer,this.endOffset),i=N.comparePoints(i,r+1,this.startContainer,this.startOffset);return e?0>=o&&i>=0:0>o&&i>0},isPointInRange:function(t,e){return k(this),S(t,"HIERARCHY_REQUEST_ERR"),w(t,this.startContainer),0<=N.comparePoints(t,e,this.startContainer,this.startOffset)&&0>=N.comparePoints(t,e,this.endContainer,this.endOffset)},intersectsRange:function(t,e){if(k(this),n(t)!=n(this))throw new O("WRONG_DOCUMENT_ERR");var i=N.comparePoints(this.startContainer,this.startOffset,t.endContainer,t.endOffset),r=N.comparePoints(this.endContainer,this.endOffset,t.startContainer,t.startOffset);return e?0>=i&&r>=0:0>i&&r>0},intersection:function(t){if(this.intersectsRange(t)){var e=N.comparePoints(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=N.comparePoints(this.endContainer,this.endOffset,t.endContainer,t.endOffset),i=this.cloneRange();return-1==e&&i.setStart(t.startContainer,t.startOffset),1==n&&i.setEnd(t.endContainer,t.endOffset),i}return null},union:function(t){if(this.intersectsRange(t,!0)){var e=this.cloneRange();return-1==N.comparePoints(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==N.comparePoints(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new f("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==tt},containsNodeContents:function(t){return 0<=this.comparePoint(t,0)&&0>=this.comparePoint(t,N.getNodeLength(t))},containsRange:function(t){return this.intersection(t).equals(t)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);return 0<n.length?(e.setStart(n[0],0),t=n.pop(),e.setEnd(t,t.length),t=this.containsRange(e),e.detach(),t):this.containsNodeContents(t)},createNodeIterator:function(t,e){return k(this),new m(this,t,e)},getNodes:function(t,e){return k(this),h(this,t,e)},getDocument:function(){return n(this)},collapseBefore:function(t){y(this),this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){y(this),this.setStartAfter(t),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(t){return I.rangesEqual(this,t)},inspect:function(){return d(this)}},E(I,A,function(t){y(t),t.startContainer=t.startOffset=t.endContainer=t.endOffset=null,t.collapsed=t.commonAncestorContainer=null,i(t,"detach",null),t._listeners=null}),t.rangePrototype=C.prototype,I.rangeProperties=q,I.RangeIterator=p,I.copyComparisonConstants=D,I.createPrototypeRange=E,I.inspect=d,I.getRangeDocument=n,I.rangesEqual=function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},t.DomRange=I,t.RangeException=f}),rangy.createModule("WrappedRange",function(t){function e(t,e,n,i){var s=t.duplicate();s.collapse(n);var a=s.parentElement();if(r.isAncestorOf(e,a,!0)||(a=e),!a.canHaveHTML)return new o(a.parentNode,r.getNodeIndex(a));var l,e=r.getDocument(a).createElement("span"),c=n?"StartToStart":"StartToEnd";do{a.insertBefore(e,e.previousSibling),s.moveToElementText(e)}while(0<(l=s.compareEndPoints(c,t))&&e.previousSibling);if(c=e.nextSibling,-1==l&&c&&r.isCharacterDataNode(c)){if(s.setEndPoint(n?"EndToStart":"EndToEnd",t),/[\r\n]/.test(c.data))for(a=s.duplicate(),n=a.text.replace(/\r\n/g,"\r").length,n=a.moveStart("character",n);-1==a.compareEndPoints("StartToEnd",a);)n++,a.moveStart("character",1);else n=s.text.length;a=new o(c,n)}else c=(i||!n)&&e.previousSibling,a=(n=(i||n)&&e.nextSibling)&&r.isCharacterDataNode(n)?new o(n,0):c&&r.isCharacterDataNode(c)?new o(c,c.length):new o(a,r.getNodeIndex(e));return e.parentNode.removeChild(e),a}function n(t,e){var n,i,o=t.offset,s=r.getDocument(t.node),a=s.body.createTextRange(),l=r.isCharacterDataNode(t.node);return l?(n=t.node,i=n.parentNode):(n=t.node.childNodes,n=o<n.length?n[o]:null,i=t.node),s=s.createElement("span"),s.innerHTML="&#feff;",n?i.insertBefore(s,n):i.appendChild(s),a.moveToElementText(s),a.collapse(!e),i.removeChild(s),l&&a[e?"moveStart":"moveEnd"]("character",o),a}t.requireModules(["DomUtil","DomRange"]);var i,r=t.dom,o=r.DomPosition,s=t.DomRange;if(!t.features.implementsDomRange||t.features.implementsTextRange&&t.config.preferTextRange){if(t.features.implementsTextRange){(i=function(t){this.textRange=t,this.refresh()}).prototype=new s(document),i.prototype.refresh=function(){var t,n,i=this.textRange;t=i.parentElement();var o=i.duplicate();o.collapse(!0),n=o.parentElement(),(o=i.duplicate()).collapse(!1),n=(n=n==(i=o.parentElement())?n:r.getCommonAncestor(n,i))==t?n:r.getCommonAncestor(t,n),0==this.textRange.compareEndPoints("StartToEnd",this.textRange)?n=t=e(this.textRange,n,!0,!0):(t=e(this.textRange,n,!0,!1),n=e(this.textRange,n,!1,!1)),this.setStart(t.node,t.offset),this.setEnd(n.node,n.offset)},s.copyComparisonConstants(i);var a=function(){return this}();void 0===a.Range&&(a.Range=i),t.createNativeRange=function(t){return(t=t||document).body.createTextRange()}}}else(function(){function e(t){for(var e,n=a.length;n--;)e=a[n],t[e]=t.nativeRange[e]}var n,o,a=s.rangeProperties;i=function(t){if(!t)throw Error("Range must be specified");this.nativeRange=t,e(this)},s.createPrototypeRange(i,function(t,e,n,i,r){var o=t.endContainer!==i||t.endOffset!=r;(t.startContainer!==e||t.startOffset!=n||o)&&(t.setEnd(i,r),t.setStart(e,n))},function(t){t.nativeRange.detach(),t.detached=!0;for(var e,n=a.length;n--;)e=a[n],t[e]=null}),(n=i.prototype).selectNode=function(t){this.nativeRange.selectNode(t),e(this)},n.deleteContents=function(){this.nativeRange.deleteContents(),e(this)},n.extractContents=function(){var t=this.nativeRange.extractContents();return e(this),t},n.cloneContents=function(){return this.nativeRange.cloneContents()},n.surroundContents=function(t){this.nativeRange.surroundContents(t),e(this)},n.collapse=function(t){this.nativeRange.collapse(t),e(this)},n.cloneRange=function(){return new i(this.nativeRange.cloneRange())},n.refresh=function(){e(this)},n.toString=function(){return this.nativeRange.toString()};var l=document.createTextNode("test");r.getBody(document).appendChild(l);var c=document.createRange();c.setStart(l,0),c.setEnd(l,0);try{c.setStart(l,1),n.setStart=function(t,n){this.nativeRange.setStart(t,n),e(this)},n.setEnd=function(t,n){this.nativeRange.setEnd(t,n),e(this)},o=function(t){return function(n){this.nativeRange[t](n),e(this)}}}catch(t){n.setStart=function(t,n){try{this.nativeRange.setStart(t,n)}catch(e){this.nativeRange.setEnd(t,n),this.nativeRange.setStart(t,n)}e(this)},n.setEnd=function(t,n){try{this.nativeRange.setEnd(t,n)}catch(e){this.nativeRange.setStart(t,n),this.nativeRange.setEnd(t,n)}e(this)},o=function(t,n){return function(i){try{this.nativeRange[t](i)}catch(e){this.nativeRange[n](i),this.nativeRange[t](i)}e(this)}}}n.setStartBefore=o("setStartBefore","setEndBefore"),n.setStartAfter=o("setStartAfter","setEndAfter"),n.setEndBefore=o("setEndBefore","setStartBefore"),n.setEndAfter=o("setEndAfter","setStartAfter"),c.selectNodeContents(l),n.selectNodeContents=c.startContainer==l&&c.endContainer==l&&0==c.startOffset&&c.endOffset==l.length?function(t){this.nativeRange.selectNodeContents(t),e(this)}:function(t){this.setStart(t,0),this.setEnd(t,s.getEndOffset(t))},c.selectNodeContents(l),c.setEnd(l,3),(o=document.createRange()).selectNodeContents(l),o.setEnd(l,4),o.setStart(l,2),n.compareBoundaryPoints=-1==c.compareBoundaryPoints(c.START_TO_END,o)&1==c.compareBoundaryPoints(c.END_TO_START,o)?function(t,e){return e=e.nativeRange||e,t==e.START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)},t.util.isHostMethod(c,"createContextualFragment")&&(n.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),r.getBody(document).removeChild(l),c.detach(),o.detach()})(),t.createNativeRange=function(t){return(t=t||document).createRange()};t.features.implementsTextRange&&(i.rangeToTextRange=function(t){if(t.collapsed)return n(new o(t.startContainer,t.startOffset),!0);var e=n(new o(t.startContainer,t.startOffset),!0),i=n(new o(t.endContainer,t.endOffset),!1);return(t=r.getDocument(t.startContainer).body.createTextRange()).setEndPoint("StartToStart",e),t.setEndPoint("EndToEnd",i),t}),i.prototype.getName=function(){return"WrappedRange"},t.WrappedRange=i,t.createRange=function(e){return e=e||document,new i(t.createNativeRange(e))},t.createRangyRange=function(t){return t=t||document,new s(t)},t.createIframeRange=function(e){return t.createRange(r.getIframeDocument(e))},t.createIframeRangyRange=function(e){return t.createRangyRange(r.getIframeDocument(e))},t.addCreateMissingNativeApiListener(function(e){void 0===(e=e.document).createRange&&(e.createRange=function(){return t.createRange(this)}),e=e=null})}),rangy.createModule("WrappedSelection",function(t,e){function n(t){return(t||window).document.selection}function i(t,e,n){var i=n?"end":"start",n=n?"start":"end";t.anchorNode=e[i+"Container"],t.anchorOffset=e[i+"Offset"],t.focusNode=e[n+"Container"],t.focusOffset=e[n+"Offset"]}function r(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function o(e){var n;return e instanceof y?(n=e._selectionNativeRange)||((n=t.createNativeRange(g.getDocument(e.startContainer))).setEnd(e.endContainer,e.endOffset),n.setStart(e.startContainer,e.startOffset),e._selectionNativeRange=n,e.attachListener("detach",function(){this._selectionNativeRange=null})):e instanceof _?n=e.nativeRange:t.features.implementsDomRange&&e instanceof g.getWindow(e.startContainer).Range&&(n=e),n}function s(t){var e,n=t.getNodes();t:if(n.length&&1==n[0].nodeType){e=1;for(var i=n.length;i>e;++e)if(!g.isAncestorOf(n[0],n[e])){e=!1;break t}e=!0}else e=!1;if(!e)throw Error("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return n[0]}function a(t,e){var n=new _(e);t._ranges=[n],i(t,n,!1),t.rangeCount=1,t.isCollapsed=n.collapsed}function l(e){if(e._ranges.length=0,"None"==e.docSelection.type)r(e);else{var n=e.docSelection.createRange();if(n&&void 0!==n.text)a(e,n);else{e.rangeCount=n.length;for(var o,s=g.getDocument(n.item(0)),l=0;l<e.rangeCount;++l)(o=t.createRange(s)).selectNode(n.item(l)),e._ranges.push(o);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,i(e,e._ranges[e.rangeCount-1],!1)}}}function c(t,e){for(var n=t.docSelection.createRange(),i=s(e),r=g.getDocument(n.item(0)),r=g.getBody(r).createControlRange(),o=0,a=n.length;a>o;++o)r.add(n.item(o));try{r.add(i)}catch(t){throw Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}r.select(),l(t)}function u(t,e,n){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=n,this.refresh()}function h(t,e){for(var n,i=g.getDocument(e[0].startContainer),i=g.getBody(i).createControlRange(),r=0;rangeCount>r;++r){n=s(e[r]);try{i.add(n)}catch(t){throw Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}i.select(),l(t)}function d(t,e){if(t.anchorNode&&g.getDocument(t.anchorNode)!==g.getDocument(e))throw new b("WRONG_DOCUMENT_ERR")}function p(t){var e=[],n=new w(t.anchorNode,t.anchorOffset),i=new w(t.focusNode,t.focusOffset),r="function"==typeof t.getName?t.getName():"Selection";if(void 0!==t.rangeCount)for(var o=0,s=t.rangeCount;s>o;++o)e[o]=y.inspect(t.getRangeAt(o));return"["+r+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}t.requireModules(["DomUtil","DomRange","WrappedRange"]),t.config.checkSelectionRanges=!0;var f,m,g=t.dom,v=t.util,y=t.DomRange,_=t.WrappedRange,b=t.DOMException,w=g.DomPosition,x=t.util.isHostMethod(window,"getSelection"),S=t.util.isHostObject(document,"selection"),k=S&&(!x||t.config.preferTextRange);k?(f=n,t.isSelectionValid=function(t){var e=(t=(t||window).document).selection;return"None"!=e.type||g.getDocument(e.createRange().parentElement())==t}):x?(f=function(t){return(t||window).getSelection()},t.isSelectionValid=function(){return!0}):e.fail("Neither document.selection or window.getSelection() detected."),t.getNativeSelection=f;var x=f(),C=t.createNativeRange(document),T=g.getBody(document),D=v.areHostObjects(x,v.areHostProperties(x,["anchorOffset","focusOffset"]));t.features.selectionHasAnchorAndFocus=D;var M=v.isHostMethod(x,"extend");t.features.selectionHasExtend=M;var E="number"==typeof x.rangeCount;t.features.selectionHasRangeCount=E;var L=!1,A=!0;v.areHostMethods(x,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof x.rangeCount&&t.features.implementsDomRange&&function(){var t=document.createElement("iframe");T.appendChild(t);var e=g.getIframeDocument(t);e.open(),e.write("<html><head></head><body>12</body></html>"),e.close();var n=g.getIframeWindow(t).getSelection(),i=e.documentElement.lastChild.firstChild;(e=e.createRange()).setStart(i,1),e.collapse(!0),n.addRange(e),A=1==n.rangeCount,n.removeAllRanges();var r=e.cloneRange();e.setStart(i,0),r.setEnd(i,2),n.addRange(e),n.addRange(r),L=2==n.rangeCount,e.detach(),r.detach(),T.removeChild(t)}(),t.features.selectionSupportsMultipleRanges=L,t.features.collapsedNonEditableSelectionsSupported=A;var I,N=!1;T&&v.isHostMethod(T,"createControlRange")&&(I=T.createControlRange(),v.areHostProperties(I,["item","add"])&&(N=!0)),t.features.implementsControlRange=N,m=D?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return!!t.rangeCount&&t.getRangeAt(t.rangeCount-1).collapsed};var P;if(v.isHostMethod(x,"getRangeAt")?P=function(t,e){try{return t.getRangeAt(e)}catch(t){return null}}:D&&(P=function(e){var n=g.getDocument(e.anchorNode);return(n=t.createRange(n)).setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.collapsed!==this.isCollapsed&&(n.setStart(e.focusNode,e.focusOffset),n.setEnd(e.anchorNode,e.anchorOffset)),n}),t.getSelection=function(t){var e=(t=t||window)._rangySelection,i=f(t),r=S?n(t):null;return e?(e.nativeSelection=i,e.docSelection=r,e.refresh(t)):(e=new u(i,r,t),t._rangySelection=e),e},t.getIframeSelection=function(e){return t.getSelection(g.getIframeWindow(e))},I=u.prototype,!k&&D&&v.areHostMethods(x,["removeAllRanges","addRange"])){I.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),r(this)};var O=function(e,n){var i=y.getRangeDocument(n);(i=t.createRange(i)).collapseToPoint(n.endContainer,n.endOffset),e.nativeSelection.addRange(o(i)),e.nativeSelection.extend(n.startContainer,n.startOffset),e.refresh()};I.addRange=E?function(e,n){if(N&&S&&"Control"==this.docSelection.type)c(this,e);else if(n&&M)O(this,e);else{var r;L?r=this.rangeCount:(this.removeAllRanges(),r=0),this.nativeSelection.addRange(o(e)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==r+1?(t.config.checkSelectionRanges&&(r=P(this.nativeSelection,this.rangeCount-1))&&!y.rangesEqual(r,e)&&(e=new _(r)),this._ranges[this.rangeCount-1]=e,i(this,e,F(this.nativeSelection)),this.isCollapsed=m(this)):this.refresh()}}:function(t,e){e&&M?O(this,t):(this.nativeSelection.addRange(o(t)),this.refresh())},I.setRanges=function(t){if(N&&t.length>1)h(this,t);else{this.removeAllRanges();for(var e=0,n=t.length;n>e;++e)this.addRange(t[e])}}}else{if(!(v.isHostMethod(x,"empty")&&v.isHostMethod(C,"select")&&N&&k))return e.fail("No means of selecting a Range or TextRange was found"),!1;I.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=g.getDocument(this.anchorNode);else if("Control"==this.docSelection.type){var e=this.docSelection.createRange();e.length&&(t=g.getDocument(e.item(0)).body.createTextRange())}t&&(t.body.createTextRange().select(),this.docSelection.empty())}}catch(t){}r(this)},I.addRange=function(t){"Control"==this.docSelection.type?c(this,t):(_.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,i(this,t,!1))},I.setRanges=function(t){this.removeAllRanges();var e=t.length;e>1?h(this,t):e&&this.addRange(t[0])}}I.getRangeAt=function(t){if(0>t||t>=this.rangeCount)throw new b("INDEX_SIZE_ERR");return this._ranges[t]};var Y;if(k)Y=function(e){var n;t.isSelectionValid(e.win)?n=e.docSelection.createRange():(n=g.getBody(e.win.document).createTextRange()).collapse(!0),"Control"==e.docSelection.type?l(e):n&&void 0!==n.text?a(e,n):r(e)};else if(v.isHostMethod(x,"getRangeAt")&&"number"==typeof x.rangeCount)Y=function(e){if(N&&S&&"Control"==e.docSelection.type)l(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var n=0,o=e.rangeCount;o>n;++n)e._ranges[n]=new t.WrappedRange(e.nativeSelection.getRangeAt(n));i(e,e._ranges[e.rangeCount-1],F(e.nativeSelection)),e.isCollapsed=m(e)}else r(e)};else{if(!D||"boolean"!=typeof x.isCollapsed||"boolean"!=typeof C.collapsed||!t.features.implementsDomRange)return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;Y=function(t){var e;(e=t.nativeSelection).anchorNode?(e=P(e,0),t._ranges=[e],t.rangeCount=1,e=t.nativeSelection,t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset,t.isCollapsed=m(t)):r(t)}}I.refresh=function(t){var e=t?this._ranges.slice(0):null;if(Y(this),t){if((t=e.length)!=this._ranges.length)return!1;for(;t--;)if(!y.rangesEqual(e[t],this._ranges[t]))return!1;return!0}};var R=function(t,e){var n=t.getAllRanges(),i=!1;t.removeAllRanges();for(var o=0,s=n.length;s>o;++o)i||e!==n[o]?t.addRange(n[o]):i=!0;t.rangeCount||r(t)};I.removeRange=N?function(t){if("Control"==this.docSelection.type){for(var e=this.docSelection.createRange(),t=s(t),n=g.getDocument(e.item(0)),n=g.getBody(n).createControlRange(),i=!1,r=0,o=e.length;o>r;++r)e.item(r)!==t||i?n.add(e.item(r)):i=!0;n.select(),l(this)}else R(this,t)}:function(t){R(this,t)};var F;!k&&D&&t.features.implementsDomRange?(F=function(t){var e=!1;return t.anchorNode&&(e=1==g.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e},I.isBackwards=function(){return F(this)}):F=I.isBackwards=function(){return!1},I.toString=function(){for(var t=[],e=0,n=this.rangeCount;n>e;++e)t[e]=""+this._ranges[e];return t.join("")},I.collapse=function(e,n){d(this,e);var i=t.createRange(g.getDocument(e));i.collapseToPoint(e,n),this.removeAllRanges(),this.addRange(i),this.isCollapsed=!0},I.collapseToStart=function(){if(!this.rangeCount)throw new b("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},I.collapseToEnd=function(){if(!this.rangeCount)throw new b("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},I.selectAllChildren=function(e){d(this,e);var n=t.createRange(g.getDocument(e));n.selectNodeContents(e),this.removeAllRanges(),this.addRange(n)},I.deleteFromDocument=function(){if(N&&S&&"Control"==this.docSelection.type){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),t.parentNode.removeChild(t);this.refresh()}else if(this.rangeCount){e=this.getAllRanges(),this.removeAllRanges(),t=0;for(var n=e.length;n>t;++t)e[t].deleteContents();this.addRange(e[n-1])}},I.getAllRanges=function(){return this._ranges.slice(0)},I.setSingleRange=function(t){this.setRanges([t])},I.containsNode=function(t,e){for(var n=0,i=this._ranges.length;i>n;++n)if(this._ranges[n].containsNode(t,e))return!0;return!1},I.toHtml=function(){t="";if(this.rangeCount){for(var t=y.getRangeDocument(this._ranges[0]).createElement("div"),e=0,n=this._ranges.length;n>e;++e)t.appendChild(this._ranges[e].cloneContents());t=t.innerHTML}return t},I.getName=function(){return"WrappedSelection"},I.inspect=function(){return p(this)},I.detach=function(){this.win=this.anchorNode=this.focusNode=this.win._rangySelection=null},u.inspect=p,t.Selection=u,t.selectionPrototype=I,t.addCreateMissingNativeApiListener(function(e){void 0===e.getSelection&&(e.getSelection=function(){return t.getSelection(this)}),e=null})});var Base=function(){};Base.extend=function(t,e){var n=Base.prototype.extend;Base._prototyping=!0;var i=new this;n.call(i,t),i.base=function(){},delete Base._prototyping;var r=i.constructor,o=i.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,r.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],i)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=i,o.toString=this.toString,o.valueOf=function(t){return"object"==t?o:r.valueOf()},n.call(o,e),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(t,e){if(1<arguments.length){var n=this[t];if(n&&"function"==typeof e&&(!n.valueOf||n.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var i=e.valueOf();(e=function(){var t=this.base||Base.prototype.base;this.base=n;var e=i.apply(this,arguments);return this.base=t,e}).valueOf=function(t){return"object"==t?e:i},e.toString=Base.toString}this[t]=e}else if(t){var r=Base.prototype.extend;!Base._prototyping&&"function"!=typeof this&&(r=this.extend||r);for(var o={toSource:null},s=["constructor","toString","valueOf"],a=Base._prototyping?0:1;l=s[a++];)t[l]!=o[l]&&r.call(this,l,t[l]);for(var l in t)o[l]||r.call(this,l,t[l])}return this}},Base=Base.extend({constructor:function(t){this.extend(t)}},{ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var i in t)void 0===this.prototype[i]&&e.call(n,t[i],i,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return""+this.valueOf()}}),wysihtml5.browser=function(){var t=navigator.userAgent,e=document.createElement("div"),n=-1!==t.indexOf("MSIE")&&-1===t.indexOf("Opera"),i=-1!==t.indexOf("Gecko")&&-1===t.indexOf("KHTML"),r=-1!==t.indexOf("AppleWebKit/"),o=-1!==t.indexOf("Chrome/"),s=-1!==t.indexOf("Opera/");return{USER_AGENT:t,supported:function(){var t=this.USER_AGENT.toLowerCase(),n="contentEditable"in e,i=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,r=document.querySelector&&document.querySelectorAll,t=this.isIos()&&5>(/ipad|iphone|ipod/.test(t)&&t.match(/ os (\d+).+? like mac os x/)||[,0])[1]||-1!==t.indexOf("opera mobi")||-1!==t.indexOf("hpwos/");return n&&i&&r&&!t},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var t=this.USER_AGENT.toLowerCase();return-1!==t.indexOf("webkit")&&-1!==t.indexOf("mobile")},supportsSandboxedIframes:function(){return n},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!i},hasCurrentStyleProperty:function(){return"currentStyle"in e},insertsLineBreaksOnReturn:function(){return i},supportsPlaceholderAttributeOn:function(t){return"placeholder"in t},supportsEvent:function(t){var n;return(n="on"+t in e)||(e.setAttribute("on"+t,"return;"),n="function"==typeof e["on"+t]),n},supportsEventsInIframeCorrectly:function(){return!s},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return r||i},supportsDataTransfer:function(){try{return r&&(window.Clipboard||window.DataTransfer).prototype.getData}catch(t){return!1}},supportsHTML5Tags:function(t){return t=t.createElement("div"),t.innerHTML="<article>foo</article>","<article>foo</article>"===t.innerHTML.toLowerCase()},supportsCommand:function(){var t={formatBlock:n,insertUnorderedList:n||s||r,insertOrderedList:n||s||r},e={insertHTML:i};return function(n,i){if(!t[i]){try{return n.queryCommandSupported(i)}catch(t){}try{return n.queryCommandEnabled(i)}catch(t){return!!e[i]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return n},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return i||s||r},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return i||n||s},clearsListsInContentEditableCorrectly:function(){return i||n||r},autoScrollsToCaret:function(){return!r},autoClosesUnclosedTags:function(){var t,n=e.cloneNode(!1);return n.innerHTML="<p><div></div>",n=n.innerHTML.toLowerCase(),t="<p></p><div></div>"===n||"<p><div></div></p>"===n,this.autoClosesUnclosedTags=function(){return t},t},supportsNativeGetElementsByClassName:function(){return-1!==(""+document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},supportsClassList:function(){return"classList"in e},needsSpaceAfterLineBreak:function(){return s},supportsSpeechApiOn:function(e){return 11<=(t.match(/Chrome\/(\d+)/)||[,0])[1]&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(t){return n&&("XMLHttpRequest"===t||"XDomainRequest"===t)},doesAsyncFocus:function(){return n},hasProblemsSettingCaretAfterImg:function(){return n},hasUndoInContextMenu:function(){return i||o||s}}}(),wysihtml5.lang.array=function(t){return{contains:function(e){if(t.indexOf)return-1!==t.indexOf(e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return!0;return!1},without:function(e){for(var e=wysihtml5.lang.array(e),n=[],i=0,r=t.length;r>i;i++)e.contains(t[i])||n.push(t[i]);return n},get:function(){for(var e=0,n=t.length,i=[];n>e;e++)i.push(t[e]);return i}}},wysihtml5.lang.Dispatcher=Base.extend({observe:function(t,e){return this.events=this.events||{},this.events[t]=this.events[t]||[],this.events[t].push(e),this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(t,e){this.events=this.events||{};for(var n=this.events[t]||[],i=0;i<n.length;i++)n[i].call(this,e);return this},stopObserving:function(t,e){this.events=this.events||{};var n,i,r=0;if(t){for(n=this.events[t]||[],i=[];r<n.length;r++)n[r]!==e&&e&&i.push(n[r]);this.events[t]=i}else this.events={};return this}}),wysihtml5.lang.object=function(t){return{merge:function(e){for(var n in e)t[n]=e[n];return this},get:function(){return t},clone:function(){var e,n={};for(e in t)n[e]=t[e];return n},isArray:function(){return"[object Array]"===Object.prototype.toString.call(t)}}},function(){var t=/^\s+/,e=/\s+$/;wysihtml5.lang.string=function(n){return n=""+n,{trim:function(){return n.replace(t,"").replace(e,"")},interpolate:function(t){for(var e in t)n=this.replace("#{"+e+"}").by(t[e]);return n},replace:function(t){return{by:function(e){return n.split(t).join(e)}}}}}}(),function(t){function e(t){return t.replace(r,function(t,e){var n=(e.match(o)||[])[1]||"",i=a[n];(e=e.replace(o,"")).split(i).length>e.split(n).length&&(e+=n,n="");var r=i=e;return e.length>s&&(r=r.substr(0,s)+"..."),"www."===i.substr(0,4)&&(i="http://"+i),'<a href="'+i+'">'+r+"</a>"+n})}function n(o){if(!i.contains(o.nodeName)){if(o.nodeType!==t.TEXT_NODE||!o.data.match(r)){for(s=(a=t.lang.array(o.childNodes).get()).length,l=0;s>l;l++)n(a[l]);return o}var s,a=o.parentNode,l=(s=a.ownerDocument)._wysihtml5_tempElement;for(l||(l=s._wysihtml5_tempElement=s.createElement("div")),(s=l).innerHTML="<span></span>"+e(o.data),s.removeChild(s.firstChild);s.firstChild;)a.insertBefore(s.firstChild,o);a.removeChild(o)}}var i=t.lang.array("CODE PRE A SCRIPT HEAD TITLE STYLE".split(" ")),r=/((https?:\/\/|www\.)[^\s<]{3,})/gi,o=/([^\w\/\-](,?))$/i,s=100,a={")":"(","]":"[","}":"{"};t.dom.autoLink=function(t){var e;t:{e=t;for(var r;e.parentNode;){if(e=e.parentNode,r=e.nodeName,i.contains(r)){e=!0;break t}if("body"===r)break}e=!1}return e?t:(t===t.ownerDocument.documentElement&&(t=t.ownerDocument.body),n(t))},t.dom.autoLink.URL_REG_EXP=r}(wysihtml5),function(t){var e=t.browser.supportsClassList(),n=t.dom;n.addClass=function(t,i){return e?t.classList.add(i):void(n.hasClass(t,i)||(t.className+=" "+i))},n.removeClass=function(t,n){return e?t.classList.remove(n):void(t.className=t.className.replace(RegExp("(^|\\s+)"+n+"(\\s+|$)")," "))},n.hasClass=function(t,n){if(e)return t.classList.contains(n);var i=t.className;return 0<i.length&&(i==n||RegExp("(^|\\s)"+n+"(\\s|$)").test(i))}}(wysihtml5),wysihtml5.dom.contains=function(){var t=document.documentElement;return t.contains?function(t,e){return e.nodeType!==wysihtml5.ELEMENT_NODE&&(e=e.parentNode),t!==e&&t.contains(e)}:t.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:void 0}(),wysihtml5.dom.convertToList=function(){function t(t,e){var n=t.createElement("li");return e.appendChild(n),n}return function(e,n){if("UL"===e.nodeName||"OL"===e.nodeName||"MENU"===e.nodeName)return e;var i,r,o,s,a,l=e.ownerDocument,c=l.createElement(n),u=e.querySelectorAll("br"),h=u.length;for(a=0;h>a;a++)for(i=u[a];(r=i.parentNode)&&r!==e&&r.lastChild===i;){if("block"===wysihtml5.dom.getStyle("display").from(r)){r.removeChild(i);break}wysihtml5.dom.insert(i).after(i.parentNode)}for(h=(u=wysihtml5.lang.array(e.childNodes).get()).length,a=0;h>a;a++)s=s||t(l,c),i=u[a],r="block"===wysihtml5.dom.getStyle("display").from(i),o="BR"===i.nodeName,r?((s=s.firstChild?t(l,c):s).appendChild(i),s=null):o?s=s.firstChild?null:s:s.appendChild(i);return e.parentNode.replaceChild(c,e),c}}(),wysihtml5.dom.copyAttributes=function(t){return{from:function(e){return{to:function(n){for(var i,r=0,o=t.length;o>r;r++)i=t[r],void 0!==e[i]&&""!==e[i]&&(n[i]=e[i]);return{andTo:arguments.callee}}}}}},function(t){var e=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],n=function(n){var i;t:for(var r=0,o=e.length;o>r;r++)if("border-box"===t.getStyle(e[r]).from(n)){i=e[r];break t}return!!i&&parseInt(t.getStyle("width").from(n),10)<n.offsetWidth};t.copyStyles=function(i){return{from:function(r){n(r)&&(i=wysihtml5.lang.array(i).without(e));for(var o,s="",a=i.length,l=0;a>l;l++)o=i[l],s+=o+":"+t.getStyle(o).from(r)+";";return{to:function(e){return t.setStyles(s).on(e),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(t){t.dom.delegate=function(e,n,i,r){return t.dom.observe(e,i,function(i){for(var o=i.target,s=t.lang.array(e.querySelectorAll(n));o&&o!==e;){if(s.contains(o)){r.call(o,i);break}o=o.parentNode}})}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var t="abbr article aside audio bdi canvas command datalist details figcaption figure footer header hgroup keygen mark meter nav output progress rp rt ruby svg section source summary time track video wbr".split(" ");return function(e,n){var i,n=n||document;if("object"==typeof e&&e.nodeType)(i=n.createElement("div")).appendChild(e);else if(wysihtml5.browser.supportsHTML5Tags(n))i=n.createElement("div"),i.innerHTML=e;else{if(!(i=n)._wysihtml5_supportsHTML5Tags){for(var r=0,o=t.length;o>r;r++)i.createElement(t[r]);i._wysihtml5_supportsHTML5Tags=!0}(r=(i=n).createElement("div")).style.display="none",i.body.appendChild(r);try{r.innerHTML=e}catch(t){}i.body.removeChild(r),i=r}return i}}(),wysihtml5.dom.getParentElement=function(){function t(t,e){return!e||!e.length||("string"==typeof e?t===e:wysihtml5.lang.array(e).contains(t))}return function(e,n,i){if(i=i||50,n.className||n.classRegExp){t:{for(var r=n.nodeName,o=n.className,n=n.classRegExp;i--&&e&&"BODY"!==e.nodeName;){var s;if((s=e.nodeType===wysihtml5.ELEMENT_NODE)&&(s=t(e.nodeName,r))){s=o;var a=(e.className||"").match(n)||[];s=s?a[a.length-1]===s:!!a.length}if(s)break t;e=e.parentNode}e=null}return e}t:{for(r=n.nodeName,o=i;o--&&e&&"BODY"!==e.nodeName;){if(t(e.nodeName,r))break t;e=e.parentNode}e=null}return e}}(),wysihtml5.dom.getStyle=function(){function t(t){return t.replace(n,function(t){return t.charAt(1).toUpperCase()})}var e={float:"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},n=/\-[a-z]/g;return function(n){return{from:function(i){if(i.nodeType===wysihtml5.ELEMENT_NODE){var r=i.ownerDocument,o=e[n]||t(n),s=i.style,a=i.currentStyle,l=s[o];if(l)return l;if(a)try{return a[o]}catch(t){}var c,o=r.defaultView||r.parentWindow,r=("height"===n||"width"===n)&&"TEXTAREA"===i.nodeName;if(o.getComputedStyle)return r&&(c=s.overflow,s.overflow="hidden"),i=o.getComputedStyle(i,null).getPropertyValue(n),r&&(s.overflow=c||""),i}}}}}(),wysihtml5.dom.hasElementWithTagName=function(){var t={},e=1;return function(n,i){var r=(n._wysihtml5_identifier||(n._wysihtml5_identifier=e++))+":"+i,o=t[r];return o||(o=t[r]=n.getElementsByTagName(i)),0<o.length}}(),function(t){var e={},n=1;t.dom.hasElementWithClassName=function(i,r){if(!t.browser.supportsNativeGetElementsByClassName())return!!i.querySelector("."+r);var o=(i._wysihtml5_identifier||(i._wysihtml5_identifier=n++))+":"+r,s=e[o];return s||(s=e[o]=i.getElementsByClassName(r)),0<s.length}}(wysihtml5),wysihtml5.dom.insert=function(t){return{after:function(e){e.parentNode.insertBefore(t,e.nextSibling)},before:function(e){e.parentNode.insertBefore(t,e)},into:function(e){e.appendChild(t)}}},wysihtml5.dom.insertCSS=function(t){return t=t.join("\n"),{into:function(e){var n=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t)),n&&n.appendChild(i)}}},wysihtml5.dom.observe=function(t,e,n){for(var i,r,o=0,s=(e="string"==typeof e?[e]:e).length;s>o;o++)r=e[o],t.addEventListener?t.addEventListener(r,n,!1):(i=function(e){"target"in e||(e.target=e.srcElement),e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},n.call(t,e)},t.attachEvent("on"+r,i));return{stop:function(){for(var r,o=0,s=e.length;s>o;o++)r=e[o],t.removeEventListener?t.removeEventListener(r,n,!1):t.detachEvent("on"+r,i)}}},wysihtml5.dom.parse=function(){function t(e,r){var o,s=e.childNodes,a=s.length,l=0;if(!(o=(o=n[e.nodeType])&&o(e)))return null;for(l=0;a>l;l++)(newChild=t(s[l],r))&&o.appendChild(newChild);return r&&1>=o.childNodes.length&&o.nodeName.toLowerCase()===i&&!o.attributes.length?o.firstChild:o}function e(t,e){var n,e=e.toLowerCase();if((n="IMG"==t.nodeName)&&(n="src"==e)){var i;try{i=t.complete&&!t.mozMatchesSelector(":-moz-broken")}catch(e){t.complete&&"complete"===t.readyState&&(i=!0)}n=!0===i}return n?t.src:a&&"outerHTML"in t?-1!=t.outerHTML.toLowerCase().indexOf(" "+e+"=")?t.getAttribute(e):null:t.getAttribute(e)}var n={1:function(t){var n,o,a=s.tags;if(o=t.nodeName.toLowerCase(),n=t.scopeName,t._wysihtml5)return null;if(t._wysihtml5=1,"wysihtml5-temp"===t.className)return null;if(n&&"HTML"!=n&&(o=n+":"+o),"outerHTML"in t&&!wysihtml5.browser.autoClosesUnclosedTags()&&"P"===t.nodeName&&"</p>"!==t.outerHTML.slice(-4).toLowerCase()&&(o="div"),o in a){if(!(n=a[o])||n.remove)return null;n="string"==typeof n?{rename_tag:n}:n}else{if(!t.firstChild)return null;n={rename_tag:i}}o=t.ownerDocument.createElement(n.rename_tag||o);var a={},u=n.set_class,h=n.add_class,d=n.set_attributes,p=n.check_attributes,f=s.classes,m=0,g=[];n=[];var v,y=[],_=[];if(d&&(a=wysihtml5.lang.object(d).clone()),p)for(v in p)(d=l[p[v]])&&"string"==typeof(d=d(e(t,v)))&&(a[v]=d);if(u&&g.push(u),h)for(v in h)(d=c[h[v]])&&"string"==typeof(u=d(e(t,v)))&&g.push(u);for(f["_wysihtml5-temp-placeholder"]=1,(_=t.getAttribute("class"))&&(g=g.concat(_.split(r))),h=g.length;h>m;m++)t=g[m],f[t]&&n.push(t);for(f=n.length;f--;)t=n[f],wysihtml5.lang.array(y).contains(t)||y.unshift(t);y.length&&(a.class=y.join(" "));for(v in a)try{o.setAttribute(v,a[v])}catch(t){}return a.src&&(void 0!==a.width&&o.setAttribute("width",a.width),void 0!==a.height&&o.setAttribute("height",a.height)),o},3:function(t){return t.ownerDocument.createTextNode(t.data)}},i="span",r=/\s+/,o={tags:{},classes:{}},s={},a=!wysihtml5.browser.supportsGetAttributeCorrectly(),l={url:function(){var t=/^https?:\/\//i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),alt:function(){var t=/[^ a-z0-9_\-]/gi;return function(e){return e?e.replace(t,""):""}}(),numbers:function(){var t=/\D/g;return function(e){return(e=(e||"").replace(t,""))||null}}()},c={align_img:function(){var t={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(e){return t[(""+e).toLowerCase()]}}(),align_text:function(){var t={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(e){return t[(""+e).toLowerCase()]}}(),clear_br:function(){var t={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(e){return t[(""+e).toLowerCase()]}}(),size_font:function(){var t={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(e){return t[(""+e).charAt(0)]}}()};return function(e,n,i,r){wysihtml5.lang.object(s).merge(o).merge(n).get();for(var n=(i=i||e.ownerDocument||document).createDocumentFragment(),a="string"==typeof e,e=a?wysihtml5.dom.getAsDom(e,i):e;e.firstChild;)i=e.firstChild,e.removeChild(i),(i=t(i,r))&&n.appendChild(i);return e.innerHTML="",e.appendChild(n),a?wysihtml5.quirks.getCorrectInnerHTML(e):e}}(),wysihtml5.dom.removeEmptyTextNodes=function(t){for(var e=wysihtml5.lang.array(t.childNodes).get(),n=e.length,i=0;n>i;i++)(t=e[i]).nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(t,e){for(var n,i=t.ownerDocument.createElement(e);n=t.firstChild;)i.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(t).to(i),t.parentNode.replaceChild(i,t),i},wysihtml5.dom.replaceWithChildNodes=function(t){if(t.parentNode)if(t.firstChild){for(var e=t.ownerDocument.createDocumentFragment();t.firstChild;)e.appendChild(t.firstChild);t.parentNode.replaceChild(e,t)}else t.parentNode.removeChild(t)},function(t){function e(t){var e=t.ownerDocument.createElement("br");t.appendChild(e)}t.resolveList=function(n){if("MENU"===n.nodeName||"UL"===n.nodeName||"OL"===n.nodeName){var i,r,o,s=n.ownerDocument.createDocumentFragment(),a=n.previousElementSibling||n.previousSibling;for(a&&"block"!==t.getStyle("display").from(a)&&e(s);o=n.firstChild;){for(i=o.lastChild;a=o.firstChild;)r=(r=a===i)&&"block"!==t.getStyle("display").from(a)&&"BR"!==a.nodeName,s.appendChild(a),r&&e(s);o.parentNode.removeChild(o)}n.parentNode.replaceChild(s,n)}}}(wysihtml5.dom),function(t){var e=document,n="parent top opener frameElement frames localStorage globalStorage sessionStorage indexedDB".split(" "),i="open close openDialog showModalDialog alert confirm prompt openDatabase postMessage XMLHttpRequest XDomainRequest".split(" "),r=["referrer","write","open","close"];t.dom.Sandbox=Base.extend({constructor:function(e,n){this.callback=e||t.EMPTY_FUNCTION,this.config=t.lang.object({}).merge(n).get(),this.iframe=this._createIframe()},insertInto:function(t){"string"==typeof t&&(t=e.getElementById(t)),t.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var t=this.getIframe();t.parentNode.removeChild(t)},_readyError:function(){throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var n=this,i=e.createElement("iframe");return i.className="wysihtml5-sandbox",t.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(i),t.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(i.src="javascript:'<html></html>'"),i.onload=function(){i.onreadystatechange=i.onload=null,n._onLoadIframe(i)},i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&(i.onreadystatechange=i.onload=null,n._onLoadIframe(i))},i},_onLoadIframe:function(o){if(t.dom.contains(e.documentElement,o)){var s=this,a=o.contentWindow,l=o.contentWindow.document,c=this._getHtml({charset:e.characterSet||e.charset||"utf-8",stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(c),l.close(),this.getWindow=function(){return o.contentWindow},this.getDocument=function(){return o.contentWindow.document},a.onerror=function(t,e,n){throw Error("wysihtml5.Sandbox: "+t,e,n)},!t.browser.supportsSandboxedIframes()){var u,c=0;for(u=n.length;u>c;c++)this._unset(a,n[c]);for(c=0,u=i.length;u>c;c++)this._unset(a,i[c],t.EMPTY_FUNCTION);for(c=0,u=r.length;u>c;c++)this._unset(l,r[c]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){s.callback(s)},0)}},_getHtml:function(e){var n,i=e.stylesheets,r="",o=0;if(i="string"==typeof i?[i]:i)for(n=i.length;n>o;o++)r+='<link rel="stylesheet" href="'+i[o]+'">';return e.stylesheets=r,t.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(e)},_unset:function(e,n,i,r){try{e[n]=i}catch(t){}try{e.__defineGetter__(n,function(){return i})}catch(t){}if(r)try{e.__defineSetter__(n,function(){})}catch(t){}if(!t.browser.crashesWhenDefineProperty(n))try{var o={get:function(){return i}};r&&(o.set=function(){}),Object.defineProperty(e,n,o)}catch(t){}}})}(wysihtml5),function(){var t={className:"class"};wysihtml5.dom.setAttributes=function(e){return{on:function(n){for(var i in e)n.setAttribute(t[i]||i,e[i])}}}}(),wysihtml5.dom.setStyles=function(t){return{on:function(e){if(e=e.style,"string"==typeof t)e.cssText+=";"+t;else for(var n in t)"float"===n?(e.cssFloat=t[n],e.styleFloat=t[n]):e[n]=t[n]}}},function(t){t.simulatePlaceholder=function(e,n,i){var r=function(){n.hasPlaceholderSet()&&n.clear(),t.removeClass(n.element,"placeholder")},o=function(){n.isEmpty()&&(n.setValue(i),t.addClass(n.element,"placeholder"))};e.observe("set_placeholder",o).observe("unset_placeholder",r).observe("focus:composer",r).observe("paste:composer",r).observe("blur:composer",o),o()}}(wysihtml5.dom),function(t){var e=document.documentElement;"textContent"in e?(t.setTextContent=function(t,e){t.textContent=e},t.getTextContent=function(t){return t.textContent}):"innerText"in e?(t.setTextContent=function(t,e){t.innerText=e},t.getTextContent=function(t){return t.innerText}):(t.setTextContent=function(t,e){t.nodeValue=e},t.getTextContent=function(t){return t.nodeValue})}(wysihtml5.dom),wysihtml5.quirks.cleanPastedHTML=function(){var t={"a u":wysihtml5.dom.replaceWithChildNodes};return function(e,n,i){var r,o,s,n=n||t,i=i||e.ownerDocument||document,a="string"==typeof e,l=0,e=a?wysihtml5.dom.getAsDom(e,i):e;for(s in n)for(r=e.querySelectorAll(s),i=n[s],o=r.length;o>l;l++)i(r[l]);return a?e.innerHTML:e}}(),function(t){var e=t.dom;t.quirks.ensureProperClearing=function(){var t=function(){var t=this;setTimeout(function(){var e=t.innerHTML.toLowerCase();("<p>&nbsp;</p>"==e||"<p>&nbsp;</p><p>&nbsp;</p>"==e)&&(t.innerHTML="")},0)};return function(n){e.observe(n.element,["cut","keydown"],t)}}(),t.quirks.ensureProperClearingOfLists=function(){var n=["OL","UL","MENU"];return function(i){e.observe(i.element,"keydown",function(r){if(r.keyCode===t.BACKSPACE_KEY){var o=i.selection.getSelectedNode();(r=i.element).firstChild&&t.lang.array(n).contains(r.firstChild.nodeName)&&(o=e.getParentElement(o,{nodeName:n}))&&o==r.firstChild&&1>=o.childNodes.length&&(o.firstChild?""===o.firstChild.innerHTML:1)&&o.parentNode.removeChild(o)}})}}()}(wysihtml5),function(t){t.quirks.getCorrectInnerHTML=function(e){var n=e.innerHTML;if(-1===n.indexOf("%7E"))return n;var i,r,o,s;for(s=0,o=(e=e.querySelectorAll("[href*='~'], [src*='~']")).length;o>s;s++)i=e[s].href||e[s].src,r=t.lang.string(i).replace("~").by("%7E"),n=t.lang.string(n).replace(r).by(i);return n}}(wysihtml5),function(t){var e=t.dom,n="LI P H1 H2 H3 H4 H5 H6".split(" "),i=["UL","OL","MENU"];t.quirks.insertLineBreakOnReturn=function(r){function o(n){if(n=e.getParentElement(n,{nodeName:["P","DIV"]},2)){var i=document.createTextNode(t.INVISIBLE_SPACE);e.insert(i).before(n),e.replaceWithChildNodes(n),r.selection.selectNode(i)}}e.observe(r.element.ownerDocument,"keydown",function(s){var a=s.keyCode;if(!(s.shiftKey||a!==t.ENTER_KEY&&a!==t.BACKSPACE_KEY)){var l=r.selection.getSelectedNode();(l=e.getParentElement(l,{nodeName:n},4))?"LI"!==l.nodeName||a!==t.ENTER_KEY&&a!==t.BACKSPACE_KEY?l.nodeName.match(/H[1-6]/)&&a===t.ENTER_KEY&&setTimeout(function(){o(r.selection.getSelectedNode())},0):setTimeout(function(){var t=r.selection.getSelectedNode();t&&(e.getParentElement(t,{nodeName:i},2)||o(t))},0):a===t.ENTER_KEY&&!t.browser.insertsLineBreaksOnReturn()&&(r.commands.exec("insertLineBreak"),s.preventDefault())}})}}(wysihtml5),function(t){t.quirks.redraw=function(e){t.dom.addClass(e,"wysihtml5-quirks-redraw"),t.dom.removeClass(e,"wysihtml5-quirks-redraw");try{var n=e.ownerDocument;n.execCommand("italic",!1,null),n.execCommand("italic",!1,null)}catch(t){}}}(wysihtml5),function(t){var e=t.dom;t.Selection=Base.extend({constructor:function(t){window.rangy.init(),this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},getBookmark:function(){var t=this.getRange();return t&&t.cloneRange()},setBookmark:function(t){t&&this.setSelection(t)},setBefore:function(t){var e=rangy.createRange(this.doc);return e.setStartBefore(t),e.setEndBefore(t),this.setSelection(e)},setAfter:function(t){var e=rangy.createRange(this.doc);return e.setStartAfter(t),e.setEndAfter(t),this.setSelection(e)},selectNode:function(n){var i=rangy.createRange(this.doc),r=n.nodeType===t.ELEMENT_NODE,o="canHaveHTML"in n?n.canHaveHTML:"IMG"!==n.nodeName,s=""===(s=r?n.innerHTML:n.data)||s===t.INVISIBLE_SPACE,a="block"===(a=e.getStyle("display").from(n))||"list-item"===a;if(s&&r&&o)try{n.innerHTML=t.INVISIBLE_SPACE}catch(t){}o?i.selectNodeContents(n):i.selectNode(n),o&&s&&r?i.collapse(a):o&&s&&(i.setStartAfter(n),i.setEndAfter(n)),this.setSelection(i)},getSelectedNode:function(t){return t&&this.doc.selection&&"Control"===this.doc.selection.type&&(t=this.doc.selection.createRange())&&t.length?t.item(0):(t=this.getSelection(this.doc)).focusNode===t.anchorNode?t.focusNode:(t=this.getRange(this.doc))?t.commonAncestorContainer:this.doc.body},executeAndRestore:function(e,n){var i=this.doc.body,r=n&&i.scrollTop,o=n&&i.scrollLeft,s='<span class="_wysihtml5-temp-placeholder">'+t.INVISIBLE_SPACE+"</span>",a=this.getRange(this.doc);if(a){s=a.createContextualFragment(s),a.insertNode(s);try{e(a.startContainer,a.endContainer)}catch(t){setTimeout(function(){throw t},0)}(caretPlaceholder=this.doc.querySelector("._wysihtml5-temp-placeholder"))?((a=rangy.createRange(this.doc)).selectNode(caretPlaceholder),a.deleteContents(),this.setSelection(a)):i.focus(),n&&(i.scrollTop=r,i.scrollLeft=o);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(t){}}else e(i,i)},executeAndRestoreSimple:function(t){var e,n,i,r=this.getRange(),o=this.doc.body;if(r){o=(e=r.getNodes([3]))[0]||r.startContainer,i=e[e.length-1]||r.endContainer,e=o===r.startContainer?r.startOffset:0,n=i===r.endContainer?r.endOffset:i.length;try{t(r.startContainer,r.endContainer)}catch(t){setTimeout(function(){throw t},0)}t=rangy.createRange(this.doc);try{t.setStart(o,e)}catch(t){}try{t.setEnd(i,n)}catch(t){}try{this.setSelection(t)}catch(t){}}else t(o,o)},insertHTML:function(t){var e=(t=rangy.createRange(this.doc).createContextualFragment(t)).lastChild;this.insertNode(t),e&&this.setAfter(e)},insertNode:function(t){var e=this.getRange();e&&e.insertNode(t)},surround:function(t){var e=this.getRange();if(e)try{e.surroundContents(t),this.selectNode(t)}catch(n){t.appendChild(e.extractContents()),e.insertNode(t)}},scrollIntoView:function(){var e,n=this.doc,i=n.documentElement.scrollHeight>n.documentElement.offsetHeight;if((e=n._wysihtml5ScrollIntoViewElement)||(e=n.createElement("span"),e.innerHTML=t.INVISIBLE_SPACE),e=n._wysihtml5ScrollIntoViewElement=e,i){this.insertNode(e);var r=0;if((i=e).parentNode)do{r+=i.offsetTop||0,i=i.offsetParent}while(i);i=r,e.parentNode.removeChild(e),i>n.body.scrollTop&&(n.body.scrollTop=i)}},selectLine:function(){t.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var t=this.doc.defaultView.getSelection();t.modify("extend","left","lineboundary"),t.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var t,e=this.doc.selection.createRange(),n=e.boundingTop,i=this.doc.body.scrollWidth;if(e.moveToPoint){for(0===n&&(t=this.doc.createElement("span"),this.insertNode(t),n=t.offsetTop,t.parentNode.removeChild(t)),n+=1,t=-10;i>t;t+=2)try{e.moveToPoint(t,n);break}catch(t){}for(t=this.doc.selection.createRange();i>=0;i--)try{t.moveToPoint(i,n);break}catch(t){}e.setEndPoint("EndToEnd",t),e.select()}},getText:function(){var t=this.getSelection();return t?t.toString():""},getNodes:function(t,e){var n=this.getRange();return n?n.getNodes([t],e):[]},getRange:function(){var t=this.getSelection();return t&&t.rangeCount&&t.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(t){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow).setSingleRange(t)}})}(wysihtml5),function(t,e){function n(t,n){return e.dom.isCharacterDataNode(t)?0==n?!!t.previousSibling:n!=t.length||!!t.nextSibling:n>0&&n<t.childNodes.length}function i(t,n,r){var o;if(e.dom.isCharacterDataNode(n)&&(0==r?(r=e.dom.getNodeIndex(n),n=n.parentNode):r==n.length?(r=e.dom.getNodeIndex(n)+1,n=n.parentNode):o=e.dom.splitDataNode(n,r)),!o){(o=n.cloneNode(!1)).id&&o.removeAttribute("id");for(var s;s=n.childNodes[r];)o.appendChild(s);e.dom.insertAfter(o,n)}return n==t?o:i(t,o.parentNode,e.dom.getNodeIndex(o))}function r(e){this.firstTextNode=(this.isElementMerge=e.nodeType==t.ELEMENT_NODE)?e.lastChild:e,this.textNodes=[this.firstTextNode]}function o(t,e,n,i){this.tagNames=t||[s],this.cssClass=e||"",this.similarClassRegExp=n,this.normalize=i,this.applyToAnyTagName=!1}var s="span",a=/\s+/g;r.prototype={doMerge:function(){for(var t,e,n=[],i=0,r=this.textNodes.length;r>i;++i)t=this.textNodes[i],e=t.parentNode,n[i]=t.data,i&&(e.removeChild(t),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=n=n.join("")},getLength:function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},toString:function(){for(var t=[],e=0,n=this.textNodes.length;n>e;++e)t[e]="'"+this.textNodes[e].data+"'";return"[Merge("+t.join(",")+")]"}},o.prototype={getAncestorWithClass:function(n){for(var i;n;){if(this.cssClass)if(i=this.cssClass,n.className){var r=n.className.match(this.similarClassRegExp)||[];i=r[r.length-1]===i}else i=!1;else i=!0;if(n.nodeType==t.ELEMENT_NODE&&e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&i)return n;n=n.parentNode}return!1},postApply:function(t,e){for(var n,i,o,s=t[0],a=t[t.length-1],l=[],c=s,u=a,h=0,d=a.length,p=0,f=t.length;f>p;++p)i=t[p],(o=this.getAdjacentMergeableTextNode(i.parentNode,!1))?(n||(n=new r(o),l.push(n)),n.textNodes.push(i),i===s&&(c=n.firstTextNode,h=c.length),i===a&&(u=n.firstTextNode,d=n.getLength())):n=null;if((s=this.getAdjacentMergeableTextNode(a.parentNode,!0))&&(n||(n=new r(a),l.push(n)),n.textNodes.push(s)),l.length){for(p=0,f=l.length;f>p;++p)l[p].doMerge();e.setStart(c,h),e.setEnd(u,d)}},getAdjacentMergeableTextNode:function(e,n){var i=e.nodeType==t.TEXT_NODE,r=i?e.parentNode:e,o=n?"nextSibling":"previousSibling";if(i){if((i=e[o])&&i.nodeType==t.TEXT_NODE)return i}else if((i=r[o])&&this.areElementsMergeable(e,i))return i[n?"firstChild":"lastChild"];return null},areElementsMergeable:function(t,n){var i;if((i=e.dom.arrayContains(this.tagNames,(t.tagName||"").toLowerCase()))&&(i=e.dom.arrayContains(this.tagNames,(n.tagName||"").toLowerCase()))&&(i=t.className.replace(a," ")==n.className.replace(a," ")))t:if(t.attributes.length!=n.attributes.length)i=!1;else{i=0;for(var r,o,s=t.attributes.length;s>i;++i)if(r=t.attributes[i],"class"!=(o=r.name)&&(o=n.attributes.getNamedItem(o),r.specified!=o.specified||r.specified&&r.nodeValue!==o.nodeValue)){i=!1;break t}i=!0}return i},createContainer:function(t){return t=t.createElement(this.tagNames[0]),this.cssClass&&(t.className=this.cssClass),t},applyToTextNode:function(t){var n=t.parentNode;1==n.childNodes.length&&e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())?this.cssClass&&(t=this.cssClass,n.className?(n.className&&(n.className=n.className.replace(this.similarClassRegExp,"")),n.className+=" "+t):n.className=t):(n=this.createContainer(e.dom.getDocument(t)),t.parentNode.insertBefore(n,t),n.appendChild(t))},isRemovable:function(n){return e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&t.lang.string(n.className).trim()==this.cssClass},undoToTextNode:function(t,e,r){if(e.containsNode(r)||((t=e.cloneRange()).selectNode(r),t.isPointInRange(e.endContainer,e.endOffset)&&n(e.endContainer,e.endOffset)&&(i(r,e.endContainer,e.endOffset),e.setEndAfter(r)),t.isPointInRange(e.startContainer,e.startOffset)&&n(e.startContainer,e.startOffset)&&(r=i(r,e.startContainer,e.startOffset))),this.similarClassRegExp&&r.className&&(r.className=r.className.replace(this.similarClassRegExp,"")),this.isRemovable(r)){for(r=(e=r).parentNode;e.firstChild;)r.insertBefore(e.firstChild,e);r.removeChild(e)}},applyToRange:function(e){var n=e.getNodes([t.TEXT_NODE]);if(!n.length)try{var i=this.createContainer(e.endContainer.ownerDocument);return e.surroundContents(i),void this.selectNode(e,i)}catch(t){}if(e.splitBoundaries(),(n=e.getNodes([t.TEXT_NODE])).length){for(var r=0,o=n.length;o>r;++r)i=n[r],this.getAncestorWithClass(i)||this.applyToTextNode(i);e.setStart(n[0],0),i=n[n.length-1],e.setEnd(i,i.length),this.normalize&&this.postApply(n,e)}},undoToRange:function(e){var n,i,r=e.getNodes([t.TEXT_NODE]);r.length?(e.splitBoundaries(),r=e.getNodes([t.TEXT_NODE])):(r=e.endContainer.ownerDocument.createTextNode(t.INVISIBLE_SPACE),e.insertNode(r),e.selectNode(r),r=[r]);for(var o=0,s=r.length;s>o;++o)n=r[o],(i=this.getAncestorWithClass(n))&&this.undoToTextNode(n,e,i);1==s?this.selectNode(e,r[0]):(e.setStart(r[0],0),n=r[r.length-1],e.setEnd(n,n.length),this.normalize&&this.postApply(r,e))},selectNode:function(e,n){var i=n.nodeType===t.ELEMENT_NODE,r=!("canHaveHTML"in n)||n.canHaveHTML,o=i?n.innerHTML:n.data;if((o=""===o||o===t.INVISIBLE_SPACE)&&i&&r)try{n.innerHTML=t.INVISIBLE_SPACE}catch(t){}e.selectNodeContents(n),o&&i?e.collapse(!1):o&&(e.setStartAfter(n),e.setEndAfter(n))},getTextSelectedByRange:function(t,e){var n=e.cloneRange();n.selectNodeContents(t);var i=(i=n.intersection(e))?i.toString():"";return n.detach(),i},isAppliedToRange:function(e){var n,i=[],r=e.getNodes([t.TEXT_NODE]);if(!r.length)return!!(n=this.getAncestorWithClass(e.startContainer))&&[n];for(var o,s=0,a=r.length;a>s;++s){if(o=this.getTextSelectedByRange(r[s],e),n=this.getAncestorWithClass(r[s]),""!=o&&!n)return!1;i.push(n)}return i},toggleRange:function(t){this.isAppliedToRange(t)?this.undoToRange(t):this.applyToRange(t)}},t.selection.HTMLApplier=o}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},support:function(t){return wysihtml5.browser.supportsCommand(this.doc,t)},exec:function(t,e){var n=wysihtml5.commands[t],i=wysihtml5.lang.array(arguments).get(),r=n&&n.exec,o=null;if(this.editor.fire("beforecommand:composer"),r)i.unshift(this.composer),o=r.apply(n,i);else try{o=this.doc.execCommand(t,!1,e)}catch(t){}return this.editor.fire("aftercommand:composer"),o},state:function(t){var e=wysihtml5.commands[t],n=wysihtml5.lang.array(arguments).get(),i=e&&e.state;if(i)return n.unshift(this.composer),i.apply(e,n);try{return this.doc.queryCommandState(t)}catch(t){return!1}},value:function(t){var e=wysihtml5.commands[t],n=e&&e.value;if(n)return n.call(e,this.composer,t);try{return this.doc.queryCommandValue(t)}catch(t){return null}}}),function(t){t.commands.bold={exec:function(e,n){return t.commands.formatInline.exec(e,n,"b")},state:function(e,n){return t.commands.formatInline.state(e,n,"b")},value:function(){}}}(wysihtml5),function(t){function e(e,o){var s,a,l,c=e.doc,u="_wysihtml5-temp-"+ +new Date,h=0;for(t.commands.formatInline.exec(e,n,i,u,/non-matching-class/g),u=(s=c.querySelectorAll(i+"."+u)).length;u>h;h++)for(l in(a=s[h]).removeAttribute("class"),o)a.setAttribute(l,o[l]);h=a,1===u&&(l=r.getTextContent(a),u=!!a.querySelector("*"),l=""===l||l===t.INVISIBLE_SPACE,!u&&l&&(r.setTextContent(a,o.text||a.href),c=c.createTextNode(" "),e.selection.setAfter(a),e.selection.insertNode(c),h=c)),e.selection.setAfter(h)}var n,i="A",r=t.dom;t.commands.createLink={exec:function(t,n,i){var o=this.state(t,n);o?t.selection.executeAndRestore(function(){for(var t,e,n=o.length,i=0;n>i;i++)t=o[i],e=r.getParentElement(t,{nodeName:"code"}),r.getTextContent(t).match(r.autoLink.URL_REG_EXP)&&!e?r.renameElement(t,"code"):r.replaceWithChildNodes(t)}):(i="object"==typeof i?i:{href:i},e(t,i))},state:function(e,n){return t.commands.formatInline.state(e,n,"A")},value:function(){return n}}}(wysihtml5),function(t){var e=/wysiwyg-font-size-[a-z\-]+/g;t.commands.fontSize={exec:function(n,i,r){return t.commands.formatInline.exec(n,i,"span","wysiwyg-font-size-"+r,e)},state:function(n,i,r){return t.commands.formatInline.state(n,i,"span","wysiwyg-font-size-"+r,e)},value:function(){}}}(wysihtml5),function(t){var e=/wysiwyg-color-[a-z]+/g;t.commands.foreColor={exec:function(n,i,r){return t.commands.formatInline.exec(n,i,"span","wysiwyg-color-"+r,e)},state:function(n,i,r){return t.commands.formatInline.state(n,i,"span","wysiwyg-color-"+r,e)},value:function(){}}}(wysihtml5),function(t){function e(e){for(e=e.previousSibling;e&&e.nodeType===t.TEXT_NODE&&!t.lang.string(e.data).trim();)e=e.previousSibling;return e}function n(e){for(e=e.nextSibling;e&&e.nodeType===t.TEXT_NODE&&!t.lang.string(e.data).trim();)e=e.nextSibling;return e}function i(t){return"BR"===t.nodeName||"block"===s.getStyle("display").from(t)}function r(e,n,i,r){if(r)var o=s.observe(e,"DOMNodeInserted",function(e){(e=e.target).nodeType===t.ELEMENT_NODE&&"inline"!==s.getStyle("display").from(e).substr(0,6)&&(e.className+=" "+r)});e.execCommand(n,!1,i),o&&o.stop()}function o(t,i){t.selection.selectLine(),t.selection.surround(i);var r=n(i),o=e(i);r&&"BR"===r.nodeName&&r.parentNode.removeChild(r),o&&"BR"===o.nodeName&&o.parentNode.removeChild(o),(r=i.lastChild)&&"BR"===r.nodeName&&r.parentNode.removeChild(r),t.selection.selectNode(i)}var s=t.dom,a="H1 H2 H3 H4 H5 H6 P BLOCKQUOTE DIV".split(" ");t.commands.formatBlock={exec:function(l,c,u,h,d){var p,f=l.doc,m=this.state(l,c,u,h,d),u="string"==typeof u?u.toUpperCase():u;if(m)l.selection.executeAndRestoreSimple(function(){d&&(m.className=m.className.replace(d,""));var r=!!t.lang.string(m.className).trim();if(r||m.nodeName!==(u||"DIV"))r&&s.renameElement(m,"DIV");else{var o=(r=m).ownerDocument,a=n(r),l=e(r);a&&!i(a)&&r.parentNode.insertBefore(o.createElement("br"),a),l&&!i(l)&&r.parentNode.insertBefore(o.createElement("br"),r),s.replaceWithChildNodes(m)}});else{if((null===u||t.lang.array(a).contains(u))&&(p=l.selection.getSelectedNode(),m=s.getParentElement(p,{nodeName:a})))return void l.selection.executeAndRestoreSimple(function(){if(u&&(m=s.renameElement(m,u)),h){var t=m;t.className?(t.className=t.className.replace(d,""),t.className+=" "+h):t.className=h}});l.commands.support(c)?r(f,c,u||"DIV",h):(m=f.createElement(u||"DIV"),h&&(m.className=h),o(l,m))}},state:function(t,e,n,i,r){return n="string"==typeof n?n.toUpperCase():n,t=t.selection.getSelectedNode(),s.getParentElement(t,{nodeName:n,className:i,classRegExp:r})},value:function(){}}}(wysihtml5),function(t){function e(e,r,o){var s=e+":"+r;if(!i[s]){var a=i,l=t.selection.HTMLApplier,c=n[e],e=c?[e.toLowerCase(),c.toLowerCase()]:[e.toLowerCase()];a[s]=new l(e,r,o,!0)}return i[s]}var n={strong:"b",em:"i",b:"strong",i:"em"},i={};t.commands.formatInline={exec:function(t,n,i,r,o){return!!(n=t.selection.getRange())&&(e(i,r,o).toggleRange(n),void t.selection.setSelection(n))},state:function(i,r,o,s,a){var r=i.doc,l=n[o]||o;return!(!t.dom.hasElementWithTagName(r,o)&&!t.dom.hasElementWithTagName(r,l)||s&&!t.dom.hasElementWithClassName(r,s))&&(!!(i=i.selection.getRange())&&e(o,s,a).isAppliedToRange(i))},value:function(){}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(t,e,n){t.commands.support(e)?t.doc.execCommand(e,!1,n):t.selection.insertHTML(n)},state:function(){return!1},value:function(){}},function(t){t.commands.insertImage={exec:function(e,n,i){var r,i="object"==typeof i?i:{src:i},o=e.doc;if(n=this.state(e))e.selection.setBefore(n),(i=n.parentNode).removeChild(n),t.dom.removeEmptyTextNodes(i),"A"===i.nodeName&&!i.firstChild&&(e.selection.setAfter(i),i.parentNode.removeChild(i)),t.quirks.redraw(e.element);else{n=o.createElement("IMG");for(r in i)n[r]=i[r];e.selection.insertNode(n),t.browser.hasProblemsSettingCaretAfterImg()?(i=o.createTextNode(t.INVISIBLE_SPACE),e.selection.insertNode(i),e.selection.setAfter(i)):e.selection.setAfter(n)}},state:function(e){var n;return!(!t.dom.hasElementWithTagName(e.doc,"IMG")||!(n=e.selection.getSelectedNode()))&&("IMG"===n.nodeName?n:n.nodeType===t.ELEMENT_NODE&&(n=e.selection.getText(),!(n=t.lang.string(n).trim())&&(1===(e=e.selection.getNodes(t.ELEMENT_NODE,function(t){return"IMG"===t.nodeName})).length&&e[0])))},value:function(t){return(t=this.state(t))&&t.src}}}(wysihtml5),function(t){var e="<br>"+(t.browser.needsSpaceAfterLineBreak()?" ":"");t.commands.insertLineBreak={exec:function(n,i){n.commands.support(i)?(n.doc.execCommand(i,!1,null),t.browser.autoScrollsToCaret()||n.selection.scrollIntoView()):n.commands.exec("insertHTML",e)},state:function(){return!1},value:function(){}}}(wysihtml5),function(t){t.commands.insertOrderedList={exec:function(e,n){var i,r=e.doc,o=e.selection.getSelectedNode(),s=t.dom.getParentElement(o,{nodeName:"OL"}),a=t.dom.getParentElement(o,{nodeName:"UL"}),o="_wysihtml5-temp-"+(new Date).getTime();e.commands.support(n)?r.execCommand(n,!1,null):s?e.selection.executeAndRestoreSimple(function(){t.dom.resolveList(s)}):a?e.selection.executeAndRestoreSimple(function(){t.dom.renameElement(a,"ol")}):(e.commands.exec("formatBlock","div",o),i=r.querySelector("."+o),r=""===i.innerHTML||i.innerHTML===t.INVISIBLE_SPACE,e.selection.executeAndRestoreSimple(function(){s=t.dom.convertToList(i,"ol")}),r&&e.selection.selectNode(s.querySelector("li")))},state:function(e){return e=e.selection.getSelectedNode(),t.dom.getParentElement(e,{nodeName:"OL"})},value:function(){}}}(wysihtml5),function(t){t.commands.insertUnorderedList={exec:function(e,n){var i,r=e.doc,o=e.selection.getSelectedNode(),s=t.dom.getParentElement(o,{nodeName:"UL"}),a=t.dom.getParentElement(o,{nodeName:"OL"}),o="_wysihtml5-temp-"+(new Date).getTime();e.commands.support(n)?r.execCommand(n,!1,null):s?e.selection.executeAndRestoreSimple(function(){t.dom.resolveList(s)}):a?e.selection.executeAndRestoreSimple(function(){t.dom.renameElement(a,"ul")}):(e.commands.exec("formatBlock","div",o),i=r.querySelector("."+o),r=""===i.innerHTML||i.innerHTML===t.INVISIBLE_SPACE,e.selection.executeAndRestoreSimple(function(){s=t.dom.convertToList(i,"ul")}),r&&e.selection.selectNode(s.querySelector("li")))},state:function(e){return e=e.selection.getSelectedNode(),t.dom.getParentElement(e,{nodeName:"UL"})},value:function(){}}}(wysihtml5),function(t){t.commands.italic={exec:function(e,n){return t.commands.formatInline.exec(e,n,"i")},state:function(e,n){return t.commands.formatInline.state(e,n,"i")},value:function(){}}}(wysihtml5),function(t){var e=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyCenter={exec:function(n){return t.commands.formatBlock.exec(n,"formatBlock",null,"wysiwyg-text-align-center",e)},state:function(n){return t.commands.formatBlock.state(n,"formatBlock",null,"wysiwyg-text-align-center",e)},value:function(){}}}(wysihtml5),function(t){var e=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyLeft={exec:function(n){return t.commands.formatBlock.exec(n,"formatBlock",null,"wysiwyg-text-align-left",e)},state:function(n){return t.commands.formatBlock.state(n,"formatBlock",null,"wysiwyg-text-align-left",e)},value:function(){}}}(wysihtml5),function(t){var e=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyRight={exec:function(n){return t.commands.formatBlock.exec(n,"formatBlock",null,"wysiwyg-text-align-right",e)},state:function(n){return t.commands.formatBlock.state(n,"formatBlock",null,"wysiwyg-text-align-right",e)},value:function(){}}}(wysihtml5),function(t){t.commands.underline={exec:function(e,n){return t.commands.formatInline.exec(e,n,"u")},state:function(e,n){return t.commands.formatInline.state(e,n,"u")},value:function(){}}}(wysihtml5),function(t){var e='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+t.INVISIBLE_SPACE+"</span>",n='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+t.INVISIBLE_SPACE+"</span>",i=t.dom;t.UndoManager=t.lang.Dispatcher.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.element=this.composer.element,this.history=[this.composer.getValue()],this.position=1,this.composer.commands.support("insertHTML")&&this._observe()},_observe:function(){var r,o=this,s=this.composer.sandbox.getDocument();if(i.observe(this.element,"keydown",function(t){if(!t.altKey&&(t.ctrlKey||t.metaKey)){var e=t.keyCode,n=90===e&&t.shiftKey||89===e;90!==e||t.shiftKey?n&&(o.redo(),t.preventDefault()):(o.undo(),t.preventDefault())}}),i.observe(this.element,"keydown",function(t){(t=t.keyCode)!==r&&(r=t,(8===t||46===t)&&o.transact())}),t.browser.hasUndoInContextMenu()){var a,l,c=function(){for(var t;t=s.querySelector("._wysihtml5-temp");)t.parentNode.removeChild(t);clearInterval(a)};i.observe(this.element,"contextmenu",function(){c(),o.composer.selection.executeAndRestoreSimple(function(){o.element.lastChild&&o.composer.selection.setAfter(o.element.lastChild),s.execCommand("insertHTML",!1,e),s.execCommand("insertHTML",!1,n),s.execCommand("undo",!1,null)}),a=setInterval(function(){s.getElementById("_wysihtml5-redo")?(c(),o.redo()):s.getElementById("_wysihtml5-undo")||(c(),o.undo())},400),l||(l=!0,i.observe(document,"mousedown",c),i.observe(s,["mousedown","paste","cut","copy"],c))})}this.editor.observe("newword:composer",function(){o.transact()}).observe("beforecommand:composer",function(){o.transact()})},transact:function(){var t=this.history[this.position-1],e=this.composer.getValue();e!=t&&(40<(this.history.length=this.position)&&(this.history.shift(),this.position--),this.position++,this.history.push(e))},undo:function(){this.transact(),1>=this.position||(this.set(this.history[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.position>=this.history.length||(this.set(this.history[++this.position-1]),this.editor.fire("redo:composer"))},set:function(t){this.composer.setValue(t),this.editor.focus(!0)}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(t,e,n){this.parent=t,this.element=e,this.config=n,this._observeViewChange()},_observeViewChange:function(){var t=this;this.parent.observe("beforeload",function(){t.parent.observe("change_view",function(e){e===t.name?(t.parent.currentView=t,t.show(),setTimeout(function(){t.focus()},0)):t.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(t){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(t){var e=t.dom,n=t.browser;t.views.Composer=t.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(t,e,n){this.base(t,e,n),this.textarea=this.parent.textarea,this._initSandbox()},clear:function(){this.element.innerHTML=n.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(e){var n=this.isEmpty()?"":t.quirks.getCorrectInnerHTML(this.element);return e&&(n=this.parent.parse(n)),n=t.lang.string(n).replace(t.INVISIBLE_SPACE).by("")},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.innerHTML=t},show:function(){this.iframe.style.display=this._displayStyle||"",this.disable(),this.enable()},hide:function(){this._displayStyle=e.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable"),this.base()},enable:function(){this.element.setAttribute("contentEditable","true"),this.base()},focus:function(e){t.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var n=this.element.lastChild;e&&n&&("BR"===n.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return e.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")},isEmpty:function(){var t=this.element.innerHTML;return""===t||t===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&!this.element.querySelector("blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea")},_initSandbox:function(){var t=this;this.sandbox=new e.Sandbox(function(){t._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var n=document.createElement("input");n.type="hidden",n.name="_wysihtml5_mode",n.value=1;var i=this.textarea.element;e.insert(this.iframe).after(i),e.insert(n).after(i)},_create:function(){var i=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.enable(),this.selection=new t.Selection(this.parent),this.commands=new t.Commands(this.parent),e.copyAttributes("className spellcheck title lang dir accessKey".split(" ")).from(this.textarea.element).to(this.element),e.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var r=this.config.name;r&&(e.addClass(this.element,r),e.addClass(this.iframe,r)),(r="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder"))&&e.simulatePlaceholder(this.parent,this,r),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element)&&setTimeout(function(){i.focus()},100),t.quirks.insertLineBreakOnReturn(this),n.clearsContentEditableCorrectly()||t.quirks.ensureProperClearing(this),n.clearsListsInContentEditableCorrectly()||t.quirks.ensureProperClearingOfLists(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var i=this,r=n.canDisableAutoLinking(),o=n.doesAutoLinkingInContentEditable();if(r&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!o||o&&r)&&this.parent.observe("newword:composer",function(){i.selection.executeAndRestore(function(t,n){e.autoLink(n.parentNode)})});var s=this.sandbox.getDocument().getElementsByTagName("a"),a=e.autoLink.URL_REG_EXP,l=function(n){return"www."===(n=t.lang.string(e.getTextContent(n)).trim()).substr(0,4)&&(n="http://"+n),n};e.observe(this.element,"keydown",function(t){if(s.length){var n,t=i.selection.getSelectedNode(t.target.ownerDocument),r=e.getParentElement(t,{nodeName:"A"},4);r&&(n=l(r),setTimeout(function(){var t=l(r);t!==n&&t.match(a)&&r.setAttribute("href",t)},0))}})}},_initObjectResizing:function(){var i=["width","height"],r=i.length,o=this.element;this.commands.exec("enableObjectResizing",this.config.allowObjectResizing),this.config.allowObjectResizing?n.supportsEvent("resizeend")&&e.observe(o,"resizeend",function(e){for(var n,s=(e=e.target||e.srcElement).style,a=0;r>a;a++)n=i[a],s[n]&&(e.setAttribute(n,parseInt(s[n],10)),s[n]="");t.quirks.redraw(o)}):n.supportsEvent("resizestart")&&e.observe(o,"resizestart",function(t){t.preventDefault()})},_initUndoManager:function(){new t.UndoManager(this.parent)}})}(wysihtml5),function(t){var e=t.dom,n=document,i=window,r=n.createElement("div"),o="background-color color cursor font-family font-size font-style font-variant font-weight line-height letter-spacing text-align text-decoration text-indent text-rendering word-break word-wrap word-spacing".split(" "),s="background-color border-collapse border-bottom-color border-bottom-style border-bottom-width border-left-color border-left-style border-left-width border-right-color border-right-style border-right-width border-top-color border-top-style border-top-width clear display float margin-bottom margin-left margin-right margin-top outline-color outline-offset outline-width outline-style padding-left padding-right padding-top padding-bottom position top left right bottom z-index vertical-align text-align -webkit-box-sizing -moz-box-sizing -ms-box-sizing box-sizing -webkit-box-shadow -moz-box-shadow -ms-box-shadow box-shadow -webkit-border-top-right-radius -moz-border-radius-topright border-top-right-radius -webkit-border-bottom-right-radius -moz-border-radius-bottomright border-bottom-right-radius -webkit-border-bottom-left-radius -moz-border-radius-bottomleft border-bottom-left-radius -webkit-border-top-left-radius -moz-border-radius-topleft border-top-left-radius width height".split(" "),a="width height top left right bottom".split(" "),l=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",t.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],c=function(t){if(t.setActive)try{t.setActive()}catch(t){}else{var r=t.style,o=n.documentElement.scrollTop||n.body.scrollTop,s=n.documentElement.scrollLeft||n.body.scrollLeft,r={position:r.position,top:r.top,left:r.left,WebkitUserSelect:r.WebkitUserSelect};e.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(t),t.focus(),e.setStyles(r).on(t),i.scrollTo&&i.scrollTo(s,o)}};t.views.Composer.prototype.style=function(){var u=this,h=n.querySelector(":focus"),d=this.textarea.element,p=d.hasAttribute("placeholder"),f=p&&d.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||r.cloneNode(!1),this.blurStylesHost=this.blurStylesHost||r.cloneNode(!1),p&&d.removeAttribute("placeholder"),d===h&&d.blur(),e.copyStyles(s).from(d).to(this.iframe).andTo(this.blurStylesHost),e.copyStyles(o).from(d).to(this.element).andTo(this.blurStylesHost),e.insertCSS(l).into(this.element.ownerDocument),c(d),e.copyStyles(s).from(d).to(this.focusStylesHost),e.copyStyles(o).from(d).to(this.focusStylesHost);var m=t.lang.array(s).without(["display"]);if(h?h.focus():d.blur(),p&&d.setAttribute("placeholder",f),!t.browser.hasCurrentStyleProperty())var g=e.observe(i,"resize",function(){if(e.contains(document.documentElement,u.iframe)){var t=e.getStyle("display").from(d),n=e.getStyle("display").from(u.iframe);d.style.display="",u.iframe.style.display="none",e.copyStyles(a).from(d).to(u.iframe).andTo(u.focusStylesHost).andTo(u.blurStylesHost),u.iframe.style.display=n,d.style.display=t}else g.stop()});return this.parent.observe("focus:composer",function(){e.copyStyles(m).from(u.focusStylesHost).to(u.iframe),e.copyStyles(o).from(u.focusStylesHost).to(u.element)}),this.parent.observe("blur:composer",function(){e.copyStyles(m).from(u.blurStylesHost).to(u.iframe),e.copyStyles(o).from(u.blurStylesHost).to(u.element)}),this}}(wysihtml5),function(t){var e=t.dom,n=t.browser,i={66:"bold",73:"italic",85:"underline"};t.views.Composer.prototype.observe=function(){var r=this,o=this.getValue(),s=this.sandbox.getIframe(),a=this.element,l=n.supportsEventsInIframeCorrectly()?a:this.sandbox.getWindow(),c=n.supportsEvent("drop")?["drop","paste"]:["dragdrop","paste"];e.observe(s,"DOMNodeRemoved",function(){clearInterval(u),r.parent.fire("destroy:composer")});var u=setInterval(function(){e.contains(document.documentElement,s)||(clearInterval(u),r.parent.fire("destroy:composer"))},250);e.observe(l,"focus",function(){r.parent.fire("focus").fire("focus:composer"),setTimeout(function(){o=r.getValue()},0)}),e.observe(l,"blur",function(){o!==r.getValue()&&r.parent.fire("change").fire("change:composer"),r.parent.fire("blur").fire("blur:composer")}),t.browser.isIos()&&e.observe(a,"blur",function(){var t=a.ownerDocument.createElement("input"),e=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollLeft||document.body.scrollLeft;try{r.selection.insertNode(t)}catch(e){a.appendChild(t)}t.focus(),t.parentNode.removeChild(t),window.scrollTo(n,e)}),e.observe(a,"dragenter",function(){r.parent.fire("unset_placeholder")}),n.firesOnDropOnlyWhenOnDragOverIsCancelled()&&e.observe(a,["dragover","dragenter"],function(t){t.preventDefault()}),e.observe(a,c,function(t){var e,i=t.dataTransfer;i&&n.supportsDataTransfer()&&(e=i.getData("text/html")||i.getData("text/plain")),e?(a.focus(),r.commands.exec("insertHTML",e),r.parent.fire("paste").fire("paste:composer"),t.stopPropagation(),t.preventDefault()):setTimeout(function(){r.parent.fire("paste").fire("paste:composer")},0)}),e.observe(a,"keyup",function(e){((e=e.keyCode)===t.SPACE_KEY||e===t.ENTER_KEY)&&r.parent.fire("newword:composer")}),this.parent.observe("paste:composer",function(){setTimeout(function(){r.parent.fire("newword:composer")},0)}),n.canSelectImagesInContentEditable()||e.observe(a,"mousedown",function(t){var e=t.target;"IMG"===e.nodeName&&(r.selection.selectNode(e),t.preventDefault())}),e.observe(a,"keydown",function(t){var e=i[t.keyCode];(t.ctrlKey||t.metaKey)&&!t.altKey&&e&&(r.commands.exec(e),t.preventDefault())}),e.observe(a,"keydown",function(e){var n=r.selection.getSelectedNode(!0),i=e.keyCode;!n||"IMG"!==n.nodeName||i!==t.BACKSPACE_KEY&&i!==t.DELETE_KEY||((i=n.parentNode).removeChild(n),"A"===i.nodeName&&!i.firstChild&&i.parentNode.removeChild(i),setTimeout(function(){t.quirks.redraw(a)},0),e.preventDefault())});var h={IMG:"Image: ",A:"Link: "};e.observe(a,"mouseover",function(t){var e=(t=t.target).nodeName;!("A"!==e&&"IMG"!==e)&&!t.hasAttribute("title")&&(e=h[e]+(t.getAttribute("href")||t.getAttribute("src")),t.setAttribute("title",e))})}}(wysihtml5),function(t){t.views.Synchronizer=Base.extend({constructor:function(t,e,n){this.editor=t,this.textarea=e,this.composer=n,this._observe()},fromComposerToTextarea:function(e){this.textarea.setValue(t.lang.string(this.composer.getValue()).trim(),e)},fromTextareaToComposer:function(t){var e=this.textarea.getValue();e?this.composer.setValue(e,t):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(t){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(t):this.fromComposerToTextarea(t)},_observe:function(){var e,n=this,i=this.textarea.element.form,r=function(){e=setInterval(function(){n.fromComposerToTextarea()},400)},o=function(){clearInterval(e),e=null};r(),i&&(t.dom.observe(i,"submit",function(){n.sync(!0)}),t.dom.observe(i,"reset",function(){setTimeout(function(){n.fromTextareaToComposer()},0)})),this.editor.observe("change_view",function(t){"composer"!==t||e?"textarea"===t&&(n.fromComposerToTextarea(!0),o()):(n.fromTextareaToComposer(!0),r())}),this.editor.observe("destroy:composer",o)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(t,e,n){this.base(t,e,n),this._observe()},clear:function(){this.element.value=""},getValue:function(t){var e=this.isEmpty()?"":this.element.value;return t&&(e=this.parent.parse(e)),e},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.value=t},hasPlaceholderSet:function(){var t=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),e=this.element.getAttribute("placeholder")||null,n=this.element.value;return t&&!n||n===e},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var t=this.element,e=this.parent,n={focusin:"focus",focusout:"blur"},i=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];e.observe("beforeload",function(){wysihtml5.dom.observe(t,i,function(t){t=n[t.type]||t.type,e.fire(t).fire(t+":textarea")}),wysihtml5.dom.observe(t,["paste","drop"],function(){setTimeout(function(){e.fire("paste").fire("paste:textarea")},0)})})}}),function(t){var e=t.dom;t.toolbar.Dialog=t.lang.Dispatcher.extend({constructor:function(t,e){this.link=t,this.container=e},_observe:function(){if(!this._observed){var n=this,i=function(t){var e=n._serialize();e==n.elementToChange?n.fire("edit",e):n.fire("save",e),n.hide(),t.preventDefault(),t.stopPropagation()};e.observe(n.link,"click",function(){e.hasClass(n.link,"wysihtml5-command-dialog-opened")&&setTimeout(function(){n.hide()},0)}),e.observe(this.container,"keydown",function(e){var r=e.keyCode;r===t.ENTER_KEY&&i(e),r===t.ESCAPE_KEY&&n.hide()}),e.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",i),e.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(t){n.fire("cancel"),n.hide(),t.preventDefault(),t.stopPropagation()});for(var r=this.container.querySelectorAll("input, select, textarea"),o=0,s=r.length;s>o;o++)e.observe(r[o],"change",function(){clearInterval(n.interval)});this._observed=!0}},_serialize:function(){for(var t=this.elementToChange||{},e=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),n=e.length,i=0;n>i;i++)t[e[i].getAttribute("data-wysihtml5-dialog-field")]=e[i].value;return t},_interpolate:function(t){for(var e,n,i=document.querySelector(":focus"),r=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),o=r.length,s=0;o>s;s++)(e=r[s])!==i&&!(t&&"hidden"===e.type)&&(n=e.getAttribute("data-wysihtml5-dialog-field"),n=this.elementToChange?this.elementToChange[n]||"":e.defaultValue,e.value=n)},show:function(t){var n=this,i=this.container.querySelector("input, select, textarea");if(this.elementToChange=t,this._observe(),this._interpolate(),t&&(this.interval=setInterval(function(){n._interpolate(!0)},500)),e.addClass(this.link,"wysihtml5-command-dialog-opened"),this.container.style.display="",this.fire("show"),i&&!t)try{i.focus()}catch(t){}},hide:function(){clearInterval(this.interval),this.elementToChange=null,e.removeClass(this.link,"wysihtml5-command-dialog-opened"),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(t){var e=t.dom,n={position:"relative"},i={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},r={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},o={"x-webkit-speech":"",speech:""};t.toolbar.Speech=function(s,a){var l=document.createElement("input");if(t.browser.supportsSpeechApiOn(l)){var c=document.createElement("div");t.lang.object(i).merge({width:a.offsetWidth+"px",height:a.offsetHeight+"px"}),e.insert(l).into(c),e.insert(c).into(a),e.setStyles(r).on(l),e.setAttributes(o).on(l),e.setStyles(i).on(c),e.setStyles(n).on(a),e.observe(l,"onwebkitspeechchange"in l?"webkitspeechchange":"speechchange",function(){s.execCommand("insertText",l.value),l.value=""}),e.observe(l,"click",function(t){e.hasClass(a,"wysihtml5-command-disabled")&&t.preventDefault(),t.stopPropagation()})}else a.style.display="none"}}(wysihtml5),function(t){var e=t.dom;t.toolbar.Toolbar=Base.extend({constructor:function(e,n){this.editor=e,this.container="string"==typeof n?document.getElementById(n):n,this.composer=e.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var i=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),r=i.length,o=0;r>o;o++)new t.toolbar.Speech(this,i[o])},_getLinks:function(e){for(var n,i,r,o,s,a=this[e+"Links"]=t.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+e+"]")).get(),l=a.length,c=0,u=this[e+"Mapping"]={};l>c;c++)n=a[c],r=n.getAttribute("data-wysihtml5-"+e),o=n.getAttribute("data-wysihtml5-"+e+"-value"),i=this.container.querySelector("[data-wysihtml5-"+e+"-group='"+r+"']"),s=this._getDialog(n,r),u[r+":"+o]={link:n,group:i,name:r,value:o,dialog:s,state:!1}},_getDialog:function(e,n){var i,r,o=this,s=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return s&&((i=new t.toolbar.Dialog(e,s)).observe("show",function(){r=o.composer.selection.getBookmark(),o.editor.fire("show:dialog",{command:n,dialogContainer:s,commandLink:e})}),i.observe("save",function(t){r&&o.composer.selection.setBookmark(r),o._execCommand(n,t),o.editor.fire("save:dialog",{command:n,dialogContainer:s,commandLink:e})}),i.observe("cancel",function(){o.editor.focus(!1),o.editor.fire("cancel:dialog",{command:n,dialogContainer:s,commandLink:e})})),i},execCommand:function(t,e){if(!this.commandsDisabled){var n=this.commandMapping[t+":"+e];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(t,e)}},_execCommand:function(t,e){this.editor.focus(!1),this.composer.commands.exec(t,e),this._updateLinkStates()},execAction:function(t){var e=this.editor;switch(t){case"change_view":e.currentView===e.textarea?e.fire("change_view","composer"):e.fire("change_view","textarea")}},_observe:function(){for(var t=this,n=this.editor,i=this.container,r=this.commandLinks.concat(this.actionLinks),o=r.length,s=0;o>s;s++)e.setAttributes({href:"javascript:;",unselectable:"on"}).on(r[s]);e.delegate(i,"[data-wysihtml5-command]","mousedown",function(t){t.preventDefault()}),e.delegate(i,"[data-wysihtml5-command]","click",function(e){var n=this.getAttribute("data-wysihtml5-command"),i=this.getAttribute("data-wysihtml5-command-value");t.execCommand(n,i),e.preventDefault()}),e.delegate(i,"[data-wysihtml5-action]","click",function(e){var n=this.getAttribute("data-wysihtml5-action");t.execAction(n),e.preventDefault()}),n.observe("focus:composer",function(){t.bookmark=null,clearInterval(t.interval),t.interval=setInterval(function(){t._updateLinkStates()},500)}),n.observe("blur:composer",function(){clearInterval(t.interval)}),n.observe("destroy:composer",function(){clearInterval(t.interval)}),n.observe("change_view",function(n){setTimeout(function(){t.commandsDisabled="composer"!==n,t._updateLinkStates(),t.commandsDisabled?e.addClass(i,"wysihtml5-commands-disabled"):e.removeClass(i,"wysihtml5-commands-disabled")},0)})},_updateLinkStates:function(){var n,i,r,o=this.commandMapping,s=this.actionMapping;for(n in o)r=o[n],this.commandsDisabled?(i=!1,e.removeClass(r.link,"wysihtml5-command-active"),r.group&&e.removeClass(r.group,"wysihtml5-command-active"),r.dialog&&r.dialog.hide()):(i=this.composer.commands.state(r.name,r.value),t.lang.object(i).isArray()&&(i=1!==i.length||i[0]),e.removeClass(r.link,"wysihtml5-command-disabled"),r.group&&e.removeClass(r.group,"wysihtml5-command-disabled")),r.state!==i&&((r.state=i)?(e.addClass(r.link,"wysihtml5-command-active"),r.group&&e.addClass(r.group,"wysihtml5-command-active"),r.dialog&&("object"==typeof i?r.dialog.show(i):r.dialog.hide())):(e.removeClass(r.link,"wysihtml5-command-active"),r.group&&e.removeClass(r.group,"wysihtml5-command-active"),r.dialog&&r.dialog.hide()));for(n in s)"change_view"===(o=s[n]).name&&(o.state=this.editor.currentView===this.editor.textarea,o.state?e.addClass(o.link,"wysihtml5-action-active"):e.removeClass(o.link,"wysihtml5-action-active"))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(t){var e={name:void 0,style:!0,toolbar:void 0,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:t.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:void 0,allowObjectResizing:!0,supportTouchDevices:!0};t.Editor=t.lang.Dispatcher.extend({constructor:function(n,i){if(this.textareaElement="string"==typeof n?document.getElementById(n):n,this.config=t.lang.object({}).merge(e).merge(i).get(),this.currentView=this.textarea=new t.views.Textarea(this,this.textareaElement,this.config),this._isCompatible=t.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&t.browser.isTouchDevice()){var r=this;setTimeout(function(){r.fire("beforeload").fire("load")},0)}else{t.dom.addClass(document.body,this.config.bodyClassName),this.currentView=this.composer=new t.views.Composer(this,this.textareaElement,this.config),"function"==typeof this.config.parser&&this._initParser(),this.observe("beforeload",function(){this.synchronizer=new t.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new t.toolbar.Toolbar(this,this.config.toolbar))});try{console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5")}catch(t){}}},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(t){return this.currentView.getValue(t)},setValue:function(t,e){return t?(this.currentView.setValue(t,e),this):this.clear()},focus:function(t){return this.currentView.focus(t),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(e){var n=this.config.parser(e,this.config.parserRules,this.composer.sandbox.getDocument(),!0);return"object"==typeof e&&t.quirks.redraw(e),n},_initParser:function(){this.observe("paste:composer",function(){var e=this;e.composer.selection.executeAndRestore(function(){t.quirks.cleanPastedHTML(e.composer.element),e.parse(e.composer.element)},!0)}),this.observe("paste:textarea",function(){this.textarea.setValue(this.parse(this.textarea.getValue()))})}})}(wysihtml5);var Handlebars=function(){var t=function(){"use strict";function t(t){this.string=t}return t.prototype.toString=function(){return""+this.string},t}(),e=function(t){"use strict";function e(t){return r[t]||"&amp;"}var n={},i=t,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=/[&<>"'`]/g,s=/[&<>"'`]/;n.extend=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])};var a=Object.prototype.toString;n.toString=a,(l=function(t){return"function"==typeof t})(/x/)&&(l=function(t){return"function"==typeof t&&"[object Function]"===a.call(t)});var l;n.isFunction=l;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===a.call(t)};return n.isArray=c,n.escapeExpression=function(t){return t instanceof i?t.toString():t||0===t?(t=""+t,s.test(t)?t.replace(o,e):t):""},n.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},n}(t),n=function(){"use strict";function t(t,n){var i;n&&n.firstLine&&(i=n.firstLine,t+=" - "+i+":"+n.firstColumn);for(var r=Error.prototype.constructor.call(this,t),o=0;o<e.length;o++)this[e[o]]=r[e[o]];i&&(this.lineNumber=i,this.column=n.firstColumn)}var e=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,t}(),i=function(t,e){"use strict";function n(t,e){this.helpers=t||{},this.partials=e||{},i(this)}function i(t){t.registerHelper("helperMissing",function(t){if(2!==arguments.length)throw new a("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse||function(){},r=n.fn;return u(e)&&(e=e.call(this)),!0===e?r(this):!1===e||null==e?i(this):c(e)?e.length>0?t.helpers.each(e,n):i(this):r(e)}),t.registerHelper("each",function(t,e){var n,i=e.fn,r=e.inverse,o=0,s="";if(u(t)&&(t=t.call(this)),e.data&&(n=f(e.data)),t&&"object"==typeof t)if(c(t))for(var a=t.length;a>o;o++)n&&(n.index=o,n.first=0===o,n.last=o===t.length-1),s+=i(t[o],{data:n});else for(var l in t)t.hasOwnProperty(l)&&(n&&(n.key=l,n.index=o,n.first=0===o),s+=i(t[l],{data:n}),o++);return 0===o&&(s=r(this)),s}),t.registerHelper("if",function(t,e){return u(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||s.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){return u(t)&&(t=t.call(this)),s.isEmpty(t)?void 0:e.fn(t)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)})}function r(t,e){p.log(t,e)}var o={},s=t,a=e;o.VERSION="1.3.0";o.COMPILER_REVISION=4;var l={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};o.REVISION_CHANGES=l;var c=s.isArray,u=s.isFunction,h=s.toString,d="[object Object]";o.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:p,log:r,registerHelper:function(t,e,n){if(h.call(t)===d){if(n||e)throw new a("Arg not supported with multiple helpers");s.extend(this.helpers,t)}else n&&(e.not=n),this.helpers[t]=e},registerPartial:function(t,e){h.call(t)===d?s.extend(this.partials,t):this.partials[t]=e}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(p.level<=t){var n=p.methodMap[t];"undefined"!=typeof console&&console[n]&&console[n].call(console,e)}}};o.logger=p,o.log=r;var f=function(t){var e={};return s.extend(e,t),e};return o.createFrame=f,o}(e,n),r=function(t,e,n){"use strict";function i(t,e,n){var i=function(t,i){return i=i||{},e(t,i.data||n)};return i.program=t,i.depth=0,i}var r={},o=t,s=e,a=n.COMPILER_REVISION,l=n.REVISION_CHANGES;return r.checkRevision=function(t){var e=t&&t[0]||1,n=a;if(e!==n){if(n>e){var i=l[n],r=l[e];throw new s("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new s("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},r.template=function(t,e){if(!e)throw new s("No environment passed to template");var n={escapeExpression:o.escapeExpression,invokePartial:function(t,n,i,r,o,a){var l=e.VM.invokePartial.apply(this,arguments);if(null!=l)return l;if(e.compile){var c={helpers:r,partials:o,data:a};return o[n]=e.compile(t,{data:void 0!==a},e),o[n](i,c)}throw new s("The partial "+n+" could not be compiled when running in runtime-only mode")},programs:[],program:function(t,e,n){var r=this.programs[t];return n?r=i(t,e,n):r||(r=this.programs[t]=i(t,e)),r},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n={},o.extend(n,e),o.extend(n,t)),n},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,r){var o,s,a=(r=r||{}).partial?r:e;r.partial||(o=r.helpers,s=r.partials);var l=t.call(n,a,i,o,s,r.data);return r.partial||e.VM.checkRevision(n.compilerInfo),l}},r.programWithDepth=function(t,e,n){var i=Array.prototype.slice.call(arguments,3),r=function(t,r){return r=r||{},e.apply(this,[t,r.data||n].concat(i))};return r.program=t,r.depth=i.length,r},r.program=i,r.invokePartial=function(t,e,n,i,r,o){var a={partial:!0,helpers:i,partials:r,data:o};if(void 0===t)throw new s("The partial "+e+" could not be found");return t instanceof Function?t(n,a):void 0},r.noop=function(){return""},r}(e,n,i);return function(t,e,n,i,r){"use strict";var o=t,s=e,a=n,l=i,c=r,u=function(){var t=new o.HandlebarsEnvironment;return l.extend(t,o),t.SafeString=s,t.Exception=a,t.Utils=l,t.VM=c,t.template=function(e){return c.template(e,t)},t},h=u();return h.create=u,h}(i,t,n,e,r)}(),glob="undefined"==typeof window?global:window,Handlebars=glob.Handlebars||require("handlebars");this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression,u=this;return a+='<li>\n  <a class="btn ',((s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:u.noop,fn:u.program(1,function(t){var e,n="";return n+="btn-"+c((e=t&&t.options,typeof(e=null==e||!1===e?e:e.size)===l?e.apply(t):e))},r),data:r}))||0===s)&&(a+=s),a+=' btn-default" data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="blockquote" data-wysihtml5-display-format-name="false" tabindex="-1">\n    <span class="glyphicon glyphicon-quote"></span>\n  </a>\n</li>\n'}),this.wysihtml5.tpl.color=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression,u=this;return a+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',((s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:u.noop,fn:u.program(1,function(t){var e,n="";return n+="btn-"+c((e=t&&t.options,typeof(e=null==e||!1===e?e:e.size)===l?e.apply(t):e))},r),data:r}))||0===s)&&(a+=s),a+='" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.black)===l?o.apply(e):o))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.black)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.silver)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.gray)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.maroon)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.red)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.purple)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.green)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.olive)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.navy)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.blue)===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.colours,typeof(o=null==o||!1===o?o:o.orange)===l?o.apply(e):o))+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.emphasis=Handlebars.template(function(t,e,n,i,r){function o(t){var e,n="";return n+="btn-"+u((e=t&&t.options,typeof(e=null==e||!1===e?e:e.size)===c?e.apply(t):e))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var s,a,l="",c="function",u=this.escapeExpression,h=this;return l+='<li>\n  <div class="btn-group">\n    <a class="btn ',((a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:h.noop,fn:h.program(1,o,r),data:r}))||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+u((s=e&&e.locale,s=null==s||!1===s?s:s.emphasis,typeof(s=null==s||!1===s?s:s.bold)===c?s.apply(e):s))+'</a>\n    <a class="btn ',((a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:h.noop,fn:h.program(1,o,r),data:r}))||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+u((s=e&&e.locale,s=null==s||!1===s?s:s.emphasis,typeof(s=null==s||!1===s?s:s.italic)===c?s.apply(e):s))+'</a>\n    <a class="btn ',((a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:h.noop,fn:h.program(1,o,r),data:r}))||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+u((s=e&&e.locale,s=null==s||!1===s?s:s.emphasis,typeof(s=null==s||!1===s?s:s.underline)===c?s.apply(e):s))+"</a>\n    ",((a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.emSmall,{hash:{},inverse:h.noop,fn:h.program(3,function(t,e){var i,r,s="";return s+='\n    <a class="btn ',((r=n.if.call(t,null==(i=t&&t.options)||!1===i?i:i.size,{hash:{},inverse:h.noop,fn:h.program(1,o,e),data:e}))||0===r)&&(s+=r),s+=' btn-default" data-wysihtml5-command="small" title="CTRL+S" tabindex="-1">'+u((i=t&&t.locale,i=null==i||!1===i?i:i.emphasis,typeof(i=null==i||!1===i?i:i.small)===c?i.apply(t):i))+"</a>\n    "},r),data:r}))||0===a)&&(l+=a),l+="\n  </div>\n</li>\n"}),this.wysihtml5.tpl["font-styles"]=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression,u=this;return a+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',((s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:u.noop,fn:u.program(1,function(t){var e,n="";return n+="btn-"+c((e=t&&t.options,typeof(e=null==e||!1===e?e:e.size)===l?e.apply(t):e))},r),data:r}))||0===s)&&(a+=s),a+='" data-toggle="dropdown">\n    <span class="glyphicon glyphicon-font"></span>\n    <span class="current-font">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.font_styles,typeof(o=null==o||!1===o?o:o.normal)===l?o.apply(e):o))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="p" tabindex="-1">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.font_styles,typeof(o=null==o||!1===o?o:o.normal)===l?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.font_styles,typeof(o=null==o||!1===o?o:o.h1)===l?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.font_styles,typeof(o=null==o||!1===o?o:o.h2)===l?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.font_styles,typeof(o=null==o||!1===o?o:o.h3)===l?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.font_styles,typeof(o=null==o||!1===o?o:o.h4)===l?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.font_styles,typeof(o=null==o||!1===o?o:o.h5)===l?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.font_styles,typeof(o=null==o||!1===o?o:o.h6)===l?o.apply(e):o))+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.html=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression,u=this;return a+='<li>\n  <div class="btn-group">\n    <a class="btn ',((s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:u.noop,fn:u.program(1,function(t){var e,n="";return n+="btn-"+c((e=t&&t.options,typeof(e=null==e||!1===e?e:e.size)===l?e.apply(t):e))},r),data:r}))||0===s)&&(a+=s),a+=' btn-default" data-wysihtml5-action="change_view" title="'+c((o=e&&e.locale,o=null==o||!1===o?o:o.html,typeof(o=null==o||!1===o?o:o.edit)===l?o.apply(e):o))+'" tabindex="-1">\n      <span class="glyphicon glyphicon-pencil"></span>\n    </a>\n  </div>\n</li>\n'}),this.wysihtml5.tpl.image=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression,u=this;return a+='<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade">\n    <div class="modal-dialog ',((s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.smallmodals,{hash:{},inverse:u.noop,fn:u.program(1,function(){return"modal-sm"},r),data:r}))||0===s)&&(a+=s),a+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+c((o=e&&e.locale,o=null==o||!1===o?o:o.image,typeof(o=null==o||!1===o?o:o.insert)===l?o.apply(e):o))+'</h3>\n        </div>\n        <div class="modal-body">\n          <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control">\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.image,typeof(o=null==o||!1===o?o:o.cancel)===l?o.apply(e):o))+'</a>\n          <a class="btn btn-primary" data-dismiss="modal">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.image,typeof(o=null==o||!1===o?o:o.insert)===l?o.apply(e):o))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',((s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:u.noop,fn:u.program(3,function(t){var e,n="";return n+="btn-"+c((e=t&&t.options,typeof(e=null==e||!1===e?e:e.size)===l?e.apply(t):e))},r),data:r}))||0===s)&&(a+=s),a+=' btn-default" data-wysihtml5-command="insertImage" title="'+c((o=e&&e.locale,o=null==o||!1===o?o:o.image,typeof(o=null==o||!1===o?o:o.insert)===l?o.apply(e):o))+'" tabindex="-1">\n    <span class="glyphicon glyphicon-picture"></span>\n  </a>\n</li>\n'}),this.wysihtml5.tpl.link=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression,u=this;return a+='<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade">\n    <div class="modal-dialog ',((s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.smallmodals,{hash:{},inverse:u.noop,fn:u.program(1,function(){return"modal-sm"},r),data:r}))||0===s)&&(a+=s),a+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+c((o=e&&e.locale,o=null==o||!1===o?o:o.link,typeof(o=null==o||!1===o?o:o.insert)===l?o.apply(e):o))+'</h3>\n        </div>\n        <div class="modal-body">\n          <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control">\n          <label class="checkbox"> <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+c((o=e&&e.locale,o=null==o||!1===o?o:o.link,typeof(o=null==o||!1===o?o:o.target)===l?o.apply(e):o))+'</label>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.link,typeof(o=null==o||!1===o?o:o.cancel)===l?o.apply(e):o))+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal">'+c((o=e&&e.locale,o=null==o||!1===o?o:o.link,typeof(o=null==o||!1===o?o:o.insert)===l?o.apply(e):o))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',((s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:u.noop,fn:u.program(3,function(t){var e,n="";return n+="btn-"+c((e=t&&t.options,typeof(e=null==e||!1===e?e:e.size)===l?e.apply(t):e))},r),data:r}))||0===s)&&(a+=s),a+=' btn-default" data-wysihtml5-command="createLink" title="'+c((o=e&&e.locale,o=null==o||!1===o?o:o.link,typeof(o=null==o||!1===o?o:o.insert)===l?o.apply(e):o))+'" tabindex="-1">\n    <span class="glyphicon glyphicon-share"></span>\n  </a>\n</li>\n'}),this.wysihtml5.tpl.lists=Handlebars.template(function(t,e,n,i,r){function o(t){var e,n="";return n+="btn-"+u((e=t&&t.options,typeof(e=null==e||!1===e?e:e.size)===c?e.apply(t):e))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var s,a,l="",c="function",u=this.escapeExpression,h=this;return l+='<li>\n  <div class="btn-group">\n    <a class="btn ',((a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:h.noop,fn:h.program(1,o,r),data:r}))||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+u((s=e&&e.locale,s=null==s||!1===s?s:s.lists,typeof(s=null==s||!1===s?s:s.unordered)===c?s.apply(e):s))+'" tabindex="-1"><span class="glyphicon glyphicon-list"></span></a>\n    <a class="btn ',((a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:h.noop,fn:h.program(1,o,r),data:r}))||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="insertOrderedList" title="'+u((s=e&&e.locale,s=null==s||!1===s?s:s.lists,typeof(s=null==s||!1===s?s:s.ordered)===c?s.apply(e):s))+'" tabindex="-1"><span class="glyphicon glyphicon-th-list"></span></a>\n    <a class="btn ',((a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:h.noop,fn:h.program(1,o,r),data:r}))||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="Outdent" title="'+u((s=e&&e.locale,s=null==s||!1===s?s:s.lists,typeof(s=null==s||!1===s?s:s.outdent)===c?s.apply(e):s))+'" tabindex="-1"><span class="glyphicon glyphicon-indent-right"></span></a>\n    <a class="btn ',((a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:h.noop,fn:h.program(1,o,r),data:r}))||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="Indent" title="'+u((s=e&&e.locale,s=null==s||!1===s?s:s.lists,typeof(s=null==s||!1===s?s:s.indent)===c?s.apply(e):s))+'" tabindex="-1"><span class="glyphicon glyphicon-indent-left"></span></a>\n  </div>\n</li>\n'}),"object"==typeof exports&&exports&&(module.exports=this.wysihtml5.tpl),function(t,e){"use strict";var n=function(t,n,i){return e.tpl[t]?e.tpl[t]({locale:n,options:i}):void 0},i=function(n,i){this.el=n;var r=t.extend(!0,{},o,i);t.extend(r.shortcuts,o.shortcuts);for(var s in r.customTemplates)e.tpl[s]=r.customTemplates[s];this.toolbar=this.createToolbar(n,r),this.editor=this.createEditor(r),window.editor=this.editor,t("iframe.wysihtml5-sandbox").each(function(e,n){t(n.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){t("li.dropdown").removeClass("open")}})})};i.prototype={constructor:i,createEditor:function(n){n=n||{},(n=t.extend(!0,{},n)).toolbar=this.toolbar[0];var i=new e.Editor(this.el[0],n);if(this.addMoreShortcuts(i,i.currentView.iframe.contentDocument.body||i.currentView.iframe.contentDocument,n.shortcuts),n&&n.events)for(var r in n.events)i.on(r,n.events[r]);return i},createToolbar:function(e,i){var r=this,a=t("<ul/>",{class:"wysihtml5-toolbar",style:"display:none"}),l=i.locale||o.locale||"en";s.hasOwnProperty(l)||(console.debug("Locale '"+l+"' not found. Available locales are: "+Object.keys(s)+". Falling back to 'en'."),l="en");var c=t.extend(!0,{},s.en,s[l]);for(var u in i){var h=!1;void 0!==i[u]?!0===i[u]&&(h=!0):h=o[u],!0===h&&(a.append(n(u,c,i)),"html"===u&&this.initHtml(a),"link"===u&&this.initInsertLink(a),"image"===u&&this.initInsertImage(a))}if(i.toolbar)for(u in i.toolbar)a.append(i.toolbar[u]);return a.find('a[data-wysihtml5-command="formatBlock"]').click(function(e){var n=e.delegateTarget||e.target||e.srcElement,i=t(n),o=i.data("wysihtml5-display-format-name"),s=i.data("wysihtml5-format-name")||i.html();(void 0===o||"true"===o)&&r.toolbar.find(".current-font").text(s)}),a.find('a[data-wysihtml5-command="foreColor"]').click(function(e){var n=e.target||e.srcElement,i=t(n);r.toolbar.find(".current-color").text(i.html())}),this.el.before(a),a},initHtml:function(t){var e='a[data-wysihtml5-action="change_view"]';t.find(e).click(function(){t.find("a.btn").not(e).toggleClass("disabled")})},initInsertImage:function(e){var n,i=this,r=e.find(".bootstrap-wysihtml5-insert-image-modal"),o=r.find(".bootstrap-wysihtml5-insert-image-url"),s=r.find("a.btn-primary"),a=o.val(),l=function(){var t=o.val();o.val(a),i.editor.currentView.element.focus(),n&&(i.editor.composer.selection.setBookmark(n),n=null),i.editor.composer.commands.exec("insertImage",t)};o.keypress(function(t){13==t.which&&(l(),r.modal("hide"))}),s.click(l),r.on("shown",function(){o.focus()}),r.on("hide",function(){i.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=insertImage]").click(function(){return!!t(this).hasClass("wysihtml5-command-active")||(i.editor.currentView.element.focus(!1),n=i.editor.composer.selection.getBookmark(),r.appendTo("body").modal("show"),r.on("click.dismiss.modal",'[data-dismiss="modal"]',function(t){t.stopPropagation()}),!1)})},initInsertLink:function(e){var n,i=this,r=e.find(".bootstrap-wysihtml5-insert-link-modal"),o=r.find(".bootstrap-wysihtml5-insert-link-url"),s=r.find(".bootstrap-wysihtml5-insert-link-target"),a=r.find("a.btn-primary"),l=o.val(),c=function(){var t=o.val();o.val(l),i.editor.currentView.element.focus(),n&&(i.editor.composer.selection.setBookmark(n),n=null);var e=s.prop("checked");i.editor.composer.commands.exec("createLink",{href:t,target:e?"_blank":"_self",rel:e?"nofollow":""})};o.keypress(function(t){13==t.which&&(c(),r.modal("hide"))}),a.click(c),r.on("shown",function(){o.focus()}),r.on("hide",function(){i.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=createLink]").click(function(){return!!t(this).hasClass("wysihtml5-command-active")||(i.editor.currentView.element.focus(!1),n=i.editor.composer.selection.getBookmark(),r.appendTo("body").modal("show"),r.on("click.dismiss.modal",'[data-dismiss="modal"]',function(t){t.stopPropagation()}),!1)})},addMoreShortcuts:function(t,n,i){e.dom.observe(n,"keydown",function(n){var r=n.keyCode,o=i[r];(n.ctrlKey||n.metaKey)&&!n.altKey&&o&&e.commands[o]&&(e.commands[o].exec(t.composer,o),n.preventDefault())})}};var r={resetDefaults:function(){t.fn.wysihtml5.defaultOptions=t.extend(!0,{},t.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(e){return this.each(function(){var n=t(this);n.data("wysihtml5",new i(n,e))})},shallowExtend:function(e){var n=t.extend({},t.fn.wysihtml5.defaultOptions,e||{},t(this).data()),i=this;return r.bypassDefaults.apply(i,[n])},deepExtend:function(e){var n=t.extend(!0,{},t.fn.wysihtml5.defaultOptions,e||{}),i=this;return r.bypassDefaults.apply(i,[n])},init:function(t){var e=this;return r.shallowExtend.apply(e,[t])}};t.fn.wysihtml5=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.wysihtml5"):r.init.apply(this,arguments)},t.fn.wysihtml5.Constructor=i;var o=t.fn.wysihtml5.defaultOptions={"font-styles":!0,color:!1,emphasis:!0,blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1,events:{},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,small:1,code:1,pre:1}},emSmall:1,locale:"en",shortcuts:{83:"small"}};void 0===t.fn.wysihtml5.defaultOptionsCache&&(t.fn.wysihtml5.defaultOptionsCache=t.extend(!0,{},t.fn.wysihtml5.defaultOptions));var s=t.fn.wysihtml5.locale={}}(window.jQuery,window.wysihtml5),function(t){t.commands.small={exec:function(e,n){return t.commands.formatInline.exec(e,n,"small")},state:function(e,n){return t.commands.formatInline.state(e,n,"small")},value:function(){}}}(wysihtml5),function(t){t.fn.wysihtml5.locale.en=t.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}(jQuery),function(t){"use strict";function e(t){var e={};if(void 0===t.selectionStart){t.focus();var n=document.selection.createRange();e.length=n.text.length,n.moveStart("character",-t.value.length),e.end=n.text.length,e.start=e.end-e.length}else e.start=t.selectionStart,e.end=t.selectionEnd,e.length=e.end-e.start;return e}function n(t,e,n){if(void 0===t.selectionStart){t.focus();var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i.select()}else t.selectionStart=e,t.selectionEnd=n}function i(e,n){t.each(n,function(t,i){"function"==typeof i?n[t]=i(e,n,t):"function"==typeof e.autoNumeric[i]&&(n[t]=e.autoNumeric[i](e,n,t))})}function r(t,e){"string"==typeof t[e]&&(t[e]*=1)}function o(t,e){i(t,e),e.oEvent=null,e.tagList=["B","CAPTION","CITE","CODE","DD","DEL","DIV","DFN","DT","EM","H1","H2","H3","H4","H5","H6","INS","KDB","LABEL","LI","OUTPUT","P","Q","S","SAMPLE","SPAN","STRONG","TD","TH","U","VAR"];var n=e.vMax.toString().split("."),o=e.vMin||0===e.vMin?e.vMin.toString().split("."):[];if(r(e,"vMax"),r(e,"vMin"),r(e,"mDec"),e.allowLeading=!0,e.aNeg=e.vMin<0?"-":"",n[0]=n[0].replace("-",""),o[0]=o[0].replace("-",""),e.mInt=Math.max(n[0].length,o[0].length,1),null===e.mDec){var s=0,a=0;n[1]&&(s=n[1].length),o[1]&&(a=o[1].length),e.mDec=Math.max(s,a)}null===e.altDec&&e.mDec>0&&("."===e.aDec&&","!==e.aSep?e.altDec=",":","===e.aDec&&"."!==e.aSep&&(e.altDec="."));var l=e.aNeg?"([-\\"+e.aNeg+"]?)":"(-?)";e.aNegRegAutoStrip=l,e.skipFirstAutoStrip=new RegExp(l+"[^-"+(e.aNeg?"\\"+e.aNeg:"")+"\\"+e.aDec+"\\d].*?(\\d|\\"+e.aDec+"\\d)"),e.skipLastAutoStrip=new RegExp("(\\d\\"+e.aDec+"?)[^\\"+e.aDec+"\\d]\\D*$");var c="-"+e.aNum+"\\"+e.aDec;return e.allowedAutoStrip=new RegExp("[^"+c+"]","gi"),e.numRegAutoStrip=new RegExp(l+"(?:\\"+e.aDec+"?(\\d+\\"+e.aDec+"\\d+)|(\\d*(?:\\"+e.aDec+"\\d*)?))"),e}function s(t,e,n){if(e.aSign)for(;t.indexOf(e.aSign)>-1;)t=t.replace(e.aSign,"");t=(t=(t=t.replace(e.skipFirstAutoStrip,"$1$2")).replace(e.skipLastAutoStrip,"$1")).replace(e.allowedAutoStrip,""),e.altDec&&(t=t.replace(e.altDec,e.aDec));var i=t.match(e.numRegAutoStrip);if(t=i?[i[1],i[2],i[3]].join(""):"",("allow"===e.lZero||"keep"===e.lZero)&&"strip"!==n){var r=[],o="";-1!==(r=t.split(e.aDec))[0].indexOf("-")&&(o="-",r[0]=r[0].replace("-","")),r[0].length>e.mInt&&"0"===r[0].charAt(0)&&(r[0]=r[0].slice(1)),t=o+r.join(e.aDec)}if(n&&"deny"===e.lZero||n&&"allow"===e.lZero&&!1===e.allowLeading){var s="^"+e.aNegRegAutoStrip+"0*(\\d"+("leading"===n?")":"|$)");s=new RegExp(s),t=t.replace(s,"$1$2")}return t}function a(t,e,n){return e=e.split(","),"set"===n||"focusout"===n?(t=t.replace("-",""),t=e[0]+t+e[1]):"get"!==n&&"focusin"!==n&&"pageLoad"!==n||t.charAt(0)!==e[0]||(t=(t=t.replace(e[0],"-")).replace(e[1],"")),t}function l(t,e,n){if(e&&n){var i=t.split(e);i[1]&&i[1].length>n&&(n>0?(i[1]=i[1].substring(0,n),t=i.join(e)):t=i[0])}return t}function c(t,e,n){return e&&"."!==e&&(t=t.replace(e,".")),n&&"-"!==n&&(t=t.replace(n,"-")),t.match(/\d/)||(t+="0"),t}function u(t,e){var n=+t;if(-1!==t.indexOf("."))if(n<1e-6&&n>-1)(t=+t)<1e-6&&t>0&&(t=(t=(t+10).toString()).substring(1)),t<0&&t>-1&&(t="-"+(t=(t-10).toString()).substring(2)),t=t.toString();else{var i=t.split(".");void 0!==i[1]&&(0==+i[1]?t=i[0]:(i[1]=i[1].replace(/0*$/,""),t=i.join(".")))}return"keep"===e.lZero?t:t.replace(/^0*(\d)/,"$1")}function h(t,e,n){return n&&"-"!==n&&(t=t.replace("-",n)),e&&"."!==e&&(t=t.replace(".",e)),t}function d(e,n){var i=+(e=c(e=l(e=s(e,n),n.aDec,n.mDec),n.aDec,n.aNeg));return"set"===n.oEvent&&(i<n.vMin||i>n.vMax)&&t.error("The value ("+i+") from the 'set' method falls outside of the vMin / vMax range"),i>=n.vMin&&i<=n.vMax}function p(t,e,n){return""===t||t===e.aNeg?"zero"===e.wEmpty?t+"0":"sign"===e.wEmpty||n?t+e.aSign:t:null}function f(t,e){var n=(t=s(t,e)).replace(",","."),i=p(t,e,!0);if(null!==i)return i;var r="";r=2===e.dGroup?/(\d)((\d)(\d{2}?)+)$/:4===e.dGroup?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/;var o=t.split(e.aDec);e.altDec&&1===o.length&&(o=t.split(e.altDec));var l=o[0];if(e.aSep)for(;r.test(l);)l=l.replace(r,"$1"+e.aSep+"$2");if(0!==e.mDec&&o.length>1?(o[1].length>e.mDec&&(o[1]=o[1].substring(0,e.mDec)),t=l+e.aDec+o[1]):t=l,e.aSign){var c=-1!==t.indexOf(e.aNeg);t=t.replace(e.aNeg,""),t="p"===e.pSign?e.aSign+t:t+e.aSign,c&&(t=e.aNeg+t)}return"set"===e.oEvent&&n<0&&null!==e.nBracket&&(t=a(t,e.nBracket,e.oEvent)),t}function m(t,e){t=""===t?"0":t.toString(),r(e,"mDec");var n="",i=0,o="",s="boolean"==typeof e.aPad||null===e.aPad?e.aPad?e.mDec:0:+e.aPad,a=function(t){var e=0===s?/(\.[1-9]*)0*$/:1===s?/(\.\d[1-9]*)0*$/:new RegExp("(\\.\\d{"+s+"}[1-9]*)0*$");return t=t.replace(e,"$1"),0===s&&(t=t.replace(/\.$/,"")),t};"-"===t.charAt(0)&&(o="-",t=t.replace("-","")),t.match(/^\d/)||(t="0"+t),"-"===o&&0==+t&&(o=""),(+t>0&&"keep"!==e.lZero||t.length>0&&"allow"===e.lZero)&&(t=t.replace(/^0*(\d)/,"$1"));var l=t.lastIndexOf("."),c=-1===l?t.length-1:l,u=t.length-1-c;if(u<=e.mDec){if(n=t,u<s)for(-1===l&&(n+=".");u<s;){var h="000000".substring(0,s-u);n+=h,u+=h.length}else u>s?n=a(n):0===u&&0===s&&(n=n.replace(/\.$/,""));return o+n}var d=l+e.mDec,p=+t.charAt(d+1),f=t.substring(0,d+1).split(""),m="."===t.charAt(d)?t.charAt(d-1)%2:t.charAt(d)%2;if(p>4&&"S"===e.mRound||p>4&&"A"===e.mRound&&""===o||p>5&&"A"===e.mRound&&"-"===o||p>5&&"s"===e.mRound||p>5&&"a"===e.mRound&&""===o||p>4&&"a"===e.mRound&&"-"===o||p>5&&"B"===e.mRound||5===p&&"B"===e.mRound&&1===m||p>0&&"C"===e.mRound&&""===o||p>0&&"F"===e.mRound&&"-"===o||p>0&&"U"===e.mRound)for(i=f.length-1;i>=0;i-=1)if("."!==f[i]){if(f[i]=+f[i]+1,f[i]<10)break;i>0&&(f[i]="0")}return f=f.slice(0,d+1),0==+(n=a(f.join("")))?n:o+n}function g(e,n){this.settings=n,this.that=e,this.$that=t(e),this.formatted=!1,this.settingsClone=o(this.$that,this.settings),this.value=e.value}function v(e){return"string"==typeof e&&(e="#"+(e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]")).replace(/(:|\.)/g,"\\$1")),t(e)}function y(t,e,n){var i=t.data("autoNumeric");i||(i={},t.data("autoNumeric",i));var r=i.holder;return(void 0===r&&e||n)&&(r=new g(t.get(0),e),i.holder=r),r}g.prototype={init:function(t){this.value=this.that.value,this.settingsClone=o(this.$that,this.settings),this.ctrlKey=t.ctrlKey,this.cmdKey=t.metaKey,this.shiftKey=t.shiftKey,this.selection=e(this.that),"keydown"!==t.type&&"keyup"!==t.type||(this.kdCode=t.keyCode),this.which=t.which,this.processed=!1,this.formatted=!1},setSelection:function(t,e,i){t=Math.max(t,0),e=Math.min(e,this.that.value.length),this.selection={start:t,end:e,length:e-t},(void 0===i||i)&&n(this.that,t,e)},setPosition:function(t,e){this.setSelection(t,t,e)},getBeforeAfter:function(){var t=this.value;return[t.substring(0,this.selection.start),t.substring(this.selection.end,t.length)]},getBeforeAfterStriped:function(){var t=this.getBeforeAfter();return t[0]=s(t[0],this.settingsClone),t[1]=s(t[1],this.settingsClone),t},normalizeParts:function(t,e){var n=this.settingsClone;""!==(t=s(t,n,!!(e=s(e,n)).match(/^\d/)||"leading"))&&t!==n.aNeg||"deny"!==n.lZero||e>""&&(e=e.replace(/^0*(\d)/,"$1"));var i=t+e;if(n.aDec){var r=i.match(new RegExp("^"+n.aNegRegAutoStrip+"\\"+n.aDec));r&&(i=(t=t.replace(r[1],r[1]+"0"))+e)}return"zero"!==n.wEmpty||i!==n.aNeg&&""!==i||(t+="0"),[t,e]},setValueParts:function(t,e){var n=this.settingsClone,i=this.normalizeParts(t,e),r=i.join(""),o=i[0].length;return!!d(r,n)&&(r=l(r,n.aDec,n.mDec),o>r.length&&(o=r.length),this.value=r,this.setPosition(o,!1),!0)},signPosition:function(){var t=this.settingsClone,e=t.aSign,n=this.that;if(e){var i=e.length;if("p"===t.pSign)return t.aNeg&&n.value&&n.value.charAt(0)===t.aNeg?[1,i+1]:[0,i];var r=n.value.length;return[r-i,r]}return[1e3,-1]},expandSelectionOnSign:function(t){var e=this.signPosition(),n=this.selection;n.start<e[1]&&n.end>e[0]&&((n.start<e[0]||n.end>e[1])&&this.value.substring(Math.max(n.start,e[0]),Math.min(n.end,e[1])).match(/^\s*$/)?n.start<e[0]?this.setSelection(n.start,e[0],t):this.setSelection(e[1],n.end,t):this.setSelection(Math.min(n.start,e[0]),Math.max(n.end,e[1]),t))},checkPaste:function(){if(void 0!==this.valuePartsBeforePaste){var t=this.getBeforeAfter(),e=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste,t[0]=t[0].substr(0,e[0].length)+s(t[0].substr(e[0].length),this.settingsClone),this.setValueParts(t[0],t[1])||(this.value=e.join(""),this.setPosition(e[0].length,!1))}},skipAllways:function(t){var e=this.kdCode,n=this.which,i=this.ctrlKey,r=this.cmdKey,o=this.shiftKey;if((i||r)&&"keyup"===t.type&&void 0!==this.valuePartsBeforePaste||o&&45===e)return this.checkPaste(),!1;if(e>=112&&e<=123||e>=91&&e<=93||e>=9&&e<=31||e<8&&(0===n||n===e)||144===e||145===e||45===e)return!0;if((i||r)&&65===e)return!0;if((i||r)&&(67===e||86===e||88===e))return"keydown"===t.type&&this.expandSelectionOnSign(),86!==e&&45!==e||("keydown"===t.type||"keypress"===t.type?void 0===this.valuePartsBeforePaste&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),"keydown"===t.type||"keypress"===t.type||67===e;if(i||r)return!0;if(37===e||39===e){var s=this.settingsClone.aSep,a=this.selection.start,l=this.that.value;return"keydown"===t.type&&s&&!this.shiftKey&&(37===e&&l.charAt(a-2)===s?this.setPosition(a-1):39===e&&l.charAt(a+1)===s&&this.setPosition(a+1)),!0}return e>=34&&e<=40},processAllways:function(){var t;return(8===this.kdCode||46===this.kdCode)&&(this.selection.length?(this.expandSelectionOnSign(!1),t=this.getBeforeAfterStriped(),this.setValueParts(t[0],t[1])):(t=this.getBeforeAfterStriped(),8===this.kdCode?t[0]=t[0].substring(0,t[0].length-1):t[1]=t[1].substring(1,t[1].length),this.setValueParts(t[0],t[1])),!0)},processKeypress:function(){var t=this.settingsClone,e=String.fromCharCode(this.which),n=this.getBeforeAfterStriped(),i=n[0],r=n[1];return e===t.aDec||t.altDec&&e===t.altDec||("."===e||","===e)&&110===this.kdCode?!t.mDec||!t.aDec||(!!(t.aNeg&&r.indexOf(t.aNeg)>-1)||(i.indexOf(t.aDec)>-1||(r.indexOf(t.aDec)>0||(0===r.indexOf(t.aDec)&&(r=r.substr(1)),this.setValueParts(i+t.aDec,r),!0)))):"-"===e||"+"===e?!t.aNeg||(""===i&&r.indexOf(t.aNeg)>-1&&(i=t.aNeg,r=r.substring(1,r.length)),i=i.charAt(0)===t.aNeg?i.substring(1,i.length):"-"===e?t.aNeg+i:i,this.setValueParts(i,r),!0):!(e>="0"&&e<="9")||(t.aNeg&&""===i&&r.indexOf(t.aNeg)>-1&&(i=t.aNeg,r=r.substring(1,r.length)),t.vMax<=0&&t.vMin<t.vMax&&-1===this.value.indexOf(t.aNeg)&&"0"!==e&&(i=t.aNeg+i),this.setValueParts(i+e,r),!0)},formatQuick:function(){var t=this.settingsClone,e=this.getBeforeAfterStriped(),n=this.value;if((""===t.aSep||""!==t.aSep&&-1===n.indexOf(t.aSep))&&(""===t.aSign||""!==t.aSign&&-1===n.indexOf(t.aSign))){var i=[],r="";(i=n.split(t.aDec))[0].indexOf("-")>-1&&(r="-",i[0]=i[0].replace("-",""),e[0]=e[0].replace("-","")),i[0].length>t.mInt&&"0"===e[0].charAt(0)&&(e[0]=e[0].slice(1)),e[0]=r+e[0]}var o=f(this.value,this.settingsClone),s=o.length;if(o){var a=e[0].split(""),l=0;for(l;l<a.length;l+=1)a[l].match("\\d")||(a[l]="\\"+a[l]);var c=new RegExp("^.*?"+a.join(".*?")),u=o.match(c);u?(0===(s=u[0].length)&&o.charAt(0)!==t.aNeg||1===s&&o.charAt(0)===t.aNeg)&&t.aSign&&"p"===t.pSign&&(s=this.settingsClone.aSign.length+("-"===o.charAt(0)?1:0)):t.aSign&&"s"===t.pSign&&(s-=t.aSign.length)}this.that.value=o,this.setPosition(s),this.formatted=!0}};var _={init:function(e){return this.each(function(){var i=t(this),r=i.data("autoNumeric"),o=i.data();if("object"==typeof r)return this;var l={aNum:"0123456789",aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"999999999.99",vMin:"0.00",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",aForm:!0,onSomeEvent:function(){}};if((r=t.extend({},l,o,e)).aDec===r.aSep)return t.error("autoNumeric will not function properly when the decimal character aDec: '"+r.aDec+"' and thousand separator aSep: '"+r.aSep+"' are the same character"),this;i.data("autoNumeric",r),r.lastSetValue="",r.runOnce=!1;var u=y(i,r);if(-1===t.inArray(i.prop("tagName"),r.tagList)&&"INPUT"!==i.prop("tagName"))return t.error("The <"+i.prop("tagName")+"> is not supported by autoNumeric()"),this;if(!1===r.runOnce&&r.aForm){if(i.is("input[type=text], input[type=hidden], input:not([type])")){var g=!0;""===i[0].value&&"empty"===r.wEmpty&&(i[0].value="",g=!1),""===i[0].value&&"sign"===r.wEmpty&&(i[0].value=r.aSign,g=!1),g&&i.autoNumeric("set",i.val())}-1!==t.inArray(i.prop("tagName"),r.tagList)&&""!==i.text()&&i.autoNumeric("set",i.text())}r.runOnce=!0,i.is("input[type=text], input[type=hidden], input:not([type])")&&(i.on("keydown.autoNumeric",function(e){return(u=y(i)).settings.aDec===u.settings.aSep?(t.error("autoNumeric will not function properly when the decimal character aDec: '"+u.settings.aDec+"' and thousand separator aSep: '"+u.settings.aSep+"' are the same character"),this):u.that.readOnly?(u.processed=!0,!0):(u.init(e),u.settings.oEvent="keydown",u.skipAllways(e)?(u.processed=!0,!0):u.processAllways()?(u.processed=!0,u.formatQuick(),e.preventDefault(),!1):(u.formatted=!1,!0))}),i.on("keypress.autoNumeric",function(t){var e=y(i),n=e.processed;return e.init(t),e.settings.oEvent="keypress",!!e.skipAllways(t)||(n?(t.preventDefault(),!1):e.processAllways()||e.processKeypress()?(e.formatQuick(),t.preventDefault(),!1):void(e.formatted=!1))}),i.on("keyup.autoNumeric",function(t){var e=y(i);e.init(t),e.settings.oEvent="keyup";var r=e.skipAllways(t);return e.kdCode=0,delete e.valuePartsBeforePaste,i[0].value===e.settings.aSign&&("s"===e.settings.pSign?n(this,0,0):n(this,e.settings.aSign.length,e.settings.aSign.length)),!!r||(""===this.value||void(e.formatted||e.formatQuick()))}),i.on("focusin.autoNumeric",function(){var t=y(i);if(t.settingsClone.oEvent="focusin",null!==t.settingsClone.nBracket){var e=i.val();i.val(a(e,t.settingsClone.nBracket,t.settingsClone.oEvent))}t.inVal=i.val();var r=p(t.inVal,t.settingsClone,!0);null!==r&&(i.val(r),"s"===t.settings.pSign?n(this,0,0):n(this,t.settings.aSign.length,t.settings.aSign.length))}),i.on("focusout.autoNumeric",function(){var t=y(i),e=t.settingsClone,n=i.val(),r=n;t.settingsClone.oEvent="focusout";var o="";"allow"===e.lZero&&(e.allowLeading=!1,o="leading"),""!==n&&(n=null===p(n=s(n,e,o),e)&&d(n,e,i[0])?h(n=m(n=c(n,e.aDec,e.aNeg),e),e.aDec,e.aNeg):"");var l=p(n,e,!1);null===l&&(l=f(n,e)),l!==r&&i.val(l),l!==t.inVal&&(i.change(),delete t.inVal),null!==e.nBracket&&i.autoNumeric("get")<0&&(t.settingsClone.oEvent="focusout",i.val(a(i.val(),e.nBracket,e.oEvent)))}))})},destroy:function(){return t(this).each(function(){var e=t(this);e.off(".autoNumeric"),e.removeData("autoNumeric")})},update:function(e){return t(this).each(function(){var n=v(t(this)),i=n.data("autoNumeric");if("object"!=typeof i)return t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method"),this;var r=n.autoNumeric("get");return i=t.extend(i,e),y(n,i,!0),i.aDec===i.aSep?(t.error("autoNumeric will not function properly when the decimal character aDec: '"+i.aDec+"' and thousand separator aSep: '"+i.aSep+"' are the same character"),this):(n.data("autoNumeric",i),""!==n.val()||""!==n.text()?n.autoNumeric("set",r):void 0)})},set:function(e){return t(this).each(function(){var n=v(t(this)),i=n.data("autoNumeric"),r=e.toString(),o=e.toString();return"object"!=typeof i?(t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),this):(o===n.attr("value")&&(r=r.replace(",",".")),o!==n.attr("value")&&!1===i.runOnce&&(r=s(r,i)),t.isNumeric(+r)?(r=u(r,i),i.oEvent="set",i.lastSetValue=r,r.toString(),""!==r&&(r=m(r,i)),r=h(r,i.aDec,i.aNeg),d(r,i)||(r=m("",i)),r=f(r,i),n.is("input[type=text], input[type=hidden], input:not([type])")?n.val(r):-1!==t.inArray(n.prop("tagName"),i.tagList)?n.text(r):(t.error("The <"+n.prop("tagName")+"> is not supported by autoNumeric()"),!1)):"")})},get:function(){var e=v(t(this)),n=e.data("autoNumeric");if("object"!=typeof n)return t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method"),this;n.oEvent="get";var i="";if(e.is("input[type=text], input[type=hidden], input:not([type])"))i=e.eq(0).val();else{if(-1===t.inArray(e.prop("tagName"),n.tagList))return t.error("The <"+e.prop("tagName")+"> is not supported by autoNumeric()"),!1;i=e.eq(0).text()}return""===i&&"empty"===n.wEmpty||i===n.aSign&&("sign"===n.wEmpty||"empty"===n.wEmpty)?"":(null!==n.nBracket&&""!==i&&(i=a(i,n.nBracket,n.oEvent)),(n.runOnce||!1===n.aForm)&&(i=s(i,n)),0==+(i=c(i,n.aDec,n.aNeg))&&"keep"!==n.lZero&&(i="0"),"keep"===n.lZero?i:i=u(i,n))},getString:function(){var e=!1,n=v(t(this)).serialize().split("&"),i=0;for(i;i<n.length;i+=1){var r=n[i].split("=");"object"==typeof t('*[name="'+decodeURIComponent(r[0])+'"]').data("autoNumeric")&&null!==r[1]&&void 0!==t('*[name="'+decodeURIComponent(r[0])+'"]').data("autoNumeric")&&(r[1]=t('input[name="'+decodeURIComponent(r[0])+'"]').autoNumeric("get"),n[i]=r.join("="),e=!0)}return!0===e?n.join("&"):(t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method"),this)},getArray:function(){var e=!1,n=v(t(this)).serializeArray();return t.each(n,function(n,i){"object"==typeof t('*[name="'+decodeURIComponent(i.name)+'"]').data("autoNumeric")&&(""!==i.value&&void 0!==t('*[name="'+decodeURIComponent(i.name)+'"]').data("autoNumeric")&&(i.value=t('input[name="'+decodeURIComponent(i.name)+'"]').autoNumeric("get").toString()),e=!0)}),!0===e?n:(t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getArray' method"),this)},getSettings:function(){return v(t(this)).eq(0).data("autoNumeric")}};t.fn.autoNumeric=function(e){return _[e]?_[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error('Method "'+e+'" is not supported by autoNumeric()'):_.init.apply(this,arguments)}}(jQuery),function(){function t(e,n,i){var r=t.resolve(e);if(null==r){i=i||e,n=n||"root";var o=new Error('Failed to require "'+i+'" from "'+n+'"');throw o.path=i,o.parent=n,o.require=!0,o}var s=t.modules[r];return s.exports||(s.exports={},s.client=s.component=!0,s.call(this,s.exports,t.relative(r),s)),s.exports}t.modules={},t.aliases={},t.resolve=function(e){"/"===e.charAt(0)&&(e=e.slice(1));for(var n=[e,e+".js",e+".json",e+"/index.js",e+"/index.json"],i=0;i<n.length;i++){var e=n[i];if(t.modules.hasOwnProperty(e))return e;if(t.aliases.hasOwnProperty(e))return t.aliases[e]}},t.normalize=function(t,e){var n=[];if("."!=e.charAt(0))return e;t=t.split("/"),e=e.split("/");for(var i=0;i<e.length;++i)".."==e[i]?t.pop():"."!=e[i]&&""!=e[i]&&n.push(e[i]);return t.concat(n).join("/")},t.register=function(e,n){t.modules[e]=n},t.alias=function(e,n){if(!t.modules.hasOwnProperty(e))throw new Error('Failed to alias "'+e+'", it does not exist');t.aliases[n]=e},t.relative=function(e){function n(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function i(n){return t(i.resolve(n),e,n)}var r=t.normalize(e,"..");return i.resolve=function(i){var o=i.charAt(0);if("/"==o)return i.slice(1);if("."==o)return t.normalize(r,i);var s=e.split("/"),a=n(s,"deps")+1;return a||(a=0),i=s.slice(0,a+1).join("/")+"/deps/"+i},i.exists=function(e){return t.modules.hasOwnProperty(i.resolve(e))},i},t.register("component-emitter/index.js",function(t,e,n){function i(t){return t?r(t):void 0}function r(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}n.exports=i,i.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){i.off(t,n),e.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},e._off=n,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=function(t,e){this._callbacks=this._callbacks||{};var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;var i=n.indexOf(e._off||e);return~i&&n.splice(i,1),this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n)for(var i=0,r=(n=n.slice(0)).length;r>i;++i)n[i].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),t.register("dropzone/index.js",function(t,e,n){n.exports=e("./lib/dropzone.js")}),t.register("dropzone/lib/dropzone.js",function(t,e,n){(function(){var t,i,r,o,s,a,l={}.hasOwnProperty,c=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u=[].slice;i="undefined"!=typeof Emitter&&null!==Emitter?Emitter:e("emitter"),s=function(){},(t=function(t){function e(t,i){var r,o,s;if(this.element=t,this.version=e.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(e.instances.push(this),t.dropzone=this,r=null!=(s=e.optionsForElement(this.element))?s:{},this.options=n({},this.defaultOptions,r,null!=i?i:{}),this.options.forceFallback||!e.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),this.previewsContainer=this.options.previewsContainer?e.getElement(this.options.previewsContainer,"previewsContainer"):this.element,this.options.clickable&&(this.clickableElements=!0===this.options.clickable?[this.element]:e.getElements(this.options.clickable,"clickable")),this.init()}var n;return c(e,i),e.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","selectedfiles","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded"],e.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MB). Max filesize: {{maxFilesize}}MB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can only upload {{maxFiles}} files.",accept:function(t,e){return e()},init:function(){return s},forceFallback:!1,fallback:function(){var t,n,i,r,o,s;for(this.element.className=this.element.className+" dz-browser-not-supported",r=0,o=(s=this.element.getElementsByTagName("div")).length;o>r;r++)t=s[r],/(^| )dz-message($| )/.test(t.className)&&(n=t,t.className="dz-message");return n||(n=e.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(n)),(i=n.getElementsByTagName("span")[0])&&(i.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,n,i;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},n=t.width/t.height,i=this.options.thumbnailWidth/this.options.thumbnailHeight,t.height<this.options.thumbnailHeight||t.width<this.options.thumbnailWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):n>i?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*i):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/i),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:s,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},selectedfiles:function(){return this.element===this.previewsContainer?this.element.classList.add("dz-started"):void 0},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var n=this;return t.previewElement=e.createElement(this.options.previewTemplate),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),t.previewElement.querySelector("[data-dz-name]").textContent=t.name,t.previewElement.querySelector("[data-dz-size]").innerHTML=this.filesize(t.size),this.options.addRemoveLinks&&(t._removeLink=e.createElement('<a class="dz-remove" href="javascript:undefined;">'+this.options.dictRemoveFile+"</a>"),t._removeLink.addEventListener("click",function(i){return i.preventDefault(),i.stopPropagation(),t.status===e.UPLOADING?e.confirm(n.options.dictCancelUploadConfirmation,function(){return n.removeFile(t)}):n.options.dictRemoveFileConfirmation?e.confirm(n.options.dictRemoveFileConfirmation,function(){return n.removeFile(t)}):n.removeFile(t)}),t.previewElement.appendChild(t._removeLink)),this._updateMaxFilesReachedClass()},removedfile:function(t){var e;return null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var n;return t.previewElement.classList.remove("dz-file-preview"),t.previewElement.classList.add("dz-image-preview"),n=t.previewElement.querySelector("[data-dz-thumbnail]"),n.alt=t.name,n.src=e},error:function(t,e){return t.previewElement.classList.add("dz-error"),t.previewElement.querySelector("[data-dz-errormessage]").textContent=e},errormultiple:s,processing:function(t){return t.previewElement.classList.add("dz-processing"),t._removeLink?t._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:s,uploadprogress:function(t,e){return t.previewElement.querySelector("[data-dz-uploadprogress]").style.width=e+"%"},totaluploadprogress:s,sending:s,sendingmultiple:s,success:function(t){return t.previewElement.classList.add("dz-success")},successmultiple:s,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:s,complete:function(t){return t._removeLink?t._removeLink.textContent=this.options.dictRemoveFile:void 0},completemultiple:s,maxfilesexceeded:s,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>✔</span></div>\n  <div class="dz-error-mark"><span>✘</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},n=function(){var t,e,n,i,r,o,s;for(i=arguments[0],o=0,s=(n=2<=arguments.length?u.call(arguments,1):[]).length;s>o;o++){e=n[o];for(t in e)r=e[t],i[t]=r}return i},e.prototype.getAcceptedFiles=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.files).length;n>e;e++)(t=i[e]).accepted&&r.push(t);return r},e.prototype.getRejectedFiles=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.files).length;n>e;e++)(t=i[e]).accepted||r.push(t);return r},e.prototype.getQueuedFiles=function(){var t,n,i,r,o;for(o=[],n=0,i=(r=this.files).length;i>n;n++)(t=r[n]).status===e.QUEUED&&o.push(t);return o},e.prototype.getUploadingFiles=function(){var t,n,i,r,o;for(o=[],n=0,i=(r=this.files).length;i>n;n++)(t=r[n]).status===e.UPLOADING&&o.push(t);return o},e.prototype.init=function(){var t,n,i,r,o,s,a,l=this;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(e.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(i=function(){return l.hiddenFileInput&&document.body.removeChild(l.hiddenFileInput),l.hiddenFileInput=document.createElement("input"),l.hiddenFileInput.setAttribute("type","file"),l.hiddenFileInput.setAttribute("multiple","multiple"),null!=l.options.acceptedFiles&&l.hiddenFileInput.setAttribute("accept",l.options.acceptedFiles),l.hiddenFileInput.style.visibility="hidden",l.hiddenFileInput.style.position="absolute",l.hiddenFileInput.style.top="0",l.hiddenFileInput.style.left="0",l.hiddenFileInput.style.height="0",l.hiddenFileInput.style.width="0",document.body.appendChild(l.hiddenFileInput),l.hiddenFileInput.addEventListener("change",function(){var t;return(t=l.hiddenFileInput.files).length&&(l.emit("selectedfiles",t),l.handleFiles(t)),i()})})(),this.URL=null!=(s=window.URL)?s:window.webkitURL,r=0,o=(a=this.events).length;o>r;r++)t=a[r],this.on(t,this.options[t]);return this.on("uploadprogress",function(){return l.updateTotalUploadProgress()}),this.on("removedfile",function(){return l.updateTotalUploadProgress()}),this.on("canceled",function(t){return l.emit("complete",t)}),n=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return l.emit("dragstart",t)},dragenter:function(t){return n(t),l.emit("dragenter",t)},dragover:function(t){return n(t),l.emit("dragover",t)},dragleave:function(t){return l.emit("dragleave",t)},drop:function(t){return n(t),l.drop(t)},dragend:function(t){return l.emit("dragend",t)}}}],this.clickableElements.forEach(function(t){return l.listeners.push({element:t,events:{click:function(n){return t!==l.element||n.target===l.element||e.elementInside(n.target,l.element.querySelector(".dz-message"))?l.hiddenFileInput.click():void 0}}})}),this.enable(),this.options.init.call(this)},e.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone},e.prototype.updateTotalUploadProgress=function(){var t,e,n,i,r,o,s;if(n=0,e=0,this.getAcceptedFiles().length){for(r=0,o=(s=this.getAcceptedFiles()).length;o>r;r++)t=s[r],n+=t.upload.bytesSent,e+=t.upload.total;i=100*n/e}else i=100;return this.emit("totaluploadprogress",i,e,n)},e.prototype.getFallbackForm=function(){var t,n,i,r;return(t=this.getExistingFallback())?t:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><button type="submit">Upload!</button></div>',n=e.createElement(i),"FORM"!==this.element.tagName?(r=e.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(n):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=r?r:n)},e.prototype.getExistingFallback=function(){var t,e,n,i,r,o;for(e=function(t){var e,n,i;for(n=0,i=t.length;i>n;n++)if(e=t[n],/(^| )fallback($| )/.test(e.className))return e},i=0,r=(o=["div","form"]).length;r>i;i++)if(n=o[i],t=e(this.element.getElementsByTagName(n)))return t},e.prototype.setupEventListeners=function(){var t,e,n,i,r,o,s;for(s=[],i=0,r=(o=this.listeners).length;r>i;i++)t=o[i],s.push(function(){var i,r;i=t.events,r=[];for(e in i)n=i[e],r.push(t.element.addEventListener(e,n,!1));return r}());return s},e.prototype.removeEventListeners=function(){var t,e,n,i,r,o,s;for(s=[],i=0,r=(o=this.listeners).length;r>i;i++)t=o[i],s.push(function(){var i,r;i=t.events,r=[];for(e in i)n=i[e],r.push(t.element.removeEventListener(e,n,!1));return r}());return s},e.prototype.disable=function(){var t,e,n,i,r;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),r=[],e=0,n=(i=this.files).length;n>e;e++)t=i[e],r.push(this.cancelUpload(t));return r},e.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},e.prototype.filesize=function(t){var e;return t>=1e11?(t/=1e11,e="TB"):t>=1e8?(t/=1e8,e="GB"):t>=1e5?(t/=1e5,e="MB"):t>=100?(t/=100,e="KB"):(t*=10,e="b"),"<strong>"+Math.round(t)/10+"</strong> "+e},e.prototype._updateMaxFilesReachedClass=function(){return this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?this.element.classList.add("dz-max-files-reached"):this.element.classList.remove("dz-max-files-reached")},e.prototype.drop=function(t){var e,n;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,this.emit("selectedfiles",e),e.length&&((n=t.dataTransfer.items)&&n.length&&(null!=n[0].webkitGetAsEntry||null!=n[0].getAsEntry)?this.handleItems(n):this.handleFiles(e)))},e.prototype.handleFiles=function(t){var e,n,i,r;for(r=[],n=0,i=t.length;i>n;n++)e=t[n],r.push(this.addFile(e));return r},e.prototype.handleItems=function(t){var e,n,i,r;for(i=0,r=t.length;r>i;i++)null!=(n=t[i]).webkitGetAsEntry?(e=n.webkitGetAsEntry()).isFile?this.addFile(n.getAsFile()):e.isDirectory&&this.addDirectory(e,e.name):this.addFile(n.getAsFile())},e.prototype.accept=function(t,n){return t.size>1048576*this.options.maxFilesize?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):e.isValidFile(t,this.options.acceptedFiles)?this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,n):n(this.options.dictInvalidFileType)},e.prototype.addFile=function(t){var n=this;return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=e.ADDED,this.emit("addedfile",t),this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1048576*this.options.maxThumbnailFilesize&&this.createThumbnail(t),this.accept(t,function(e){return e?(t.accepted=!1,n._errorProcessing([t],e)):n.enqueueFile(t)})},e.prototype.enqueueFiles=function(t){var e,n,i;for(n=0,i=t.length;i>n;n++)e=t[n],this.enqueueFile(e);return null},e.prototype.enqueueFile=function(t){var n=this;if(t.accepted=!0,t.status!==e.ADDED)throw new Error("This file can't be queued because it has already been processed or was rejected.");return t.status=e.QUEUED,this.options.autoProcessQueue?setTimeout(function(){return n.processQueue()},1):void 0},e.prototype.addDirectory=function(t,e){var n,i,r=this;return n=t.createReader(),i=function(n){var i,o;for(i=0,o=n.length;o>i;i++)(t=n[i]).isFile?t.file(function(t){return r.options.ignoreHiddenFiles&&"."===t.name.substring(0,1)?void 0:(t.fullPath=e+"/"+t.name,r.addFile(t))}):t.isDirectory&&r.addDirectory(t,e+"/"+t.name)},n.readEntries(i,function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0})},e.prototype.removeFile=function(t){return t.status===e.UPLOADING&&this.cancelUpload(t),this.files=a(this.files,t),this.emit("removedfile",t),0===this.files.length?this.emit("reset"):void 0},e.prototype.removeAllFiles=function(t){var n,i,r,o;for(null==t&&(t=!1),i=0,r=(o=this.files.slice()).length;r>i;i++)((n=o[i]).status!==e.UPLOADING||t)&&this.removeFile(n);return null},e.prototype.createThumbnail=function(t){var e,n=this;return e=new FileReader,e.onload=function(){var i;return i=new Image,i.onload=function(){var e,r,o,s,a,l,c,u;return t.width=i.width,t.height=i.height,null==(o=n.options.resize.call(n,t)).trgWidth&&(o.trgWidth=n.options.thumbnailWidth),null==o.trgHeight&&(o.trgHeight=n.options.thumbnailHeight),e=document.createElement("canvas"),r=e.getContext("2d"),e.width=o.trgWidth,e.height=o.trgHeight,r.drawImage(i,null!=(a=o.srcX)?a:0,null!=(l=o.srcY)?l:0,o.srcWidth,o.srcHeight,null!=(c=o.trgX)?c:0,null!=(u=o.trgY)?u:0,o.trgWidth,o.trgHeight),s=e.toDataURL("image/png"),n.emit("thumbnail",t,s)},i.src=e.result},e.readAsDataURL(t)},e.prototype.processQueue=function(){var t,e,n,i;if(e=this.options.parallelUploads,n=this.getUploadingFiles().length,t=n,!(n>=e)&&(i=this.getQueuedFiles()).length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-n));for(;e>t;){if(!i.length)return;this.processFile(i.shift()),t++}}},e.prototype.processFile=function(t){return this.processFiles([t])},e.prototype.processFiles=function(t){var n,i,r;for(i=0,r=t.length;r>i;i++)n=t[i],n.processing=!0,n.status=e.UPLOADING,this.emit("processing",n);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},e.prototype._getFilesWithXhr=function(t){var e;return function(){var n,i,r,o;for(o=[],n=0,i=(r=this.files).length;i>n;n++)(e=r[n]).xhr===t&&o.push(e);return o}.call(this)},e.prototype.cancelUpload=function(t){var n,i,r,o,s,a,l;if(t.status===e.UPLOADING){for(r=0,s=(i=this._getFilesWithXhr(t.xhr)).length;s>r;r++)n=i[r],n.status=e.CANCELED;for(t.xhr.abort(),o=0,a=i.length;a>o;o++)n=i[o],this.emit("canceled",n);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else((l=t.status)===e.ADDED||l===e.QUEUED)&&(t.status=e.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));return this.options.autoProcessQueue?this.processQueue():void 0},e.prototype.uploadFile=function(t){return this.uploadFiles([t])},e.prototype.uploadFiles=function(t){var i,r,o,s,a,l,c,u,h,d,p,f,m,g,v,y,_,b,w,x,S,k,C,T,D,M,E=this;for(g=new XMLHttpRequest,v=0,w=t.length;w>v;v++)i=t[v],i.xhr=g;g.open(this.options.method,this.options.url,!0),g.withCredentials=!!this.options.withCredentials,p=null,o=function(){var e,n,r;for(r=[],e=0,n=t.length;n>e;e++)i=t[e],r.push(E._errorProcessing(t,p||E.options.dictResponseError.replace("{{statusCode}}",g.status),g));return r},f=function(e){var n,r,o,s,a,l,c,u,h;if(null!=e)for(r=100*e.loaded/e.total,o=0,l=t.length;l>o;o++)i=t[o],i.upload={progress:r,total:e.total,bytesSent:e.loaded};else{for(n=!0,r=100,s=0,c=t.length;c>s;s++)(100!==(i=t[s]).upload.progress||i.upload.bytesSent!==i.upload.total)&&(n=!1),i.upload.progress=r,i.upload.bytesSent=i.upload.total;if(n)return}for(h=[],a=0,u=t.length;u>a;a++)i=t[a],h.push(E.emit("uploadprogress",i,r,i.upload.bytesSent));return h},g.onload=function(n){var i;if(t[0].status!==e.CANCELED&&4===g.readyState){if(p=g.responseText,g.getResponseHeader("content-type")&&~g.getResponseHeader("content-type").indexOf("application/json"))try{p=JSON.parse(p)}catch(t){n=t,p="Invalid JSON response from server."}return f(),200<=(i=g.status)&&300>i?E._finished(t,p,n):o()}},g.onerror=function(){return t[0].status!==e.CANCELED?o():void 0},(null!=(C=g.upload)?C:g).onprogress=f,l={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(l,this.options.headers);for(s in l)a=l[s],g.setRequestHeader(s,a);if(r=new FormData,this.options.params){T=this.options.params;for(d in T)m=T[d],r.append(d,m)}for(y=0,x=t.length;x>y;y++)i=t[y],this.emit("sending",i,g,r);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,g,r),"FORM"===this.element.tagName)for(D=this.element.querySelectorAll("input, textarea, select, button"),_=0,S=D.length;S>_;_++)c=D[_],u=c.getAttribute("name"),(!(h=c.getAttribute("type"))||"checkbox"!==(M=h.toLowerCase())&&"radio"!==M||c.checked)&&r.append(u,c.value);for(b=0,k=t.length;k>b;b++)i=t[b],r.append(this.options.paramName+(this.options.uploadMultiple?"[]":""),i,i.name);return g.send(r)},e.prototype._finished=function(t,n,i){var r,o,s;for(o=0,s=t.length;s>o;o++)r=t[o],r.status=e.SUCCESS,this.emit("success",r,n,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("successmultiple",t,n,i),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},e.prototype._errorProcessing=function(t,n,i){var r,o,s;for(o=0,s=t.length;s>o;o++)r=t[o],r.status=e.ERROR,this.emit("error",r,n,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("errormultiple",t,n,i),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},e}()).version="3.7.1",t.options={},t.optionsForElement=function(e){return e.id?t.options[r(e.id)]:void 0},t.instances=[],t.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},t.autoDiscover=!0,t.discover=function(){var e,n,i,r,o,s;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],(e=function(t){var e,n,r,o;for(o=[],n=0,r=t.length;r>n;n++)e=t[n],/(^| )dropzone($| )/.test(e.className)?o.push(i.push(e)):o.push(void 0);return o})(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),s=[],r=0,o=i.length;o>r;r++)n=i[r],!1!==t.optionsForElement(n)?s.push(new t(n)):s.push(void 0);return s},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,n,i,r;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(r=t.blacklistedBrowsers,n=0,i=r.length;i>n;n++)r[n].test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},a=function(t,e){var n,i,r,o;for(o=[],i=0,r=t.length;r>i;i++)(n=t[i])!==e&&o.push(n);return o},r=function(t){return t.replace(/[\-_](\w)/g,function(t){return t[1].toUpperCase()})},t.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},t.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},t.getElement=function(t,e){var n;if("string"==typeof t?n=document.querySelector(t):null!=t.nodeType&&(n=t),null==n)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},t.getElements=function(t,e){var n,i,r,o,s,a,l;if(t instanceof Array){i=[];try{for(r=0,s=t.length;s>r;r++)n=t[r],i.push(this.getElement(n,e))}catch(t){t,i=null}}else if("string"==typeof t)for(i=[],l=document.querySelectorAll(t),o=0,a=l.length;a>o;o++)n=l[o],i.push(n);else null!=t.nodeType&&(i=[t]);if(null==i||!i.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},t.confirm=function(t,e,n){return window.confirm(t)?e():null!=n?n():void 0},t.isValidFile=function(t,e){var n,i,r,o,s;if(!e)return!0;for(e=e.split(","),n=(i=t.type).replace(/\/.*$/,""),o=0,s=e.length;s>o;o++)if(r=e[o],"."===(r=r.trim()).charAt(0)){if(-1!==t.name.indexOf(r,t.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(n===r.replace(/\/.*$/,""))return!0}else if(i===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),void 0!==n&&null!==n?n.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",o=function(t,e){var n,i,r,o,s,a,l,c,u;if(r=!1,u=!0,i=t.document,c=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",a=i.addEventListener?"":"on",o=function(n){return"readystatechange"!==n.type||"complete"===i.readyState?(("load"===n.type?t:i)[l](a+n.type,o,!1),!r&&(r=!0)?e.call(t,n.type||n):void 0):void 0},s=function(){try{c.doScroll("left")}catch(t){return t,void setTimeout(s,50)}return o("poll")},"complete"!==i.readyState){if(i.createEventObject&&c.doScroll){try{u=!t.frameElement}catch(t){}u&&s()}return i[n](a+"DOMContentLoaded",o,!1),i[n](a+"readystatechange",o,!1),t[n](a+"load",o,!1)}},t._autoDiscoverFunction=function(){return t.autoDiscover?t.discover():void 0},o(window,t._autoDiscoverFunction)}).call(this)}),t.alias("component-emitter/index.js","dropzone/deps/emitter/index.js"),t.alias("component-emitter/index.js","emitter/index.js"),"object"==typeof exports?module.exports=t("dropzone"):"function"==typeof define&&define.amd?define(function(){return t("dropzone")}):this.Dropzone=t("dropzone")}(),function(t){"use strict";function e(e,n){this.itemsArray=[],this.$element=t(e),this.$element.hide(),this.isSelect="SELECT"===e.tagName,this.multiple=this.isSelect&&e.hasAttribute("multiple"),this.objectItems=n&&n.itemValue,this.$container=t('<div class="bootstrap-tagsinput"></div>'),this.$input=t('<input size="1" type="text" />').appendTo(this.$container),this.$element.after(this.$container),this.build(n)}function n(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(t){return t[n]}}}function i(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(){return n}}}function r(t){return t?a.text(t).html():""}function o(t){var e=0;if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}var s={tagClass:function(){return"label label-info"},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},freeInput:!0,maxTags:void 0,confirmKeys:[13],onTagExists:function(t,e){e.hide().fadeIn()}};e.prototype={constructor:e,add:function(e,n){var i=this;if(!(i.options.maxTags&&i.itemsArray.length>=i.options.maxTags||!1!==e&&!e)){if("object"==typeof e&&!i.objectItems)throw"Can't add objects when itemValue option is not set";if(!e.toString().match(/^\s*$/)){if(i.isSelect&&!i.multiple&&i.itemsArray.length>0&&i.remove(i.itemsArray[0]),"string"==typeof e&&"INPUT"===this.$element[0].tagName){var o=e.split(",");if(o.length>1){for(var s=0;s<o.length;s++)this.add(o[s],!0);return void(n||i.pushVal())}}var a=i.options.itemValue(e),l=i.options.itemText(e),c=i.options.tagClass(e),u=t.grep(i.itemsArray,function(t){return i.options.itemValue(t)===a})[0];if(u){if(i.options.onTagExists){var h=t(".tag",i.$container).filter(function(){return t(this).data("item")===u});i.options.onTagExists(e,h)}}else{i.itemsArray.push(e);var d=t('<span class="tag '+r(c)+'">'+r(l)+'<span data-role="remove"></span></span>');if(d.data("item",e),i.findInputWrapper().before(d),d.after(" "),i.isSelect&&!t('option[value="'+escape(a)+'"]',i.$element)[0]){var p=t("<option selected>"+r(l)+"</option>");p.data("item",e),p.attr("value",a),i.$element.append(p)}n||i.pushVal(),i.options.maxTags===i.itemsArray.length&&i.$container.addClass("bootstrap-tagsinput-max"),i.$element.trigger(t.Event("itemAdded",{item:e}))}}}},remove:function(e,n){var i=this;i.objectItems&&(e="object"==typeof e?t.grep(i.itemsArray,function(t){return i.options.itemValue(t)==i.options.itemValue(e)})[0]:t.grep(i.itemsArray,function(t){return i.options.itemValue(t)==e})[0]),e&&(t(".tag",i.$container).filter(function(){return t(this).data("item")===e}).remove(),t("option",i.$element).filter(function(){return t(this).data("item")===e}).remove(),i.itemsArray.splice(i.itemsArray.indexOf(e),1)),n||i.pushVal(),i.options.maxTags>i.itemsArray.length&&i.$container.removeClass("bootstrap-tagsinput-max"),i.$element.trigger(t.Event("itemRemoved",{item:e}))},removeAll:function(){var e=this;for(t(".tag",e.$container).remove(),t("option",e.$element).remove();e.itemsArray.length>0;)e.itemsArray.pop();e.pushVal(),e.options.maxTags&&!this.isEnabled()&&this.enable()},refresh:function(){var e=this;t(".tag",e.$container).each(function(){var n=t(this),i=n.data("item"),o=e.options.itemValue(i),s=e.options.itemText(i),a=e.options.tagClass(i);n.attr("class",null),n.addClass("tag "+r(a)),n.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=r(s),e.isSelect&&t("option",e.$element).filter(function(){return t(this).data("item")===i}).attr("value",o)})},items:function(){return this.itemsArray},pushVal:function(){var e=this,n=t.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(n,!0).trigger("change")},build:function(e){var r=this;r.options=t.extend({},s,e);var a=r.options.typeahead||{};r.objectItems&&(r.options.freeInput=!1),n(r.options,"itemValue"),n(r.options,"itemText"),n(r.options,"tagClass"),r.options.source&&(a.source=r.options.source),a.source&&t.fn.typeahead&&(i(a,"source"),r.$input.typeahead({source:function(e,n){function i(t){for(var e=[],i=0;i<t.length;i++){var s=r.options.itemText(t[i]);o[s]=t[i],e.push(s)}n(e)}this.map={};var o=this.map,s=a.source(e);t.isFunction(s.success)?s.success(i):t.when(s).then(i)},updater:function(t){r.add(this.map[t])},matcher:function(t){return-1!==t.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}})),r.$container.on("click",t.proxy(function(){r.$input.focus()},r)),r.$container.on("keydown","input",t.proxy(function(e){var n=t(e.target),i=r.findInputWrapper();switch(e.which){case 8:if(0===o(n[0])){var s=i.prev();s&&r.remove(s.data("item"))}break;case 46:if(0===o(n[0])){var a=i.next();a&&r.remove(a.data("item"))}break;case 37:var l=i.prev();0===n.val().length&&l[0]&&(l.before(i),n.focus());break;case 39:var c=i.next();0===n.val().length&&c[0]&&(c.after(i),n.focus());break;default:r.options.freeInput&&r.options.confirmKeys.indexOf(e.which)>=0&&(r.add(n.val()),n.val(""),e.preventDefault())}n.attr("size",Math.max(1,n.val().length))},r)),r.$container.on("click","[data-role=remove]",t.proxy(function(e){r.remove(t(e.target).closest(".tag").data("item"))},r)),r.options.itemValue===s.itemValue&&("INPUT"===r.$element[0].tagName?r.add(r.$element.val()):t("option",r.$element).each(function(){r.add(t(this).attr("value"),!0)}))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var e=this.$input[0],n=this.$container[0];e&&e.parentNode!==n;)e=e.parentNode;return t(e)}},t.fn.tagsinput=function(n,i){var r=[];return this.each(function(){var o=t(this).data("tagsinput");if(o){var s=o[n](i);void 0!==s&&r.push(s)}else o=new e(this,n),t(this).data("tagsinput",o),r.push(o),"SELECT"===this.tagName&&t("option",t(this)).attr("selected","selected"),t(this).val(t(this).val())}),"string"==typeof n?r.length>1?r:r[0]:r},t.fn.tagsinput.Constructor=e;var a=t("<div />");t(function(){t("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),function(t){var e,n=function(){var t=document.createElement("input"),e="onpaste";return t.setAttribute(e,""),"function"==typeof t[e]?"paste":"input"}()+".mask",i=navigator.userAgent,r=/iphone/i.test(i),o=/android/i.test(i);t.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},t.fn.extend({caret:function(t,e){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),t=0-n.duplicate().moveStart("character",-1e5),e=t+n.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(i,s){var a,l,c,u,h;return!i&&this.length>0?t(this[0]).data(t.mask.dataName)():(s=t.extend({placeholder:t.mask.placeholder,completed:null},s),a=t.mask.definitions,l=[],c=h=i.length,u=null,t.each(i.split(""),function(t,e){"?"==e?(h--,c=t):a[e]?(l.push(RegExp(a[e])),null===u&&(u=l.length-1)):l.push(null)}),this.trigger("unmask").each(function(){function d(t){for(;h>++t&&!l[t];);return t}function p(t){for(;--t>=0&&!l[t];);return t}function f(t,e){var n,i;if(!(0>t)){for(n=t,i=d(e);h>n;n++)if(l[n]){if(!(h>i&&l[n].test(b[i])))break;b[n]=b[i],b[i]=s.placeholder,i=d(i)}v(),_.caret(Math.max(u,t))}}function m(t){var e,n,i,r;for(e=t,n=s.placeholder;h>e;e++)if(l[e]){if(i=d(e),r=b[e],b[e]=n,!(h>i&&l[i].test(r)))break;n=r}}function g(t,e){var n;for(n=t;e>n&&h>n;n++)l[n]&&(b[n]=s.placeholder)}function v(){_.val(b.join(""))}function y(t){var e,n,i=_.val(),r=-1;for(e=0,pos=0;h>e;e++)if(l[e]){for(b[e]=s.placeholder;pos++<i.length;)if(n=i.charAt(pos-1),l[e].test(n)){b[e]=n,r=e;break}if(pos>i.length)break}else b[e]===i.charAt(pos)&&e!==c&&(pos++,r=e);return t?v():c>r+1?(_.val(""),g(0,h)):(v(),_.val(_.val().substring(0,r+1))),c?e:u}var _=t(this),b=t.map(i.split(""),function(t){return"?"!=t?a[t]?s.placeholder:t:void 0}),w=_.val();_.data(t.mask.dataName,function(){return t.map(b,function(t,e){return l[e]&&t!=s.placeholder?t:null}).join("")}),_.attr("readonly")||_.one("unmask",function(){_.unbind(".mask").removeData(t.mask.dataName)}).bind("focus.mask",function(){clearTimeout(e);var t;w=_.val(),t=y(),e=setTimeout(function(){v(),t==i.length?_.caret(0,t):_.caret(t)},10)}).bind("blur.mask",function(){y(),_.val()!=w&&_.change()}).bind("keydown.mask",function(t){var e,n,i,o=t.which;8===o||46===o||r&&127===o?(e=_.caret(),n=e.begin,0==(i=e.end)-n&&(n=46!==o?p(n):i=d(n-1),i=46===o?d(i):i),g(n,i),f(n,i-1),t.preventDefault()):27==o&&(_.val(w),_.caret(0,y()),t.preventDefault())}).bind("keypress.mask",function(e){var n,i,r,a=e.which,c=_.caret();e.ctrlKey||e.altKey||e.metaKey||32>a||a&&(0!=c.end-c.begin&&(g(c.begin,c.end),f(c.begin,c.end-1)),n=d(c.begin-1),h>n&&(i=String.fromCharCode(a),l[n].test(i)&&(m(n),b[n]=i,v(),r=d(n),o?setTimeout(t.proxy(t.fn.caret,_,r),0):_.caret(r),s.completed&&r>=h&&s.completed.call(_))),e.preventDefault())}).bind(n,function(){setTimeout(function(){var t=y(!0);_.caret(t),s.completed&&t==_.val().length&&s.completed.call(_)},0)}),y()}))}})}(jQuery),function(t){var e=function(e,n){e=t(e);var i=this,r=[],o=t.extend({},t.fn.bootstrapWizard.defaults,n),s=null,a=null;this.rebindClick=function(t,e){t.unbind("click",e).bind("click",e)},this.fixNavigationButtons=function(){if(s.length||(a.find("a:first").tab("show"),s=a.find('li:has([data-toggle="tab"]):first')),t(o.previousSelector,e).toggleClass("disabled",i.firstIndex()>=i.currentIndex()),t(o.nextSelector,e).toggleClass("disabled",i.currentIndex()>=i.navigationLength()),t(o.backSelector,e).toggleClass("disabled",0==r.length),i.rebindClick(t(o.nextSelector,e),i.next),i.rebindClick(t(o.previousSelector,e),i.previous),i.rebindClick(t(o.lastSelector,e),i.last),i.rebindClick(t(o.firstSelector,e),i.first),i.rebindClick(t(o.backSelector,e),i.back),o.onTabShow&&"function"==typeof o.onTabShow&&!1===o.onTabShow(s,a,i.currentIndex()))return!1},this.next=function(t){if(e.hasClass("last")||o.onNext&&"function"==typeof o.onNext&&!1===o.onNext(s,a,i.nextIndex()))return!1;t=i.currentIndex(),$index=i.nextIndex(),$index>i.navigationLength()||(r.push(t),a.find('li:has([data-toggle="tab"]):eq('+$index+") a").tab("show"))},this.previous=function(t){if(e.hasClass("first")||o.onPrevious&&"function"==typeof o.onPrevious&&!1===o.onPrevious(s,a,i.previousIndex()))return!1;t=i.currentIndex(),$index=i.previousIndex(),0>$index||(r.push(t),a.find('li:has([data-toggle="tab"]):eq('+$index+") a").tab("show"))},this.first=function(t){if(o.onFirst&&"function"==typeof o.onFirst&&!1===o.onFirst(s,a,i.firstIndex())||e.hasClass("disabled"))return!1;r.push(i.currentIndex()),a.find('li:has([data-toggle="tab"]):eq(0) a').tab("show")},this.last=function(t){if(o.onLast&&"function"==typeof o.onLast&&!1===o.onLast(s,a,i.lastIndex())||e.hasClass("disabled"))return!1;r.push(i.currentIndex()),a.find('li:has([data-toggle="tab"]):eq('+i.navigationLength()+") a").tab("show")},this.back=function(){if(0==r.length)return null;var t=r.pop();if(o.onBack&&"function"==typeof o.onBack&&!1===o.onBack(s,a,t))return r.push(t),!1;e.find('li:has([data-toggle="tab"]):eq('+t+") a").tab("show")},this.currentIndex=function(){return a.find('li:has([data-toggle="tab"])').index(s)},this.firstIndex=function(){return 0},this.lastIndex=function(){return i.navigationLength()},this.getIndex=function(t){return a.find('li:has([data-toggle="tab"])').index(t)},this.nextIndex=function(){return a.find('li:has([data-toggle="tab"])').index(s)+1},this.previousIndex=function(){return a.find('li:has([data-toggle="tab"])').index(s)-1},this.navigationLength=function(){return a.find('li:has([data-toggle="tab"])').length-1},this.activeTab=function(){return s},this.nextTab=function(){return a.find('li:has([data-toggle="tab"]):eq('+(i.currentIndex()+1)+")").length?a.find('li:has([data-toggle="tab"]):eq('+(i.currentIndex()+1)+")"):null},this.previousTab=function(){return 0>=i.currentIndex()?null:a.find('li:has([data-toggle="tab"]):eq('+parseInt(i.currentIndex()-1)+")")},this.show=function(t){0<(t=isNaN(t)?e.find('li:has([data-toggle="tab"]) a[href=#'+t+"]"):e.find('li:has([data-toggle="tab"]):eq('+t+") a")).length&&(r.push(i.currentIndex()),t.tab("show"))},this.disable=function(t){a.find('li:has([data-toggle="tab"]):eq('+t+")").addClass("disabled")},this.enable=function(t){a.find('li:has([data-toggle="tab"]):eq('+t+")").removeClass("disabled")},this.hide=function(t){a.find('li:has([data-toggle="tab"]):eq('+t+")").hide()},this.display=function(t){a.find('li:has([data-toggle="tab"]):eq('+t+")").show()},this.remove=function(e){var n=void 0!==e[1]&&e[1];e=a.find('li:has([data-toggle="tab"]):eq('+e[0]+")"),n&&(n=e.find("a").attr("href"),t(n).remove()),e.remove()};var l=function(e){var n=a.find('li:has([data-toggle="tab"])');if(e=n.index(t(e.currentTarget).parent('li:has([data-toggle="tab"])')),n=t(n[e]),o.onTabClick&&"function"==typeof o.onTabClick&&!1===o.onTabClick(s,a,i.currentIndex(),e,n))return!1},c=function(e){if($element=t(e.target).parent(),e=a.find('li:has([data-toggle="tab"])').index($element),$element.hasClass("disabled")||o.onTabChange&&"function"==typeof o.onTabChange&&!1===o.onTabChange(s,a,i.currentIndex(),e))return!1;s=$element,i.fixNavigationButtons()};this.resetWizard=function(){t('a[data-toggle="tab"]',a).off("click",l),t('a[data-toggle="tab"]',a).off("shown shown.bs.tab",c),a=e.find("ul:first",e),s=a.find('li:has([data-toggle="tab"]).active',e),t('a[data-toggle="tab"]',a).on("click",l),t('a[data-toggle="tab"]',a).on("shown shown.bs.tab",c),i.fixNavigationButtons()},a=e.find("ul:first",e),s=a.find('li:has([data-toggle="tab"]).active',e),a.hasClass(o.tabClass)||a.addClass(o.tabClass),o.onInit&&"function"==typeof o.onInit&&o.onInit(s,a,0),o.onShow&&"function"==typeof o.onShow&&o.onShow(s,a,i.nextIndex()),t('a[data-toggle="tab"]',a).on("click",l),t('a[data-toggle="tab"]',a).on("shown shown.bs.tab",c)};t.fn.bootstrapWizard=function(n){if("string"==typeof n){var i=Array.prototype.slice.call(arguments,1);return 1===i.length&&i.toString(),this.data("bootstrapWizard")[n](i)}return this.each(function(i){if(!(i=t(this)).data("bootstrapWizard")){var r=new e(i,n);i.data("bootstrapWizard",r),r.fixNavigationButtons()}})},t.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",backSelector:".wizard li.back",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onBack:null,onTabChange:null,onTabClick:null,onTabShow:null}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)}(function(t){"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){var n,i,r=this.length>>>0,o=!1;for(1<arguments.length&&(i=e,o=!0),n=0;r>n;++n)this.hasOwnProperty(n)&&(o?i=t(i,this[n],n,this):(i=this[n],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return i}),"function"!=typeof Array.prototype.filter&&(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=[],r=arguments.length>=2?arguments[1]:void 0,o=0;n>o;o++)if(o in e){var s=e[o];t.call(r,s,o,e)&&i.push(s)}return i});var e,n="function"==typeof define&&define.amd,i={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1,isFF:navigator.userAgent.indexOf("Firefox")>-1,jqueryVersion:parseFloat(t.fn.jquery),isSupportAmd:n,hasCodeMirror:n?require.specified("CodeMirror"):!!window.CodeMirror,isFontInstalled:function(e){var n="Comic Sans MS"===e?"Courier New":"Comic Sans MS",i=t("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),r=i.css("fontFamily",n).width(),o=i.css("fontFamily",e+","+n).width();return i.remove(),r!==o},isW3CRangeSupport:!!document.createRange},r=function(){var e=0;return{eq:function(t){return function(e){return t===e}},eq2:function(t,e){return t===e},peq2:function(t){return function(e,n){return e[t]===n[t]}},ok:function(){return!0},fail:function(){return!1},self:function(t){return t},not:function(t){return function(){return!t.apply(t,arguments)}},and:function(t,e){return function(n){return t(n)&&e(n)}},uniqueId:function(t){var n=++e+"";return t?t+n:n},rect2bnd:function(e){var n=t(document);return{top:e.top+n.scrollTop(),left:e.left+n.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}}}(),o=function(){var t=function(t){return t[0]},e=function(t){return t[t.length-1]},n=function(t){return t.slice(1)};return{head:t,last:e,initial:function(t){return t.slice(0,t.length-1)},tail:n,find:function(t,e){for(var n=0,i=t.length;i>n;n++){var r=t[n];if(e(r))return r}},contains:function(t,e){return-1!==t.indexOf(e)},all:function(t,e){for(var n=0,i=t.length;i>n;n++)if(!e(t[n]))return!1;return!0},sum:function(t,e){return e=e||r.self,t.reduce(function(t,n){return t+e(n)},0)},from:function(t){for(var e=[],n=-1,i=t.length;++n<i;)e[n]=t[n];return e},clusterBy:function(i,r){return i.length?n(i).reduce(function(t,n){var i=e(t);return r(e(i),n)?i[i.length]=n:t[t.length]=[n],t},[[t(i)]]):[]},compact:function(t){for(var e=[],n=0,i=t.length;i>n;n++)t[n]&&e.push(t[n]);return e},unique:function(t){for(var e=[],n=0,i=t.length;i>n;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}}}(),s=String.fromCharCode(160),a=function(){var e=function(e){return e&&t(e).hasClass("note-editable")},n=function(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}},l=function(t){return t&&3===t.nodeType},c=function(t){return t&&/^BR|^IMG|^HR/.test(t.nodeName.toUpperCase())},u=function(t){return!e(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))},h=n("LI"),d=function(t){return!g(t)&&!p(t)&&!u(t)},p=function(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())},f=function(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())},m=n("BLOCKQUOTE"),g=function(t){return f(t)||m(t)||e(t)},v=n("A"),y=n("BODY"),_=i.isMSIE?"&nbsp;":"<br>",b=function(t){return l(t)?t.nodeValue.length:t.childNodes.length},w=function(t){var e=b(t);return 0===e||!a.isText(t)&&1===e&&t.innerHTML===_},x=function(t){c(t)||b(t)||(t.innerHTML=_)},S=function(t,n){for(;t;){if(n(t))return t;if(e(t))break;t=t.parentNode}return null},k=function(t,n){n=n||r.fail;var i=[];return S(t,function(t){return e(t)||i.push(t),n(t)}),i},C=function(t,e){e=e||r.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.nextSibling;return n},T=function(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t},D=function(e,n){return t.each(n,function(t,n){e.appendChild(n)}),e},M=function(t){return 0===t.offset},E=function(t){return t.offset===b(t.node)},L=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},A=function(t){return!!(t&&t.childNodes&&t.childNodes.length)},I=function(t,n){var i,r;if(0===t.offset){if(e(t.node))return null;i=t.node.parentNode,r=L(t.node)}else A(t.node)?(i=t.node.childNodes[t.offset-1],r=b(i)):(i=t.node,r=n?0:t.offset-1);return{node:i,offset:r}},N=function(t,n){var i,r;if(b(t.node)===t.offset){if(e(t.node))return null;i=t.node.parentNode,r=L(t.node)+1}else A(t.node)?(i=t.node.childNodes[t.offset],r=0):(i=t.node,r=n?b(t.node):t.offset+1);return{node:i,offset:r}},P=function(t,e){return t.node===e.node&&t.offset===e.offset},O=function(t,e){if(l(t.node))return M(t)?t.node:E(t)?t.node.nextSibling:t.node.splitText(t.offset);var n=t.node.childNodes[t.offset],i=T(t.node.cloneNode(!1),t.node);return D(i,C(n)),e||(x(t.node),x(i)),i},Y=function(t){return document.createElement(t)},R=function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var n=t.parentNode;if(!e){var i,r,o=[];for(i=0,r=t.childNodes.length;r>i;i++)o.push(t.childNodes[i]);for(i=0,r=o.length;r>i;i++)n.insertBefore(o[i],t)}n.removeChild(t)}},F=n("TEXTAREA");return{NBSP_CHAR:s,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:_,emptyPara:"<p>"+_+"</p>",isEditable:e,isControlSizing:function(e){return e&&t(e).hasClass("note-control-sizing")},buildLayoutInfo:function(e){var n;if(e.hasClass("note-air-editor")){var i=o.last(e.attr("id").split("-"));return n=function(e){return function(){return t(e+i)}},{editor:function(){return e},editable:function(){return e},popover:n("#note-popover-"),handle:n("#note-handle-"),dialog:n("#note-dialog-")}}return n=function(t){return function(){return e.find(t)}},{editor:function(){return e},dropzone:n(".note-dropzone"),toolbar:n(".note-toolbar"),editable:n(".note-editable"),codable:n(".note-codable"),statusbar:n(".note-statusbar"),popover:n(".note-popover"),handle:n(".note-handle"),dialog:n(".note-dialog")}},isText:l,isPara:u,isPurePara:function(t){return u(t)&&!h(t)},isInline:d,isBodyInline:function(t){return d(t)&&!S(t,u)},isBody:y,isParaInline:function(t){return d(t)&&!!S(t,u)},isList:p,isTable:n("TABLE"),isCell:f,isBlockquote:m,isBodyContainer:g,isAnchor:v,isDiv:n("DIV"),isLi:h,isSpan:n("SPAN"),isB:n("B"),isU:n("U"),isS:n("S"),isI:n("I"),isImg:n("IMG"),isTextarea:F,isEmpty:w,isEmptyAnchor:r.and(v,w),nodeLength:b,isLeftEdgePoint:M,isRightEdgePoint:E,isEdgePoint:function(t){return M(t)||E(t)},isLeftEdgeOf:function(t,e){for(;t&&t!==e;){if(0!==L(t))return!1;t=t.parentNode}return!0},isRightEdgeOf:function(t,e){for(;t&&t!==e;){if(L(t)!==b(t.parentNode)-1)return!1;t=t.parentNode}return!0},prevPoint:I,nextPoint:N,isSamePoint:P,isVisiblePoint:function(t){if(l(t.node)||!A(t.node)||w(t.node))return!0;var e=t.node.childNodes[t.offset-1],n=t.node.childNodes[t.offset];return!(e&&!c(e)||n&&!c(n))},prevPointUntil:function(t,e){for(;t;){if(e(t))return t;t=I(t)}return null},nextPointUntil:function(t,e){for(;t;){if(e(t))return t;t=N(t)}return null},walkPoint:function(t,e,n,i){for(var r=t;r&&(n(r),!P(r,e));){var o=i&&t.node!==r.node&&e.node!==r.node;r=N(r,o)}},ancestor:S,listAncestor:k,lastAncestor:function(t,e){var n=k(t);return o.last(n.filter(e))},listNext:C,listPrev:function(t,e){e=e||r.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.previousSibling;return n},listDescendant:function(t,e){var n=[];return e=e||r.ok,function i(r){t!==r&&e(r)&&n.push(r);for(var o=0,s=r.childNodes.length;s>o;o++)i(r.childNodes[o])}(t),n},commonAncestor:function(e,n){for(var i=k(e),r=n;r;r=r.parentNode)if(t.inArray(r,i)>-1)return r;return null},wrap:function(e,n){var i=e.parentNode,r=t("<"+n+">")[0];return i.insertBefore(r,e),r.appendChild(e),r},insertAfter:T,appendChildNodes:D,position:L,hasChildren:A,makeOffsetPath:function(e,n){var i=k(n,r.eq(e));return t.map(i,L).reverse()},fromOffsetPath:function(t,e){for(var n=t,i=0,r=e.length;r>i;i++)n=n.childNodes.length<=e[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[e[i]];return n},splitTree:function(t,e,n){var i=k(e.node,r.eq(t));return i.length?1===i.length?O(e,n):i.reduce(function(t,i){var r=T(i.cloneNode(!1),i);return t===e.node&&(t=O(e,n)),D(r,C(t)),n||(x(i),x(r)),r}):null},create:Y,createText:function(t){return document.createTextNode(t)},remove:R,removeWhile:function(t,n){for(;t&&!e(t)&&n(t);){var i=t.parentNode;R(t),t=i}},replace:function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var n=Y(e);return t.style.cssText&&(n.style.cssText=t.style.cssText),D(n,o.from(t.childNodes)),T(n,t),R(t),n},html:function(e,n){var i=F(e[0])?e.val():e.html();if(n){var r=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;i=i.replace(r,function(t,e,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!e,r=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return t+(i||r?"\n":"")}),i=t.trim(i)}return i},value:function(t){return t.val().replace(/[\n\r]/g,"")}}}(),l={version:"0.5.9",options:{width:null,height:null,minHeight:null,maxHeight:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,disableResizeEditor:!1,codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","superscript","subscript","strikethrough","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],airMode:!1,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],defaultFontName:"Helvetica Neue",fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],fontSizes:["8","9","10","11","12","14","18","24","36"],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],insertTableMaxSize:{col:10,row:10},oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onToolbarClick:null,onCreateLink:function(t){return-1!==t.indexOf("@")&&-1===t.indexOf(":")?t="mailto:"+t:-1===t.indexOf("://")&&(t="http://"+t),t},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"showLinkDialog"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"showLinkDialog"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",clear:"Remove Font Style",height:"Line Height",name:"Font Family",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",dragImageHere:"Drag an image here",selectFromFiles:"Select from files",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style"},history:{undo:"Undo",redo:"Redo"}}}},c={readFileAsDataURL:function(e){return t.Deferred(function(n){t.extend(new FileReader,{onload:function(t){var e=t.target.result;n.resolve(e)},onerror:function(){n.reject(this)}}).readAsDataURL(e)}).promise()},createImage:function(e,n){return t.Deferred(function(i){t("<img>").one("load",function(){i.resolve(t(this))}).one("error abort",function(){i.reject(t(this))}).css({display:"none"}).appendTo(document.body).attr("src",e).attr("data-filename",n)}).promise()}},u={isEdit:function(t){return-1!==[8,9,13,32].indexOf(t)},nameFromCode:{8:"BACKSPACE",9:"TAB",13:"ENTER",32:"SPACE",48:"NUM0",49:"NUM1",50:"NUM2",51:"NUM3",52:"NUM4",53:"NUM5",54:"NUM6",55:"NUM7",56:"NUM8",66:"B",69:"E",73:"I",74:"J",75:"K",76:"L",82:"R",83:"S",85:"U",89:"Y",90:"Z",191:"SLASH",219:"LEFTBRACKET",220:"BACKSLASH",221:"RIGHTBRACKET"}},h=function(){var e=function(e,n){if(i.jqueryVersion<1.9){var r={};return t.each(n,function(t,n){r[n]=e.css(n)}),r}return e.css.call(e,n)};this.stylePara=function(e,n){t.each(e.nodes(a.isPara,{includeAncestor:!0}),function(e,i){t(i).css(n)})},this.current=function(n,i){var r=t(a.isText(n.sc)?n.sc.parentNode:n.sc),o=e(r,["font-family","font-size","text-align","list-style-type","line-height"])||{};if(o["font-size"]=parseInt(o["font-size"],10),o["font-bold"]=document.queryCommandState("bold")?"bold":"normal",o["font-italic"]=document.queryCommandState("italic")?"italic":"normal",o["font-underline"]=document.queryCommandState("underline")?"underline":"normal",o["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",o["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal",o["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal",n.isOnList()){var s=["circle","disc","disc-leading-zero","square"],l=t.inArray(o["list-style-type"],s)>-1;o["list-style"]=l?"unordered":"ordered"}else o["list-style"]="none";var c=a.ancestor(n.sc,a.isPara);if(c&&c.style["line-height"])o["line-height"]=c.style.lineHeight;else{var u=parseInt(o["line-height"],10)/parseInt(o["font-size"],10);o["line-height"]=u.toFixed(1)}return o.image=a.isImg(i)&&i,o.anchor=n.isOnAnchor()&&a.ancestor(n.sc,a.isAnchor),o.ancestors=a.listAncestor(n.sc,a.isEditable),o.range=n,o}},d=function(){var e=function(t,e){var n,i,r=t.parentElement(),s=document.body.createTextRange(),l=o.from(r.childNodes);for(n=0;n<l.length;n++)if(!a.isText(l[n])){if(s.moveToElementText(l[n]),s.compareEndPoints("StartToStart",t)>=0)break;i=l[n]}if(0!==n&&a.isText(l[n-1])){var c=document.body.createTextRange(),u=null;c.moveToElementText(i||r),c.collapse(!i),u=i?i.nextSibling:r.firstChild;var h=t.duplicate();h.setEndPoint("StartToStart",c);for(var d=h.text.replace(/[\r\n]/g,"").length;d>u.nodeValue.length&&u.nextSibling;)d-=u.nodeValue.length,u=u.nextSibling;u.nodeValue,e&&u.nextSibling&&a.isText(u.nextSibling)&&d===u.nodeValue.length&&(d-=u.nodeValue.length,u=u.nextSibling),r=u,n=d}return{cont:r,offset:n}},n=function(t){var e=function(t,n){var i,s;if(a.isText(t)){var l=a.listPrev(t,r.not(a.isText)),c=o.last(l).previousSibling;i=c||t.parentNode,n+=o.sum(o.tail(l),a.nodeLength),s=!c}else{if(i=t.childNodes[n]||t,a.isText(i))return e(i,0);n=0,s=!1}return{node:i,collapseToStart:s,offset:n}},n=document.body.createTextRange(),i=e(t.node,t.offset);return n.moveToElementText(i.node),n.collapse(i.collapseToStart),n.moveStart("character",i.offset),n},s=function(e,l,c,u){this.sc=e,this.so=l,this.ec=c,this.eo=u;var h=function(){if(i.isW3CRangeSupport){var t=document.createRange();return t.setStart(e,l),t.setEnd(c,u),t}var r=n({node:e,offset:l});return r.setEndPoint("EndToEnd",n({node:c,offset:u})),r};this.getPoints=function(){return{sc:e,so:l,ec:c,eo:u}},this.getStartPoint=function(){return{node:e,offset:l}},this.getEndPoint=function(){return{node:c,offset:u}},this.select=function(){var t=h();if(i.isW3CRangeSupport){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}else t.select()},this.normalize=function(){var t=function(t){return a.isVisiblePoint(t)||(a.isLeftEdgePoint(t)?t=a.nextPointUntil(t,a.isVisiblePoint):a.isRightEdgePoint(t)&&(t=a.prevPointUntil(t,a.isVisiblePoint))),t},e=t(this.getStartPoint()),n=t(this.getStartPoint());return new s(e.node,e.offset,n.node,n.offset)},this.nodes=function(t,e){t=t||r.ok;var n=e&&e.includeAncestor,i=e&&e.fullyContains,s=this.getStartPoint(),l=this.getEndPoint(),c=[],u=[];return a.walkPoint(s,l,function(e){if(!a.isEditable(e.node)){var r;i?(a.isLeftEdgePoint(e)&&u.push(e.node),a.isRightEdgePoint(e)&&o.contains(u,e.node)&&(r=e.node)):r=n?a.ancestor(e.node,t):e.node,r&&t(r)&&c.push(r)}},!0),o.unique(c)},this.commonAncestor=function(){return a.commonAncestor(e,c)},this.expand=function(t){var n=a.ancestor(e,t),i=a.ancestor(c,t);if(!n&&!i)return new s(e,l,c,u);var r=this.getPoints();return n&&(r.sc=n,r.so=0),i&&(r.ec=i,r.eo=a.nodeLength(i)),new s(r.sc,r.so,r.ec,r.eo)},this.collapse=function(t){return t?new s(e,l,e,l):new s(c,u,c,u)},this.splitText=function(){var t=e===c,n=this.getPoints();return a.isText(c)&&!a.isEdgePoint(this.getEndPoint())&&c.splitText(u),a.isText(e)&&!a.isEdgePoint(this.getStartPoint())&&(n.sc=e.splitText(l),n.so=0,t&&(n.ec=n.sc,n.eo=u-l)),new s(n.sc,n.so,n.ec,n.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),n=e.nodes(null,{fullyContains:!0}),i=a.prevPointUntil(e.getStartPoint(),function(t){return!o.contains(n,t.node)}),r=[];return t.each(n,function(t,e){var n=e.parentNode;i.node!==n&&1===a.nodeLength(n)&&r.push(n),a.remove(e,!1)}),t.each(r,function(t,e){a.remove(e,!1)}),new s(i.node,i.offset,i.node,i.offset)};var d=function(t){return function(){var n=a.ancestor(e,t);return!!n&&n===a.ancestor(c,t)}};this.isOnEditable=d(a.isEditable),this.isOnList=d(a.isList),this.isOnAnchor=d(a.isAnchor),this.isOnCell=d(a.isCell),this.isLeftEdgeOf=function(t){if(!a.isLeftEdgePoint(this.getStartPoint()))return!1;var e=a.ancestor(this.sc,t);return e&&a.isLeftEdgeOf(this.sc,e)},this.isCollapsed=function(){return e===c&&l===u},this.wrapBodyInlineWithPara=function(){if(a.isEditable(e)&&!e.childNodes[l])return new s(e.appendChild(t(a.emptyPara)[0]),0);if(!a.isInline(e)||a.isParaInline(e))return this;var n=a.listAncestor(e,r.not(a.isInline)),i=o.last(n);a.isInline(i)||(i=n[n.length-2]||e.childNodes[l]);var c=a.listPrev(i,a.isParaInline).reverse();if((c=c.concat(a.listNext(i.nextSibling,a.isParaInline))).length){var u=a.wrap(o.head(c),"p");a.appendChildNodes(u,o.tail(c))}return this},this.insertNode=function(t,e){var n,i,r,s=this.wrapBodyInlineWithPara().getStartPoint();if(e)i=a.isPara(s.node)?s.node:s.node.parentNode,r=a.isPara(s.node)?s.node.childNodes[s.offset]:a.splitTree(s.node,s);else{var l=a.listAncestor(s.node,a.isBodyContainer),c=o.last(l)||s.node;a.isBodyContainer(c)?(n=l[l.length-2],i=c):(n=c,i=n.parentNode),r=n&&a.splitTree(n,s)}return r?r.parentNode.insertBefore(t,r):i.appendChild(t),t},this.toString=function(){var t=h();return i.isW3CRangeSupport?t.toString():t.text},this.bookmark=function(t){return{s:{path:a.makeOffsetPath(t,e),offset:l},e:{path:a.makeOffsetPath(t,c),offset:u}}},this.getClientRects=function(){return h().getClientRects()}};return{create:function(t,n,r,o){if(arguments.length)2===arguments.length&&(r=t,o=n);else if(i.isW3CRangeSupport){var l=document.getSelection();if(0===l.rangeCount)return null;if(a.isBody(l.anchorNode))return null;var c=l.getRangeAt(0);t=c.startContainer,n=c.startOffset,r=c.endContainer,o=c.endOffset}else{var u=document.selection.createRange(),h=u.duplicate();h.collapse(!1);var d=u;d.collapse(!0);var p=e(d,!0),f=e(h,!1);t=p.cont,n=p.offset,r=f.cont,o=f.offset}return new s(t,n,r,o)},createFromNode:function(t){return this.create(t,0,t,1)},createFromBookmark:function(t,e){var n=a.fromOffsetPath(t,e.s.path),i=e.s.offset,r=a.fromOffsetPath(t,e.e.path),o=e.e.offset;return new s(n,i,r,o)}}}(),p=function(){this.insertTab=function(t,e,n){var i=a.createText(new Array(n+1).join(a.NBSP_CHAR));(e=e.deleteContents()).insertNode(i,!0),(e=d.create(i,n)).select()},this.insertParagraph=function(){var e=d.create();e=(e=e.deleteContents()).wrapBodyInlineWithPara();var n=a.ancestor(e.sc,a.isPara),i=a.splitTree(n,e.getStartPoint()),r=a.listDescendant(n,a.isEmptyAnchor);r=r.concat(a.listDescendant(i,a.isEmptyAnchor)),t.each(r,function(t,e){a.remove(e)}),d.create(i,0).normalize().select()}},f=function(){this.tab=function(t,e){var n=a.ancestor(t.commonAncestor(),a.isCell),i=a.ancestor(n,a.isTable),r=a.listDescendant(i,a.isCell),s=o[e?"prev":"next"](r,n);s&&d.create(s,0).select()},this.createTable=function(e,n){for(var i,r=[],o=0;e>o;o++)r.push("<td>"+a.blank+"</td>");i=r.join("");for(var s,l=[],c=0;n>c;c++)l.push("<tr>"+i+"</tr>");return s=l.join(""),t('<table class="table table-bordered">'+s+"</table>")[0]}},m=function(){this.insertOrderedList=function(){this.toggleList("OL")},this.insertUnorderedList=function(){this.toggleList("UL")},this.indent=function(){var e=this,n=d.create().wrapBodyInlineWithPara(),i=n.nodes(a.isPara,{includeAncestor:!0}),s=o.clusterBy(i,r.peq2("parentNode"));t.each(s,function(n,i){var r=o.head(i);a.isLi(r)?e.wrapList(i,r.parentNode.nodeName):t.each(i,function(e,n){t(n).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),n.select()},this.outdent=function(){var e=this,n=d.create().wrapBodyInlineWithPara(),i=n.nodes(a.isPara,{includeAncestor:!0}),s=o.clusterBy(i,r.peq2("parentNode"));t.each(s,function(n,i){var r=o.head(i);a.isLi(r)?e.releaseList([i]):t.each(i,function(e,n){t(n).css("marginLeft",function(t,e){return(e=parseInt(e,10)||0)>25?e-25:""})})}),n.select()},this.toggleList=function(e){var n=this,i=d.create().wrapBodyInlineWithPara(),s=i.nodes(a.isPara,{includeAncestor:!0}),l=o.clusterBy(s,r.peq2("parentNode"));if(o.find(s,a.isPurePara))t.each(l,function(t,i){n.wrapList(i,e)});else{var c=i.nodes(a.isList,{includeAncestor:!0}).filter(function(n){return!t.nodeName(n,e)});c.length?t.each(c,function(t,n){a.replace(n,e)}):this.releaseList(l,!0)}i.select()},this.wrapList=function(e,n){var i=o.head(e),r=o.last(e),s=a.isList(i.previousSibling)&&i.previousSibling,l=a.isList(r.nextSibling)&&r.nextSibling,c=s||a.insertAfter(a.create(n||"UL"),r);e=t.map(e,function(t){return a.isPurePara(t)?a.replace(t,"LI"):t}),a.appendChildNodes(c,e),l&&(a.appendChildNodes(c,o.from(l.childNodes)),a.remove(l))},this.releaseList=function(e,n){var i=[];return t.each(e,function(e,r){var s=o.head(r),l=o.last(r),c=n?a.lastAncestor(s,a.isList):s.parentNode,u=c.childNodes.length>1?a.splitTree(c,{node:l.parentNode,offset:a.position(l)+1},!0):null,h=a.splitTree(c,{node:s.parentNode,offset:a.position(s)},!0);r=n?a.listDescendant(h,a.isLi):o.from(h.childNodes).filter(a.isLi),(n||!a.isList(c.parentNode))&&(r=t.map(r,function(t){return a.replace(t,"P")})),t.each(o.from(r).reverse(),function(t,e){a.insertAfter(e,c)});var d=o.compact([c,h,u]);t.each(d,function(e,n){var i=[n].concat(a.listDescendant(n,a.isList));t.each(i.reverse(),function(t,e){a.nodeLength(e)||a.remove(e,!0)})}),i=i.concat(r)}),i}},g=function(){var e=new h,n=new f,r=new p,s=new m;this.saveRange=function(t,e){t.focus(),t.data("range",d.create()),e&&d.create().collapse().select()},this.restoreRange=function(t){var e=t.data("range");e&&(e.select(),t.focus())},this.currentStyle=function(t){var n=d.create();return!!n&&(n.isOnEditable()&&e.current(n,t))};var l=this.triggerOnChange=function(t){var e=t.data("callbacks").onChange;e&&e(t.html(),t)};this.undo=function(t){t.data("NoteHistory").undo(),l(t)},this.redo=function(t){t.data("NoteHistory").redo(),l(t)};for(var u=this.afterCommand=function(t){t.data("NoteHistory").recordUndo(),l(t)},g=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"],v=0,y=g.length;y>v;v++)this[g[v]]=function(t){return function(e,n){document.execCommand(t,!1,n),u(e)}}(g[v]);this.tab=function(t,e){var i=d.create();i.isCollapsed()&&i.isOnCell()?n.tab(i):(r.insertTab(t,i,e.tabsize),u(t))},this.untab=function(){var t=d.create();t.isCollapsed()&&t.isOnCell()&&n.tab(t,!0)},this.insertParagraph=function(t){r.insertParagraph(t),u(t)},this.insertOrderedList=function(t){s.insertOrderedList(t),u(t)},this.insertUnorderedList=function(t){s.insertUnorderedList(t),u(t)},this.indent=function(t){s.indent(t),u(t)},this.outdent=function(t){s.outdent(t),u(t)},this.insertImage=function(t,e,n){c.createImage(e,n).then(function(e){e.css({display:"",width:Math.min(t.width(),e.width())}),d.create().insertNode(e[0]),u(t)}).fail(function(){var e=t.data("callbacks");e.onImageUploadError&&e.onImageUploadError()})},this.insertVideo=function(e,n){var i,r=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,o=n.match(r),s=/\/\/instagram.com\/p\/(.[a-zA-Z0-9]*)/,a=n.match(s),l=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/,c=n.match(l),h=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,p=n.match(h),f=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,m=n.match(f),g=/\/\/v\.youku\.com\/v_show\/id_(\w+)\.html/,v=n.match(g);if(o&&11===o[2].length){var y=o[2];i=t("<iframe>").attr("src","//www.youtube.com/embed/"+y).attr("width","640").attr("height","360")}else a&&a[0].length?i=t("<iframe>").attr("src",a[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true"):c&&c[0].length?i=t("<iframe>").attr("src",c[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed"):p&&p[3].length?i=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("src","//player.vimeo.com/video/"+p[3]).attr("width","640").attr("height","360"):m&&m[2].length?i=t("<iframe>").attr("src","//www.dailymotion.com/embed/video/"+m[2]).attr("width","640").attr("height","360"):v&&v[1].length&&(i=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+v[1]));i&&(i.attr("frameborder",0),d.create().insertNode(i[0]),u(e))},this.formatBlock=function(t,e){e=i.isMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e),u(t)},this.formatPara=function(t){this.formatBlock(t,"P"),u(t)};for(v=1;6>=v;v++)this["formatH"+v]=function(t){return function(e){this.formatBlock(e,"H"+t)}}(v);this.fontSize=function(t,e){document.execCommand("fontSize",!1,3),i.isFF?t.find("font[size=3]").removeAttr("size").css("font-size",e+"px"):t.find("span").filter(function(){return"medium"===this.style.fontSize}).css("font-size",e+"px"),u(t)},this.lineHeight=function(t,n){e.stylePara(d.create(),{lineHeight:n}),u(t)},this.unlink=function(t){var e=d.create();if(e.isOnAnchor()){var n=a.ancestor(e.sc,a.isAnchor);(e=d.createFromNode(n)).select(),document.execCommand("unlink"),u(t)}},this.createLink=function(e,n,i){var r=n.url,o=n.text,s=n.newWindow,a=n.range;i.onCreateLink&&(r=i.onCreateLink(r));var l=(a=a.deleteContents()).insertNode(t("<A>"+o+"</A>")[0],!0);t(l).attr({href:r,target:s?"_blank":""}),d.createFromNode(l).select(),u(e)},this.getLinkInfo=function(e){e.focus();var n=d.create().expand(a.isAnchor),i=t(o.head(n.nodes(a.isAnchor)));return{range:n,text:n.toString(),isNewWindow:!i.length||"_blank"===i.attr("target"),url:i.length?i.attr("href"):""}},this.getVideoInfo=function(t){t.focus();var e=d.create();if(e.isOnAnchor()){var n=a.ancestor(e.sc,a.isAnchor);e=d.createFromNode(n)}return{text:e.toString()}},this.color=function(t,e){var n=JSON.parse(e),i=n.foreColor,r=n.backColor;i&&document.execCommand("foreColor",!1,i),r&&document.execCommand("backColor",!1,r),u(t)},this.insertTable=function(t,e){var i=e.split("x"),r=d.create();(r=r.deleteContents()).insertNode(n.createTable(i[0],i[1])),u(t)},this.floatMe=function(t,e,n){n.css("float",e),u(t)},this.resize=function(t,e,n){n.css({width:t.width()*e+"px",height:""}),u(t)},this.resizeTo=function(t,e,n){var i;if(n){var r=t.y/t.x,o=e.data("ratio");i={width:o>r?t.x:t.y/o,height:o>r?t.x*o:t.y}}else i={width:t.x,height:t.y};e.css(i)},this.removeMedia=function(t,e,n){n.detach(),u(t)}},v=function(t){var e=[],n=0,i=t[0],r=function(){var e=d.create(),n={s:{path:[0],offset:0},e:{path:[0],offset:0}};return{contents:t.html(),bookmark:e?e.bookmark(i):n}},o=function(e){null!==e.contents&&t.html(e.contents),null!==e.bookmark&&d.createFromBookmark(i,e.bookmark).select()};this.undo=function(){n>0&&(n--,o(e[n]))},this.redo=function(){e.length-1>n&&(n++,o(e[n]))},this.recordUndo=function(){e.length>n&&(e=e.slice(0,n)),e.push(r()),n++},this.recordUndo()},y=function(){this.update=function(e,n){var i=function(e,n){e.find(".dropdown-menu li a").each(function(){var e=t(this).data("value")+""==n+"";this.className=e?"checked":""})},r=function(t,n){e.find(t).toggleClass("active",n())},s=e.find(".note-fontname");if(s.length){var a=n["font-family"];a&&(a=o.head(a.split(",")),a=a.replace(/\'/g,""),s.find(".note-current-fontname").text(a),i(s,a))}var l=e.find(".note-fontsize");l.find(".note-current-fontsize").text(n["font-size"]),i(l,parseFloat(n["font-size"])),i(e.find(".note-height"),parseFloat(n["line-height"])),r('button[data-event="bold"]',function(){return"bold"===n["font-bold"]}),r('button[data-event="italic"]',function(){return"italic"===n["font-italic"]}),r('button[data-event="underline"]',function(){return"underline"===n["font-underline"]}),r('button[data-event="strikethrough"]',function(){return"strikethrough"===n["font-strikethrough"]}),r('button[data-event="superscript"]',function(){return"superscript"===n["font-superscript"]}),r('button[data-event="subscript"]',function(){return"subscript"===n["font-subscript"]}),r('button[data-event="justifyLeft"]',function(){return"left"===n["text-align"]||"start"===n["text-align"]}),r('button[data-event="justifyCenter"]',function(){return"center"===n["text-align"]}),r('button[data-event="justifyRight"]',function(){return"right"===n["text-align"]}),r('button[data-event="justifyFull"]',function(){return"justify"===n["text-align"]}),r('button[data-event="insertUnorderedList"]',function(){return"unordered"===n["list-style"]}),r('button[data-event="insertOrderedList"]',function(){return"ordered"===n["list-style"]})},this.updateRecentColor=function(e,n,i){var r=t(e).closest(".note-color").find(".note-recent-color"),o=JSON.parse(r.attr("data-value"));o[n]=i,r.attr("data-value",JSON.stringify(o));var s="backColor"===n?"background-color":"color";r.find("i").css(s,i)}},_=function(){var t=new y;this.update=function(e,n){t.update(e,n)},this.updateRecentColor=function(e,n,i){t.updateRecentColor(e,n,i)},this.activate=function(t){t.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(t){t.find("button").not('button[data-event="codeview"]').addClass("disabled")},this.updateFullscreen=function(t,e){t.find('button[data-event="fullscreen"]').toggleClass("active",e)},this.updateCodeview=function(t,e){t.find('button[data-event="codeview"]').toggleClass("active",e)}},b=function(){var e=new y,n=function(e,n){var i=t(e),r=n?i.offset():i.position(),o=i.outerHeight(!0);return{left:r.left,top:r.top+o}},i=function(t,e){t.css({display:"block",left:e.left,top:e.top})};this.update=function(s,a,l){e.update(s,a);var c=s.find(".note-link-popover");if(a.anchor){var u=c.find("a"),h=t(a.anchor).attr("href");u.attr("href",h).html(h),i(c,n(a.anchor,l))}else c.hide();var d=s.find(".note-image-popover");a.image?i(d,n(a.image,l)):d.hide();var p=s.find(".note-air-popover");if(l&&!a.range.isCollapsed()){var f=r.rect2bnd(o.last(a.range.getClientRects()));i(p,{left:Math.max(f.left+f.width/2-20,0),top:f.top+f.height})}else p.hide()},this.updateRecentColor=function(t,e,n){t.updateRecentColor(t,e,n)},this.hide=function(t){t.children().hide()}},w=function(){this.update=function(e,n,i){var r=e.find(".note-control-selection");if(n.image){var o=t(n.image),s=i?o.offset():o.position(),a={w:o.outerWidth(!0),h:o.outerHeight(!0)};r.css({display:"block",left:s.left,top:s.top,width:a.w,height:a.h}).data("target",n.image);var l=a.w+"x"+a.h;r.find(".note-control-selection-info").text(l)}else r.hide()},this.hide=function(t){t.children().hide()}},x=function(){var e=function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)};this.showImageDialog=function(n,i){return t.Deferred(function(t){var n=i.find(".note-image-dialog"),r=i.find(".note-image-input"),o=i.find(".note-image-url"),s=i.find(".note-image-btn");n.one("shown.bs.modal",function(){r.replaceWith(r.clone().on("change",function(){t.resolve(this.files),n.modal("hide")}).val("")),s.click(function(e){e.preventDefault(),t.resolve(o.val()),n.modal("hide")}),o.on("keyup paste",function(t){var n;n="paste"===t.type?t.originalEvent.clipboardData.getData("text"):o.val(),e(s,n)}).val("").trigger("focus")}).one("hidden.bs.modal",function(){r.off("change"),o.off("keyup paste"),s.off("click"),"pending"===t.state()&&t.reject()}).modal("show")})},this.showVideoDialog=function(n,i,r){return t.Deferred(function(t){var n=i.find(".note-video-dialog"),o=n.find(".note-video-url"),s=n.find(".note-video-btn");n.one("shown.bs.modal",function(){o.val(r.text).keyup(function(){e(s,o.val())}).trigger("keyup").trigger("focus"),s.click(function(e){e.preventDefault(),t.resolve(o.val()),n.modal("hide")})}).one("hidden.bs.modal",function(){o.off("keyup"),s.off("click"),"pending"===t.state()&&t.reject()}).modal("show")})},this.showLinkDialog=function(n,i,r){return t.Deferred(function(t){var n=i.find(".note-link-dialog"),o=n.find(".note-link-text"),s=n.find(".note-link-url"),a=n.find(".note-link-btn"),l=n.find("input[type=checkbox]");n.one("shown.bs.modal",function(){o.val(r.text),o.keyup(function(){r.text=o.val()}),r.url||(r.url=r.text,e(a,r.text)),s.keyup(function(){e(a,s.val()),r.text||o.val(s.val())}).val(r.url).trigger("focus").trigger("select"),l.prop("checked",r.newWindow),a.one("click",function(e){e.preventDefault(),t.resolve({range:r.range,url:s.val(),text:o.val(),newWindow:l.is(":checked")}),n.modal("hide")})}).one("hidden.bs.modal",function(){o.off("keyup"),s.off("keyup"),a.off("click"),"pending"===t.state()&&t.reject()}).modal("show")}).promise()},this.showHelpDialog=function(e,n){return t.Deferred(function(t){n.find(".note-help-dialog").one("hidden.bs.modal",function(){t.resolve()}).modal("show")}).promise()}};i.hasCodeMirror&&(i.isSupportAmd?require(["CodeMirror"],function(t){e=t}):e=window.CodeMirror);t.summernote=t.summernote||{},t.extend(t.summernote,l);var S=new function(){var e=function(t,e){var n=e.event,i=e.value,r=e.title,o=e.className,s=e.dropdown,a=e.hide;return'<button type="button" class="btn btn-default btn-sm btn-small'+(o?" "+o:"")+(s?" dropdown-toggle":"")+'"'+(s?' data-toggle="dropdown"':"")+(r?' title="'+r+'"':"")+(n?' data-event="'+n+'"':"")+(i?" data-value='"+i+"'":"")+(a?" data-hide='"+a+"'":"")+' tabindex="-1">'+t+(s?' <span class="caret"></span>':"")+"</button>"+(s||"")},n=function(t,n){return e('<i class="'+t+'"></i>',n)},o=function(t,e){return'<div class="'+t+' popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content">'+e+"</div></div>"},s=function(t,e,n,i){return'<div class="'+t+' modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content">'+(e?'<div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4 class="modal-title">'+e+"</h4></div>":"")+'<form class="note-modal-form"><div class="modal-body"><div class="row-fluid">'+n+"</div></div>"+(i?'<div class="modal-footer">'+i+"</div>":"")+"</form></div></div></div>"},l={picture:function(t){return n("fa fa-picture-o icon-picture",{event:"showImageDialog",title:t.image.image,hide:!0})},link:function(t){return n("fa fa-link icon-link",{event:"showLinkDialog",title:t.link.link,hide:!0})},video:function(t){return n("fa fa-youtube-play icon-play",{event:"showVideoDialog",title:t.video.video,hide:!0})},table:function(t){return n("fa fa-table icon-table",{title:t.table.table,dropdown:'<ul class="note-table dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>'})},style:function(t,e){var i=e.styleTags.reduce(function(e,n){var i=t.style["p"===n?"normal":n];return e+'<li><a data-event="formatBlock" href="#" data-value="'+n+'">'+("p"===n||"pre"===n?i:"<"+n+">"+i+"</"+n+">")+"</a></li>"},"");return n("fa fa-magic icon-magic",{title:t.style.style,dropdown:'<ul class="dropdown-menu">'+i+"</ul>"})},fontname:function(t,n){var r=n.fontNames.reduce(function(t,e){return i.isFontInstalled(e)?t+'<li><a data-event="fontName" href="#" data-value="'+e+'"><i class="fa fa-check icon-ok"></i> '+e+"</a></li>":t},""),o='<span class="note-current-fontname">'+n.defaultFontName+"</span>";return e(o,{title:t.font.name,dropdown:'<ul class="dropdown-menu">'+r+"</ul>"})},fontsize:function(t,n){var i=n.fontSizes.reduce(function(t,e){return t+'<li><a data-event="fontSize" href="#" data-value="'+e+'"><i class="fa fa-check icon-ok"></i> '+e+"</a></li>"},"");return e('<span class="note-current-fontsize">11</span>',{title:t.font.size,dropdown:'<ul class="dropdown-menu">'+i+"</ul>"})},color:function(t){var n=e('<i class="fa fa-font icon-font" style="color:black;background-color:yellow;"></i>',{className:"note-recent-color",title:t.color.recent,event:"color",value:'{"backColor":"yellow"}'}),i='<ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+t.color.background+'</div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+t.color.transparent+'">'+t.color.setTransparent+'</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">'+t.color.foreground+'</div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+t.color.reset+'">'+t.color.resetToDefault+'</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul>';return n+e("",{title:t.color.more,dropdown:i})},bold:function(t){return n("fa fa-bold icon-bold",{event:"bold",title:t.font.bold})},italic:function(t){return n("fa fa-italic icon-italic",{event:"italic",title:t.font.italic})},underline:function(t){return n("fa fa-underline icon-underline",{event:"underline",title:t.font.underline})},strikethrough:function(t){return n("fa fa-strikethrough icon-strikethrough",{event:"strikethrough",title:t.font.strikethrough})},superscript:function(t){return n("fa fa-superscript icon-superscript",{event:"superscript",title:t.font.superscript})},subscript:function(t){return n("fa fa-subscript icon-subscript",{event:"subscript",title:t.font.subscript})},clear:function(t){return n("fa fa-eraser icon-eraser",{event:"removeFormat",title:t.font.clear})},ul:function(t){return n("fa fa-list-ul icon-list-ul",{event:"insertUnorderedList",title:t.lists.unordered})},ol:function(t){return n("fa fa-list-ol icon-list-ol",{event:"insertOrderedList",title:t.lists.ordered})},paragraph:function(t){var e=n("fa fa-align-left icon-align-left",{title:t.paragraph.left,event:"justifyLeft"}),i=n("fa fa-align-center icon-align-center",{title:t.paragraph.center,event:"justifyCenter"}),r=n("fa fa-align-right icon-align-right",{title:t.paragraph.right,event:"justifyRight"}),o=n("fa fa-align-justify icon-align-justify",{title:t.paragraph.justify,event:"justifyFull"}),s=n("fa fa-outdent icon-indent-left",{title:t.paragraph.outdent,event:"outdent"}),a='<div class="dropdown-menu"><div class="note-align btn-group">'+e+i+r+o+'</div><div class="note-list btn-group">'+n("fa fa-indent icon-indent-right",{title:t.paragraph.indent,event:"indent"})+s+"</div></div>";return n("fa fa-align-left icon-align-left",{title:t.paragraph.paragraph,dropdown:a})},height:function(t,e){var i=e.lineHeights.reduce(function(t,e){return t+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(e)+'"><i class="fa fa-check icon-ok"></i> '+e+"</a></li>"},"");return n("fa fa-text-height icon-text-height",{title:t.font.height,dropdown:'<ul class="dropdown-menu">'+i+"</ul>"})},help:function(t){return n("fa fa-question icon-question",{event:"showHelpDialog",title:t.options.help,hide:!0})},fullscreen:function(t){return n("fa fa-arrows-alt icon-fullscreen",{event:"fullscreen",title:t.options.fullscreen})},codeview:function(t){return n("fa fa-code icon-code",{event:"codeview",title:t.options.codeview})},undo:function(t){return n("fa fa-undo icon-undo",{event:"undo",title:t.history.undo})},redo:function(t){return n("fa fa-repeat icon-repeat",{event:"redo",title:t.history.redo})},hr:function(t){return n("fa fa-minus icon-hr",{event:"insertHorizontalRule",title:t.hr.insert})}},c=function(t,i){return'<div class="note-popover">'+function(){var e=n("fa fa-edit icon-edit",{title:t.link.edit,event:"showLinkDialog",hide:!0}),i=n("fa fa-unlink icon-unlink",{title:t.link.unlink,event:"unlink"});return o("note-link-popover",'<a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group">'+e+i+"</div>")}()+function(){var i=e('<span class="note-fontsize-10">100%</span>',{title:t.image.resizeFull,event:"resize",value:"1"}),r=e('<span class="note-fontsize-10">50%</span>',{title:t.image.resizeHalf,event:"resize",value:"0.5"}),s=e('<span class="note-fontsize-10">25%</span>',{title:t.image.resizeQuarter,event:"resize",value:"0.25"}),a=n("fa fa-align-left icon-align-left",{title:t.image.floatLeft,event:"floatMe",value:"left"}),l=n("fa fa-align-right icon-align-right",{title:t.image.floatRight,event:"floatMe",value:"right"}),c=n("fa fa-align-justify icon-align-justify",{title:t.image.floatNone,event:"floatMe",value:"none"}),u=n("fa fa-trash-o icon-trash",{title:t.image.remove,event:"removeMedia",value:"none"});return o("note-image-popover",'<div class="btn-group">'+i+r+s+'</div><div class="btn-group">'+a+l+c+'</div><div class="btn-group">'+u+"</div>")}()+(i.airMode?function(){for(var e="",n=0,r=i.airPopover.length;r>n;n++){var s=i.airPopover[n];e+='<div class="note-'+s[0]+' btn-group">';for(var a=0,c=s[1].length;c>a;a++)e+=l[s[1][a]](t,i);e+="</div>"}return o("note-air-popover",e)}():"")+"</div>"},u=function(t,e){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t+"</th></tr></thead><tbody>"+e+"</tbody></table>"},h=function(t){var e="<tr><td>⌘ + B</td><td>"+t.font.bold+"</td></tr><tr><td>⌘ + I</td><td>"+t.font.italic+"</td></tr><tr><td>⌘ + U</td><td>"+t.font.underline+"</td></tr><tr><td>⌘ + ⇧ + S</td><td>"+t.font.strikethrough+"</td></tr><tr><td>⌘ + \\</td><td>"+t.font.clear+"</td></tr>";return u(t.shortcut.textFormatting,e)},d=function(t){var e="<tr><td>⌘ + Z</td><td>"+t.history.undo+"</td></tr><tr><td>⌘ + ⇧ + Z</td><td>"+t.history.redo+"</td></tr><tr><td>⌘ + ]</td><td>"+t.paragraph.indent+"</td></tr><tr><td>⌘ + [</td><td>"+t.paragraph.outdent+"</td></tr><tr><td>⌘ + ENTER</td><td>"+t.hr.insert+"</td></tr>";return u(t.shortcut.action,e)},p=function(t){var e="<tr><td>⌘ + ⇧ + L</td><td>"+t.paragraph.left+"</td></tr><tr><td>⌘ + ⇧ + E</td><td>"+t.paragraph.center+"</td></tr><tr><td>⌘ + ⇧ + R</td><td>"+t.paragraph.right+"</td></tr><tr><td>⌘ + ⇧ + J</td><td>"+t.paragraph.justify+"</td></tr><tr><td>⌘ + ⇧ + NUM7</td><td>"+t.lists.ordered+"</td></tr><tr><td>⌘ + ⇧ + NUM8</td><td>"+t.lists.unordered+"</td></tr>";return u(t.shortcut.paragraphFormatting,e)},f=function(t){var e="<tr><td>⌘ + NUM0</td><td>"+t.style.normal+"</td></tr><tr><td>⌘ + NUM1</td><td>"+t.style.h1+"</td></tr><tr><td>⌘ + NUM2</td><td>"+t.style.h2+"</td></tr><tr><td>⌘ + NUM3</td><td>"+t.style.h3+"</td></tr><tr><td>⌘ + NUM4</td><td>"+t.style.h4+"</td></tr><tr><td>⌘ + NUM5</td><td>"+t.style.h5+"</td></tr><tr><td>⌘ + NUM6</td><td>"+t.style.h6+"</td></tr>";return u(t.shortcut.documentStyle,e)},m=function(t,e){var n=e.extraKeys,i="";for(var r in n)n.hasOwnProperty(r)&&(i+="<tr><td>"+r+"</td><td>"+n[r]+"</td></tr>");return u(t.shortcut.extraKeys,i)},g=function(t,e){var n='<table class="note-shortcut-layout"><tbody><tr><td>'+d(t)+"</td><td>"+h(t)+"</td></tr><tr><td>"+f(t)+"</td><td>"+p(t)+"</td></tr>";return e.extraKeys&&(n+='<tr><td colspan="2">'+m(t,e)+"</td></tr>"),n+="</tbody></table>"},v=function(t){return t.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift")},y=function(t,e){return'<div class="note-dialog">'+function(){var e='<div class="note-group-select-from-files"><h5>'+t.image.selectFromFiles+'</h5><input class="note-image-input" type="file" name="files" accept="image/*" /></div><h5>'+t.image.url+'</h5><input class="note-image-url form-control span12" type="text" />',n='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+t.image.insert+"</button>";return s("note-image-dialog",t.image.insert,e,n)}()+function(){var n='<div class="form-group"><label>'+t.link.textToDisplay+'</label><input class="note-link-text form-control span12" type="text" /></div><div class="form-group"><label>'+t.link.url+'</label><input class="note-link-url form-control span12" type="text" /></div>'+(e.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+t.link.openInNewWindow+"</label></div>"),i='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+t.link.insert+"</button>";return s("note-link-dialog",t.link.insert,n,i)}()+function(){var e='<div class="form-group"><label>'+t.video.url+'</label>&nbsp;<small class="text-muted">'+t.video.providers+'</small><input class="note-video-url form-control span12" type="text" /></div>',n='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+t.video.insert+"</button>";return s("note-video-dialog",t.video.insert,e,n)}()+function(){var n='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+t.shortcut.close+'</a><div class="title">'+t.shortcut.shortcuts+"</div>"+(i.isMac?g(t,e):v(g(t,e)))+'<p class="text-center"><a href="//hackerwins.github.io/summernote/" target="_blank">Summernote 0.5.9</a> · <a href="//github.com/HackerWins/summernote" target="_blank">Project</a> · <a href="//github.com/HackerWins/summernote/issues" target="_blank">Issues</a></p>';return s("note-help-dialog","",n,"")}()+"</div>"},_=function(t){return i.isMac&&(t=t.replace("CMD","⌘").replace("SHIFT","⇧")),t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")},b=function(e,n,i){var o=r.invertObject(n);e.find("button").each(function(e,n){var i=t(n),r=o[i.data("event")];r&&i.attr("title",function(t,e){return e+" ("+_(r)+")"})}).tooltip({container:"body",trigger:"hover",placement:i||"top"}).on("click",function(){t(this).tooltip("hide")})},w=function(e,n){var i=n.colors;e.find(".note-color-palette").each(function(){for(var e=t(this),n=e.attr("data-target-event"),r=[],o=0,s=i.length;s>o;o++){for(var a=i[o],l=[],c=0,u=a.length;u>c;c++){var h=a[c];l.push(['<button type="button" class="note-color-btn" style="background-color:',h,';" data-event="',n,'" data-value="',h,'" title="',h,'" data-toggle="button" tabindex="-1"></button>'].join(""))}r.push('<div class="note-color-row">'+l.join("")+"</div>")}e.html(r.join(""))})};this.createLayoutByAirMode=function(e,n){var o=n.keyMap[i.isMac?"mac":"pc"],s=t.summernote.lang[n.lang],a=r.uniqueId();e.addClass("note-air-editor note-editable"),e.attr({id:"note-editor-"+a,contentEditable:!0});var l=document.body,u=t(c(s,n));u.addClass("note-air-layout"),u.attr("id","note-popover-"+a),u.appendTo(l),b(u,o),w(u,n);var h=t('<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>');h.addClass("note-air-layout"),h.attr("id","note-handle-"+a),h.appendTo(l);var d=t(y(s,n));d.addClass("note-air-layout"),d.attr("id","note-dialog-"+a),d.find("button.close, a.modal-close").click(function(){t(this).closest(".modal").modal("hide")}),d.appendTo(l)},this.createLayoutByFrame=function(e,n){var r=t('<div class="note-editor"></div>');n.width&&r.width(n.width),n.height>0&&t('<div class="note-statusbar">'+(n.disableResizeEditor?"":'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>')+"</div>").prependTo(r);var o=!e.is(":disabled"),s=t('<div class="note-editable" contentEditable="'+o+'"></div>').prependTo(r);n.height&&s.height(n.height),n.direction&&s.attr("dir",n.direction),s.html(a.html(e)||a.emptyPara),t('<textarea class="note-codable"></textarea>').prependTo(r);for(var u=t.summernote.lang[n.lang],h="",d=0,p=n.toolbar.length;p>d;d++){var f=n.toolbar[d][0],m=n.toolbar[d][1];h+='<div class="note-'+f+' btn-group">';for(var g=0,v=m.length;v>g;g++)t.isFunction(l[m[g]])&&(h+=l[m[g]](u,n));h+="</div>"}var _=t(h='<div class="note-toolbar btn-toolbar">'+h+"</div>").prependTo(r),x=n.keyMap[i.isMac?"mac":"pc"];w(_,n),b(_,x,"bottom");var S=t(c(u,n)).prependTo(r);w(S,n),b(S,x),t('<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>').prependTo(r),t(y(u,n)).prependTo(r).find("button.close, a.modal-close").click(function(){t(this).closest(".modal").modal("hide")}),t('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(r),r.insertAfter(e),e.hide()},this.noteEditorFromHolder=function(e){return e.hasClass("note-air-editor")?e:e.next().hasClass("note-editor")?e.next():t()},this.createLayout=function(t,e){this.noteEditorFromHolder(t).length||(e.airMode?this.createLayoutByAirMode(t,e):this.createLayoutByFrame(t,e))},this.layoutInfoFromHolder=function(t){var e=this.noteEditorFromHolder(t);if(e.length){var n=a.buildLayoutInfo(e);for(var i in n)n.hasOwnProperty(i)&&(n[i]=n[i].call());return n}},this.removeLayout=function(t,e,n){n.airMode?(t.removeClass("note-air-editor note-editable").removeAttr("id contentEditable"),e.popover.remove(),e.handle.remove(),e.dialog.remove()):(t.html(e.editable.html()),e.editor.remove(),t.show())}},k=new function(){var n=t(window),r=t(document),s=t("html, body"),l=new g,h=new _,d=new b,p=new w,f=new x,m=function(e){var n=t(e).closest(".note-editor, .note-air-editor, .note-air-layout");if(!n.length)return null;var i;return i=n.is(".note-editor, .note-air-editor")?n:t("#note-editor-"+o.last(n.attr("id").split("-"))),a.buildLayoutInfo(i)},y=function(e,n){l.restoreRange(e);var i=e.data("callbacks");i.onImageUpload?i.onImageUpload(n,l,e):t.each(n,function(t,n){var r=n.name;c.readFileAsDataURL(n).then(function(t){l.insertImage(e,t,r)}).fail(function(){i.onImageUploadError&&i.onImageUploadError()})})},S={showLinkDialog:function(t){var e=t.editor(),n=t.dialog(),i=t.editable(),r=l.getLinkInfo(i),o=e.data("options");l.saveRange(i),f.showLinkDialog(i,n,r).then(function(e){l.restoreRange(i),l.createLink(i,e,o),d.hide(t.popover())}).fail(function(){l.restoreRange(i)})},showImageDialog:function(t){var e=t.dialog(),n=t.editable();l.saveRange(n),f.showImageDialog(n,e).then(function(t){l.restoreRange(n),"string"==typeof t?l.insertImage(n,t):y(n,t)}).fail(function(){l.restoreRange(n)})},showVideoDialog:function(t){var e=t.dialog(),n=t.editable(),i=l.getVideoInfo(n);l.saveRange(n),f.showVideoDialog(n,e,i).then(function(t){l.restoreRange(n),l.insertVideo(n,t)}).fail(function(){l.restoreRange(n)})},showHelpDialog:function(t){var e=t.dialog(),n=t.editable();l.saveRange(n,!0),f.showHelpDialog(n,e).then(function(){l.restoreRange(n)})},fullscreen:function(t){var e=t.editor(),i=t.toolbar(),r=t.editable(),o=t.codable(),a=e.data("options"),l=function(t){e.css("width",t.w),r.css("height",t.h),o.css("height",t.h),o.data("cmeditor")&&o.data("cmeditor").setsize(null,t.h)};e.toggleClass("fullscreen");var c=e.hasClass("fullscreen");c?(r.data("orgheight",r.css("height")),n.on("resize",function(){l({w:n.width(),h:n.height()-i.outerHeight()})}).trigger("resize"),s.css("overflow","hidden")):(n.off("resize"),l({w:a.width||"",h:r.data("orgheight")}),s.css("overflow","visible")),h.updateFullscreen(i,c)},codeview:function(t){var n,r,o=t.editor(),s=t.toolbar(),l=t.editable(),c=t.codable(),u=t.popover(),p=o.data("options");o.toggleClass("codeview");var f=o.hasClass("codeview");f?(c.val(a.html(l,!0)),c.height(l.height()),h.deactivate(s),d.hide(u),c.focus(),i.hasCodeMirror&&(n=e.fromTextArea(c[0],p.codemirror),p.codemirror.tern&&(r=new e.TernServer(p.codemirror.tern),n.ternServer=r,n.on("cursorActivity",function(t){r.updateArgHints(t)})),n.setSize(null,l.outerHeight()),c.data("cmEditor",n))):(i.hasCodeMirror&&(n=c.data("cmEditor"),c.val(n.getValue()),n.toTextArea()),l.html(a.value(c)||a.emptyPara),l.height(p.height?c.height():"auto"),h.activate(s),l.focus()),h.updateCodeview(t.toolbar(),f)}},k=function(t){a.isImg(t.target)&&t.preventDefault()},C=function(t){setTimeout(function(){var e=m(t.currentTarget||t.target),n=l.currentStyle(t.target);if(n){var i=e.editor().data("options").airMode;i||h.update(e.toolbar(),n),d.update(e.popover(),n,i),p.update(e.handle(),n,i)}},0)},T=function(t){var e=m(t.currentTarget||t.target);d.hide(e.popover()),p.hide(e.handle())},D=function(t){var e=t.originalEvent.clipboardData;if(e&&e.items&&e.items.length){var n=m(t.currentTarget||t.target),i=o.head(e.items);"file"===i.kind&&-1!==i.type.indexOf("image/")&&y(n.editable(),[i.getAsFile()])}},M=function(e){if(a.isControlSizing(e.target)){e.preventDefault(),e.stopPropagation();var n=m(e.target),i=n.handle(),o=n.popover(),s=n.editable(),c=n.editor(),u=i.find(".note-control-selection").data("target"),h=t(u),f=h.offset(),g=r.scrollTop(),v=c.data("options").airMode;r.on("mousemove",function(t){l.resizeTo({x:t.clientX-f.left,y:t.clientY-(f.top-g)},h,!t.shiftKey),p.update(i,{image:u},v),d.update(o,{image:u},v)}).one("mouseup",function(){r.off("mousemove")}),h.data("ratio")||h.data("ratio",h.height()/h.width()),l.afterCommand(s)}},E=function(e){t(e.target).closest("[data-event]").length&&e.preventDefault()},L=function(e){var n=t(e.target).closest("[data-event]");if(n.length){var i=n.attr("data-event"),r=n.attr("data-value"),s=n.attr("data-hide"),a=m(e.target);e.preventDefault();var c;if(-1!==t.inArray(i,["resize","floatMe","removeMedia"])){var u=a.handle().find(".note-control-selection");c=t(u.data("target"))}if(s&&n.parents(".popover").hide(),l[i]){var p=a.editable();p.trigger("focus"),l[i](p,r,c)}else S[i]&&S[i].call(this,a);if(-1!==t.inArray(i,["backColor","foreColor"])){var f=a.editor().data("options",f);(f.airMode?d:h).updateRecentColor(o.head(n),i,r)}C(e)}},A=function(t){t.preventDefault(),t.stopPropagation();var e=m(t.target).editable(),n=e.offset().top-r.scrollTop(),i=m(t.currentTarget||t.target).editor().data("options");r.on("mousemove",function(t){var r=t.clientY-(n+24);r=i.minHeight>0?Math.max(r,i.minHeight):r,r=i.maxHeight>0?Math.min(r,i.maxHeight):r,e.height(r)}).one("mouseup",function(){r.off("mousemove")})},I=function(e,n){var i,r=t(e.target.parentNode),o=r.next(),s=r.find(".note-dimension-picker-mousecatcher"),a=r.find(".note-dimension-picker-highlighted"),l=r.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var c=t(e.target).offset();i={x:e.pageX-c.left,y:e.pageY-c.top}}else i={x:e.offsetX,y:e.offsetY};var u={c:Math.ceil(i.x/18)||1,r:Math.ceil(i.y/18)||1};a.css({width:u.c+"em",height:u.r+"em"}),s.attr("data-value",u.c+"x"+u.r),3<u.c&&u.c<n.insertTableMaxSize.col&&l.css({width:u.c+1+"em"}),3<u.r&&u.r<n.insertTableMaxSize.row&&l.css({height:u.r+1+"em"}),o.html(u.c+" x "+u.r)},N=function(t,e){e?r.on("drop",function(t){t.preventDefault()}):P(t)},P=function(e){var n=t(),i=e.dropzone,o=e.dropzone.find(".note-dropzone-message");r.on("dragenter",function(t){e.editor.hasClass("codeview")||n.length||(e.editor.addClass("dragover"),i.width(e.editor.width()),i.height(e.editor.height()),o.text("Drag Image Here")),n=n.add(t.target)}).on("dragleave",function(t){(n=n.not(t.target)).length||e.editor.removeClass("dragover")}).on("drop",function(){n=t(),e.editor.removeClass("dragover")}),i.on("dragenter",function(){i.addClass("hover"),o.text("Drop Image")}).on("dragleave",function(){i.removeClass("hover"),o.text("Drag Image Here")}),i.on("drop",function(t){t.preventDefault();var e=t.originalEvent.dataTransfer;if(e&&e.files){var n=m(t.currentTarget||t.target);n.editable().focus(),y(n.editable(),e.files)}}).on("dragover",!1)};this.bindKeyMap=function(t,e){var n=t.editor,i=t.editable;t=m(i),i.on("keydown",function(r){var o=[];r.metaKey&&o.push("CMD"),r.ctrlKey&&!r.altKey&&o.push("CTRL"),r.shiftKey&&o.push("SHIFT");var s=u.nameFromCode[r.keyCode];s&&o.push(s);var a=e[o.join("+")];a?(r.preventDefault(),l[a]?l[a](i,n.data("options")):S[a]&&S[a].call(this,t)):u.isEdit(r.keyCode)&&l.afterCommand(i)})},this.attach=function(t,e){this.bindKeyMap(t,e.keyMap[i.isMac?"mac":"pc"]),t.editable.on("mousedown",k),t.editable.on("keyup mouseup",C),t.editable.on("scroll",T),t.editable.on("paste",D),t.handle.on("mousedown",M),t.popover.on("click",L),t.popover.on("mousedown",E),e.airMode||(N(t,e.disableDragAndDrop),t.toolbar.on("click",L),t.toolbar.on("mousedown",E),e.disableResizeEditor||t.statusbar.on("mousedown",A)),(e.airMode?t.popover:t.toolbar).find(".note-dimension-picker-mousecatcher").css({width:e.insertTableMaxSize.col+"em",height:e.insertTableMaxSize.row+"em"}).on("mousemove",function(t){I(t,e)}),t.editor.data("options",e),e.styleWithSpan&&!i.isMSIE&&setTimeout(function(){document.execCommand("styleWithCSS",0,!0)},0);var n=new v(t.editable);if(t.editable.data("NoteHistory",n),e.onenter&&t.editable.keypress(function(t){t.keyCode===u.ENTER&&e.onenter(t)}),e.onfocus&&t.editable.focus(e.onfocus),e.onblur&&t.editable.blur(e.onblur),e.onkeyup&&t.editable.keyup(e.onkeyup),e.onkeydown&&t.editable.keydown(e.onkeydown),e.onpaste&&t.editable.on("paste",e.onpaste),e.onToolbarClick&&t.toolbar.click(e.onToolbarClick),e.onChange){var r=function(){l.triggerOnChange(t.editable)};i.isMSIE?t.editable.on("DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted",r):t.editable.on("input",r)}t.editable.data("callbacks",{onChange:e.onChange,onAutoSave:e.onAutoSave,onImageUpload:e.onImageUpload,onImageUploadError:e.onImageUploadError,onFileUpload:e.onFileUpload,onFileUploadError:e.onFileUpload})},this.dettach=function(t,e){t.editable.off(),t.popover.off(),t.handle.off(),t.dialog.off(),e.airMode||(t.dropzone.off(),t.toolbar.off(),t.statusbar.off())}};t.fn.extend({summernote:function(e){return e=t.extend({},t.summernote.options,e),this.each(function(n,i){var r=t(i);S.createLayout(r,e);var o=S.layoutInfoFromHolder(r);k.attach(o,e),a.isTextarea(r[0])&&r.closest("form").submit(function(){r.val(r.code())})}),this.first().length&&e.focus&&S.layoutInfoFromHolder(this.first()).editable.focus(),this.length&&e.oninit&&e.oninit(),this},code:function(e){if(void 0===e){var n=this.first();if(!n.length)return;var r=S.layoutInfoFromHolder(n);if(r&&r.editable){var o=r.editor.hasClass("codeview");return o&&i.hasCodeMirror&&r.codable.data("cmEditor").save(),o?r.codable.val():r.editable.html()}return a.isTextarea(n[0])?n.val():n.html()}return this.each(function(n,i){var r=S.layoutInfoFromHolder(t(i));r&&r.editable&&r.editable.html(e)}),this},destroy:function(){return this.each(function(e,n){var i=t(n),r=S.layoutInfoFromHolder(i);if(r&&r.editable){var o=r.editor.data("options");k.dettach(r,o),S.removeLayout(i,r,o)}}),this}})}),function(t,e,n){"use strict";var i=function(e,n){this.widget="",this.$element=t(e),this.defaultTime=n.defaultTime,this.disableFocus=n.disableFocus,this.disableMousewheel=n.disableMousewheel,this.isOpen=n.isOpen,this.minuteStep=n.minuteStep,this.modalBackdrop=n.modalBackdrop,this.orientation=n.orientation,this.secondStep=n.secondStep,this.showInputs=n.showInputs,this.showMeridian=n.showMeridian,this.showSeconds=n.showSeconds,this.template=n.template,this.appendWidgetTo=n.appendWidgetTo,this.showWidgetOnAddonClick=n.showWidgetOnAddonClick,this._init()};i.prototype={constructor:i,_init:function(){var e=this;this.showWidgetOnAddonClick&&(this.$element.parent().hasClass("input-group")||this.$element.parent().hasClass("input-prepend"))?(this.$element.parent(".input-group, .input-prepend").find(".input-group-addon").on({"click.timepicker":t.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)})):this.$element.on(this.template?{"focus.timepicker":t.proxy(this.showWidget,this),"click.timepicker":t.proxy(this.showWidget,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)}:{"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)}),this.$widget=!1!==this.template&&t(this.getTemplate()).on("click",t.proxy(this.widgetClick,this)),this.showInputs&&!1!==this.$widget&&this.$widget.find("input").each(function(){t(this).on({"click.timepicker":function(){t(this).select()},"keydown.timepicker":t.proxy(e.widgetKeydown,e),"keyup.timepicker":t.proxy(e.widgetKeyup,e)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=23:this.hour--},decrementMinute:function(t){var e;0>(e=t?this.minute-t:this.minute-this.minuteStep)?(this.decrementHour(),this.minute=e+60):this.minute=e},decrementSecond:function(){var t=this.second-this.secondStep;0>t?(this.decrementMinute(!0),this.second=t+60):this.second=t},elementKeydown:function(t){switch(t.keyCode){case 9:case 27:this.updateFromElementVal();break;case 37:t.preventDefault(),this.highlightPrevUnit();break;case 38:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:t.preventDefault(),this.highlightNextUnit();break;case 40:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var t=this.$element.get(0);if("selectionStart"in t)return t.selectionStart;if(n.selection){t.focus();var e=n.selection.createRange(),i=n.selection.createRange().text.length;return e.moveStart("character",-t.value.length),e.text.length-i}},getTemplate:function(){var t,e,n,i,r,o;switch(this.showInputs?(e='<input type="text" class="bootstrap-timepicker-hour form-control" maxlength="2"/>',n='<input type="text" class="bootstrap-timepicker-minute form-control" maxlength="2"/>',i='<input type="text" class="bootstrap-timepicker-second form-control" maxlength="2"/>',r='<input type="text" class="bootstrap-timepicker-meridian form-control" maxlength="2"/>'):(e='<span class="bootstrap-timepicker-hour"></span>',n='<span class="bootstrap-timepicker-minute"></span>',i='<span class="bootstrap-timepicker-second"></span>',r='<span class="bootstrap-timepicker-meridian"></span>'),o='<table><tr><td><a href="#" data-action="incrementHour"><i class="glyphicon glyphicon-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="glyphicon glyphicon-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="glyphicon glyphicon-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="glyphicon glyphicon-chevron-up"></i></a></td>':"")+"</tr><tr><td>"+e+'</td> <td class="separator">:</td><td>'+n+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+i+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+r+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="glyphicon glyphicon-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="glyphicon glyphicon-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="glyphicon glyphicon-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="glyphicon glyphicon-chevron-down"></i></a></td>':"")+"</tr></table>",this.template){case"modal":t='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">×</a><h3>Pick a Time</h3></div><div class="modal-content">'+o+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":t='<div class="bootstrap-timepicker-widget dropdown-menu">'+o+"</div>"}return t},getTime:function(){return""===this.hour?"":this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){!1!==this.isOpen&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),t(n).off("mousedown.timepicker, touchend.timepicker"),this.isOpen=!1,this.$widget.detach())},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="hour",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(0,1):t.setSelectionRange(0,2)},0)},highlightMinute:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="minute",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(2,4):t.setSelectionRange(3,5)},0)},highlightSecond:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="second",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0)},highlightMeridian:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="meridian",t.setSelectionRange&&(this.showSeconds?setTimeout(function(){e.hour<10?t.setSelectionRange(8,10):t.setSelectionRange(9,11)},0):setTimeout(function(){e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return 23===this.hour?void(this.hour=0):void this.hour++},incrementMinute:function(t){var e;(e=t?this.minute+t:this.minute+this.minuteStep-this.minute%this.minuteStep)>59?(this.incrementHour(),this.minute=e-60):this.minute=e},incrementSecond:function(){var t=this.second+this.secondStep-this.second%this.secondStep;t>59?(this.incrementMinute(!0),this.second=t-60):this.second=t},mousewheel:function(e){if(!this.disableMousewheel){e.preventDefault(),e.stopPropagation();var n=e.originalEvent.wheelDelta||-e.originalEvent.detail,i=null;switch("mousewheel"===e.type?i=-1*e.originalEvent.wheelDelta:"DOMMouseScroll"===e.type&&(i=40*e.originalEvent.detail),i&&(e.preventDefault(),t(this).scrollTop(i+t(this).scrollTop())),this.highlightedUnit){case"minute":n>0?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":n>0?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:n>0?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},place:function(){if(!this.isInline){var n=this.$widget.outerWidth(),i=this.$widget.outerHeight(),r=t(e).width(),o=t(e).height(),s=t(e).scrollTop(),a=parseInt(this.$element.parents().filter(function(){}).first().css("z-index"),10)+10,l=this.component?this.component.parent().offset():this.$element.offset(),c=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),h=l.left,d=l.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"),"auto"!==this.orientation.x?(this.picker.addClass("datepicker-orient-"+this.orientation.x),"right"===this.orientation.x&&(h-=n-u)):(this.$widget.addClass("timepicker-orient-left"),l.left<0?h-=l.left-10:l.left+n>r&&(h=r-n-10));var p,f,m=this.orientation.y;"auto"===m&&(p=-s+l.top-i,f=s+o-(l.top+c+i),m=Math.max(p,f)===f?"top":"bottom"),this.$widget.addClass("timepicker-orient-"+m),"top"===m?d+=c:d-=i+parseInt(this.$widget.css("padding-top"),10),this.$widget.css({top:d,left:h,zIndex:a})}},remove:function(){t("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(t){if(this.$element.val())this.updateFromElementVal();else if("current"===t){var e=new Date,n=e.getHours(),i=e.getMinutes(),r=e.getSeconds(),o="AM";0!==r&&60==(r=Math.ceil(e.getSeconds()/this.secondStep)*this.secondStep)&&(i+=1,r=0),0!==i&&60==(i=Math.ceil(e.getMinutes()/this.minuteStep)*this.minuteStep)&&(n+=1,i=0),this.showMeridian&&(0===n?n=12:n>=12?(n>12&&(n-=12),o="PM"):o="AM"),this.hour=n,this.minute=i,this.second=r,this.meridian=o,this.update()}else!1===t?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(t)},setTime:function(t,e){if(t){var n,i,r,o,s;"object"==typeof t&&t.getMonth?(i=t.getHours(),r=t.getMinutes(),o=t.getSeconds(),this.showMeridian&&(s="AM",i>12&&(s="PM",i%=12),12===i&&(s="PM"))):(s=null!==t.match(/p/i)?"PM":"AM",t=t.replace(/[^0-9\:]/g,""),n=t.split(":"),i=n[0]?n[0].toString():n.toString(),r=n[1]?n[1].toString():"",o=n[2]?n[2].toString():"",i.length>4&&(o=i.substr(4,2)),i.length>2&&(r=i.substr(2,2),i=i.substr(0,2)),r.length>2&&(o=r.substr(2,2),r=r.substr(0,2)),o.length>2&&(o=o.substr(2,2)),i=parseInt(i,10),r=parseInt(r,10),o=parseInt(o,10),isNaN(i)&&(i=0),isNaN(r)&&(r=0),isNaN(o)&&(o=0),this.showMeridian?1>i?i=1:i>12&&(i=12):(i>=24?i=23:0>i&&(i=0),13>i&&"PM"===s&&(i+=12)),0>r?r=0:r>=60&&(r=59),this.showSeconds&&(isNaN(o)?o=0:0>o?o=0:o>=60&&(o=59))),this.hour=i,this.minute=r,this.second=o,this.meridian=s,this.update(e)}else this.clear()},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){this.$widget.appendTo(this.appendWidgetTo);var e=this;t(n).on("mousedown.timepicker, touchend.timepicker",function(t){e.$element.parent().find(t.target).length||e.$widget.is(t.target)||e.$widget.find(t.target).length||e.hideWidget()}),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.place(),this.disableFocus&&this.$element.blur(),""===this.hour&&(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",t.proxy(this.hideWidget,this)):!1===this.isOpen&&this.$widget.addClass("open"),this.isOpen=!0}},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(t){this.updateElement(),t||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(!1!==this.$widget){var t=this.hour,e=1===this.minute.toString().length?"0"+this.minute:this.minute,n=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(t),this.$widget.find("input.bootstrap-timepicker-minute").val(e),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(n),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(t),this.$widget.find("span.bootstrap-timepicker-minute").text(e),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(n),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(!1!==this.$widget){var t=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(t,!0)}},widgetClick:function(e){e.stopPropagation(),e.preventDefault();var n=t(e.target),i=n.closest("a").data("action");i&&this[i](),this.update(),n.is("input")&&n.get(0).setSelectionRange(0,2)},widgetKeydown:function(e){var n=t(e.target),i=n.attr("class").replace("bootstrap-timepicker-","");switch(e.keyCode){case 9:if(this.showMeridian&&"meridian"===i||this.showSeconds&&"second"===i||!this.showMeridian&&!this.showSeconds&&"minute"===i)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(e.preventDefault(),i){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),n.get(0).setSelectionRange(0,2);break;case 40:switch(e.preventDefault(),i){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),n.get(0).setSelectionRange(0,2)}},widgetKeyup:function(t){(65===t.keyCode||77===t.keyCode||80===t.keyCode||46===t.keyCode||8===t.keyCode||t.keyCode>=46&&t.keyCode<=57)&&this.updateFromWidgetInputs()}},t.fn.timepicker=function(e){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var r=t(this),o=r.data("timepicker"),s="object"==typeof e&&e;o||r.data("timepicker",o=new i(this,t.extend({},t.fn.timepicker.defaults,s,t(this).data()))),"string"==typeof e&&o[e].apply(o,n)})},t.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0},t.fn.timepicker.Constructor=i}(jQuery,window,document),function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(n){return t.Bloodhound=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){t.each(e,function(t,e){return n(e,t)})},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return!!(i=n.call(null,r,t,e))&&void 0}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return!(i=n.call(null,r,t,e))&&void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,s,a=this,l=arguments;return o=function(){i=null,n||(r=t.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,c=e-(l-s);return n=this,i=arguments,0>=c?(clearTimeout(r),r=null,s=l,o=t.apply(n,i)):r||(r=setTimeout(a,c)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";function t(t){return(t=e.toStr(t))?t.split(/\s+/):[]}function n(t){return(t=e.toStr(t))?t.split(/\W+/):[]}function i(t){return function(n){return n=e.isArray(n)?n:[].slice.call(arguments,0),function(i){var r=[];return e.each(n,function(n){r=r.concat(t(e.toStr(i[n])))}),r}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),r=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),o=function(){"use strict";function n(t,n){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=n||a,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function o(e){return t.parseJSON(e)}function s(t){var e,n,i=[],r=a.length;for(e=0;r>e;e++)(n=a.key(e)).match(t)&&i.push(n.replace(t,""));return i}var a;try{(a=window.localStorage).setItem("~~~","!"),a.removeItem("~~~")}catch(t){a=null}return e.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(t){"QuotaExceededError"===t.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),o(this.ls.getItem(this._prefix(t)))},set:function(t,n,o){return e.isNumber(o)?this._safeSet(this._ttlKey(t),r(i()+o)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(n))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=s(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var n=o(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(n)&&i()>n)}}),n}(),s=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new r(0):a}var i=0,o={},s=6,a=new r(10);return n.setMaxPendingRequests=function(t){s=t},n.resetCache=function(){a.reset()},e.mixin(n.prototype,{_fingerprint:function(e){return(e=e||{}).url+e.type+t.param(e.data||{})},_get:function(t,e){function n(t){e(null,t),c._cache.set(a,t)}function r(){e(!0)}var a,l,c=this;a=this._fingerprint(t),this.cancelled||a!==this.lastReq||((l=o[a])?l.done(n).fail(r):s>i?(i++,o[a]=this._send(t).done(n).fail(r).always(function(){i--,delete o[a],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)})):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var r,o;i=i||t.noop,n=e.isString(n)?{url:n}:n||{},o=this._fingerprint(n),this.cancelled=!1,this.lastReq=o,(r=this._cache.get(o))?i(null,r):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),a=window.SearchIndex=function(){"use strict";function n(n){(n=n||{}).datumTokenizer&&n.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||e.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){var t={};return t[l]=[],t[a]={},t}function o(t){for(var e={},n=[],i=0,r=t.length;r>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function s(t,e){var n=0,i=0,r=[];t=t.sort(),e=e.sort();for(var o=t.length,s=e.length;o>n&&s>i;)t[n]<e[i]?n++:t[n]>e[i]?i++:(r.push(t[n]),n++,i++);return r}var a="c",l="i";return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var o,s;n.datums[o=n.identify(t)]=t,s=i(n.datumTokenizer(t)),e.each(s,function(t){var e,i,s;for(e=n.trie,i=t.split("");s=i.shift();)(e=e[a][s]||(e[a][s]=r()))[l].push(o)})})},get:function(t){var n=this;return e.map(t,function(t){return n.datums[t]})},search:function(t){var n,r,c=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,o;if(r&&0===r.length)return!1;for(e=c.trie,n=t.split("");e&&(i=n.shift());)e=e[a][i];return e&&0===n.length?(o=e[l].slice(0),void(r=r?s(r,o):o)):(r=[],!1)}),r?e.map(o(r),function(t){return c.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new o(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){var e,n=this;t&&(e=this.prepare(this._settings()),this.transport(e).fail(function(){t(!0)}).done(function(e){t(null,n.transform(e))}))},clear:function(){return this.storage.clear(),this}}),t}(),c=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new s({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){var n,i=this;if(e)return t=t||"",n=this.prepare(t,this._settings()),this.transport.get(n,function(t,n){e(t?[]:i.transform(n))})},cancelLastRequest:function(){this.transport.cancel()}}),t}(),u=function(){"use strict";function i(i){var r;return i?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,!(i=e.mixin(r,i)).url&&t.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?a(i.transport):t.ajax,i):null}function r(n){var i;if(n)return i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,!(n=e.mixin(i,n)).url&&t.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=o(n),n.limiter=s(n),n.transport=n.transport?a(n.transport):t.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function o(t){var e,n,i;return e=t.prepare,n=t.replace,i=t.wildcard,e||(e=n?function(t,e){return e.url=n(e.url,t),e}:t.wildcard?function(t,e){return e.url=e.url.replace(i,encodeURIComponent(t)),e}:function(t,e){return e})}function s(t){var n,i,r;return n=t.limiter,i=t.rateLimitBy,r=t.rateLimitWait,n||(n=/^throttle$/i.test(i)?function(t){return function(n){return e.throttle(n,t)}}(r):function(t){return function(n){return e.debounce(n,t)}}(r)),n}function a(n){return function(i){var r=t.Deferred();return n(i,function(t){e.defer(function(){r.resolve(t)})},function(t){e.defer(function(){r.reject(t)})}),r}}return function(n){var o,s;return o={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(n=e.mixin(o,n||{})).datumTokenizer&&t.error("datumTokenizer is required"),!n.queryTokenizer&&t.error("queryTokenizer is required"),s=n.sorter,n.sorter=s?function(t){return t.sort(s)}:e.identity,n.local=e.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=r(n.remote),n}}();return function(){"use strict";function n(t){t=u(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new c(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}var r;return r=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=r),n},n.tokenizers=i,e.mixin(n.prototype,{__ttAdapter:function(){var t=this;return this.remote?function(e,n,i){return t.search(e,n,i)}:function(e,n){return t.search(e,n)}},_loadPrefetch:function(){var e,n,i=this;return e=t.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),e.resolve()):this.prefetch.fromNetwork(function(t,n){return t?e.reject():(i.add(n),i.prefetch.store(i.index.serialize()),void e.resolve())}):e.resolve(),e.promise()},_initialize:function(){var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(function(){t.add(t.local)}),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,n,i){var r,o=this;return r=this.sorter(this.index.search(t)),n(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(t,function(t){var n=[];e.each(t,function(t){!e.some(r,function(e){return o.identify(t)===o.identify(e)})&&n.push(t)}),i&&i(n)}):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}()}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){t.each(e,function(t,e){return n(e,t)})},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return!!(i=n.call(null,r,t,e))&&void 0}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return!(i=n.call(null,r,t,e))&&void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,s,a=this,l=arguments;return o=function(){i=null,n||(r=t.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,c=e-(l-s);return n=this,i=arguments,0>=c?(clearTimeout(r),r=null,s=l,o=t.apply(n,i)):r||(r=setTimeout(a,c)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function n(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function i(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(o){var s,a;return a=e.mixin({},r,o),s={css:i(),classes:a,html:t(a),selectors:n(a)},{css:s.css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(t){e.mixin(t,s)}}}}(),i=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i,r;return i="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,n){var r;return r=t.Event(i+e),(n=n||[]).unshift(r),this.$el.trigger.apply(this.$el,n),r},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=r[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),r=function(){"use strict";function t(t,e,r,o){var s;if(!r)return this;for(e=e.split(i),r=o?n(r,o):r,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(r);return this}function e(t,e,n){return function(){for(var i,r=0,o=t.length;!i&&o>r;r+=1)i=!1===t[r].apply(e,n);return!i}}function n(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var i=/\s+/,r=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)};return{onSync:function(e,n,i){return t.call(this,"sync",e,n,i)},onAsync:function(e,n,i){return t.call(this,"async",e,n,i)},off:function(t){var e;if(!this._callbacks)return this;for(t=t.split(i);e=t.shift();)delete this._callbacks[e];return this},trigger:function(t){var n,o,s,a,l;if(!this._callbacks)return this;for(t=t.split(i),s=[].slice.call(arguments,1);(n=t.shift())&&(o=this._callbacks[n]);)a=e(o.sync,this,[n].concat(s)),l=e(o.async,this,[n].concat(s)),a()&&r(l);return this}}}(),o=function(t){"use strict";function n(t,n,i){for(var r,o=[],s=0,a=t.length;a>s;s++)o.push(e.escapeRegExChars(t[s]));return r=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(t,e){for(var n,i=0;i<t.childNodes.length;i++)3===(n=t.childNodes[i]).nodeType?i+=e(n)?1:0:o(n,e)}var s;(r=e.mixin({},i,r)).node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],s=n(r.pattern,r.caseSensitive,r.wordsOnly),o(r.node,function(e){var n,i,o;return(n=s.exec(e.data))&&(o=t.createElement(r.tagName),r.className&&(o.className=r.className),(i=e.splitText(n.index)).splitText(n[0].length),o.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(o,i)),!!n}))}}(window.document),s=function(){"use strict";function n(n,r){(n=n||{}).input||t.error("input is missing"),r.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function o(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!s(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!s(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,i;i=!!(n=o(t,this.query))&&this.query.length!==t.length,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,i,r,o=this;return t=e.bind(this._onBlur,this),n=e.bind(this._onFocus,this),i=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",i),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(o._onInput,o,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:!document.selection||((i=document.selection.createRange()).moveStart("character",-t),t===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n}(),a=function(){"use strict";function n(n,r){(n=n||{}).templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&!a(n.name)&&t.error("invalid dataset name: "+n.name),r.mixin(this),this.highlight=!!n.highlight,this.name=n.name||c(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=s(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(t){return t=t||e.stringify,e.isFunction(t)?t:function(e){return e[t]}}function s(n,i){return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||function(e){return t("<div>").text(i(e))}}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,c;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},c=e.getIdGenerator(),n.extractData=function(e){var n=t(e);return n.data(l.obj)?{val:n.data(l.val)||"",obj:n.data(l.obj)||null}:null},e.mixin(n.prototype,r,{_overwrite:function(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;i=(n=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var r,s=this;return r=document.createDocumentFragment(),e.each(i,function(e){var i,o;o=s._injectQuery(n,e),i=t(s.templates.suggestion(o)).data(l.obj,e).data(l.val,s.displayFn(e)).addClass(s.classes.suggestion+" "+s.classes.selectable),r.appendChild(i[0])}),this.highlight&&o({className:this.classes.highlight,node:r,pattern:n}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){function n(t){o||(o=!0,t=(t||[]).slice(0,i.limit),s=t.length,i._overwrite(e,t),s<i.limit&&i.async&&i.trigger("asyncRequested",e))}var i=this,r=!1,o=!1,s=0;this.cancel(),this.cancel=function(){r=!0,i.cancel=t.noop,i.async&&i.trigger("asyncCanceled",e)},this.source(e,n,function(n){n=n||[],!r&&s<i.limit&&(i.cancel=t.noop,s+=n.length,i._append(e,n.slice(0,i.limit-s)),i.async&&i.trigger("asyncReceived",e))}),!o&&n([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),n}(),l=function(){"use strict";function n(n,i){var r=this;(n=n||{}).node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,function(e){var n=r.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(r.$node),new a(e,i)})}return e.mixin(n.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return e.every(this.datasets,function(t){return t.isEmpty()})},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,r;n=(e=t.position().top)+t.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(i+e):n>r&&this.$node.scrollTop(i+(n-r))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i,r;return n=this.getActiveSelectable(),e=this._getSelectables(),i=n?e.index(n):-1,r=i+t,r=(r+1)%(e.length+1)-1,-1===(r=-1>r?e.length-1:r)?null:e.eq(r)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){var n=t!==this.query;return n&&(this.query=t,e.each(this.datasets,function(e){e.update(t)})),n},empty:function(){e.each(this.datasets,function(t){t.clear()}),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,function(t){t.destroy()})}}),n}(),c=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),u=function(){"use strict";function n(n,r){var o,s,a,l,c,u,h,d,p,f,m;(n=n||{}).input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=i(this,"activate","open","_onFocused"),s=i(this,"deactivate","_onBlurred"),a=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),c=i(this,"isActive","_onEscKeyed"),u=i(this,"isActive","open","_onUpKeyed"),h=i(this,"isActive","open","_onDownKeyed"),d=i(this,"isActive","isOpen","_onLeftKeyed"),p=i(this,"isActive","isOpen","_onRightKeyed"),f=i(this,"_openIfActive","_onQueryChanged"),m=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",u,this).onSync("downKeyed",h,this).onSync("leftKeyed",d,this).onSync("rightKeyed",p,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,i)})}}return e.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var r,o,s;r=document.activeElement,o=i.is(r),s=i.has(r).length>0,e.isMsie()&&(o||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return(t=e.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var t,n,i,r,o,a,l;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),i=this.input.getInputValue(),!n||e.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(r=s.normalizeQuery(i),o=e.escapeRegExChars(r),a=new RegExp("^(?:"+o+")(.+$)","i"),(l=a.exec(n.val))&&this.input.setHint(i+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,n;return e=this.input.getQuery(),n=this.menu.getSelectableData(t),!(!(n&&e!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function(t){var e,n,i,r;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),i=this.menu.getSelectableData(n),r=i?i.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function r(e,n){e.each(function(){var e,i=t(this);(e=i.data(m.typeahead))&&n(e,i)})}function o(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(h(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){t.data(m.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}function h(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function d(t){var n,i;n=t.data(m.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(m.attrs),function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)}),t.removeData(m.typeahead).removeData(m.www).removeData(m.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}function p(n){var i,r;return i=e.isJQuery(n)||e.isElement(n),(r=i?t(n).first():[]).length?r:null}var f,m,g;f=t.fn.typeahead,m={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},g={initialize:function(r,h){var d;return h=e.isArray(h)?h:[].slice.call(arguments,1),r=r||{},d=n(r.classNames),this.each(function(){var n,f,g,v,y,_,b,w,x,S,k;e.each(h,function(t){t.highlight=!!r.highlight}),n=t(this),f=t(d.html.wrapper),g=p(r.hint),v=p(r.menu),y=!1!==r.hint&&!g,_=!1!==r.menu&&!v,y&&(g=o(n,d)),_&&(v=t(d.html.menu).css(d.css.menu)),g&&g.val(""),n=a(n,d),(y||_)&&(f.css(d.css.wrapper),n.css(y?d.css.input:d.css.inputWithNoHint),n.wrap(f).parent().prepend(y?g:null).append(_?v:null)),k=_?c:l,b=new i({el:n}),w=new s({hint:g,input:n},d),x=new k({node:v,datasets:h},d),S=new u({input:w,menu:x,eventBus:b,minLength:r.minLength},d),n.data(m.www,d),n.data(m.typeahead,S)})},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.select(i)}),n},autocomplete:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.autocomplete(i)}),n},moveCursor:function(t){var e=!1;return r(this.first(),function(n){e=n.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){d(e),t.destroy()}),this}},t.fn.typeahead=function(t){return g[t]?g[t].apply(this,[].slice.call(arguments,1)):g.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=f,this}}()}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){t.each(e,function(t,e){return n(e,t)})},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return!!(i=n.call(null,r,t,e))&&void 0}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return!(i=n.call(null,r,t,e))&&void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,s,a=this,l=arguments;return o=function(){i=null,n||(r=t.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,c=e-(l-s);return n=this,i=arguments,0>=c?(clearTimeout(r),r=null,s=l,o=t.apply(n,i)):r||(r=setTimeout(a,c)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function n(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function i(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(o){var s,a;return a=e.mixin({},r,o),s={css:i(),classes:a,html:t(a),selectors:n(a)},{css:s.css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(t){e.mixin(t,s)}}}}(),i=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i,r;return i="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,n){var r;return r=t.Event(i+e),(n=n||[]).unshift(r),this.$el.trigger.apply(this.$el,n),r},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=r[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),r=function(){"use strict";function t(t,e,r,o){var s;if(!r)return this;for(e=e.split(i),r=o?n(r,o):r,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(r);return this}function e(t,e,n){return function(){for(var i,r=0,o=t.length;!i&&o>r;r+=1)i=!1===t[r].apply(e,n);return!i}}function n(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var i=/\s+/,r=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)};return{onSync:function(e,n,i){return t.call(this,"sync",e,n,i)},onAsync:function(e,n,i){return t.call(this,"async",e,n,i)},off:function(t){var e;if(!this._callbacks)return this;for(t=t.split(i);e=t.shift();)delete this._callbacks[e];return this},trigger:function(t){var n,o,s,a,l;if(!this._callbacks)return this;for(t=t.split(i),s=[].slice.call(arguments,1);(n=t.shift())&&(o=this._callbacks[n]);)a=e(o.sync,this,[n].concat(s)),l=e(o.async,this,[n].concat(s)),a()&&r(l);return this}}}(),o=function(t){"use strict";function n(t,n,i){for(var r,o=[],s=0,a=t.length;a>s;s++)o.push(e.escapeRegExChars(t[s]));return r=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(t,e){for(var n,i=0;i<t.childNodes.length;i++)3===(n=t.childNodes[i]).nodeType?i+=e(n)?1:0:o(n,e)}var s;(r=e.mixin({},i,r)).node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],s=n(r.pattern,r.caseSensitive,r.wordsOnly),o(r.node,function(e){var n,i,o;return(n=s.exec(e.data))&&(o=t.createElement(r.tagName),r.className&&(o.className=r.className),(i=e.splitText(n.index)).splitText(n[0].length),o.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(o,i)),!!n}))}}(window.document),s=function(){"use strict";function n(n,r){(n=n||{}).input||t.error("input is missing"),r.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function o(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!s(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!s(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,i;i=!!(n=o(t,this.query))&&this.query.length!==t.length,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,i,r,o=this;return t=e.bind(this._onBlur,this),n=e.bind(this._onFocus,this),i=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",i),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(o._onInput,o,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:!document.selection||((i=document.selection.createRange()).moveStart("character",-t),t===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n}(),a=function(){"use strict";function n(n,r){(n=n||{}).templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&!a(n.name)&&t.error("invalid dataset name: "+n.name),r.mixin(this),this.highlight=!!n.highlight,this.name=n.name||c(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=s(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(t){return t=t||e.stringify,e.isFunction(t)?t:function(e){return e[t]}}function s(n,i){return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||function(e){return t("<div>").text(i(e))}}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,c;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},c=e.getIdGenerator(),n.extractData=function(e){var n=t(e);return n.data(l.obj)?{val:n.data(l.val)||"",obj:n.data(l.obj)||null}:null},e.mixin(n.prototype,r,{_overwrite:function(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;i=(n=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var r,s=this;return r=document.createDocumentFragment(),e.each(i,function(e){var i,o;o=s._injectQuery(n,e),i=t(s.templates.suggestion(o)).data(l.obj,e).data(l.val,s.displayFn(e)).addClass(s.classes.suggestion+" "+s.classes.selectable),r.appendChild(i[0])}),this.highlight&&o({className:this.classes.highlight,node:r,pattern:n}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){function n(t){o||(o=!0,t=(t||[]).slice(0,i.limit),s=t.length,i._overwrite(e,t),s<i.limit&&i.async&&i.trigger("asyncRequested",e))}var i=this,r=!1,o=!1,s=0;this.cancel(),this.cancel=function(){r=!0,i.cancel=t.noop,i.async&&i.trigger("asyncCanceled",e)},this.source(e,n,function(n){n=n||[],!r&&s<i.limit&&(i.cancel=t.noop,s+=n.length,i._append(e,n.slice(0,i.limit-s)),i.async&&i.trigger("asyncReceived",e))}),!o&&n([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),n}(),l=function(){"use strict";function n(n,i){var r=this;(n=n||{}).node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,function(e){var n=r.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(r.$node),new a(e,i)})}return e.mixin(n.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return e.every(this.datasets,function(t){return t.isEmpty()})},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,r;n=(e=t.position().top)+t.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(i+e):n>r&&this.$node.scrollTop(i+(n-r))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i,r;return n=this.getActiveSelectable(),e=this._getSelectables(),i=n?e.index(n):-1,r=i+t,r=(r+1)%(e.length+1)-1,-1===(r=-1>r?e.length-1:r)?null:e.eq(r)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){var n=t!==this.query;return n&&(this.query=t,e.each(this.datasets,function(e){e.update(t)})),n},empty:function(){e.each(this.datasets,function(t){t.clear()}),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,function(t){t.destroy()})}}),n}(),c=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),u=function(){"use strict";function n(n,r){var o,s,a,l,c,u,h,d,p,f,m;(n=n||{}).input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=i(this,"activate","open","_onFocused"),s=i(this,"deactivate","_onBlurred"),a=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),c=i(this,"isActive","_onEscKeyed"),u=i(this,"isActive","open","_onUpKeyed"),h=i(this,"isActive","open","_onDownKeyed"),d=i(this,"isActive","isOpen","_onLeftKeyed"),p=i(this,"isActive","isOpen","_onRightKeyed"),f=i(this,"_openIfActive","_onQueryChanged"),m=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",u,this).onSync("downKeyed",h,this).onSync("leftKeyed",d,this).onSync("rightKeyed",p,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,i)})}}return e.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var r,o,s;r=document.activeElement,o=i.is(r),s=i.has(r).length>0,e.isMsie()&&(o||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return(t=e.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var t,n,i,r,o,a,l;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),i=this.input.getInputValue(),!n||e.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(r=s.normalizeQuery(i),o=e.escapeRegExChars(r),a=new RegExp("^(?:"+o+")(.+$)","i"),(l=a.exec(n.val))&&this.input.setHint(i+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,n;return e=this.input.getQuery(),n=this.menu.getSelectableData(t),!(!(n&&e!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function(t){var e,n,i,r;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),i=this.menu.getSelectableData(n),r=i?i.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function r(e,n){e.each(function(){var e,i=t(this);(e=i.data(m.typeahead))&&n(e,i)})}function o(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(h(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){t.data(m.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}function h(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function d(t){var n,i;n=t.data(m.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(m.attrs),function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)}),t.removeData(m.typeahead).removeData(m.www).removeData(m.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}function p(n){var i,r;return i=e.isJQuery(n)||e.isElement(n),(r=i?t(n).first():[]).length?r:null}var f,m,g;f=t.fn.typeahead,m={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},g={initialize:function(r,h){var d;return h=e.isArray(h)?h:[].slice.call(arguments,1),r=r||{},d=n(r.classNames),this.each(function(){var n,f,g,v,y,_,b,w,x,S,k;e.each(h,function(t){t.highlight=!!r.highlight}),n=t(this),f=t(d.html.wrapper),g=p(r.hint),v=p(r.menu),y=!1!==r.hint&&!g,_=!1!==r.menu&&!v,y&&(g=o(n,d)),_&&(v=t(d.html.menu).css(d.css.menu)),g&&g.val(""),n=a(n,d),(y||_)&&(f.css(d.css.wrapper),n.css(y?d.css.input:d.css.inputWithNoHint),n.wrap(f).parent().prepend(y?g:null).append(_?v:null)),k=_?c:l,b=new i({el:n}),w=new s({hint:g,input:n},d),x=new k({node:v,datasets:h},d),S=new u({input:w,menu:x,eventBus:b,minLength:r.minLength},d),n.data(m.www,d),n.data(m.typeahead,S)})},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.select(i)}),n},autocomplete:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.autocomplete(i)}),n},moveCursor:function(t){var e=!1;return r(this.first(),function(n){e=n.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){d(e),t.destroy()}),this}},t.fn.typeahead=function(t){return g[t]?g[t].apply(this,[].slice.call(arguments,1)):g.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=f,this}}()}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(){var t=d();return t.compile=function(e,n){return l.compile(e,n,t)},t.precompile=function(e,n){return l.precompile(e,n,t)},t.AST=s.default,t.Compiler=l.Compiler,t.JavaScriptCompiler=c.default,t.Parser=a.parser,t.parse=a.parse,t}var r=n(1).default;e.__esModule=!0;var o=r(n(2)),s=r(n(21)),a=n(22),l=n(27),c=r(n(28)),u=r(n(25)),h=r(n(20)),d=o.default.create,p=i();p.create=i,h.default(p),p.Visitor=u.default,p.default=p,e.default=p,t.exports=e.default},function(t,e){"use strict";e.default=function(t){return t&&t.__esModule?t:{default:t}},e.__esModule=!0},function(t,e,n){"use strict";function i(){var t=new s.HandlebarsEnvironment;return c.extend(t,s),t.SafeString=a.default,t.Exception=l.default,t.Utils=c,t.escapeExpression=c.escapeExpression,t.VM=u,t.template=function(e){return u.template(e,t)},t}var r=n(3).default,o=n(1).default;e.__esModule=!0;var s=r(n(4)),a=o(n(18)),l=o(n(6)),c=r(n(5)),u=r(n(19)),h=o(n(20)),d=i();d.create=i,h.default(d),d.default=d,e.default=d,t.exports=e.default},function(t,e){"use strict";e.default=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__esModule=!0},function(t,e,n){"use strict";function i(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},a.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var r=n(1).default;e.__esModule=!0,e.HandlebarsEnvironment=i;var o=n(5),s=r(n(6)),a=n(7),l=n(15),c=r(n(17));e.VERSION="4.0.5";e.COMPILER_REVISION=7;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=u;i.prototype={constructor:i,logger:c.default,log:c.default.log,registerHelper:function(t,e){if("[object Object]"===o.toString.call(t)){if(e)throw new s.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===o.toString.call(t))o.extend(this.partials,t);else{if(void 0===e)throw new s.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===o.toString.call(t)){if(e)throw new s.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var h=c.default.log;e.log=h,e.createFrame=o.createFrame,e.logger=c.default},function(t,e){"use strict";function n(t){return r[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}e.__esModule=!0,e.extend=i,e.indexOf=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return s.test(t)?t.replace(o,n):t},e.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},e.createFrame=function(t){var e=i({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},o=/[&<>"'`=]/g,s=/[&<>"'`=]/,a=Object.prototype.toString;e.toString=a;var l=function(t){return"function"==typeof t};l(/x/)&&(e.isFunction=l=function(t){return"function"==typeof t&&"[object Function]"===a.call(t)}),e.isFunction=l;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===a.call(t)};e.isArray=c},function(t,e){"use strict";function n(t,e){var r=e&&e.loc,o=void 0,s=void 0;r&&(t+=" - "+(o=r.start.line)+":"+(s=r.start.column));for(var a=Error.prototype.constructor.call(this,t),l=0;l<i.length;l++)this[i[l]]=a[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),r&&(this.lineNumber=o,this.column=s)}e.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,e.default=n,t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0,e.registerDefaultHelpers=function(t){r.default(t),o.default(t),s.default(t),a.default(t),l.default(t),c.default(t),u.default(t)};var r=i(n(8)),o=i(n(9)),s=i(n(10)),a=i(n(11)),l=i(n(12)),c=i(n(13)),u=i(n(14))},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerHelper("blockHelperMissing",function(e,n){var r=n.inverse,o=n.fn;if(!0===e)return o(this);if(!1===e||null==e)return r(this);if(i.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):r(this);if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return o(e,n)})},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var r=n(5),o=i(n(6));e.default=function(t){t.registerHelper("each",function(t,e){function n(e,n,o){c&&(c.key=e,c.index=n,c.first=0===n,c.last=!!o,u&&(c.contextPath=u+e)),l+=i(t[e],{data:c,blockParams:r.blockParams([t[e],e],[u+e,null])})}if(!e)throw new o.default("Must pass iterator to #each");var i=e.fn,s=e.inverse,a=0,l="",c=void 0,u=void 0;if(e.data&&e.ids&&(u=r.appendContextPath(e.data.contextPath,e.ids[0])+"."),r.isFunction(t)&&(t=t.call(this)),e.data&&(c=r.createFrame(e.data)),t&&"object"==typeof t)if(r.isArray(t))for(var h=t.length;a<h;a++)a in t&&n(a,a,a===t.length-1);else{var d=void 0;for(var p in t)t.hasOwnProperty(p)&&(void 0!==d&&n(d,a-1),d=p,a++);void 0!==d&&n(d,a-1,!0)}return 0===a&&(l=s(this)),l})},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var r=i(n(6));e.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerHelper("if",function(t,e){return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)e.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),e[0]=r,t.log.apply(t,e)})},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerHelper("with",function(t,e){i.isFunction(t)&&(t=t.call(this));var n=e.fn;if(i.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&((r=i.createFrame(e.data)).contextPath=i.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:r,blockParams:i.blockParams([t],[r&&r.contextPath])})})},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0,e.registerDefaultDecorators=function(t){r.default(t)};var r=i(n(16))},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerDecorator("inline",function(t,e,n,r){var o=t;return e.partials||(e.partials={},o=function(r,o){var s=n.partials;n.partials=i.extend({},s,e.partials);var a=t(r,o);return n.partials=s,a}),e.partials[r.args[0]]=r.fn,o})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=i.indexOf(r.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=r.lookupLevel(t),"undefined"!=typeof console&&r.lookupLevel(r.level)<=t){var e=r.methodMap[t];console[e]||(e="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[e].apply(console,i)}}};e.default=r,t.exports=e.default},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n,i,r,o,a){function l(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return a&&e!==a[0]&&(s=[e].concat(a)),n(t,e,t.helpers,t.partials,r.data||i,o&&[r.blockParams].concat(o),s)}return l=s(n,l,t,a,i,o),l.program=e,l.depth=a?a.length:0,l.blockParams=r||0,l}function r(){return""}function o(t,e){return e&&"root"in e||((e=e?h.createFrame(e):{}).root=t),e}function s(t,e,n,i,r,o){if(t.decorator){var s={};e=t.decorator(e,s,n,i&&i[0],r,o,i),c.extend(e,s)}return e}var a=n(3).default,l=n(1).default;e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=h.COMPILER_REVISION;if(e!==n){if(e<n){var i=h.REVISION_CHANGES[n],r=h.REVISION_CHANGES[e];throw new u.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new u.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(t,e){function n(e){function i(e){return""+t.main(r,e,r.helpers,r.partials,l,u,c)}var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=a.data;n._setup(a),!a.partial&&t.useData&&(l=o(e,l));var c=void 0,u=t.useBlockParams?[]:void 0;return t.useDepths&&(c=a.depths?e!==a.depths[0]?[e].concat(a.depths):a.depths:[e]),(i=s(t.main,i,r,a.depths||[],l,u))(e,a)}if(!e)throw new u.default("No environment passed to template");if(!t||!t.main)throw new u.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r={strict:function(t,e){if(!(e in t))throw new u.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:c.escapeExpression,invokePartial:function(n,i,r){r.hash&&(i=c.extend({},i,r.hash),r.ids&&(r.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,i,r);var o=e.VM.invokePartial.call(this,n,i,r);if(null==o&&e.compile&&(r.partials[r.name]=e.compile(n,t.compilerOptions,e),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var s=o.split("\n"),a=0,l=s.length;a<l&&(s[a]||a+1!==l);a++)s[a]=r.indent+s[a];o=s.join("\n")}return o}throw new u.default("The partial "+r.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,o){var s=this.programs[t],a=this.fn(t);return e||o||r||n?s=i(this,t,a,e,n,r,o):s||(s=this.programs[t]=i(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=c.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler};return n.isTop=!0,n._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials,r.decorators=n.decorators):(r.helpers=r.merge(n.helpers,e.helpers),t.usePartial&&(r.partials=r.merge(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(r.decorators=r.merge(n.decorators,e.decorators)))},n._child=function(e,n,o,s){if(t.useBlockParams&&!o)throw new u.default("must pass block params");if(t.useDepths&&!s)throw new u.default("must pass parent depths");return i(r,e,t[e],n,0,o,s)},n},e.wrapProgram=i,e.resolvePartial=function(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t},e.invokePartial=function(t,e,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==r&&(n.data=h.createFrame(n.data),(i=n.data["partial-block"]=n.fn).partials&&(n.partials=c.extend({},n.partials,i.partials))),void 0===t&&i&&(t=i),void 0===t)throw new u.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=r;var c=a(n(5)),u=l(n(6)),h=n(4)},function(t,e){(function(n){"use strict";e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,i=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=i),t}},t.exports=e.default}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var n={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!n.helpers.scopedId(t)&&!t.depth}}};e.default=n,t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default,r=n(3).default;e.__esModule=!0,e.parse=function(t,e){return"Program"===t.type?t:(o.default.yy=c,c.locInfo=function(t){return new c.SourceLocation(e&&e.srcName,t)},new s.default(e).accept(o.default.parse(t)))};var o=i(n(23)),s=i(n(24)),a=r(n(26)),l=n(5);e.parser=o.default;var c={};l.extend(c,a)},function(t,e){"use strict";var n=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 1:return o[a-1];case 2:this.$=i.prepareProgram(o[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=o[a];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(o[a]),strip:i.stripFlags(o[a],o[a]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[a],value:o[a],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(o[a-2],o[a-1],o[a],this._$);break;case 12:this.$={path:o[a-3],params:o[a-2],hash:o[a-1]};break;case 13:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 14:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 15:this.$={open:o[a-5],path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 16:case 17:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 18:this.$={strip:i.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 19:var l=i.prepareBlock(o[a-2],o[a-1],o[a],o[a],!1,this._$),c=i.prepareProgram([l],o[a-1].loc);c.chained=!0,this.$={strip:o[a-2].strip,program:c,chain:!0};break;case 20:this.$=o[a];break;case 21:this.$={path:o[a-1],strip:i.stripFlags(o[a-2],o[a])};break;case 22:case 23:this.$=i.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],i.stripFlags(o[a-4],o[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[a-3],params:o[a-2],hash:o[a-1],indent:"",strip:i.stripFlags(o[a-4],o[a]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(o[a-2],o[a-1],o[a],this._$);break;case 26:this.$={path:o[a-3],params:o[a-2],hash:o[a-1],strip:i.stripFlags(o[a-4],o[a])};break;case 27:case 28:this.$=o[a];break;case 29:this.$={type:"SubExpression",path:o[a-3],params:o[a-2],hash:o[a-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[a],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(o[a-2]),value:o[a],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(o[a-1]);break;case 33:case 34:this.$=o[a];break;case 35:this.$={type:"StringLiteral",value:o[a],original:o[a],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[a]),original:Number(o[a]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[a],original:"true"===o[a],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:case 41:this.$=o[a];break;case 42:this.$=i.preparePath(!0,o[a],this._$);break;case 43:this.$=i.preparePath(!1,o[a],this._$);break;case 44:o[a-2].push({part:i.id(o[a]),original:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 45:this.$=[{part:i.id(o[a]),original:o[a]}];break;case 46:this.$=[];break;case 47:o[a-1].push(o[a]);break;case 48:this.$=[o[a]];break;case 49:o[a-1].push(o[a]);break;case 50:this.$=[];break;case 51:o[a-1].push(o[a]);break;case 58:this.$=[];break;case 59:o[a-1].push(o[a]);break;case 64:this.$=[];break;case 65:o[a-1].push(o[a]);break;case 70:this.$=[];break;case 71:o[a-1].push(o[a]);break;case 78:this.$=[];break;case 79:o[a-1].push(o[a]);break;case 82:this.$=[];break;case 83:o[a-1].push(o[a]);break;case 86:this.$=[];break;case 87:o[a-1].push(o[a]);break;case 90:this.$=[];break;case 91:o[a-1].push(o[a]);break;case 94:this.$=[];break;case 95:o[a-1].push(o[a]);break;case 98:this.$=[o[a]];break;case 99:o[a-1].push(o[a]);break;case 100:this.$=[o[a]];break;case 101:o[a-1].push(o[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){var e=this,n=[0],i=[null],r=[],o=this.table,s="",a=0,l=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;r.push(u);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,p,f,m,g,v,y,_,b,w={};;){if(f=n[n.length-1],this.defaultActions[f]?m=this.defaultActions[f]:(null!==d&&void 0!==d||(d=function(){var t;return"number"!=typeof(t=e.lexer.lex()||1)&&(t=e.symbols_[t]||t),t}()),m=o[f]&&o[f][d]),void 0===m||!m.length||!m[0]){var x="";if(!c){b=[];for(v in o[f])this.terminals_[v]&&v>2&&b.push("'"+this.terminals_[v]+"'");x=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:u,expected:b})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+d);switch(m[0]){case 1:n.push(d),i.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(m[1]),d=null,p?(d=p,p=null):(l=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[m[1]][1],w.$=i[i.length-y],w._$={first_line:r[r.length-(y||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(y||1)].first_column,last_column:r[r.length-1].last_column},h&&(w._$.range=[r[r.length-(y||1)].range[0],r[r.length-1].range[1]]),void 0!==(g=this.performAction.call(w,s,l,a,this.yy,m[1],i,r)))return g;y&&(n=n.slice(0,-1*y*2),i=i.slice(0,-1*y),r=r.slice(0,-1*y)),n.push(this.productions_[m[1]][0]),i.push(w.$),r.push(w._$),_=o[n[n.length-2]][n[n.length-1]],n.push(_);break;case 3:return!0}}return!0}},n=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,i,r;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(!(n=this._input.match(this.rules[o[s]]))||e&&!(n[0].length>e[0].length)||(e=n,i=s,this.options.flex));s++);return e?((r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,n,i){function r(t,n){return e.yytext=e.yytext.substr(t,e.yyleng-n)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(e.yytext=e.yytext.substr(5,e.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=r(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=r(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},t}();return e.lexer=n,t.prototype=e,e.Parser=t,new t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function r(t,e,n){void 0===e&&(e=t.length);var i=t[e-1],r=t[e-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function o(t,e,n){void 0===e&&(e=-1);var i=t[e+1],r=t[e+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function s(t,e,n){var i=t[null==e?0:e+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function a(t,e,n){var i=t[null==e?t.length-1:e-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var l=n(1).default;e.__esModule=!0;var c=l(n(25));(i.prototype=new c.default).Program=function(t){var e=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=t.body,l=0,c=i.length;l<c;l++){var u=i[l],h=this.accept(u);if(h){var d=r(i,l,n),p=o(i,l,n),f=h.openStandalone&&d,m=h.closeStandalone&&p,g=h.inlineStandalone&&d&&p;h.close&&s(i,l,!0),h.open&&a(i,l,!0),e&&g&&(s(i,l),a(i,l)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(i[l-1].original)[1])),e&&f&&(s((u.program||u.inverse).body),a(i,l)),e&&m&&(s(i,l),a((u.inverse||u.program).body))}}return t},i.prototype.BlockStatement=i.prototype.DecoratorBlock=i.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,n=t.program&&t.inverse,i=n,l=n;if(n&&n.chained)for(i=n.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var c={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:o(e.body),closeStandalone:r((i||e).body)};if(t.openStrip.close&&s(e.body,null,!0),n){var u=t.inverseStrip;u.open&&a(e.body,null,!0),u.close&&s(i.body,null,!0),t.closeStrip.open&&a(l.body,null,!0),!this.options.ignoreStandalone&&r(e.body)&&o(i.body)&&(a(e.body),s(i.body))}else t.closeStrip.open&&a(e.body,null,!0);return c},i.prototype.Decorator=i.prototype.MustacheStatement=function(t){return t.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(){this.parents=[]}function r(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function o(t){r.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function s(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}var a=n(1).default;e.__esModule=!0;var l=a(n(6));i.prototype={constructor:i,mutating:!1,acceptKey:function(t,e){var n=this.accept(t[e]);if(this.mutating){if(n&&!i.prototype[n.type])throw new l.default('Unexpected node type "'+n.type+'" found when accepting '+e+" on "+t.type);t[e]=n}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new l.default(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,n=t.length;e<n;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,n--)},accept:function(t){if(t){if(!this[t.type])throw new l.default("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:r,Decorator:r,BlockStatement:o,DecoratorBlock:o,PartialStatement:s,PartialBlockStatement:function(t){s.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:r,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var n={loc:t.path.loc};throw new o.default(t.path.original+" doesn't match "+e,n)}}var r=n(1).default;e.__esModule=!0,e.SourceLocation=function(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}},e.id=function(t){return/^\[.*\]$/.test(t)?t.substr(1,t.length-2):t},e.stripFlags=function(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}},e.stripComment=function(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")},e.preparePath=function(t,e,n){n=this.locInfo(n);for(var i=t?"@":"",r=[],s=0,a=0,l=e.length;a<l;a++){var c=e[a].part,u=e[a].original!==c;if(i+=(e[a].separator||"")+c,u||".."!==c&&"."!==c&&"this"!==c)r.push(c);else{if(r.length>0)throw new o.default("Invalid path: "+i,{loc:n});".."===c&&s++}}return{type:"PathExpression",data:t,depth:s,parts:r,original:i,loc:n}},e.prepareMustache=function(t,e,n,i,r,o){var s=i.charAt(3)||i.charAt(2),a="{"!==s&&"&"!==s;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:t,params:e,hash:n,escaped:a,strip:r,loc:this.locInfo(o)}},e.prepareRawBlock=function(t,e,n,r){i(t,n);var o={type:"Program",body:e,strip:{},loc:r=this.locInfo(r)};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}},e.prepareBlock=function(t,e,n,r,s,a){r&&r.path&&i(t,r);var l=/\*/.test(t.open);e.blockParams=t.blockParams;var c=void 0,u=void 0;if(n){if(l)throw new o.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=r.strip),u=n.strip,c=n.program}return s&&(s=c,c=e,e=s),{type:l?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:c,openStrip:t.strip,inverseStrip:u,closeStrip:r&&r.strip,loc:this.locInfo(a)}},e.prepareProgram=function(t,e){if(!e&&t.length){var n=t[0].loc,i=t[t.length-1].loc;n&&i&&(e={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:t,strip:{},loc:e}},e.preparePartialBlock=function(t,e,n,r){return i(t,n),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:n&&n.strip,loc:this.locInfo(r)}};var o=r(n(6))},function(t,e,n){"use strict";function i(){}function r(t,e){if(t===e)return!0;if(l.isArray(t)&&l.isArray(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!r(t[n],e[n]))return!1;return!0}}function o(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var s=n(1).default;e.__esModule=!0,e.Compiler=i,e.precompile=function(t,e,n){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new a.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0),e.compat&&(e.useDepths=!0);var i=n.parse(t,e),r=(new n.Compiler).compile(i,e);return(new n.JavaScriptCompiler).compile(r,e)},e.compile=function(t,e,n){function i(){var i=n.parse(t,e),r=(new n.Compiler).compile(i,e),o=(new n.JavaScriptCompiler).compile(r,e,void 0,!0);return n.template(o)}function r(t,e){return o||(o=i()),o.call(this,t,e)}if(void 0===e&&(e={}),null==t||"string"!=typeof t&&"Program"!==t.type)throw new a.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var o=void 0;return r._setup=function(t){return o||(o=i()),o._setup(t)},r._child=function(t,e,n,r){return o||(o=i()),o._child(t,e,n,r)},r};var a=s(n(6)),l=n(5),c=s(n(21)),u=[].slice;i.prototype={compiler:i,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(o=0;o<e;o++){var n=this.opcodes[o],i=t.opcodes[o];if(n.opcode!==i.opcode||!r(n.args,i.args))return!1}e=this.children.length;for(var o=0;o<e;o++)if(!this.children[o].equals(t.children[o]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var n=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},n)for(var i in n)i in n&&(e.knownHelpers[i]=n[i]);return this.accept(t)},compileProgram:function(t){var e=(new this.compiler).compile(t,this.options),n=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[n]=e,this.useDepths=this.useDepths||e.useDepths,n},accept:function(t){if(!this[t.type])throw new a.default("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,n=e.length,i=0;i<n;i++)this.accept(e[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){o(t);var e=t.program,n=t.inverse;e=e&&this.compileProgram(e),n=n&&this.compileProgram(n);var i=this.classifySexpr(t);"helper"===i?this.helperSexpr(t,e,n):"simple"===i?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,n),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),n=this.setupFullMustacheParams(t,e,void 0),i=t.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var n=t.params;if(n.length>1)throw new a.default("Unsupported number of partial arguments: "+n.length,t);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=t.name.original,r="SubExpression"===t.name.type;r&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var o=t.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",r,i,o),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){o(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,n){var i=t.path,r=i.parts[0],o=null!=e||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,n){var i=this.setupFullMustacheParams(t,e,n),r=t.path,o=r.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",i.length,o);else{if(this.options.knownHelpersOnly)throw new a.default("You specified knownHelpersOnly, but used the unknown helper "+o,t);r.strict=!0,r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,c.default.helpers.simpleId(r))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],n=c.default.helpers.scopedId(t),i=!t.depth&&!n&&this.blockParamIndex(e);i?this.opcode("lookupBlockParam",i,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,n):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,n=0,i=e.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(e[n].value);for(;n--;)this.opcode("assignToHash",e[n].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:u.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=c.default.helpers.simpleId(t.path),n=e&&!!this.blockParamIndex(t.path.parts[0]),i=!n&&c.default.helpers.helperExpression(t),r=!n&&(i||e);if(r&&!i){var o=t.path.parts[0],s=this.options;s.knownHelpers[o]?i=!0:s.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(t){for(var e=0,n=t.length;e<n;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var n=void 0;if(!t.parts||c.default.helpers.scopedId(t)||t.depth||(n=this.blockParamIndex(t.parts[0])),n){var i=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else(e=t.original||e).replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,n,i){var r=t.params;return this.pushParams(r),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.accept(t.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(t){for(var e=0,n=this.options.blockParams.length;e<n;e++){var i=this.options.blockParams[e],r=i&&l.indexOf(i,t);if(i&&r>=0)return[e,r]}}}},function(t,e,n){"use strict";function i(t){this.value=t}function r(){}function o(t,e,n,i){var r=e.popStack(),o=0,s=n.length;for(t&&s--;o<s;o++)r=e.nameLookup(r,n[o],i);return t?[e.aliasable("container.strict"),"(",r,", ",e.quotedString(n[o]),")"]:r}var s=n(1).default;e.__esModule=!0;var a=n(4),l=s(n(6)),c=n(5),u=s(n(29));r.prototype={nameLookup:function(t,e){return r.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"[",JSON.stringify(e),"]"]},depthedLookup:function(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=a.COMPILER_REVISION;return[t,a.REVISION_CHANGES[t]]},appendToBuffer:function(t,e,n){return c.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:n?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,n,i){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var r=t.opcodes,o=void 0,s=void 0,a=void 0,c=void 0;for(a=0,c=r.length;a<c;a++)o=r[a],this.source.currentLocation=o.loc,s=s||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(i);if(this.isChild)return u;var h={compiler:this.compilerInfo(),main:u};this.decorators&&(h.main_d=this.decorators,h.useDecorators=!0);var d=this.context,p=d.programs,f=d.decorators;for(a=0,c=p.length;a<c;a++)p[a]&&(h[a]=p[a],f[a]&&(h[a+"_d"]=f[a],h.useDecorators=!0));return this.environment.usePartial&&(h.usePartial=!0),this.options.data&&(h.useData=!0),this.useDepths&&(h.useDepths=!0),this.useBlockParams&&(h.useBlockParams=!0),this.options.compat&&(h.compat=!0),i?h.compilerOptions=this.options:(h.compiler=JSON.stringify(h.compiler),this.source.currentLocation={start:{line:1,column:0}},h=this.objectLiteral(h),e.srcName?(h=h.toStringWithSourceMap({file:e.destName})).map=h.map&&h.map.toString():h=h.toString()),h},preamble:function(){this.lastContext=0,this.source=new u.default(this.options.srcName),this.decorators=new u.default(this.options.srcName)},createFunctionContext:function(t){var e="",n=this.stackVars.concat(this.registers.list);n.length>0&&(e+=", "+n.join(", "));var i=0;for(var r in this.aliases){var o=this.aliases[r];this.aliases.hasOwnProperty(r)&&o.children&&o.referenceCount>1&&(e+=", alias"+ ++i+"="+r,o.children[0]="alias"+i)}var s=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths");var a=this.mergeSource(e);return t?(s.push(a),Function.apply(this,s)):this.source.wrap(["function(",s.join(","),") {\n  ",a,"}"])},mergeSource:function(t){var e=this.environment.isSimple,n=!this.forceBuffer,i=void 0,r=void 0,o=void 0,s=void 0;return this.source.each(function(t){t.appendToBuffer?(o?t.prepend("  + "):o=t,s=t):(o&&(r?o.prepend("buffer += "):i=!0,s.add(";"),o=s=void 0),r=!0,e||(n=!1))}),n?o?(o.prepend("return "),s.add(";")):r||this.source.push('return "";'):(t+=", buffer = "+(i?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(t,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(e,"call",n))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var n=this.topStack();e.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,n,i){var r=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[r++])),this.resolvePath("context",t,r,e,n)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,n){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,n)},resolvePath:function(t,e,n,i,r){var s=this;if(this.options.strict||this.options.assumeObjects)this.push(o(this.options.strict&&r,this,e,t));else for(var a=e.length;n<a;n++)this.replaceStack(function(r){var o=s.nameLookup(r,e[n],t);return i?[" && ",o]:[" != null ? ",o," : ",r]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var n=this.nameLookup("decorators",e,"decorator"),i=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(t,e,n){var i=this.popStack(),r=this.setupHelper(t,e),o=n?[r.name," || "]:"",s=["("].concat(o,i);this.options.strict||s.push(" || ",this.aliasable("helpers.helperMissing")),s.push(")"),this.push(this.source.functionCall(s,"call",r.callParams))},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,t,e),r=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",t,"helper")," || ",n,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",r,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(t,e,n){var i=[],r=this.setupParams(e,1,i);t&&(e=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",t?i.unshift(e):i.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(t){var e=this.popStack(),n=void 0,i=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[t]=n),i&&(o.types[t]=i),r&&(o.ids[t]=r),o.values[t]=e},pushId:function(t,e,n){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function(t,e){for(var n=t.children,i=void 0,r=void 0,o=0,s=n.length;o<s;o++){i=n[o],r=new this.compiler;var a=this.matchExistingProgram(i);null==a?(this.context.programs.push(""),a=this.context.programs.length,i.index=a,i.name="program"+a,this.context.programs[a]=r.compile(i,e,this.context,!this.precompile),this.context.decorators[a]=r.decorators,this.context.environments[a]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams):(i.index=a,i.name="program"+a,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams)}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;e<n;e++){var i=this.context.environments[e];if(i&&i.equals(t))return e}},programExpression:function(t){var e=this.environment.children[t],n=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof i||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new i(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],n=void 0,r=void 0,o=void 0;if(!this.isInline())throw new l.default("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof i)e=["(",n=[s.value]],o=!0;else{r=!0;var a=this.incrStack();e=["((",this.push(a)," = ",s,")"],n=this.topStack()}var c=t.call(this,n);o||this.popStack(),r&&this.stackSlot--,this.push(e.concat(c,")"))},incrStack:function(){return++this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,n=t.length;e<n;e++){var r=t[e];if(r instanceof i)this.compileStack.push(r);else{var o=this.incrStack();this.pushSource([o," = ",r,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof i)return n.value;if(!e){if(!this.stackSlot)throw new l.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof i?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):(e=this.aliases[t]=this.source.wrap(t),e.aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,n){var i=[];return{params:i,paramsInit:this.setupHelperArgs(e,t,i,n),name:this.nameLookup("helpers",e,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}")].concat(i)}},setupParams:function(t,e,n){var i={},r=[],o=[],s=[],a=!n,l=void 0;a&&(n=[]),i.name=this.quotedString(t),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(i.fn=u||"container.noop",i.inverse=c||"container.noop");for(var h=e;h--;)l=this.popStack(),n[h]=l,this.trackIds&&(s[h]=this.popStack()),this.stringParams&&(o[h]=this.popStack(),r[h]=this.popStack());return a&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(s)),this.stringParams&&(i.types=this.source.generateArray(o),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(t,e,n,i){var r=this.setupParams(t,e,n);return r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):n?(n.push(r),""):r}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=r.RESERVED_WORDS={},n=0,i=t.length;n<i;n++)e[t[n]]=!0}(),r.isValidJavaScriptVariableName=function(t){return!r.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e.default=r,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n){if(o.isArray(t)){for(var i=[],r=0,s=t.length;r<s;r++)i.push(e.wrap(t[r],n));return i}return"boolean"==typeof t||"number"==typeof t?t+"":t}function r(t){this.srcFile=t,this.source=[]}e.__esModule=!0;var o=n(5),s=void 0;try{}catch(t){}s||((s=function(t,e,n,i){this.src="",i&&this.add(i)}).prototype={add:function(t){o.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){o.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),r.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,n=this.source.length;e<n;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new s(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof s?t:(t=i(t,this,e),new s(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,n){return n=this.generateList(n),this.wrap([t,e?"."+e+"(":"(",n,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var r=i(t[n],this);"undefined"!==r&&e.push([this.quotedString(n),":",r])}var o=this.generateList(e);return o.prepend("{"),o.add("}"),o},generateList:function(t){for(var e=this.empty(),n=0,r=t.length;n<r;n++)n&&e.add(","),e.add(i(t[n],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e.default=r,t.exports=e.default}])}),function(t){"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function n(t,n){this.el=t,this.options=e({},this.options),e(this.options,n),this.ctrlClose=this.el.querySelector("[data-dialog-close]"),this.isOpen=!1,this._initEvents()}var i={animations:Modernizr.cssanimations},r={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")],o=function(t,e){var n=function(t){if(i.animations){if(t.target!=this)return;this.removeEventListener(r,n)}e&&"function"==typeof e&&e.call()};i.animations?t.addEventListener(r,n):n()};n.prototype.options={onOpenDialog:function(){return!1},onCloseDialog:function(){return!1}},n.prototype._initEvents=function(){var t=this;this.ctrlClose.addEventListener("click",this.toggle.bind(this)),document.addEventListener("keydown",function(e){27===(e.keyCode||e.which)&&t.isOpen&&t.toggle()}),this.el.querySelector(".dialog__overlay").addEventListener("click",this.toggle.bind(this))},n.prototype.toggle=function(){var t=this;this.isOpen?(classie.remove(this.el,"dialog--open"),classie.add(t.el,"dialog--close"),o(this.el.querySelector(".dialog__content"),function(){classie.remove(t.el,"dialog--close")}),this.options.onCloseDialog(this)):(classie.add(this.el,"dialog--open"),this.options.onOpenDialog(this)),this.isOpen=!this.isOpen},t.DialogFx=n}(window),function(t,e,n,i){function r(e,n){this.settings=null,this.options=t.extend({},r.Defaults,n),this.$element=t(e),this.drag=t.extend({},d),this.state=t.extend({},p),this.e=t.extend({},f),this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._invalidated={},this._pipe=[],t.each(r.Plugins,t.proxy(function(t,e){this._plugins[t[0].toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(r.Pipe,t.proxy(function(e,n){this._pipe.push({filter:n.filter,run:t.proxy(n.run,this)})},this)),this.setup(),this.initialize()}function o(t){if(t.touches!==i)return{x:t.touches[0].pageX,y:t.touches[0].pageY};if(t.touches===i){if(t.pageX!==i)return{x:t.pageX,y:t.pageY};if(t.pageX===i)return{x:t.clientX,y:t.clientY}}}function s(t){var e,i,r=n.createElement("div"),o=t;for(e in o)if(i=o[e],void 0!==r.style[i])return r=null,[i,e];return[!1]}function a(){return s(["transition","WebkitTransition","MozTransition","OTransition"])[1]}function l(){return s(["transform","WebkitTransform","MozTransform","OTransform","msTransform"])[0]}function c(){return s(["perspective","webkitPerspective","MozPerspective","OPerspective","MsPerspective"])[0]}function u(){return"ontouchstart"in e||!!navigator.msMaxTouchPoints}function h(){return e.navigator.msPointerEnabled}var d,p,f;d={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null},p={isTouch:!1,isScrolling:!1,isSwiping:!1,direction:!1,inMotion:!1},f={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null},r.Defaults={items:3,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,responsiveClass:!1,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",themeClass:"owl-theme",baseClass:"owl-carousel",itemClass:"owl-item",centerClass:"center",activeClass:"active"},r.Width={Default:"default",Inner:"inner",Outer:"outer"},r.Plugins={},r.Pipe=[{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){var t=this._clones;(this.$stage.children(".cloned").length!==t.length||!this.settings.loop&&t.length>0)&&(this.$stage.children(".cloned").remove(),this._clones=[])}},{filter:["items","settings"],run:function(){var t,e,n=this._clones,i=this._items,r=this.settings.loop?n.length-Math.max(2*this.settings.items,4):0;for(t=0,e=Math.abs(r/2);e>t;t++)r>0?(this.$stage.children().eq(i.length+n.length-1).remove(),n.pop(),this.$stage.children().eq(0).remove(),n.pop()):(n.push(n.length/2),this.$stage.append(i[n[n.length-1]].clone().addClass("cloned")),n.push(i.length-1-(n.length-1)/2),this.$stage.prepend(i[n[n.length-1]].clone().addClass("cloned")))}},{filter:["width","items","settings"],run:function(){var t,e,n,i=this.settings.rtl?1:-1,r=(this.width()/this.settings.items).toFixed(3),o=0;for(this._coordinates=[],e=0,n=this._clones.length+this._items.length;n>e;e++)t=this._mergers[this.relative(e)],t=this.settings.mergeFit&&Math.min(t,this.settings.items)||t,o+=(this.settings.autoWidth?this._items[this.relative(e)].width()+this.settings.margin:r*t)*i,this._coordinates.push(o)}},{filter:["width","items","settings"],run:function(){var e,n,i=(this.width()/this.settings.items).toFixed(3),r={width:Math.abs(this._coordinates[this._coordinates.length-1])+2*this.settings.stagePadding,"padding-left":this.settings.stagePadding||"","padding-right":this.settings.stagePadding||""};if(this.$stage.css(r),r={width:this.settings.autoWidth?"auto":i-this.settings.margin},r[this.settings.rtl?"margin-left":"margin-right"]=this.settings.margin,!this.settings.autoWidth&&t.grep(this._mergers,function(t){return t>1}).length>0)for(e=0,n=this._coordinates.length;n>e;e++)r.width=Math.abs(this._coordinates[e])-Math.abs(this._coordinates[e-1]||0)-this.settings.margin,this.$stage.children().eq(e).css(r);else this.$stage.children().css(r)}},{filter:["width","items","settings"],run:function(t){t.current&&this.reset(this.$stage.children().index(t.current))}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,n,i,r=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,s=this.coordinates(this.current())+o,a=s+this.width()*r,l=[];for(n=0,i=this._coordinates.length;i>n;n++)t=this._coordinates[n-1]||0,e=Math.abs(this._coordinates[n])+o*r,(this.op(t,"<=",s)&&this.op(t,">",a)||this.op(e,"<",s)&&this.op(e,">",a))&&l.push(n);this.$stage.children("."+this.settings.activeClass).removeClass(this.settings.activeClass),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass(this.settings.activeClass),this.settings.center&&(this.$stage.children("."+this.settings.centerClass).removeClass(this.settings.centerClass),this.$stage.children().eq(this.current()).addClass(this.settings.centerClass))}}],r.prototype.initialize=function(){if(this.trigger("initialize"),this.$element.addClass(this.settings.baseClass).addClass(this.settings.themeClass).toggleClass("owl-rtl",this.settings.rtl),this.browserSupport(),this.settings.autoWidth&&!0!==this.state.imagesLoaded){var e,n,r;if(e=this.$element.find("img"),n=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:i,r=this.$element.children(n).width(),e.length&&0>=r)return this.preloadAutoWidthImages(e),!1}this.$element.addClass("owl-loading"),this.$stage=t("<"+this.settings.stageElement+' class="owl-stage"/>').wrap('<div class="owl-stage-outer">'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this._width=this.$element.width(),this.refresh(),this.$element.removeClass("owl-loading").addClass("owl-loaded"),this.eventsCall(),this.internalEvents(),this.addTriggerableEvents(),this.trigger("initialized")},r.prototype.setup=function(){var e=this.viewport(),n=this.options.responsive,i=-1,r=null;n?(t.each(n,function(t){e>=t&&t>i&&(i=Number(t))}),r=t.extend({},this.options,n[i]),delete r.responsive,r.responsiveClass&&this.$element.attr("class",function(t,e){return e.replace(/\b owl-responsive-\S+/g,"")}).addClass("owl-responsive-"+i)):r=t.extend({},this.options),(null===this.settings||this._breakpoint!==i)&&(this.trigger("change",{property:{name:"settings",value:r}}),this._breakpoint=i,this.settings=r,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}}))},r.prototype.optionsLogic=function(){this.$element.toggleClass("owl-center",this.settings.center),this.settings.loop&&this._items.length<this.settings.items&&(this.settings.loop=!1),this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},r.prototype.prepare=function(e){var n=this.trigger("prepare",{content:e});return n.data||(n.data=t("<"+this.settings.itemElement+"/>").addClass(this.settings.itemClass).append(e)),this.trigger("prepared",{content:n.data}),n.data},r.prototype.update=function(){for(var e=0,n=this._pipe.length,i=t.proxy(function(t){return this[t]},this._invalidated),r={};n>e;)(this._invalidated.all||t.grep(this._pipe[e].filter,i).length>0)&&this._pipe[e].run(r),e++;this._invalidated={}},r.prototype.width=function(t){switch(t=t||r.Width.Default){case r.Width.Inner:case r.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},r.prototype.refresh=function(){if(0===this._items.length)return!1;(new Date).getTime(),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$stage.addClass("owl-refresh"),this.update(),this.$stage.removeClass("owl-refresh"),this.state.orientation=e.orientation,this.watchVisibility(),this.trigger("refreshed")},r.prototype.eventsCall=function(){this.e._onDragStart=t.proxy(function(t){this.onDragStart(t)},this),this.e._onDragMove=t.proxy(function(t){this.onDragMove(t)},this),this.e._onDragEnd=t.proxy(function(t){this.onDragEnd(t)},this),this.e._onResize=t.proxy(function(t){this.onResize(t)},this),this.e._transitionEnd=t.proxy(function(t){this.transitionEnd(t)},this),this.e._preventClick=t.proxy(function(t){this.preventClick(t)},this)},r.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this.e._onResize,this.settings.responsiveRefreshRate)},r.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!this.trigger("resize").isDefaultPrevented()&&(this._width=this.$element.width(),this.invalidate("width"),this.refresh(),void this.trigger("resized"))))},r.prototype.eventsRouter=function(t){var e=t.type;"mousedown"===e||"touchstart"===e?this.onDragStart(t):"mousemove"===e||"touchmove"===e?this.onDragMove(t):"mouseup"===e||"touchend"===e?this.onDragEnd(t):"touchcancel"===e&&this.onDragEnd(t)},r.prototype.internalEvents=function(){var n=(u(),h());this.settings.mouseDrag?(this.$stage.on("mousedown",t.proxy(function(t){this.eventsRouter(t)},this)),this.$stage.on("dragstart",function(){return!1}),this.$stage.get(0).onselectstart=function(){return!1}):this.$element.addClass("owl-text-select-on"),this.settings.touchDrag&&!n&&this.$stage.on("touchstart touchcancel",t.proxy(function(t){this.eventsRouter(t)},this)),this.transitionEndVendor&&this.on(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd,!1),!1!==this.settings.responsive&&this.on(e,"resize",t.proxy(this.onThrottledResize,this))},r.prototype.onDragStart=function(i){var r,s,a,l;if(3===(r=i.originalEvent||i||e.event).which||this.state.isTouch)return!1;if("mousedown"===r.type&&this.$stage.addClass("owl-grab"),this.trigger("drag"),this.drag.startTime=(new Date).getTime(),this.speed(0),this.state.isTouch=!0,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance=0,s=o(r).x,a=o(r).y,this.drag.offsetX=this.$stage.position().left,this.drag.offsetY=this.$stage.position().top,this.settings.rtl&&(this.drag.offsetX=this.$stage.position().left+this.$stage.width()-this.width()+this.settings.margin),this.state.inMotion&&this.support3d)l=this.getTransformProperty(),this.drag.offsetX=l,this.animate(l),this.state.inMotion=!0;else if(this.state.inMotion&&!this.support3d)return this.state.inMotion=!1,!1;this.drag.startX=s-this.drag.offsetX,this.drag.startY=a-this.drag.offsetY,this.drag.start=s-this.drag.startX,this.drag.targetEl=r.target||r.srcElement,this.drag.updatedX=this.drag.start,("IMG"===this.drag.targetEl.tagName||"A"===this.drag.targetEl.tagName)&&(this.drag.targetEl.draggable=!1),t(n).on("mousemove.owl.dragEvents mouseup.owl.dragEvents touchmove.owl.dragEvents touchend.owl.dragEvents",t.proxy(function(t){this.eventsRouter(t)},this))},r.prototype.onDragMove=function(t){var n,r,s,a,l,c;this.state.isTouch&&(this.state.isScrolling||(n=t.originalEvent||t||e.event,r=o(n).x,s=o(n).y,this.drag.currentX=r-this.drag.startX,this.drag.currentY=s-this.drag.startY,this.drag.distance=this.drag.currentX-this.drag.offsetX,this.drag.distance<0?this.state.direction=this.settings.rtl?"right":"left":this.drag.distance>0&&(this.state.direction=this.settings.rtl?"left":"right"),this.settings.loop?this.op(this.drag.currentX,">",this.coordinates(this.minimum()))&&"right"===this.state.direction?this.drag.currentX-=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length):this.op(this.drag.currentX,"<",this.coordinates(this.maximum()))&&"left"===this.state.direction&&(this.drag.currentX+=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length)):(a=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),l=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),c=this.settings.pullDrag?this.drag.distance/5:0,this.drag.currentX=Math.max(Math.min(this.drag.currentX,a+c),l+c)),(this.drag.distance>8||this.drag.distance<-8)&&(n.preventDefault!==i?n.preventDefault():n.returnValue=!1,this.state.isSwiping=!0),this.drag.updatedX=this.drag.currentX,(this.drag.currentY>16||this.drag.currentY<-16)&&!1===this.state.isSwiping&&(this.state.isScrolling=!0,this.drag.updatedX=this.drag.start),this.animate(this.drag.updatedX)))},r.prototype.onDragEnd=function(e){var i,r;if(this.state.isTouch){if("mouseup"===e.type&&this.$stage.removeClass("owl-grab"),this.trigger("dragged"),this.drag.targetEl.removeAttribute("draggable"),this.state.isTouch=!1,this.state.isScrolling=!1,this.state.isSwiping=!1,0===this.drag.distance&&!0!==this.state.inMotion)return this.state.inMotion=!1,!1;this.drag.endTime=(new Date).getTime(),i=this.drag.endTime-this.drag.startTime,(Math.abs(this.drag.distance)>3||i>300)&&this.removeClick(this.drag.targetEl),r=this.closest(this.drag.updatedX),this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(r),this.invalidate("position"),this.update(),this.settings.pullDrag||this.drag.updatedX!==this.coordinates(r)||this.transitionEnd(),this.drag.distance=0,t(n).off(".owl.dragEvents")}},r.prototype.removeClick=function(n){this.drag.targetEl=n,t(n).on("click.preventClick",this.e._preventClick),e.setTimeout(function(){t(n).off("click.preventClick")},300)},r.prototype.preventClick=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),t(e.target).off("click.preventClick")},r.prototype.getTransformProperty=function(){var t;return t=e.getComputedStyle(this.$stage.get(0),null).getPropertyValue(this.vendorName+"transform"),t=t.replace(/matrix(3d)?\(|\)/g,"").split(","),!0!==(16===t.length)?t[4]:t[12]},r.prototype.closest=function(e){var n=-1,i=this.width(),r=this.coordinates();return this.settings.freeDrag||t.each(r,t.proxy(function(t,o){return e>o-30&&o+30>e?n=t:this.op(e,"<",o)&&this.op(e,">",r[t+1]||o-i)&&(n="left"===this.state.direction?t+1:t),-1===n},this)),this.settings.loop||(this.op(e,">",r[this.minimum()])?n=e=this.minimum():this.op(e,"<",r[this.maximum()])&&(n=e=this.maximum())),n},r.prototype.animate=function(e){this.trigger("translate"),this.state.inMotion=this.speed()>0,this.support3d?this.$stage.css({transform:"translate3d("+e+"px,0px, 0px)",transition:this.speed()/1e3+"s"}):this.state.isTouch?this.$stage.css({left:e+"px"}):this.$stage.animate({left:e},this.speed()/1e3,this.settings.fallbackEasing,t.proxy(function(){this.state.inMotion&&this.transitionEnd()},this))},r.prototype.current=function(t){if(t===i)return this._current;if(0===this._items.length)return i;if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});e.data!==i&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},r.prototype.invalidate=function(t){this._invalidated[t]=!0},r.prototype.reset=function(t){(t=this.normalize(t))!==i&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},r.prototype.normalize=function(e,n){var r=n?this._items.length:this._items.length+this._clones.length;return!t.isNumeric(e)||1>r?i:e=this._clones.length?(e%r+r)%r:Math.max(this.minimum(n),Math.min(this.maximum(n),e))},r.prototype.relative=function(t){return t=this.normalize(t),t-=this._clones.length/2,this.normalize(t,!0)},r.prototype.maximum=function(t){var e,n,i,r=0,o=this.settings;if(t)return this._items.length-1;if(!o.loop&&o.center)e=this._items.length-1;else if(o.loop||o.center)if(o.loop||o.center)e=this._items.length+o.items;else{if(!o.autoWidth&&!o.merge)throw"Can not detect maximum absolute position.";for(revert=o.rtl?1:-1,n=this.$stage.width()-this.$element.width();(i=this.coordinates(r))&&!(i*revert>=n);)e=++r}else e=this._items.length-o.items;return e},r.prototype.minimum=function(t){return t?0:this._clones.length/2},r.prototype.items=function(t){return t===i?this._items.slice():(t=this.normalize(t,!0),this._items[t])},r.prototype.mergers=function(t){return t===i?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},r.prototype.clones=function(e){var n=this._clones.length/2,r=n+this._items.length,o=function(t){return t%2==0?r+t/2:n-(t+1)/2};return e===i?t.map(this._clones,function(t,e){return o(e)}):t.map(this._clones,function(t,n){return t===e?o(n):null})},r.prototype.speed=function(t){return t!==i&&(this._speed=t),this._speed},r.prototype.coordinates=function(e){var n=null;return e===i?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(n=this._coordinates[e],n+=(this.width()-n+(this._coordinates[e-1]||0))/2*(this.settings.rtl?-1:1)):n=this._coordinates[e-1]||0,n)},r.prototype.duration=function(t,e,n){return Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(n||this.settings.smartSpeed)},r.prototype.to=function(n,i){if(this.settings.loop){var r=n-this.relative(this.current()),o=this.current(),s=this.current(),a=this.current()+r,l=0>s-a,c=this._clones.length+this._items.length;a<this.settings.items&&!1===l?(o=s+this._items.length,this.reset(o)):a>=c-this.settings.items&&!0===l&&(o=s-this._items.length,this.reset(o)),e.clearTimeout(this.e._goToLoop),this.e._goToLoop=e.setTimeout(t.proxy(function(){this.speed(this.duration(this.current(),o+r,i)),this.current(o+r),this.update()},this),30)}else this.speed(this.duration(this.current(),n,i)),this.current(n),this.update()},r.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},r.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},r.prototype.transitionEnd=function(t){return(t===i||(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)===this.$stage.get(0)))&&(this.state.inMotion=!1,void this.trigger("translated"))},r.prototype.viewport=function(){var i;if(this.options.responsiveBaseElement!==e)i=t(this.options.responsiveBaseElement).width();else if(e.innerWidth)i=e.innerWidth;else{if(!n.documentElement||!n.documentElement.clientWidth)throw"Can not detect viewport width.";i=n.documentElement.clientWidth}return i},r.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)},this)),this.reset(t.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},r.prototype.add=function(t,e){e=e===i?this._items.length:this.normalize(e,!0),this.trigger("add",{content:t,position:e}),0===this._items.length||e===this._items.length?(this.$stage.append(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)):(this._items[e].before(t),this._items.splice(e,0,t),this._mergers.splice(e,0,1*t.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)),this.invalidate("items"),this.trigger("added",{content:t,position:e})},r.prototype.remove=function(t){(t=this.normalize(t,!0))!==i&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},r.prototype.addTriggerableEvents=function(){var e=t.proxy(function(e,n){return t.proxy(function(t){t.relatedTarget!==this&&(this.suppress([n]),e.apply(this,[].slice.call(arguments,1)),this.release([n]))},this)},this);t.each({next:this.next,prev:this.prev,to:this.to,destroy:this.destroy,refresh:this.refresh,replace:this.replace,add:this.add,remove:this.remove},t.proxy(function(t,n){this.$element.on(t+".owl.carousel",e(n,t+".owl.carousel"))},this))},r.prototype.watchVisibility=function(){function n(t){return t.offsetWidth>0&&t.offsetHeight>0}n(this.$element.get(0))||(this.$element.addClass("owl-hidden"),e.clearInterval(this.e._checkVisibile),this.e._checkVisibile=e.setInterval(t.proxy(function(){n(this.$element.get(0))&&(this.$element.removeClass("owl-hidden"),this.refresh(),e.clearInterval(this.e._checkVisibile))},this),500))},r.prototype.preloadAutoWidthImages=function(e){var n,i,r,o;n=0,i=this,e.each(function(s,a){r=t(a),(o=new Image).onload=function(){n++,r.attr("src",o.src),r.css("opacity",1),n>=e.length&&(i.state.imagesLoaded=!0,i.initialize())},o.src=r.attr("src")||r.attr("data-src")||r.attr("data-src-retina")})},r.prototype.destroy=function(){this.$element.hasClass(this.settings.themeClass)&&this.$element.removeClass(this.settings.themeClass),!1!==this.settings.responsive&&t(e).off("resize.owl.carousel"),this.transitionEndVendor&&this.off(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd);for(var i in this._plugins)this._plugins[i].destroy();(this.settings.mouseDrag||this.settings.touchDrag)&&(this.$stage.off("mousedown touchstart touchcancel"),t(n).off(".owl.dragEvents"),this.$stage.get(0).onselectstart=function(){},this.$stage.off("dragstart",function(){return!1})),this.$element.off(".owl"),this.$stage.children(".cloned").remove(),this.e=null,this.$element.removeData("owlCarousel"),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.unwrap()},r.prototype.op=function(t,e,n){var i=this.settings.rtl;switch(e){case"<":return i?t>n:n>t;case">":return i?n>t:t>n;case">=":return i?n>=t:t>=n;case"<=":return i?t>=n:n>=t}},r.prototype.on=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n)},r.prototype.off=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n)},r.prototype.trigger=function(e,n,i){var r={item:{count:this._items.length,index:this.current()}},o=t.camelCase(t.grep(["on",e,i],function(t){return t}).join("-").toLowerCase()),s=t.Event([e,"owl",i||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},r,n));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(s)}),this.$element.trigger(s),this.settings&&"function"==typeof this.settings[o]&&this.settings[o].apply(this,s)),s},r.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},r.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},r.prototype.browserSupport=function(){if(this.support3d=c(),this.support3d){this.transformVendor=l();var t=["transitionend","webkitTransitionEnd","transitionend","oTransitionEnd"];this.transitionEndVendor=t[a()],this.vendorName=this.transformVendor.replace(/Transform/i,""),this.vendorName=""!==this.vendorName?"-"+this.vendorName.toLowerCase()+"-":""}this.state.orientation=e.orientation},t.fn.owlCarousel=function(e){return this.each(function(){t(this).data("owlCarousel")||t(this).data("owlCarousel",new r(this,e))})},t.fn.owlCarousel.Constructor=r}(window.Zepto||window.jQuery,window,document),function(t,e){var n=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel":t.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type))for(var n=this._core.settings,i=n.center&&Math.ceil(n.items/2)||n.items,r=n.center&&-1*i||0,o=(e.property&&e.property.value||this._core.current())+r,s=this._core.clones().length,a=t.proxy(function(t,e){this.load(e)},this);r++<i;)this.load(s/2+this._core.relative(o)),s&&t.each(this._core.clones(this._core.relative(o++)),a)},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={lazyLoad:!1},n.prototype.load=function(n){var i=this._core.$stage.children().eq(n),r=i&&i.find(".owl-lazy");!r||t.inArray(i.get(0),this._loaded)>-1||(r.each(t.proxy(function(n,i){var r,o=t(i),s=e.devicePixelRatio>1&&o.attr("data-src-retina")||o.attr("data-src");this._core.trigger("load",{element:o,url:s},"lazy"),o.is("img")?o.one("load.owl.lazy",t.proxy(function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:s},"lazy")},this)).attr("src",s):(r=new Image,r.onload=t.proxy(function(){o.css({"background-image":"url("+s+")",opacity:"1"}),this._core.trigger("loaded",{element:o,url:s},"lazy")},this),r.src=s)},this)),this._loaded.push(i.get(0)))},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Lazy=n}(window.Zepto||window.jQuery,window,document),function(t){var e=function(n){this._core=n,this._handlers={"initialized.owl.carousel":t.proxy(function(){this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){this._core.settings.autoHeight&&"position"==t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass)===this._core.$stage.children().eq(this._core.current())&&this.update()},this)},this._core.options=t.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},e.prototype.update=function(){this._core.$stage.parent().height(this._core.$stage.children().eq(this._core.current()).height()).addClass(this._core.settings.autoHeightClass)},e.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=e}(window.Zepto||window.jQuery,window,document),function(t,e,n){var i=function(e){this._core=e,this._videos={},this._playing=null,this._fullscreen=!1,this._handlers={"resize.owl.carousel":t.proxy(function(t){this._core.settings.video&&!this.isInFullScreen()&&t.preventDefault()},this),"refresh.owl.carousel changed.owl.carousel":t.proxy(function(){this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){var n=t(e.content).find(".owl-video");n.length&&(n.css("display","none"),this.fetch(n,t(e.content)))},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};i.Defaults={video:!1,videoHeight:!1,videoWidth:!1},i.prototype.fetch=function(t,e){var n=t.attr("data-vimeo-id")?"vimeo":"youtube",i=t.attr("data-vimeo-id")||t.attr("data-youtube-id"),r=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,s=t.attr("href");if(!s)throw new Error("Missing video URL.");if((i=s.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)n="youtube";else{if(!(i[3].indexOf("vimeo")>-1))throw new Error("Video URL not supported.");n="vimeo"}i=i[6],this._videos[s]={type:n,id:i,width:r,height:o},e.attr("data-video",s),this.thumbnail(t,this._videos[s])},i.prototype.thumbnail=function(e,n){var i,r,o,s=n.width&&n.height?'style="width:'+n.width+"px;height:"+n.height+'px;"':"",a=e.find("img"),l="src",c="",u=this._core.settings,h=function(t){r='<div class="owl-video-play-icon"></div>',i=u.lazyLoad?'<div class="owl-video-tn '+c+'" '+l+'="'+t+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+t+')"></div>',e.after(i),e.after(r)};return e.wrap('<div class="owl-video-wrapper"'+s+"></div>"),this._core.settings.lazyLoad&&(l="data-src",c="owl-lazy"),a.length?(h(a.attr(l)),a.remove(),!1):void("youtube"===n.type?(o="http://img.youtube.com/vi/"+n.id+"/hqdefault.jpg",h(o)):"vimeo"===n.type&&t.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t[0].thumbnail_large,h(o)}}))},i.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null},i.prototype.play=function(e){this._core.trigger("play",null,"video"),this._playing&&this.stop();var n,i,r=t(e.target||e.srcElement),o=r.closest("."+this._core.settings.itemClass),s=this._videos[o.attr("data-video")],a=s.width||"100%",l=s.height||this._core.$stage.height();"youtube"===s.type?n='<iframe width="'+a+'" height="'+l+'" src="http://www.youtube.com/embed/'+s.id+"?autoplay=1&v="+s.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===s.type&&(n='<iframe src="http://player.vimeo.com/video/'+s.id+'?autoplay=1" width="'+a+'" height="'+l+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),o.addClass("owl-video-playing"),this._playing=o,i=t('<div style="height:'+l+"px; width:"+a+'px" class="owl-video-frame">'+n+"</div>"),r.after(i)},i.prototype.isInFullScreen=function(){var i=n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement;return i&&t(i).parent().hasClass("owl-video-frame")&&(this._core.speed(0),this._fullscreen=!0),!(i&&this._fullscreen&&this._playing)&&(this._fullscreen?(this._fullscreen=!1,!1):!this._playing||this._core.state.orientation===e.orientation||(this._core.state.orientation=e.orientation,!1))},i.prototype.destroy=function(){var t,e;this._core.$element.off("click.owl.video");for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Video=i}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var r=function(e){this.core=e,this.core.options=t.extend({},r.Defaults,this.core.options),this.swapping=!0,this.previous=i,this.next=i,this.handlers={"change.owl.carousel":t.proxy(function(t){"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){this.swapping="translated"==t.type},this),"translate.owl.carousel":t.proxy(function(){this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};r.Defaults={animateOut:!1,animateIn:!1},r.prototype.swap=function(){if(1===this.core.settings.items&&this.core.support3d){this.core.speed(0);var e,n=t.proxy(this.clear,this),i=this.core.$stage.children().eq(this.previous),r=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,s=this.core.settings.animateOut;this.core.current()!==this.previous&&(s&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),i.css({left:e+"px"}).addClass("animated owl-animated-out").addClass(s).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",n)),o&&r.addClass("animated owl-animated-in").addClass(o).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",n))}},r.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.transitionEnd()},r.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Animate=r}(window.Zepto||window.jQuery,window,document),function(t,e,n){var i=function(e){this.core=e,this.core.options=t.extend({},i.Defaults,this.core.options),this.handlers={"translated.owl.carousel refreshed.owl.carousel":t.proxy(function(){this.autoplay()},this),"play.owl.autoplay":t.proxy(function(t,e,n){this.play(e,n)},this),"stop.owl.autoplay":t.proxy(function(){this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this.core.settings.autoplayHoverPause&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this.core.settings.autoplayHoverPause&&this.autoplay()},this)},this.core.$element.on(this.handlers)};i.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},i.prototype.autoplay=function(){this.core.settings.autoplay&&!this.core.state.videoPlay?(e.clearInterval(this.interval),this.interval=e.setInterval(t.proxy(function(){this.play()},this),this.core.settings.autoplayTimeout)):e.clearInterval(this.interval)},i.prototype.play=function(){return!0===n.hidden||this.core.state.isTouch||this.core.state.isScrolling||this.core.state.isSwiping||this.core.state.inMotion?void 0:!1===this.core.settings.autoplay?void e.clearInterval(this.interval):void this.core.next(this.core.settings.autoplaySpeed)},i.prototype.stop=function(){e.clearInterval(this.interval)},i.prototype.pause=function(){e.clearInterval(this.interval)},i.prototype.destroy=function(){var t,n;e.clearInterval(this.interval);for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=i}(window.Zepto||window.jQuery,window,document),function(t){"use strict";var e=function(n){this._core=n,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){this._core.settings.dotsData&&this._templates.push(t(e.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"add.owl.carousel":t.proxy(function(e){this._core.settings.dotsData&&this._templates.splice(e.position,0,t(e.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"remove.owl.carousel prepared.owl.carousel":t.proxy(function(t){this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"change.owl.carousel":t.proxy(function(t){if("position"==t.property.name&&!this._core.state.revert&&!this._core.settings.loop&&this._core.settings.navRewind){var e=this._core.current(),n=this._core.maximum(),i=this._core.minimum();t.data=t.property.value>n?e>=n?i:n:t.property.value<i?n:t.property.value}},this),"changed.owl.carousel":t.proxy(function(t){"position"==t.property.name&&this.draw()},this),"refreshed.owl.carousel":t.proxy(function(){this._initialized||(this.initialize(),this._initialized=!0),this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation")},this)},this._core.options=t.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navRewind:!0,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotData:!1,dotsSpeed:!1,dotsContainer:!1,controlsClass:"owl-controls"},e.prototype.initialize=function(){var e,n,i=this._core.settings;i.dotsData||(this._templates=[t("<div>").addClass(i.dotClass).append(t("<span>")).prop("outerHTML")]),i.navContainer&&i.dotsContainer||(this._controls.$container=t("<div>").addClass(i.controlsClass).appendTo(this.$element)),this._controls.$indicators=i.dotsContainer?t(i.dotsContainer):t("<div>").hide().addClass(i.dotsClass).appendTo(this._controls.$container),this._controls.$indicators.on("click","div",t.proxy(function(e){var n=t(e.target).parent().is(this._controls.$indicators)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(n,i.dotsSpeed)},this)),e=i.navContainer?t(i.navContainer):t("<div>").addClass(i.navContainerClass).prependTo(this._controls.$container),this._controls.$next=t("<"+i.navElement+">"),this._controls.$previous=this._controls.$next.clone(),this._controls.$previous.addClass(i.navClass[0]).html(i.navText[0]).hide().prependTo(e).on("click",t.proxy(function(){this.prev(i.navSpeed)},this)),this._controls.$next.addClass(i.navClass[1]).html(i.navText[1]).hide().appendTo(e).on("click",t.proxy(function(){this.next(i.navSpeed)},this));for(n in this._overrides)this._core[n]=t.proxy(this[n],this)},e.prototype.destroy=function(){var t,e,n,i;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)this._controls[e].remove();for(i in this.overides)this._core[i]=this._overrides[i];for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},e.prototype.update=function(){var t,e,n=this._core.settings,i=this._core.clones().length/2,r=i+this._core.items().length,o=n.center||n.autoWidth||n.dotData?1:n.dotsEach||n.items;if("page"!==n.slideBy&&(n.slideBy=Math.min(n.slideBy,n.items)),n.dots||"page"==n.slideBy)for(this._pages=[],t=i,e=0,0;r>t;t++)(e>=o||0===e)&&(this._pages.push({start:t-i,end:t-i+o-1}),e=0,0),e+=this._core.mergers(this._core.relative(t))},e.prototype.draw=function(){var e,n,i="",r=this._core.settings,o=(this._core.$stage.children(),this._core.relative(this._core.current()));if(!r.nav||r.loop||r.navRewind||(this._controls.$previous.toggleClass("disabled",0>=o),this._controls.$next.toggleClass("disabled",o>=this._core.maximum())),this._controls.$previous.toggle(r.nav),this._controls.$next.toggle(r.nav),r.dots){if(e=this._pages.length-this._controls.$indicators.children().length,r.dotData&&0!==e){for(n=0;n<this._controls.$indicators.children().length;n++)i+=this._templates[this._core.relative(n)];this._controls.$indicators.html(i)}else e>0?(i=new Array(e+1).join(this._templates[0]),this._controls.$indicators.append(i)):0>e&&this._controls.$indicators.children().slice(e).remove();this._controls.$indicators.find(".active").removeClass("active"),this._controls.$indicators.children().eq(t.inArray(this.current(),this._pages)).addClass("active")}this._controls.$indicators.toggle(r.dots)},e.prototype.onTrigger=function(e){var n=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:n&&(n.center||n.autoWidth||n.dotData?1:n.dotsEach||n.items)}},e.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,function(t){return t.start<=e&&t.end>=e}).pop()},e.prototype.getPosition=function(e){var n,i,r=this._core.settings;return"page"==r.slideBy?(n=t.inArray(this.current(),this._pages),i=this._pages.length,e?++n:--n,n=this._pages[(n%i+i)%i].start):(n=this._core.relative(this._core.current()),i=this._core.items().length,e?n+=r.slideBy:n-=r.slideBy),n},e.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},e.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},e.prototype.to=function(e,n,i){var r;i?t.proxy(this._overrides.to,this._core)(e,n):(r=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%r+r)%r].start,n))},t.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,window,document),function(t,e){"use strict";var n=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(){"URLHash"==this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){var n=t(e.content).find("[data-hash]").andSelf("[data-hash]").attr("data-hash");this._hashes[n]=e.content},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(){var t=e.location.hash.substring(1),n=this._core.$stage.children(),i=this._hashes[t]&&n.index(this._hashes[t])||0;return!!t&&void this._core.to(i,!1,!0)},this))};n.Defaults={URLhashListener:!1},n.prototype.destroy=function(){var n,i;t(e).off("hashchange.owl.navigation");for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.owlCarousel.Constructor.Plugins.Hash=n}(window.Zepto||window.jQuery,window,document),d3=function(){function t(t){return null!=t&&!isNaN(t)}function e(t){return t.length}function n(t){for(var e=1;t*e%1;)e*=10;return e}function i(t,e){try{for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}catch(n){t.prototype=e}}function r(){}function o(){}function s(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function a(){}function l(t){function e(){for(var e,i=n,r=-1,o=i.length;++r<o;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new r;return e.on=function(e,r){var o,s=i.get(e);return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,o=n.indexOf(s)).concat(n.slice(o+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function c(){Dr.event.stopPropagation(),Dr.event.preventDefault()}function u(){for(var t,e=Dr.event;t=e.sourceEvent;)e=t;return e}function h(t,e){function n(){t.on(e,null)}t.on(e,function(){c(),n()},!0),setTimeout(n,0)}function d(t){for(var e=new a,n=0,i=arguments.length;++n<i;)e[arguments[n]]=l(e);return e.of=function(n,i){return function(r){try{var o=r.sourceEvent=Dr.event;r.target=t,Dr.event=r,e[r.type].apply(n,i)}finally{Dr.event=o}}},e}function p(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(0>Or&&(Er.scrollX||Er.scrollY)){var r=(n=Dr.select(Mr.body).append("svg").style("position","absolute").style("top",0).style("left",0))[0][0].getScreenCTM();Or=!(r.f||r.e),n.remove()}return Or?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function f(t){return Rr(t,Wr),t}function m(t){return function(){return Fr(t,this)}}function g(t){return function(){return Hr(t,this)}}function v(t,e){return t=Dr.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function y(t){return t.trim().replace(/\s+/g," ")}function _(t){return new RegExp("(?:^|\\s+)"+Dr.requote(t)+"(?:\\s+|$)","g")}function w(t,e){var n=(t=t.trim().split(/\s+/).map(x)).length;return"function"==typeof e?function(){for(var i=-1,r=e.apply(this,arguments);++i<n;)t[i](this,r)}:function(){for(var i=-1;++i<n;)t[i](this,e)}}function x(t){var e=_(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",y(r+" "+t))):n.setAttribute("class",y(r.replace(e," ")))}}function S(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}:function(){this.style.setProperty(t,e,n)}}function k(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function C(t){return{__data__:t}}function T(t){return function(){return $r(this,t)}}function D(t){return arguments.length||(t=Dr.ascending),function(e,n){return!e-!n||t(e.__data__,n.__data__)}}function M(){}function E(t,e,n){function i(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}var r="__on"+t,o=t.indexOf("."),s=L;o>0&&(t=t.substring(0,o));var a=qr.get(t);return a&&(t=a,s=A),o?e?function(){var o=s(e,Yr(arguments));i.call(this),this.addEventListener(t,this[r]=o,o.$=n),o._=e}:i:e?M:function(){var e,n=new RegExp("^__on([^.]+)"+Dr.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}}function L(t,e){return function(n){var i=Dr.event;Dr.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{Dr.event=i}}}function A(t,e){var n=L(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function I(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,o=t[n],s=0,a=o.length;a>s;s++)(r=o[s])&&e(r,s,n);return t}function N(t){return Rr(t,Vr),t}function P(){}function O(t,e,n){return new Y(t,e,n)}function Y(t,e,n){this.h=t,this.s=e,this.l=n}function R(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(s-o)*t/60:180>t?s:240>t?o+(s-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,s;return 0>(t%=360)&&(t+=360),e=0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,s=.5>=n?n*(1+e):n+e-n*e,o=2*n-s,tt(r(t+120),r(t),r(t-120))}function F(t){return t>0?1:0>t?-1:0}function H(t){return Math.acos(Math.max(-1,Math.min(1,t)))}function z(t){return t>1?Zr/2:-1>t?-Zr/2:Math.asin(t)}function j(t){return(Math.exp(t)-Math.exp(-t))/2}function $(t){return(Math.exp(t)+Math.exp(-t))/2}function W(t){return(t=Math.sin(t/2))*t}function B(t,e,n){return new U(t,e,n)}function U(t,e,n){this.h=t,this.c=e,this.l=n}function q(t,e,n){return V(n,Math.cos(t*=eo)*e,Math.sin(t)*e)}function V(t,e,n){return new X(t,e,n)}function X(t,e,n){this.l=t,this.a=e,this.b=n}function G(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return r=Q(r)*oo,i=Q(i)*so,o=Q(o)*ao,tt(Z(3.2404542*r-1.5371385*i-.4985314*o),Z(-.969266*r+1.8760108*i+.041556*o),Z(.0556434*r-.2040259*i+1.0572252*o))}function K(t,e,n){return B(Math.atan2(n,e)*no,Math.sqrt(e*e+n*n),t)}function Q(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function J(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function Z(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function tt(t,e,n){return new et(t,e,n)}function et(t,e,n){this.r=t,this.g=e,this.b=n}function nt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function it(t,e,n){var i,r,o,s=0,a=0,l=0;if(i=/([a-z]+)\((.*)\)/i.exec(t))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(at(r[0]),at(r[1]),at(r[2]))}return(o=uo.get(t))?e(o.r,o.g,o.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(s=t.charAt(1),s+=s,a=t.charAt(2),a+=a,l=t.charAt(3),l+=l):7===t.length&&(s=t.substring(1,3),a=t.substring(3,5),l=t.substring(5,7)),s=parseInt(s,16),a=parseInt(a,16),l=parseInt(l,16)),e(s,a,l))}function rt(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),s=Math.max(t,e,n),a=s-o,l=(s+o)/2;return a?(r=.5>l?a/(s+o):a/(2-s-o),i=t==s?(e-n)/a+(n>e?6:0):e==s?(n-t)/a+2:(t-e)/a+4,i*=60):r=i=0,O(i,r,l)}function ot(t,e,n){var i=J((.4124564*(t=st(t))+.3575761*(e=st(e))+.1804375*(n=st(n)))/oo),r=J((.2126729*t+.7151522*e+.072175*n)/so);return V(116*r-16,500*(i-r),200*(r-J((.0193339*t+.119192*e+.9503041*n)/ao)))}function st(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function at(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function lt(t){return"function"==typeof t?t:function(){return t}}function ct(t){return t}function ut(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function ht(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var s=Dr.xhr(t,e,o);return s.row=function(t){return arguments.length?s.response(null==(n=t)?i:r(t)):n},s.row(n)}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function s(e){return e.map(a).join(t)}function a(t){return l.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var l=new RegExp('["'+t+"\n]"),c=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(u>=l)return s;if(r)return r=!1,o;var e=u;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return u=n+2,13===(i=t.charCodeAt(n+1))?(r=!0,10===t.charCodeAt(n+2)&&++u):10===i&&(r=!0),t.substring(e+1,n).replace(/""/g,'"')}for(;l>u;){var i=t.charCodeAt(u++),a=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(u)&&(++u,++a);else if(i!==c)continue;return t.substring(e,u-a)}return t.substring(e)}for(var i,r,o={},s={},a=[],l=t.length,u=0,h=0;(i=n())!==s;){for(var d=[];i!==o&&i!==s;)d.push(i),i=n();(!e||(d=e(d,h++)))&&a.push(d)}return a},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new o,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(a).join(t)].concat(e.map(function(e){return r.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(s).join("\n")},n}function dt(){for(var t,e=Date.now(),n=go;n;)(t=e-n.then)>=n.delay&&(n.flush=n.callback(t)),n=n.next;var i=pt()-e;i>24?(isFinite(i)&&(clearTimeout(po),po=setTimeout(dt,i)),ho=0):(ho=1,vo(dt))}function pt(){for(var t=null,e=go,n=1/0;e;)e.flush?(delete mo[e.callback.id],e=t?t.next=e.next:go=e.next):(n=Math.min(n,e.then+e.delay),e=(t=e).next);return n}function ft(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function mt(t){return t+""}function gt(t,e){t&&Co.hasOwnProperty(t.type)&&Co[t.type](t,e)}function vt(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1]);e.lineEnd()}function yt(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)vt(t[n],e,1);e.polygonEnd()}function _t(){function t(t,e){e=e*eo/2+Zr/4;var n=(t*=eo)-i,s=Math.cos(e),a=Math.sin(e),l=o*a,c=Do,u=Mo,h=r*s+l*Math.cos(n),d=l*Math.sin(n);Do=c*h-u*d,Mo=u*h+c*d,i=t,r=s,o=a}var e,n,i,r,o;Eo.point=function(s,a){Eo.point=t,i=(e=s)*eo,r=Math.cos(a=(n=a)*eo/2+Zr/4),o=Math.sin(a)},Eo.lineEnd=function(){t(e,n)}}function bt(t){function e(t,e){i>t&&(i=t),t>o&&(o=t),r>e&&(r=e),e>s&&(s=e)}function n(){a.point=a.lineEnd=M}var i,r,o,s,a={point:e,lineStart:M,lineEnd:M,polygonStart:function(){a.lineEnd=n},polygonEnd:function(){a.point=e}};return function(e){return s=o=-(i=r=1/0),Dr.geo.stream(e,t(a)),[[i,r],[o,s]]}}function wt(t,e){if(!Lo){++Ao,t*=eo;var n=Math.cos(e*=eo);Io+=(n*Math.cos(t)-Io)/Ao,No+=(n*Math.sin(t)-No)/Ao,Po+=(Math.sin(e)-Po)/Ao}}function xt(){var t,e;Lo=1,St(),Lo=2;var n=Oo.point;Oo.point=function(i,r){n(t=i,e=r)},Oo.lineEnd=function(){Oo.point(t,e),kt(),Oo.lineEnd=kt}}function St(){function t(t,r){t*=eo;var o=Math.cos(r*=eo),s=o*Math.cos(t),a=o*Math.sin(t),l=Math.sin(r),c=Math.atan2(Math.sqrt((c=n*l-i*a)*c+(c=i*s-e*l)*c+(c=e*a-n*s)*c),e*s+n*a+i*l);Ao+=c,Io+=c*(e+(e=s)),No+=c*(n+(n=a)),Po+=c*(i+(i=l))}var e,n,i;Lo>1||(1>Lo&&(Lo=1,Ao=Io=No=Po=0),Oo.point=function(r,o){r*=eo;var s=Math.cos(o*=eo);e=s*Math.cos(r),n=s*Math.sin(r),i=Math.sin(o),Oo.point=t})}function kt(){Oo.point=wt}function Ct(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function Tt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Dt(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Mt(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Et(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Lt(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function At(){return!0}function It(t){return[Math.atan2(t[1],t[0]),Math.asin(Math.max(-1,Math.min(1,t[2])))]}function Nt(t,e){return Math.abs(t[0]-e[0])<to&&Math.abs(t[1]-e[1])<to}function Pt(t,e,n,i,r){var o=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(Nt(n,i)){r.lineStart();for(var a=0;e>a;++a)r.point((n=t[a])[0],n[1]);return void r.lineEnd()}var l={point:n,points:t,other:null,visited:!1,entry:!0,subject:!0},c={point:n,points:[n],other:l,visited:!1,entry:!1,subject:!1};l.other=c,o.push(l),s.push(c),c={point:i,points:[i],other:l={point:i,points:[i],other:null,visited:!1,entry:!1,subject:!0},visited:!1,entry:!0,subject:!1},l.other=c,o.push(l),s.push(c)}}),s.sort(e),Ot(o),Ot(s),o.length){if(n)for(var a=1,l=!n(s[0].point),c=s.length;c>a;++a)s[a].entry=l=!l;for(var u,h,d,p=o[0];;){for(u=p;u.visited;)if((u=u.next)===p)return;h=u.points,r.lineStart();do{if(u.visited=u.other.visited=!0,u.entry){if(u.subject)for(a=0;a<h.length;a++)r.point((d=h[a])[0],d[1]);else i(u.point,u.next.point,1,r);u=u.next}else{if(u.subject)for(a=(h=u.prev.points).length;--a>=0;)r.point((d=h[a])[0],d[1]);else i(u.point,u.prev.point,-1,r);u=u.prev}h=(u=u.other).points}while(!u.visited);r.lineEnd()}}}function Ot(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.next=n=t[i],n.prev=r,r=n;r.next=n=t[0],n.prev=r}}function Yt(t,e,n){return function(i){function r(e,n){t(e,n)&&i.point(e,n)}function o(t,e){g.point(t,e)}function s(){v.point=o,g.lineStart()}function a(){v.point=r,g.lineEnd()}function l(t,e){_.point(t,e),m.push([t,e])}function c(){_.lineStart(),m=[]}function u(){l(m[0][0],m[0][1]),_.lineEnd();var t,e=_.clean(),n=y.buffer();if(!(o=n.length))return f=!0,p+=Ht(m,-1),void(m=null);if(m=null,1&e){t=n[0],d+=Ht(t,1);var r,o=t.length-1,s=-1;for(i.lineStart();++s<o;)i.point((r=t[s])[0],r[1]);i.lineEnd()}else o>1&&2&e&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Rt))}var h,d,p,f,m,g=e(i),v={point:r,lineStart:s,lineEnd:a,polygonStart:function(){v.point=l,v.lineStart=c,v.lineEnd=u,f=!1,p=d=0,h=[],i.polygonStart()},polygonEnd:function(){v.point=r,v.lineStart=s,v.lineEnd=a,(h=Dr.merge(h)).length?Pt(h,zt,null,n,i):(-to>d||f&&-to>p)&&(i.lineStart(),n(null,null,1,i),i.lineEnd()),i.polygonEnd(),h=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},y=Ft(),_=e(y);return v}}function Rt(t){return t.length>1}function Ft(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:M,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ht(t,e){if(!(n=t.length))return 0;for(var n,i,r,o=0,s=0,a=t[0],l=a[0],c=a[1],u=Math.cos(c),h=Math.atan2(e*Math.sin(l)*u,Math.sin(c)),d=1-e*Math.cos(l)*u,p=h;++o<n;)a=t[o],u=Math.cos(c=a[1]),i=Math.atan2(e*Math.sin(l=a[0])*u,Math.sin(c)),r=1-e*Math.cos(l)*u,Math.abs(d-2)<to&&Math.abs(r-2)<to||(Math.abs(r)<to||Math.abs(d)<to||(Math.abs(Math.abs(i-h)-Zr)<to?r+d>2&&(s+=4*(i-h)):s+=Math.abs(d-2)<to?4*(i-p):((3*Zr+i-h)%(2*Zr)-Zr)*(d+r)),p=h,h=i,d=r);return s}function zt(t,e){return((t=t.point)[0]<0?t[1]-Zr/2-to:Zr/2-t[1])-((e=e.point)[0]<0?e[1]-Zr/2-to:Zr/2-e[1])}function jt(t,e,n,i){var r,o,s=Math.sin(t-n);return Math.abs(s)>to?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*s)):(e+i)/2}function $t(t){function e(t,e){return Math.cos(t)*Math.cos(e)>r}function n(t,e,n){var i=[1,0,0],o=Dt(Ct(t),Ct(e)),s=Tt(o,o),a=o[0],l=s-a*a;if(!l)return!n&&t;var c=r*s/l,u=-r*a/l,h=Dt(i,o),d=Et(i,c);Mt(d,Et(o,u));var p=h,f=Tt(d,p),m=Tt(p,p),g=f*f-m*(Tt(d,d)-1);if(!(0>g)){var v=Math.sqrt(g),y=Et(p,(-f-v)/m);if(Mt(y,d),y=It(y),!n)return y;var _,b=t[0],w=e[0],x=t[1],S=e[1];b>w&&(_=b,b=w,w=_);var k=w-b,C=Math.abs(k-Zr)<to,T=C||to>k;if(!C&&x>S&&(_=x,x=S,S=_),T?C?x+S>0^y[1]<(Math.abs(y[0]-b)<to?x:S):x<=y[1]&&y[1]<=S:k>Zr^(b<=y[0]&&y[0]<=w)){var D=Et(p,(-f+v)/m);return Mt(D,d),[y,It(D)]}}}function i(e,n){var i=o?t:Zr-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var r=Math.cos(t),o=r>0,s=Math.abs(r)>to;return Yt(e,function(t){var r,a,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(h,d){var p,f=[h,d],m=e(h,d),g=o?m?0:i(h,d):m?i(h+(0>h?Zr:-Zr),d):0;if(!r&&(c=l=m)&&t.lineStart(),m!==l&&(p=n(r,f),(Nt(r,p)||Nt(f,p))&&(f[0]+=to,f[1]+=to,m=e(f[0],f[1]))),m!==l)u=0,m?(t.lineStart(),p=n(f,r),t.point(p[0],p[1])):(p=n(r,f),t.point(p[0],p[1]),t.lineEnd()),r=p;else if(s&&r&&o^m){var v;g&a||!(v=n(f,r,!0))||(u=0,o?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||r&&Nt(r,f)||t.point(f[0],f[1]),r=f,l=m,a=g},lineEnd:function(){l&&t.lineEnd(),r=null},clean:function(){return u|(c&&l)<<1}}},ee(t,6*eo))}function Wt(t,e,n,i){function r(i,r){return Math.abs(i[0]-t)<to?r>0?0:3:Math.abs(i[0]-n)<to?r>0?2:1:Math.abs(i[1]-e)<to?r>0?1:0:r>0?3:2}function o(t,e){return s(t.point,e.point)}function s(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}function a(r,o){var s=o[0]-r[0],a=o[1]-r[1],l=[0,1];return Math.abs(s)<to&&Math.abs(a)<to?t<=r[0]&&r[0]<=n&&e<=r[1]&&r[1]<=i:!!(Bt(t-r[0],s,l)&&Bt(r[0]-n,-s,l)&&Bt(e-r[1],a,l)&&Bt(r[1]-i,-a,l))&&(l[1]<1&&(o[0]=r[0]+l[1]*s,o[1]=r[1]+l[1]*a),l[0]>0&&(r[0]+=l[0]*s,r[1]+=l[0]*a),!0)}return function(l){function c(o){var s=r(o,-1);return u([0===s||3===s?t:n,s>1?i:e])}function u(t){for(var e=0,n=v.length,i=t[1],r=0;n>r;++r)for(var o=1,s=v[r],a=s.length,l=s[0];a>o;++o)b=s[o],l[1]<=i?b[1]>i&&h(l,b,t)>0&&++e:b[1]<=i&&h(l,b,t)<0&&--e,l=b;return 0!==e}function h(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function d(o,a,l,c){var u=0,h=0;if(null==o||(u=r(o,l))!==(h=r(a,l))||s(o,a)<0^l>0)do{c.point(0===u||3===u?t:n,u>1?i:e)}while((u=(u+l+4)%4)!==h);else c.point(a[0],a[1])}function p(r,o){return r>=t&&n>=r&&o>=e&&i>=o}function f(t,e){p(t,e)&&l.point(t,e)}function m(t,e){var n=p(t=Math.max(-Ro,Math.min(Ro,t)),e=Math.max(-Ro,Math.min(Ro,e)));if(v&&y.push([t,e]),T)_=t,w=e,x=n,T=!1,n&&(l.lineStart(),l.point(t,e));else if(n&&C)l.point(t,e);else{var i=[S,k],r=[t,e];a(i,r)?(C||(l.lineStart(),l.point(i[0],i[1])),l.point(r[0],r[1]),n||l.lineEnd()):(l.lineStart(),l.point(t,e))}S=t,k=e,C=n}var g,v,y,_,w,x,S,k,C,T,D=l,M=Ft(),E={point:f,lineStart:function(){E.point=m,v&&v.push(y=[]),T=!0,C=!1,S=k=NaN},lineEnd:function(){g&&(m(_,w),x&&C&&M.rejoin(),g.push(M.buffer())),E.point=f,C&&l.lineEnd()},polygonStart:function(){l=M,g=[],v=[]},polygonEnd:function(){l=D,(g=Dr.merge(g)).length?(l.polygonStart(),Pt(g,o,c,d,l),l.polygonEnd()):u([t,e])&&(l.polygonStart(),l.lineStart(),d(null,null,1,l),l.lineEnd(),l.polygonEnd()),g=v=y=null}};return E}}function Bt(t,e,n){if(Math.abs(e)<to)return 0>=t;var i=t/e;if(e>0){if(i>n[1])return!1;i>n[0]&&(n[0]=i)}else{if(i<n[0])return!1;i<n[1]&&(n[1]=i)}return!0}function Ut(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function qt(t){function e(e){function i(n,i){n=t(n,i),e.point(n[0],n[1])}function o(){u=NaN,m.point=s,e.lineStart()}function s(i,o){var s=Ct([i,o]),a=t(i,o);n(u,h,c,d,p,f,u=a[0],h=a[1],c=i,d=s[0],p=s[1],f=s[2],r,e),e.point(u,h)}function a(){m.point=i,e.lineEnd()}function l(){var t,i,l,g,v,y,_;o(),m.point=function(e,n){s(t=e,i=n),l=u,g=h,v=d,y=p,_=f,m.point=s},m.lineEnd=function(){n(u,h,c,d,p,f,l,g,t,v,y,_,r,e),m.lineEnd=a,a()}}var c,u,h,d,p,f,m={point:i,lineStart:o,lineEnd:a,polygonStart:function(){e.polygonStart(),m.lineStart=l},polygonEnd:function(){e.polygonEnd(),m.lineStart=o}};return m}function n(e,r,o,s,a,l,c,u,h,d,p,f,m,g){var v=c-e,y=u-r,_=v*v+y*y;if(_>4*i&&m--){var b=s+d,w=a+p,x=l+f,S=Math.sqrt(b*b+w*w+x*x),k=Math.asin(x/=S),C=Math.abs(Math.abs(x)-1)<to?(o+h)/2:Math.atan2(w,b),T=t(C,k),D=T[0],M=T[1],E=D-e,L=M-r,A=y*E-v*L;(A*A/_>i||Math.abs((v*E+y*L)/_-.5)>.3)&&(n(e,r,o,s,a,l,D,M,C,b/=S,w/=S,x,m,g),g.point(D,M),n(D,M,C,b,w,x,c,u,h,d,p,f,m,g))}}var i=.5,r=16;return e.precision=function(t){return arguments.length?(r=(i=t*t)>0&&16,e):Math.sqrt(i)},e}function Vt(t){return Xt(function(){return t})()}function Xt(t){function e(t){return t=s(t[0]*eo,t[1]*eo),[t[0]*u+a,l-t[1]*u]}function n(t){return(t=s.invert((t[0]-a)/u,(l-t[1])/u))&&[t[0]*no,t[1]*no]}function i(){s=Ut(o=Qt(m,g,v),r);var t=r(p,f);return a=h-t[0]*u,l=d+t[1]*u,e}var r,o,s,a,l,c=qt(function(t,e){return t=r(t,e),[t[0]*u+a,l-t[1]*u]}),u=150,h=480,d=250,p=0,f=0,m=0,g=0,v=0,y=Yo,_=ct,b=null,w=null;return e.stream=function(t){return Gt(o,y(c(_(t))))},e.clipAngle=function(t){return arguments.length?(y=null==t?(b=t,Yo):$t((b=+t)*eo),e):b},e.clipExtent=function(t){return arguments.length?(w=t,_=null==t?ct:Wt(t[0][0],t[0][1],t[1][0],t[1][1]),e):w},e.scale=function(t){return arguments.length?(u=+t,i()):u},e.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],i()):[h,d]},e.center=function(t){return arguments.length?(p=t[0]%360*eo,f=t[1]%360*eo,i()):[p*no,f*no]},e.rotate=function(t){return arguments.length?(m=t[0]%360*eo,g=t[1]%360*eo,v=t.length>2?t[2]%360*eo:0,i()):[m*no,g*no,v*no]},Dr.rebind(e,c,"precision"),function(){return r=t.apply(this,arguments),e.invert=r.invert&&n,i()}}function Gt(t,e){return{point:function(n,i){n=(i=t(n*eo,i*eo))[0],e.point(n>Zr?n-2*Zr:-Zr>n?n+2*Zr:n,i[1])},sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Kt(t,e){return[t,e]}function Qt(t,e,n){return t?e||n?Ut(Zt(t),te(e,n)):Zt(t):e||n?te(e,n):Kt}function Jt(t){return function(e,n){return e+=t,[e>Zr?e-2*Zr:-Zr>e?e+2*Zr:e,n]}}function Zt(t){var e=Jt(t);return e.invert=Jt(-t),e}function te(t,e){function n(t,e){var n=Math.cos(e),a=Math.cos(t)*n,l=Math.sin(t)*n,c=Math.sin(e),u=c*i+a*r;return[Math.atan2(l*o-u*s,a*i-c*r),Math.asin(Math.max(-1,Math.min(1,u*o+l*s)))]}var i=Math.cos(t),r=Math.sin(t),o=Math.cos(e),s=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),a=Math.cos(t)*n,l=Math.sin(t)*n,c=Math.sin(e),u=c*o-l*s;return[Math.atan2(l*o+c*s,a*i+u*r),Math.asin(Math.max(-1,Math.min(1,u*i-a*r)))]},n}function ee(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,s,a){null!=r?(r=ne(n,r),o=ne(n,o),(s>0?o>r:r>o)&&(r+=2*s*Zr)):(r=t+2*s*Zr,o=t);for(var l,c=s*e,u=r;s>0?u>o:o>u;u-=c)a.point((l=It([n,-i*Math.cos(u),-i*Math.sin(u)]))[0],l[1])}}function ne(t,e){var n=Ct(e);n[0]-=t,Lt(n);var i=H(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-to)%(2*Math.PI)}function ie(t,e,n){var i=Dr.range(t,e-to,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function re(t,e,n){var i=Dr.range(t,e-to,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function oe(t){return t.source}function se(t){return t.target}function ae(t,e,n,i){var r=Math.cos(e),o=Math.sin(e),s=Math.cos(i),a=Math.sin(i),l=r*Math.cos(t),c=r*Math.sin(t),u=s*Math.cos(n),h=s*Math.sin(n),d=2*Math.asin(Math.sqrt(W(i-e)+r*s*W(n-t))),p=1/Math.sin(d),f=d?function(t){var e=Math.sin(t*=d)*p,n=Math.sin(d-t)*p,i=n*l+e*u,r=n*c+e*h,s=n*o+e*a;return[Math.atan2(r,i)*no,Math.atan2(s,Math.sqrt(i*i+r*r))*no]}:function(){return[t*no,e*no]};return f.distance=d,f}function le(t){var e=0,n=Zr/3,i=Xt(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Zr/180,n=t[1]*Zr/180):[e/Zr*180,n/Zr*180]},r}function ce(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),s-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),s=Math.sqrt(o)/r;return n.invert=function(t,e){var n=s-e;return[Math.atan2(t,n)/r,Math.asin((o-(t*t+n*n)*r*r)/(2*r))]},n}function ue(t,e){var n=t(e[0]),i=t([.5*(e[0][0]+e[1][0]),e[0][1]]),r=t([e[1][0],e[0][1]]),o=t(e[1]),s=(i[1]-n[1])/(i[0]-n[0]),a=(r[1]-i[1])/(r[0]-i[0]),l=.5*(s*a*(n[1]-r[1])+a*(n[0]+i[0])-s*(i[0]+r[0]))/(a-s),c=(.5*(n[0]+i[0])-l)/s+.5*(n[1]+i[1]),u=o[0]-l,h=o[1]-c,d=n[0]-l,p=n[1]-c,f=u*u+h*h,m=d*d+p*p,g=Math.atan2(h,u),v=Math.atan2(p,d);return function(e){var n=e[0]-l,i=e[1]-c,r=n*n+i*i,o=Math.atan2(i,n);return r>f&&m>r&&o>g&&v>o?t.invert(e):void 0}}function he(){function t(t,e){jo+=r*t-i*e,i=t,r=e}var e,n,i,r;$o.point=function(o,s){$o.point=t,e=i=o,n=r=s},$o.lineEnd=function(){t(e,n)}}function de(){function t(t,e){s.push("M",t,",",e,o)}function e(t,e){s.push("M",t,",",e),a.point=n}function n(t,e){s.push("L",t,",",e)}function i(){a.point=t}function r(){s.push("Z")}var o=ye(4.5),s=[],a={point:t,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=r},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(t){return o=ye(t),a},result:function(){if(s.length){var t=s.join("");return s=[],t}}};return a}function pe(t,e){Lo||(Io+=t,No+=e,++Po)}function fe(){function t(t,i){var r=t-e,o=i-n,s=Math.sqrt(r*r+o*o);Io+=s*(e+t)/2,No+=s*(n+i)/2,Po+=s,e=t,n=i}var e,n;if(1!==Lo){if(!(1>Lo))return;Lo=1,Io=No=Po=0}Wo.point=function(i,r){Wo.point=t,e=i,n=r}}function me(){Wo.point=pe}function ge(){function t(t,e){var n=r*t-i*e;Io+=n*(i+t),No+=n*(r+e),Po+=3*n,i=t,r=e}var e,n,i,r;2>Lo&&(Lo=2,Io=No=Po=0),Wo.point=function(o,s){Wo.point=t,e=i=o,n=r=s},Wo.lineEnd=function(){t(e,n)}}function ve(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,s,0,2*Zr)}function n(e,n){t.moveTo(e,n),a.point=i}function i(e,n){t.lineTo(e,n)}function r(){a.point=e}function o(){t.closePath()}var s=4.5,a={point:e,lineStart:function(){a.point=n},lineEnd:r,polygonStart:function(){a.lineEnd=o},polygonEnd:function(){a.lineEnd=r,a.point=e},pointRadius:function(t){return s=t,a},result:M};return a}function ye(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function _e(t){var e=qt(function(e,n){return t([e*no,n*no])});return function(t){return t=e(t),{point:function(e,n){t.point(e*eo,n*eo)},sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}}function be(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),s=Math.cos(r);return[Math.atan2(t*o,i*s),Math.asin(i&&n*o/i)]},n}function we(t,e){function n(t,e){var n=Math.abs(Math.abs(e)-Zr/2)<to?0:s/Math.pow(r(e),o);return[n*Math.sin(o*t),s-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Zr/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),s=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=s-e,i=F(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(s/i,1/o))-Zr/2]},n):Se}function xe(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return Math.abs(r)<to?Kt:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-F(r)*Math.sqrt(t*t+n*n)]},n)}function Se(t,e){return[t,Math.log(Math.tan(Zr/4+e/2))]}function ke(t){var e,n=Vt(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var s=o.apply(n,arguments);if(s===n){if(e=null==t){var a=Zr*i(),l=r();o([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else e&&(s=null);return s},n.clipExtent(null)}function Ce(t,e){var n=Math.cos(e)*Math.sin(t);return[Math.log((1+n)/(1-n))/2,Math.atan2(Math.tan(e),Math.cos(t))]}function Te(t){function e(e){function s(){c.push("M",o(t(u),a))}for(var l,c=[],u=[],h=-1,d=e.length,p=lt(n),f=lt(i);++h<d;)r.call(this,l=e[h],h)?u.push([+p.call(this,l,h),+f.call(this,l,h)]):u.length&&(s(),u=[]);return u.length&&s(),c.length?c.join(""):null}var n=De,i=Me,r=At,o=Ee,s=o.key,a=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(s="function"==typeof t?o=t:(o=Go.get(t)||Ee).key,e):s},e.tension=function(t){return arguments.length?(a=t,e):a},e}function De(t){return t[0]}function Me(t){return t[1]}function Ee(t){return t.join("L")}function Le(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function Ae(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Ie(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ee(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],s=e[0],a=s,l=1;if(n&&(i+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],r=t[1],l=2),e.length>1){a=e[1],o=t[l],l++,i+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,l++)o=t[l],a=e[c],i+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var u=t[l];i+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+u[0]+","+u[1]}return i}function Ne(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],s=t[1],a=1,l=t.length;++a<l;)n=o,o=s,s=t[a],i.push([r*(s[0]-n[0]),r*(s[1]-n[1])]);return i}function Pe(t){if(t.length<3)return Ee(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],s=[r,r,r,(i=t[1])[0]],a=[o,o,o,i[1]],l=[r,",",o];for(Ye(l,s,a);++e<n;)i=t[e],s.shift(),s.push(i[0]),a.shift(),a.push(i[1]),Ye(l,s,a);for(e=-1;++e<2;)s.shift(),s.push(i[0]),a.shift(),a.push(i[1]),Ye(l,s,a);return l.join("")}function Oe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ye(t,e,n){t.push("C",Oe(Ko,e),",",Oe(Ko,n),",",Oe(Qo,e),",",Oe(Qo,n),",",Oe(Jo,e),",",Oe(Jo,n))}function Re(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Fe(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],s=i[0]=Re(r,o);++e<n;)i[e]=(s+(s=Re(r=o,o=t[e+1])))/2;return i[e]=s,i}function He(t){for(var e,n,i,r,o=[],s=Fe(t),a=-1,l=t.length-1;++a<l;)e=Re(t[a],t[a+1]),Math.abs(e)<1e-6?s[a]=s[a+1]=0:(n=s[a]/e,i=s[a+1]/e,(r=n*n+i*i)>9&&(r=3*e/Math.sqrt(r),s[a]=r*n,s[a+1]=r*i));for(a=-1;++a<=l;)r=(t[Math.min(l,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),o.push([r||0,s[a]*r||0]);return o}function ze(t,e,n,i){var r,o,s,a,l,c;return r=i[t],o=r[0],s=r[1],r=i[e],a=r[0],l=r[1],r=i[n],c=r[0],(r[1]-s)*(a-o)-(l-s)*(c-o)>0}function je(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function $e(t,e,n,i){var r=t[0],o=n[0],s=e[0]-r,a=i[0]-o,l=t[1],c=n[1],u=e[1]-l,h=i[1]-c,d=(a*(l-c)-h*(r-o))/(h*s-a*u);return[r+d*s,l+d*u]}function We(t,e){var n={list:t.map(function(t,e){return{index:e,x:t[0],y:t[1]}}).sort(function(t,e){return t.y<e.y?-1:t.y>e.y?1:t.x<e.x?-1:t.x>e.x?1:0}),bottomSite:null},i={list:[],leftEnd:null,rightEnd:null,init:function(){i.leftEnd=i.createHalfEdge(null,"l"),i.rightEnd=i.createHalfEdge(null,"l"),i.leftEnd.r=i.rightEnd,i.rightEnd.l=i.leftEnd,i.list.unshift(i.leftEnd,i.rightEnd)},createHalfEdge:function(t,e){return{edge:t,side:e,vertex:null,l:null,r:null}},insert:function(t,e){e.l=t,e.r=t.r,t.r.l=e,t.r=e},leftBound:function(t){var e=i.leftEnd;do{e=e.r}while(e!=i.rightEnd&&r.rightOf(e,t));return e=e.l},del:function(t){t.l.r=t.r,t.r.l=t.l,t.edge=null},right:function(t){return t.r},left:function(t){return t.l},leftRegion:function(t){return null==t.edge?n.bottomSite:t.edge.region[t.side]},rightRegion:function(t){return null==t.edge?n.bottomSite:t.edge.region[Zo[t.side]]}},r={bisect:function(t,e){var n={region:{l:t,r:e},ep:{l:null,r:null}},i=e.x-t.x,r=e.y-t.y,o=i>0?i:-i,s=r>0?r:-r;return n.c=t.x*i+t.y*r+.5*(i*i+r*r),o>s?(n.a=1,n.b=r/i,n.c/=i):(n.b=1,n.a=i/r,n.c/=r),n},intersect:function(t,e){var n=t.edge,i=e.edge;if(!n||!i||n.region.r==i.region.r)return null;var r=n.a*i.b-n.b*i.a;if(Math.abs(r)<1e-10)return null;var o,s,a=(n.c*i.b-i.c*n.b)/r,l=(i.c*n.a-n.c*i.a)/r,c=n.region.r,u=i.region.r;c.y<u.y||c.y==u.y&&c.x<u.x?(o=t,s=n):(o=e,s=i);var h=a>=s.region.r.x;return h&&"l"===o.side||!h&&"r"===o.side?null:{x:a,y:l}},rightOf:function(t,e){var n=t.edge,i=n.region.r,r=e.x>i.x;if(r&&"l"===t.side)return 1;if(!r&&"r"===t.side)return 0;if(1===n.a){var o=e.y-i.y,s=e.x-i.x,a=0,l=0;if(!r&&n.b<0||r&&n.b>=0?l=a=o>=n.b*s:(l=e.x+e.y*n.b>n.c,n.b<0&&(l=!l),l||(a=1)),!a){var c=i.x-n.region.l.x;l=n.b*(s*s-o*o)<c*o*(1+2*s/c+n.b*n.b),n.b<0&&(l=!l)}}else{var u=n.c-n.a*e.x,h=e.y-u,d=e.x-i.x,p=u-i.y;l=h*h>d*d+p*p}return"l"===t.side?l:!l},endPoint:function(t,n,i){t.ep[n]=i,t.ep[Zo[n]]&&e(t)},distance:function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}},o={list:[],insert:function(t,e,n){t.vertex=e,t.ystar=e.y+n;for(var i=0,r=o.list,s=r.length;s>i;i++){var a=r[i];if(!(t.ystar>a.ystar||t.ystar==a.ystar&&e.x>a.vertex.x))break}r.splice(i,0,t)},del:function(t){for(var e=0,n=o.list,i=n.length;i>e&&n[e]!=t;++e);n.splice(e,1)},empty:function(){return 0===o.list.length},nextEvent:function(t){for(var e=0,n=o.list,i=n.length;i>e;++e)if(n[e]==t)return n[e+1];return null},min:function(){var t=o.list[0];return{x:t.vertex.x,y:t.ystar}},extractMin:function(){return o.list.shift()}};i.init(),n.bottomSite=n.list.shift();for(var s,a,l,c,u,h,d,p,f,m,g,v,y,_=n.list.shift();;)if(o.empty()||(s=o.min()),_&&(o.empty()||_.y<s.y||_.y==s.y&&_.x<s.x))a=i.leftBound(_),l=i.right(a),d=i.rightRegion(a),v=r.bisect(d,_),h=i.createHalfEdge(v,"l"),i.insert(a,h),(m=r.intersect(a,h))&&(o.del(a),o.insert(a,m,r.distance(m,_))),a=h,h=i.createHalfEdge(v,"r"),i.insert(a,h),(m=r.intersect(h,l))&&o.insert(h,m,r.distance(m,_)),_=n.list.shift();else{if(o.empty())break;a=o.extractMin(),c=i.left(a),l=i.right(a),u=i.right(l),d=i.leftRegion(a),p=i.rightRegion(l),g=a.vertex,r.endPoint(a.edge,a.side,g),r.endPoint(l.edge,l.side,g),i.del(a),o.del(l),i.del(l),y="l",d.y>p.y&&(f=d,d=p,p=f,y="r"),v=r.bisect(d,p),h=i.createHalfEdge(v,y),i.insert(c,h),r.endPoint(v,Zo[y],g),(m=r.intersect(c,h))&&(o.del(c),o.insert(c,m,r.distance(m,d))),(m=r.intersect(h,u))&&o.insert(h,m,r.distance(m,d))}for(a=i.right(i.leftEnd);a!=i.rightEnd;a=i.right(a))e(a.edge)}function Be(t){return t.x}function Ue(t){return t.y}function qe(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Ve(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var s=.5*(n+r),a=.5*(i+o),l=e.nodes;l[0]&&Ve(t,l[0],n,i,s,a),l[1]&&Ve(t,l[1],s,i,r,a),l[2]&&Ve(t,l[2],n,a,s,o),l[3]&&Ve(t,l[3],s,a,r,o)}}function Xe(t,e){t=Dr.rgb(t),e=Dr.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,s=e.g-i,a=e.b-r;return function(t){return"#"+nt(Math.round(n+o*t))+nt(Math.round(i+s*t))+nt(Math.round(r+a*t))}}function Ge(t){var e=[t.a,t.b],n=[t.c,t.d],i=Qe(e),r=Ke(e,n),o=Qe(Je(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*no,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*no:0}function Ke(t,e){return t[0]*e[0]+t[1]*e[1]}function Qe(t){var e=Math.sqrt(Ke(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Je(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Ze(t,e){return e-=t=+t,function(n){return t+e*n}}function tn(t,e){var n,i=[],r=[],o=Dr.transform(t),s=Dr.transform(e),a=o.translate,l=s.translate,c=o.rotate,u=s.rotate,h=o.skew,d=s.skew,p=o.scale,f=s.scale;return a[0]!=l[0]||a[1]!=l[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:Ze(a[0],l[0])},{i:3,x:Ze(a[1],l[1])})):i.push(l[0]||l[1]?"translate("+l+")":""),c!=u?(c-u>180?u+=360:u-c>180&&(c+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:Ze(c,u)})):u&&i.push(i.pop()+"rotate("+u+")"),h!=d?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:Ze(h,d)}):d&&i.push(i.pop()+"skewX("+d+")"),p[0]!=f[0]||p[1]!=f[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:Ze(p[0],f[0])},{i:n-2,x:Ze(p[1],f[1])})):(1!=f[0]||1!=f[1])&&i.push(i.pop()+"scale("+f+")"),n=r.length,function(t){for(var e,o=-1;++o<n;)i[(e=r[o]).i]=e.x(t);return i.join("")}}function en(t,e){var n,i={},r={};for(n in t)n in e?i[n]=on(n)(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function nn(t,e){var n,i,r,o,s,a=0,l=[],c=[];for(t+="",e+="",es.lastIndex=0,i=0;n=es.exec(e);++i)n.index&&l.push(e.substring(a,n.index)),c.push({i:l.length,x:n[0]}),l.push(null),a=es.lastIndex;for(a<e.length&&l.push(e.substring(a)),i=0,o=c.length;(n=es.exec(t))&&o>i;++i)if((s=c[i]).x==n[0]){if(s.i)if(null==l[s.i+1])for(l[s.i-1]+=s.x,l.splice(s.i,1),r=i+1;o>r;++r)c[r].i--;else for(l[s.i-1]+=s.x+l[s.i+1],l.splice(s.i,2),r=i+1;o>r;++r)c[r].i-=2;else if(null==l[s.i+1])l[s.i]=s.x;else for(l[s.i]=s.x+l[s.i+1],l.splice(s.i+1,1),r=i+1;o>r;++r)c[r].i--;c.splice(i,1),o--,i--}else s.x=Ze(parseFloat(n[0]),parseFloat(s.x));for(;o>i;)s=c.pop(),null==l[s.i+1]?l[s.i]=s.x:(l[s.i]=s.x+l[s.i+1],l.splice(s.i+1,1)),o--;return 1===l.length?null==l[0]?c[0].x:function(){return e}:function(t){for(i=0;o>i;++i)l[(s=c[i]).i]=s.x(t);return l.join("")}}function rn(t,e){for(var n,i=Dr.interpolators.length;--i>=0&&!(n=Dr.interpolators[i](t,e)););return n}function on(t){return"transform"==t?tn:rn}function sn(t,e){var n,i=[],r=[],o=t.length,s=e.length,a=Math.min(t.length,e.length);for(n=0;a>n;++n)i.push(rn(t[n],e[n]));for(;o>n;++n)r[n]=t[n];for(;s>n;++n)r[n]=e[n];return function(t){for(n=0;a>n;++n)r[n]=i[n](t);return r}}function an(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function ln(t){return function(e){return 1-t(1-e)}}function cn(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function un(t){return t*t}function hn(t){return t*t*t}function dn(t){return 1-Math.cos(t*Zr/2)}function pn(t){return Math.pow(2,10*(t-1))}function fn(t){return 1-Math.sqrt(1-t*t)}function mn(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function gn(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function vn(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return(n-t)*e}}function yn(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return Math.max(0,Math.min(1,(n-t)*e))}}function _n(t){for(var e=t.source,n=t.target,i=wn(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function bn(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function wn(t,e){if(t===e)return t;for(var n=bn(t),i=bn(e),r=n.pop(),o=i.pop(),s=null;r===o;)s=r,r=n.pop(),o=i.pop();return s}function xn(t){t.fixed|=2}function Sn(t){t.fixed&=-7}function kn(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Cn(t){t.fixed&=-5}function Tn(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,s=t.nodes,a=s.length,l=-1;++l<a;)null!=(o=s[l])&&(Tn(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,i+=c*t.point.x,r+=c*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function Dn(t,e){return Dr.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=An,t}function Mn(t){return t.children}function En(t){return t.value}function Ln(t,e){return e.value-t.value}function An(t){return Dr.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function In(t){return t.x}function Nn(t){return t.y}function Pn(t,e,n){t.y0=e,t.y=n}function On(t){return Dr.range(t.length)}function Yn(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function Rn(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function Fn(t){return t.reduce(Hn,0)}function Hn(t,e){return t+e[1]}function zn(t,e){return jn(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function jn(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function $n(t){return[Dr.min(t),Dr.max(t)]}function Wn(t,e){return t.parent==e.parent?1:2}function Bn(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function Un(t){var e,n=t.children;return n&&(e=n.length)?n[e-1]:t._tree.thread}function qn(t,e){var n=t.children;if(n&&(r=n.length))for(var i,r,o=-1;++o<r;)e(i=qn(n[o],e),t)>0&&(t=i);return t}function Vn(t,e){return t.x-e.x}function Xn(t,e){return e.x-t.x}function Gn(t,e){return t.depth-e.depth}function Kn(t,e){function n(t,i){var r=t.children;if(r&&(s=r.length))for(var o,s,a=null,l=-1;++l<s;)o=r[l],n(o,a),a=o;e(t,i)}n(t,null)}function Qn(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o]._tree,e.prelim+=n,e.mod+=n,n+=e.shift+(i+=e.change)}function Jn(t,e,n){t=t._tree;var i=n/((e=e._tree).number-t.number);t.change+=i,e.change-=i,e.shift+=n,e.prelim+=n,e.mod+=n}function Zn(t,e,n){return t._tree.ancestor.parent==e.parent?t._tree.ancestor:n}function ti(t,e){return t.value-e.value}function ei(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function ni(t,e){t._pack_next=e,e._pack_prev=t}function ii(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return r*r-n*n-i*i>.001}function ri(t){function e(t){u=Math.min(t.x-t.r,u),h=Math.max(t.x+t.r,h),d=Math.min(t.y-t.r,d),p=Math.max(t.y+t.r,p)}if((n=t.children)&&(c=n.length)){var n,i,r,o,s,a,l,c,u=1/0,h=-1/0,d=1/0,p=-1/0;if(n.forEach(oi),i=n[0],i.x=-i.r,i.y=0,e(i),c>1&&(r=n[1],r.x=r.r,r.y=0,e(r),c>2))for(o=n[2],li(i,r,o),e(o),ei(i,o),i._pack_prev=o,ei(o,r),r=i._pack_next,s=3;c>s;s++){li(i,r,o=n[s]);var f=0,m=1,g=1;for(a=r._pack_next;a!==r;a=a._pack_next,m++)if(ii(a,o)){f=1;break}if(1==f)for(l=i._pack_prev;l!==a._pack_prev&&!ii(l,o);l=l._pack_prev,g++);f?(g>m||m==g&&r.r<i.r?ni(i,r=a):ni(i=l,r),s--):(ei(i,o),r=o,e(o))}var v=(u+h)/2,y=(d+p)/2,_=0;for(s=0;c>s;s++)o=n[s],o.x-=v,o.y-=y,_=Math.max(_,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=_,n.forEach(si)}}function oi(t){t._pack_next=t._pack_prev=t}function si(t){delete t._pack_next,delete t._pack_prev}function ai(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,s=r.length;++o<s;)ai(r[o],e,n,i)}function li(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var s=e.r+n.r,a=r*r+o*o,l=.5+((i*=i)-(s*=s))/(2*a),c=Math.sqrt(Math.max(0,2*s*(i+a)-(i-=a)*i-s*s))/(2*a);n.x=t.x+l*r+c*o,n.y=t.y+l*o-c*r}else n.x=t.x+i,n.y=t.y}function ci(t){return 1+Dr.max(t,function(t){return t.y})}function ui(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function hi(t){var e=t.children;return e&&e.length?hi(e[0]):t}function di(t){var e,n=t.children;return n&&(e=n.length)?di(n[e-1]):t}function pi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function fi(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>o&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function mi(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function gi(t){return t.rangeExtent?t.rangeExtent():mi(t.range())}function vi(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function yi(t,e){var n,i=0,r=t.length-1,o=t[i],s=t[r];return o>s&&(n=i,i=r,r=n,n=o,o=s,s=n),(e=e(s-o))&&(t[i]=e.floor(o),t[r]=e.ceil(s)),t}function _i(t,e,n,i){var r=[],o=[],s=0,a=Math.min(t.length,e.length)-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=a;)r.push(n(t[s-1],t[s])),o.push(i(e[s-1],e[s]));return function(e){var n=Dr.bisect(t,e,1,a)-1;return o[n](r[n](e))}}function bi(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?_i:vi,l=i?yn:vn;return s=r(t,e,l,n),a=r(e,t,l,rn),o}function o(t){return s(t)}var s,a;return o.invert=function(t){return a(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},o.range=function(t){return arguments.length?(e=t,r()):e},o.rangeRound=function(t){return o.range(t).interpolate(gn)},o.clamp=function(t){return arguments.length?(i=t,r()):i},o.interpolate=function(t){return arguments.length?(n=t,r()):n},o.ticks=function(e){return ki(t,e)},o.tickFormat=function(e,n){return Ci(t,e,n)},o.nice=function(){return yi(t,xi),r()},o.copy=function(){return bi(t,e,n,i)},r()}function wi(t,e){return Dr.rebind(t,e,"range","rangeRound","interpolate","clamp")}function xi(t){return(t=Math.pow(10,Math.round(Math.log(t)/Math.LN10)-1))&&{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}}function Si(t,e){var n=mi(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return.15>=o?r*=10:.35>=o?r*=5:.75>=o&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function ki(t,e){return Dr.range.apply(Dr,Si(t,e))}function Ci(t,e,n){var i=-Math.floor(Math.log(Si(t,e)[2])/Math.LN10+.01);return Dr.format(n?n.replace(bo,function(t,e,n,r,o,s,a,l,c,u){return[e,n,r,o,s,a,l,c||"."+(i-2*("%"===u)),u].join("")}):",."+i+"f")}function Ti(t,e,n,i){function r(e){return t(n(e))}return r.invert=function(e){return i(t.invert(e))},r.domain=function(e){return arguments.length?(e[0]<0?(n=Ei,i=Li):(n=Di,i=Mi),t.domain(e.map(n)),r):t.domain().map(i)},r.base=function(t){return arguments.length?(e=+t,r):e},r.nice=function(){return t.domain(yi(t.domain(),Ai(e))),r},r.ticks=function(){var r=mi(t.domain()),o=[];if(r.every(isFinite)){var s=Math.log(e),a=Math.floor(r[0]/s),l=Math.ceil(r[1]/s),c=i(r[0]),u=i(r[1]),h=e%1?2:e;if(n===Ei)for(o.push(-Math.pow(e,-a));a++<l;)for(d=h-1;d>0;d--)o.push(-Math.pow(e,-a)*d);else{for(;l>a;a++)for(var d=1;h>d;d++)o.push(Math.pow(e,a)*d);o.push(Math.pow(e,a))}for(a=0;o[a]<c;a++);for(l=o.length;o[l-1]>u;l--);o=o.slice(a,l)}return o},r.tickFormat=function(t,o){if(arguments.length<2&&(o=us),!arguments.length)return o;var s,a=Math.log(e),l=Math.max(.1,t/r.ticks().length),c=n===Ei?(s=-1e-12,Math.floor):(s=1e-12,Math.ceil);return function(t){return t/i(a*c(n(t)/a+s))<=l?o(t):""}},r.copy=function(){return Ti(t.copy(),e,n,i)},wi(r,t)}function Di(t){return Math.log(0>t?0:t)}function Mi(t){return Math.exp(t)}function Ei(t){return-Math.log(t>0?0:-t)}function Li(t){return-Math.exp(-t)}function Ai(t){t=Math.log(t);var e={floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}};return function(){return e}}function Ii(t,e){function n(e){return t(i(e))}var i=Ni(e),r=Ni(1/e);return n.invert=function(e){return r(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain(e.map(i)),n):t.domain().map(r)},n.ticks=function(t){return ki(n.domain(),t)},n.tickFormat=function(t,e){return Ci(n.domain(),t,e)},n.nice=function(){return n.domain(yi(n.domain(),xi))},n.exponent=function(t){if(!arguments.length)return e;var o=n.domain();return i=Ni(e=t),r=Ni(1/e),n.domain(o)},n.copy=function(){return Ii(t.copy(),e)},wi(n,t)}function Ni(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function Pi(t,e){function n(e){return s[((o.get(e)||o.set(e,t.push(e)))-1)%s.length]}function i(e,n){return Dr.range(t.length).map(function(t){return e+n*t})}var o,s,a;return n.domain=function(i){if(!arguments.length)return t;t=[],o=new r;for(var s,a=-1,l=i.length;++a<l;)o.has(s=i[a])||o.set(s,t.push(s));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(s=t,a=0,e={t:"range",a:arguments},n):s},n.rangePoints=function(r,o){arguments.length<2&&(o=0);var l=r[0],c=r[1],u=(c-l)/(Math.max(1,t.length-1)+o);return s=i(t.length<2?(l+c)/2:l+u*o/2,u),a=0,e={t:"rangePoints",a:arguments},n},n.rangeBands=function(r,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var c=r[1]<r[0],u=r[c-0],h=(r[1-c]-u)/(t.length-o+2*l);return s=i(u+h*l,h),c&&s.reverse(),a=h*(1-o),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var c=r[1]<r[0],u=r[c-0],h=r[1-c],d=Math.floor((h-u)/(t.length-o+2*l)),p=h-u-(t.length-o)*d;return s=i(u+Math.round(p/2),d),c&&s.reverse(),a=Math.round(d*(1-o)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return mi(e.a[0])},n.copy=function(){return Pi(t,e)},n.domain(t)}function Oi(t,e){function n(){var n=0,o=e.length;for(r=[];++n<o;)r[n-1]=Dr.quantile(t,n/o);return i}function i(t){return isNaN(t=+t)?NaN:e[Dr.bisect(r,t)]}var r;return i.domain=function(e){return arguments.length?(t=e.filter(function(t){return!isNaN(t)}).sort(Dr.ascending),n()):t},i.range=function(t){return arguments.length?(e=t,n()):e},i.quantiles=function(){return r},i.copy=function(){return Oi(t,e)},n()}function Yi(t,e,n){function i(e){return n[Math.max(0,Math.min(s,Math.floor(o*(e-t))))]}function r(){return o=n.length/(e-t),s=n.length-1,i}var o,s;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.copy=function(){return Yi(t,e,n)},r()}function Ri(t,e){function n(n){return e[Dr.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Ri(t,e)},n}function Fi(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return ki(t,e)},e.tickFormat=function(e,n){return Ci(t,e,n)},e.copy=function(){return Fi(t)},e}function Hi(t){return t.innerRadius}function zi(t){return t.outerRadius}function ji(t){return t.startAngle}function $i(t){return t.endAngle}function Wi(t){for(var e,n,i,r=-1,o=t.length;++r<o;)e=t[r],n=e[0],i=e[1]+ms,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Bi(t){function e(e){function l(){m.push("M",a(t(v),h),u,c(t(g.reverse()),h),"Z")}for(var d,p,f,m=[],g=[],v=[],y=-1,_=e.length,b=lt(n),w=lt(r),x=n===i?function(){return p}:lt(i),S=r===o?function(){return f}:lt(o);++y<_;)s.call(this,d=e[y],y)?(g.push([p=+b.call(this,d,y),f=+w.call(this,d,y)]),v.push([+x.call(this,d,y),+S.call(this,d,y)])):g.length&&(l(),g=[],v=[]);return g.length&&l(),m.length?m.join(""):null}var n=De,i=De,r=0,o=Me,s=At,a=Ee,l=a.key,c=a,u="L",h=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=o=t,e):o},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(s=t,e):s},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?a=t:(a=Go.get(t)||Ee).key,c=a.reverse||a,u=a.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Ui(t){return t.radius}function qi(t){return[t.x,t.y]}function Vi(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]+ms;return[n*Math.cos(i),n*Math.sin(i)]}}function Xi(){return 64}function Gi(){return"circle"}function Ki(t){var e=Math.sqrt(t/Zr);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Qi(t,e){return Rr(t,ws),t.id=e,t}function Ji(t,e,n,i){var r=t.id;return I(t,"function"==typeof n?function(t,o,s){t.__transition__[r].tween.set(e,i(n.call(t,t.__data__,o,s)))}:(n=i(n),function(t){t.__transition__[r].tween.set(e,n)}))}function Zi(t){return null==t&&(t=""),function(){this.textContent=t}}function tr(t,e,n,i){var o=t.__transition__||(t.__transition__={active:0,count:0}),s=o[n];if(!s){var a=i.time;return s=o[n]={tween:new r,event:Dr.dispatch("start","end"),time:a,ease:i.ease,delay:i.delay,duration:i.duration},++o.count,Dr.timer(function(i){function r(i){return o.active>n?c():(o.active=n,d.start.call(t,u,e),s.tween.forEach(function(n,i){(i=i.call(t,u,e))&&m.push(i)}),l(i)||Dr.timer(l,0,a),1)}function l(i){if(o.active!==n)return c();for(var r=(i-p)/f,s=h(r),a=m.length;a>0;)m[--a].call(t,s);return r>=1?(c(),d.end.call(t,u,e),1):void 0}function c(){return--o.count?delete o[n]:delete t.__transition__,1}var u=t.__data__,h=s.ease,d=s.event,p=s.delay,f=s.duration,m=[];return i>=p?r(i):Dr.timer(r,p,a),1},0,a),s}}function er(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function nr(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function ir(t,e,n){if(i=[],n&&e.length>1){for(var i,r,o,s=mi(t.domain()),a=-1,l=e.length,c=(e[1]-e[0])/++n;++a<l;)for(r=n;--r>0;)(o=+e[a]-r*c)>=s[0]&&i.push(o);for(--a,r=0;++r<n&&(o=+e[a]+r*c)<s[1];)i.push(o)}return i}function rr(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function or(t,e,n){function i(e){var n=t(e),i=o(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new Ms(n-1)),1),n}function o(t,n){return e(t=new Ms(+t),n),t}function s(t,i,o){var s=r(t),a=[];if(o>1)for(;i>s;)n(s)%o||a.push(new Date(+s)),e(s,1);else for(;i>s;)a.push(new Date(+s)),e(s,1);return a}t.floor=t,t.round=i,t.ceil=r,t.offset=o,t.range=s;var a=t.utc=sr(t);return a.floor=a,a.round=sr(i),a.ceil=sr(r),a.offset=sr(o),a.range=function(t,e,n){try{Ms=rr;var i=new rr;return i._=t,s(i,e,n)}finally{Ms=Date}},t}function sr(t){return function(e,n){try{Ms=rr;var i=new rr;return i._=e,t(i,n)._}finally{Ms=Date}}}function ar(t,e,n,i){for(var r,o,s=0,a=e.length,l=n.length;a>s;){if(i>=l)return-1;if(37===(r=e.charCodeAt(s++))){if(!(o=Ws[e.charAt(s++)])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function lr(t){return new RegExp("^(?:"+t.map(Dr.requote).join("|")+")","i")}function cr(t){for(var e=new r,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function ur(t,e,n){var i=(t+="").length;return n>i?new Array(n-i+1).join(e)+t:t}function hr(t){return t+(t>68?1900:2e3)}function dr(t,e,n){Bs.lastIndex=0;var i=Bs.exec(e.substring(n,n+2));return i?(t.d=+i[0],n+=i[0].length):-1}function pr(t,e,n){Bs.lastIndex=0;var i=Bs.exec(e.substring(n,n+2));return i?(t.H=+i[0],n+=i[0].length):-1}function fr(t){return t.toISOString()}function mr(t,e,n){function i(e){return t(e)}return i.invert=function(e){return vr(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(vr)},i.nice=function(t){return i.domain(yi(i.domain(),function(){return t}))},i.ticks=function(n,r){var o=gr(i.domain());if("function"!=typeof n){var s=(o[1]-o[0])/n,a=Dr.bisect(Vs,s);if(a==Vs.length)return e.year(o,n);if(!a)return t.ticks(n).map(vr);Math.log(s/Vs[a-1])<Math.log(Vs[a]/s)&&--a,r=(n=e[a])[1],n=n[0].range}return n(o[0],new Date(+o[1]+1),r)},i.tickFormat=function(){return n},i.copy=function(){return mr(t.copy(),e,n)},Dr.rebind(i,t,"range","rangeRound","interpolate","clamp")}function gr(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function vr(t){return new Date(t)}function yr(t){return function(e){for(var n=t.length-1,i=t[n];!i[1](e);)i=t[--n];return i[0](e)}}function _r(t){var e=new Date(t,0,1);return e.setFullYear(t),e}function br(t){var e=t.getFullYear(),n=_r(e);return e+(t-n)/(_r(e+1)-n)}function wr(t){var e=new Date(Date.UTC(t,0,1));return e.setUTCFullYear(t),e}function xr(t){var e=t.getUTCFullYear(),n=wr(e);return e+(t-n)/(wr(e+1)-n)}function Sr(t){return t.responseText}function kr(t){return JSON.parse(t.responseText)}function Cr(t){var e=Mr.createRange();return e.selectNode(Mr.body),e.createContextualFragment(t.responseText)}function Tr(t){return t.responseXML}var Dr={version:"3.1.5"};Date.now||(Date.now=function(){return+new Date});var Mr=document,Er=window;try{Mr.createElement("div").style.setProperty("opacity",0,"")}catch(t){var Lr=Er.CSSStyleDeclaration.prototype,Ar=Lr.setProperty;Lr.setProperty=function(t,e,n){Ar.call(this,t,e+"",n)}}Dr.ascending=function(t,e){return e>t?-1:t>e?1:t>=e?0:NaN},Dr.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},Dr.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o&&(null==(n=t[r])||n!=n);)n=void 0;for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o&&(null==(n=e.call(t,t[r],r))||n!=n);)n=void 0;for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},Dr.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o&&(null==(n=t[r])||n!=n);)n=void 0;for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o&&(null==(n=e.call(t,t[r],r))||n!=n);)n=void 0;for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},Dr.extent=function(t,e){var n,i,r,o=-1,s=t.length;if(1===arguments.length){for(;++o<s&&(null==(n=r=t[o])||n!=n);)n=r=void 0;for(;++o<s;)null!=(i=t[o])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++o<s&&(null==(n=r=e.call(t,t[o],o))||n!=n);)n=void 0;for(;++o<s;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},Dr.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)isNaN(n=+t[o])||(i+=n);else for(;++o<r;)isNaN(n=+e.call(t,t[o],o))||(i+=n);return i},Dr.mean=function(e,n){var i,r=e.length,o=0,s=-1,a=0;if(1===arguments.length)for(;++s<r;)t(i=e[s])&&(o+=(i-o)/++a);else for(;++s<r;)t(i=n.call(e,e[s],s))&&(o+=(i-o)/++a);return a?o:void 0},Dr.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},Dr.median=function(e,n){return arguments.length>1&&(e=e.map(n)),(e=e.filter(t)).length?Dr.quantile(e.sort(Dr.ascending),.5):void 0},Dr.bisector=function(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t.call(e,e[o],o)<n?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;n<t.call(e,e[o],o)?r=o:i=o+1}return i}}};var Ir=Dr.bisector(function(t){return t});Dr.bisectLeft=Ir.left,Dr.bisect=Dr.bisectRight=Ir.right,Dr.shuffle=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t},Dr.permute=function(t,e){for(var n=[],i=-1,r=e.length;++i<r;)n[i]=t[e[i]];return n},Dr.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,n=Dr.min(arguments,e),i=new Array(n);++t<n;)for(var r,o=-1,s=i[t]=new Array(r);++o<r;)s[o]=arguments[o][t];return i},Dr.transpose=function(t){return Dr.zip.apply(Dr,t)},Dr.keys=function(t){var e=[];for(var n in t)e.push(n);return e},Dr.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Dr.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Dr.merge=function(t){return Array.prototype.concat.apply([],t)},Dr.range=function(t,e,i){if(arguments.length<3&&(i=1,arguments.length<2&&(e=t,t=0)),(e-t)/i==1/0)throw new Error("infinite range");var r,o=[],s=n(Math.abs(i)),a=-1;if(t*=s,e*=s,0>(i*=s))for(;(r=t+i*++a)>e;)o.push(r/s);else for(;(r=t+i*++a)<e;)o.push(r/s);return o},Dr.map=function(t){var e=new r;for(var n in t)e.set(n,t[n]);return e},i(r,{has:function(t){return Nr+t in this},get:function(t){return this[Nr+t]},set:function(t,e){return this[Nr+t]=e},remove:function(t){return(t=Nr+t)in this&&delete this[t]},keys:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},values:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},entries:function(){var t=[];return this.forEach(function(e,n){t.push({key:e,value:n})}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===Pr&&t.call(this,e.substring(1),this[e])}});var Nr="\0",Pr=Nr.charCodeAt(0);Dr.nest=function(){function t(e,a,l){if(l>=s.length)return i?i.call(o,a):n?a.sort(n):a;for(var c,u,h,d,p=-1,f=a.length,m=s[l++],g=new r;++p<f;)(d=g.get(c=m(u=a[p])))?d.push(u):g.set(c,[u]);return e?(u=e(),h=function(n,i){u.set(n,t(e,i,l))}):(u={},h=function(n,i){u[n]=t(e,i,l)}),g.forEach(h),u}function e(t,n){if(n>=s.length)return t;var i=[],r=a[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,o={},s=[],a=[];return o.map=function(e,n){return t(n,e,0)},o.entries=function(n){return e(t(Dr.map,n,0),0)},o.key=function(t){return s.push(t),o},o.sortKeys=function(t){return a[s.length-1]=t,o},o.sortValues=function(t){return n=t,o},o.rollup=function(t){return i=t,o},o},Dr.set=function(t){var e=new o;if(t)for(var n=0;n<t.length;n++)e.add(t[n]);return e},i(o,{has:function(t){return Nr+t in this},add:function(t){return this[Nr+t]=!0,t},remove:function(t){return(t=Nr+t)in this&&delete this[t]},values:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===Pr&&t.call(this,e.substring(1))}}),Dr.behavior={},Dr.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=s(t,e,e[n]);return t},Dr.dispatch=function(){for(var t=new a,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=l(t);return t},a.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.substring(n+1),t=t.substring(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},Dr.event=null,Dr.mouse=function(t){return p(t,u())};var Or=/WebKit/.test(Er.navigator.userAgent)?-1:0,Yr=function(t){return Array.prototype.slice.call(t)};try{Yr(Mr.documentElement.childNodes)[0].nodeType}catch(t){Yr=function(t){for(var e=-1,n=t.length,i=[];++e<n;)i.push(t[e]);return i}}var Rr=[].__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};Dr.touches=function(t,e){return arguments.length<2&&(e=u().touches),e?Yr(e).map(function(e){var n=p(t,e);return n.identifier=e.identifier,n}):[]},Dr.behavior.drag=function(){function t(){this.on("mousedown.drag",e).on("touchstart.drag",e)}function e(){function t(){var t=o.parentNode;return null!=l?Dr.touches(t).filter(function(t){return t.identifier===l})[0]:Dr.mouse(t)}function e(){s({type:"dragend"}),d&&(c(),Dr.event.target===a&&h(p,"click")),p.on(null!=l?"touchmove.drag-"+l:"mousemove.drag",null).on(null!=l?"touchend.drag-"+l:"mouseup.drag",null)}var r,o=this,s=n.of(o,arguments),a=Dr.event.target,l=Dr.event.touches?Dr.event.changedTouches[0].identifier:null,u=t(),d=0,p=Dr.select(Er).on(null!=l?"touchmove.drag-"+l:"mousemove.drag",function(){if(!o.parentNode)return e();var n=t(),i=n[0]-u[0],a=n[1]-u[1];d|=i|a,u=n,c(),s({type:"drag",x:n[0]+r[0],y:n[1]+r[1],dx:i,dy:a})}).on(null!=l?"touchend.drag-"+l:"mouseup.drag",e,!0);i?(r=i.apply(o,arguments),r=[r.x-u[0],r.y-u[1]]):r=[0,0],null==l&&c(),s({type:"dragstart"})}var n=d(t,"drag","dragstart","dragend"),i=null;return t.origin=function(e){return arguments.length?(i=e,t):i},Dr.rebind(t,n,"on")};var Fr=function(t,e){return e.querySelector(t)},Hr=function(t,e){return e.querySelectorAll(t)},zr=Mr.documentElement,jr=zr.matchesSelector||zr.webkitMatchesSelector||zr.mozMatchesSelector||zr.msMatchesSelector||zr.oMatchesSelector,$r=function(t,e){return jr.call(t,e)};"function"==typeof Sizzle&&(Fr=function(t,e){return Sizzle(t,e)[0]||null},Hr=function(t,e){return Sizzle.uniqueSort(Sizzle(t,e))},$r=Sizzle.matchesSelector);var Wr=[];Dr.selection=function(){return Xr},Dr.selection.prototype=Wr,Wr.select=function(t){var e,n,i,r,o=[];"function"!=typeof t&&(t=m(t));for(var s=-1,a=this.length;++s<a;){o.push(e=[]),e.parentNode=(i=this[s]).parentNode;for(var l=-1,c=i.length;++l<c;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return f(o)},Wr.selectAll=function(t){var e,n,i=[];"function"!=typeof t&&(t=g(t));for(var r=-1,o=this.length;++r<o;)for(var s=this[r],a=-1,l=s.length;++a<l;)(n=s[a])&&(i.push(e=Yr(t.call(n,n.__data__,a))),e.parentNode=n);return f(i)};var Br={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Dr.ns={prefix:Br,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.substring(0,e),t=t.substring(e+1)),Br.hasOwnProperty(n)?{space:Br[n],local:t}:t}},Wr.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=Dr.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(v(e,t[e]));return this}return this.each(v(t,e))},Dr.requote=function(t){return t.replace(Ur,"\\$&")};var Ur=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Wr.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=t.trim().split(/^|\s+/g)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!_(t[r]).test(e))return!1;return!0}for(e in t)this.each(w(e,t[e]));return this}return this.each(w(t,e))},Wr.style=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e="");for(n in t)this.each(S(n,t[n],e));return this}if(2>i)return Er.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(S(t,e,n))},Wr.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(k(e,t[e]));return this}return this.each(k(t,e))},Wr.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Wr.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Wr.append=function(t){return t=Dr.ns.qualify(t),this.select(t.local?function(){return this.appendChild(Mr.createElementNS(t.space,t.local))}:function(){return this.appendChild(Mr.createElementNS(this.namespaceURI,t))})},Wr.insert=function(t,e){return t=Dr.ns.qualify(t),"function"!=typeof e&&(e=m(e)),this.select(t.local?function(n,i){return this.insertBefore(Mr.createElementNS(t.space,t.local),e.call(this,n,i))}:function(n,i){return this.insertBefore(Mr.createElementNS(this.namespaceURI,t),e.call(this,n,i))})},Wr.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},Wr.data=function(t,e){function n(t,n){var i,o,s,a=t.length,h=n.length,d=Math.min(a,h),p=new Array(h),f=new Array(h),m=new Array(a);if(e){var g,v=new r,y=new r,_=[];for(i=-1;++i<a;)g=e.call(o=t[i],o.__data__,i),v.has(g)?m[i]=o:v.set(g,o),_.push(g);for(i=-1;++i<h;)g=e.call(n,s=n[i],i),(o=v.get(g))?(p[i]=o,o.__data__=s):y.has(g)||(f[i]=C(s)),y.set(g,s),v.remove(g);for(i=-1;++i<a;)v.has(_[i])&&(m[i]=t[i])}else{for(i=-1;++i<d;)o=t[i],s=n[i],o?(o.__data__=s,p[i]=o):f[i]=C(s);for(;h>i;++i)f[i]=C(n[i]);for(;a>i;++i)m[i]=t[i]}f.update=p,f.parentNode=p.parentNode=m.parentNode=t.parentNode,l.push(f),c.push(p),u.push(m)}var i,o,s=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(i=this[0]).length);++s<a;)(o=i[s])&&(t[s]=o.__data__);return t}var l=N([]),c=f([]),u=f([]);if("function"==typeof t)for(;++s<a;)n(i=this[s],t.call(i,i.parentNode.__data__,s));else for(;++s<a;)n(i=this[s],t);return c.enter=function(){return l},c.exit=function(){return u},c},Wr.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Wr.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=T(t));for(var o=0,s=this.length;s>o;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var a=0,l=n.length;l>a;a++)(i=n[a])&&t.call(i,i.__data__,a)&&e.push(i)}return f(r)},Wr.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Wr.sort=function(t){t=D.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Wr.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(E(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(E(t,e,n))};var qr=Dr.map({mouseenter:"mouseover",mouseleave:"mouseout"});qr.forEach(function(t){"on"+t in Mr&&qr.remove(t)}),Wr.each=function(t){return I(this,function(e,n,i){t.call(e,e.__data__,n,i)})},Wr.call=function(t){var e=Yr(arguments);return t.apply(e[0]=this,e),this},Wr.empty=function(){return!this.node()},Wr.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var o=n[i];if(o)return o}return null};var Vr=[];Dr.selection.enter=N,Dr.selection.enter.prototype=Vr,Vr.append=Wr.append,Vr.insert=Wr.insert,Vr.empty=Wr.empty,Vr.node=Wr.node,Vr.select=function(t){for(var e,n,i,r,o,s=[],a=-1,l=this.length;++a<l;){i=(r=this[a]).update,s.push(e=[]),e.parentNode=r.parentNode;for(var c=-1,u=r.length;++c<u;)(o=r[c])?(e.push(i[c]=n=t.call(r.parentNode,o.__data__,c)),n.__data__=o.__data__):e.push(null)}return f(s)},Wr.transition=function(){var t,e,n=ys||++xs,i=[],r=Object.create(Ss);r.time=Date.now();for(var o=-1,s=this.length;++o<s;){i.push(t=[]);for(var a=this[o],l=-1,c=a.length;++l<c;)(e=a[l])&&tr(e,l,n,r),t.push(e)}return Qi(i,n)};var Xr=f([[Mr]]);Xr[0].parentNode=zr,Dr.select=function(t){return"string"==typeof t?Xr.select(t):f([[t]])},Dr.selectAll=function(t){return"string"==typeof t?Xr.selectAll(t):f([Yr(t)])},Dr.behavior.zoom=function(){function t(){this.on("mousedown.zoom",a).on("mousemove.zoom",u).on(Qr+".zoom",l).on("dblclick.zoom",p).on("touchstart.zoom",f).on("touchmove.zoom",m).on("touchend.zoom",f)}function e(t){return[(t[0]-S[0])/k,(t[1]-S[1])/k]}function n(t){return[t[0]*k+S[0],t[1]*k+S[1]]}function i(t){k=Math.max(C[0],Math.min(C[1],t))}function r(t,e){e=n(e),S[0]+=t[0]-e[0],S[1]+=t[1]-e[1]}function o(){_&&_.domain(y.range().map(function(t){return(t-S[0])/k}).map(y.invert)),w&&w.domain(b.range().map(function(t){return(t-S[1])/k}).map(b.invert))}function s(t){o(),Dr.event.preventDefault(),t({type:"zoom",scale:k,translate:S})}function a(){var t=this,n=T.of(t,arguments),i=Dr.event.target,o=0,a=Dr.select(Er).on("mousemove.zoom",function(){o=1,r(Dr.mouse(t),l),s(n)}).on("mouseup.zoom",function(){o&&c(),a.on("mousemove.zoom",null).on("mouseup.zoom",null),o&&Dr.event.target===i&&h(a,"click.zoom")}),l=e(Dr.mouse(t));Er.focus(),c()}function l(){g||(g=e(Dr.mouse(this))),i(Math.pow(2,.002*Gr())*k),r(Dr.mouse(this),g),s(T.of(this,arguments))}function u(){g=null}function p(){var t=Dr.mouse(this),n=e(t),o=Math.log(k)/Math.LN2;i(Math.pow(2,Dr.event.shiftKey?Math.ceil(o)-1:Math.floor(o)+1)),r(t,n),s(T.of(this,arguments))}function f(){var t=Dr.touches(this),n=Date.now();if(v=k,g={},t.forEach(function(t){g[t.identifier]=e(t)}),c(),1===t.length){if(500>n-x){var o=t[0],a=e(t[0]);i(2*k),r(o,a),s(T.of(this,arguments))}x=n}}function m(){var t=Dr.touches(this),e=t[0],n=g[e.identifier];if(o=t[1]){var o,a=g[o.identifier];e=[(e[0]+o[0])/2,(e[1]+o[1])/2],n=[(n[0]+a[0])/2,(n[1]+a[1])/2],i(Dr.event.scale*v)}r(e,n),x=null,s(T.of(this,arguments))}var g,v,y,_,b,w,x,S=[0,0],k=1,C=Kr,T=d(t,"zoom");return t.translate=function(e){return arguments.length?(S=e.map(Number),o(),t):S},t.scale=function(e){return arguments.length?(k=+e,o(),t):k},t.scaleExtent=function(e){return arguments.length?(C=null==e?Kr:e.map(Number),t):C},t.x=function(e){return arguments.length?(_=e,y=e.copy(),S=[0,0],k=1,t):_},t.y=function(e){return arguments.length?(w=e,b=e.copy(),S=[0,0],k=1,t):w},Dr.rebind(t,T,"on")};var Gr,Kr=[0,1/0],Qr="onwheel"in Mr?(Gr=function(){return-Dr.event.deltaY*(Dr.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Mr?(Gr=function(){return Dr.event.wheelDelta},"mousewheel"):(Gr=function(){return-Dr.event.detail},"MozMousePixelScroll");P.prototype.toString=function(){return this.rgb()+""},Dr.hsl=function(t,e,n){return 1===arguments.length?t instanceof Y?O(t.h,t.s,t.l):it(""+t,rt,O):O(+t,+e,+n)};var Jr=Y.prototype=new P;Jr.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),O(this.h,this.s,this.l/t)},Jr.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),O(this.h,this.s,t*this.l)},Jr.rgb=function(){return R(this.h,this.s,this.l)};var Zr=Math.PI,to=1e-6,eo=Zr/180,no=180/Zr;Dr.hcl=function(t,e,n){return 1===arguments.length?t instanceof U?B(t.h,t.c,t.l):t instanceof X?K(t.l,t.a,t.b):K((t=ot((t=Dr.rgb(t)).r,t.g,t.b)).l,t.a,t.b):B(+t,+e,+n)};var io=U.prototype=new P;io.brighter=function(t){return B(this.h,this.c,Math.min(100,this.l+ro*(arguments.length?t:1)))},io.darker=function(t){return B(this.h,this.c,Math.max(0,this.l-ro*(arguments.length?t:1)))},io.rgb=function(){return q(this.h,this.c,this.l).rgb()},Dr.lab=function(t,e,n){return 1===arguments.length?t instanceof X?V(t.l,t.a,t.b):t instanceof U?q(t.l,t.c,t.h):ot((t=Dr.rgb(t)).r,t.g,t.b):V(+t,+e,+n)};var ro=18,oo=.95047,so=1,ao=1.08883,lo=X.prototype=new P;lo.brighter=function(t){return V(Math.min(100,this.l+ro*(arguments.length?t:1)),this.a,this.b)},lo.darker=function(t){return V(Math.max(0,this.l-ro*(arguments.length?t:1)),this.a,this.b)},lo.rgb=function(){return G(this.l,this.a,this.b)},Dr.rgb=function(t,e,n){return 1===arguments.length?t instanceof et?tt(t.r,t.g,t.b):it(""+t,tt,R):tt(~~t,~~e,~~n)};var co=et.prototype=new P;co.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),tt(Math.min(255,Math.floor(e/t)),Math.min(255,Math.floor(n/t)),Math.min(255,Math.floor(i/t)))):tt(r,r,r)},co.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),tt(Math.floor(t*this.r),Math.floor(t*this.g),Math.floor(t*this.b))},co.hsl=function(){return rt(this.r,this.g,this.b)},co.toString=function(){return"#"+nt(this.r)+nt(this.g)+nt(this.b)};var uo=Dr.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});uo.forEach(function(t,e){uo.set(t,it(e,tt,R))}),Dr.functor=lt,Dr.xhr=function(t,e,n){function i(){var t=l.status;!t&&l.responseText||t>=200&&300>t||304===t?o.load.call(r,a.call(r,l)):o.error.call(r,l)}var r={},o=Dr.dispatch("progress","load","error"),s={},a=ct,l=new(Er.XDomainRequest&&/^(http(s)?:)?\/\//.test(t)?XDomainRequest:XMLHttpRequest);return"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(t){var e=Dr.event;Dr.event=t;try{o.progress.call(r,l)}finally{Dr.event=e}},r.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",r)},r.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",r):e},r.response=function(t){return a=t,r},["get","post"].forEach(function(t){r[t]=function(){return r.send.apply(r,[t].concat(Yr(arguments)))}}),r.send=function(n,i,o){if(2===arguments.length&&"function"==typeof i&&(o=i,i=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var a in s)l.setRequestHeader(a,s[a]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),l.send(null==i?null:i),r},r.abort=function(){return l.abort(),r},Dr.rebind(r,o,"on"),2===arguments.length&&"function"==typeof e&&(n=e,e=null),null==n?r:r.get(ut(n))},Dr.csv=ht(",","text/csv"),Dr.tsv=ht("  ","text/tab-separated-values");var ho,po,fo=0,mo={},go=null;Dr.timer=function(t,e,n){if(arguments.length<3){if(arguments.length<2)e=0;else if(!isFinite(e))return;n=Date.now()}var i=mo[t.id];i&&i.callback===t?(i.then=n,i.delay=e):mo[t.id=++fo]=go={callback:t,then:n,delay:e,next:go},ho||(po=clearTimeout(po),ho=1,vo(dt))},Dr.timer.flush=function(){for(var t,e=Date.now(),n=go;n;)t=e-n.then,n.delay||(n.flush=n.callback(t)),n=n.next;pt()};var vo=Er.requestAnimationFrame||Er.webkitRequestAnimationFrame||Er.mozRequestAnimationFrame||Er.oRequestAnimationFrame||Er.msRequestAnimationFrame||function(t){setTimeout(t,17)},yo=[3,3],_o=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*Math.abs(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});Dr.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=Dr.round(t,ft(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((0>=n?n+1:n-1)/3)))),_o[8+n/3]},Dr.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},Dr.format=function(t){var e=bo.exec(t),n=e[1]||" ",i=e[2]||">",r=e[3]||"",o=e[4]||"",s=e[5],a=+e[6],l=e[7],c=e[8],u=e[9],h=1,d="",p=!1;switch(c&&(c=+c.substring(1)),(s||"0"===n&&"="===i)&&(s=n="0",i="=",l&&(a-=Math.floor((a-1)/4))),u){case"n":l=!0,u="g";break;case"%":h=100,d="%",u="f";break;case"p":h=100,d="%",u="r";break;case"b":case"o":case"x":case"X":o&&(o="0"+u.toLowerCase());case"c":case"d":p=!0,c=0;break;case"s":h=-1,u="r"}"#"===o&&(o=""),"r"!=u||c||(u="g"),null!=c&&("g"==u?c=Math.max(1,Math.min(21,c)):("e"==u||"f"==u)&&(c=Math.max(0,Math.min(20,c)))),u=wo.get(u)||mt;var f=s&&l;return function(t){if(p&&t%1)return"";var e=0>t||0===t&&0>1/t?(t=-t,"-"):r;if(0>h){var m=Dr.formatPrefix(t,c);t=m.scale(t),d=m.symbol}else t*=h;t=u(t,c),!s&&l&&(t=xo(t));var g=o.length+t.length+(f?0:e.length),v=a>g?new Array(g=a-g+1).join(n):"";return f&&(t=xo(v+t)),t.replace(".","."),e+=o,("<"===i?e+t+v:">"===i?v+e+t:"^"===i?v.substring(0,g>>=1)+e+t+v.substring(g):e+(f?t:v+t))+d}};var bo=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,wo=Dr.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=Dr.round(t,ft(t,e))).toFixed(Math.max(0,Math.min(20,ft(t*(1+1e-15),e))))}}),xo=ct;if(yo){var So=yo.length;xo=function(t){for(var e=t.lastIndexOf("."),n=e>=0?"."+t.substring(e+1):(e=t.length,""),i=[],r=0,o=yo[0];e>0&&o>0;)i.push(t.substring(e-=o,e+o)),o=yo[r=(r+1)%So];return i.reverse().join(",")+n}}Dr.geo={},Dr.geo.stream=function(t,e){t&&ko.hasOwnProperty(t.type)?ko[t.type](t,e):gt(t,e)};var ko={Feature:function(t,e){gt(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)gt(n[i].geometry,e)}},Co={Sphere:function(t,e){e.sphere()},Point:function(t,e){var n=t.coordinates;e.point(n[0],n[1])},MultiPoint:function(t,e){for(var n,i=t.coordinates,r=-1,o=i.length;++r<o;)n=i[r],e.point(n[0],n[1])},LineString:function(t,e){vt(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)vt(n[i],e,0)},Polygon:function(t,e){yt(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)yt(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)gt(n[i],e)}};Dr.geo.area=function(t){return To=0,Dr.geo.stream(t,Eo),To};var To,Do,Mo,Eo={sphere:function(){To+=4*Zr},point:M,lineStart:M,lineEnd:M,polygonStart:function(){Do=1,Mo=0,Eo.lineStart=_t},polygonEnd:function(){var t=2*Math.atan2(Mo,Do);To+=0>t?4*Zr+t:t,Eo.lineStart=Eo.lineEnd=Eo.point=M}};Dr.geo.bounds=bt(ct),Dr.geo.centroid=function(t){Lo=Ao=Io=No=Po=0,Dr.geo.stream(t,Oo);var e;return Ao&&Math.abs(e=Math.sqrt(Io*Io+No*No+Po*Po))>to?[Math.atan2(No,Io)*no,Math.asin(Math.max(-1,Math.min(1,Po/e)))*no]:void 0};var Lo,Ao,Io,No,Po,Oo={sphere:function(){2>Lo&&(Lo=2,Ao=Io=No=Po=0)},point:wt,lineStart:St,lineEnd:kt,polygonStart:function(){2>Lo&&(Lo=2,Ao=Io=No=Po=0),Oo.lineStart=xt},polygonEnd:function(){Oo.lineStart=St}},Yo=Yt(At,function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Zr:-Zr,l=Math.abs(o-n);Math.abs(l-Zr)<to?(t.point(n,i=(i+s)/2>0?Zr/2:-Zr/2),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&l>=Zr&&(Math.abs(n-r)<to&&(n-=r*to),Math.abs(o-a)<to&&(o-=a*to),i=jt(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}},function(t,e,n,i){var r;if(null==t)r=n*Zr/2,i.point(-Zr,r),i.point(0,r),i.point(Zr,r),i.point(Zr,0),i.point(Zr,-r),i.point(0,-r),i.point(-Zr,-r),i.point(-Zr,0),i.point(-Zr,r);else if(Math.abs(t[0]-e[0])>to){var o=(t[0]<e[0]?1:-1)*Zr;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}),Ro=1e9;Dr.geo.projection=Vt,Dr.geo.projectionMutator=Xt,(Dr.geo.equirectangular=function(){return Vt(Kt)}).raw=Kt.invert=Kt,Dr.geo.rotation=function(t){function e(e){return e=t(e[0]*eo,e[1]*eo),e[0]*=no,e[1]*=no,e}return t=Qt(t[0]%360*eo,t[1]*eo,t.length>2?t[2]*eo:0),e.invert=function(e){return e=t.invert(e[0]*eo,e[1]*eo),e[0]*=no,e[1]*=no,e},e},Dr.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=Qt(-t[0]*eo,-t[1]*eo,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=no,t[1]*=no}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=ee((e=+i)*eo,r*eo),t):e},t.precision=function(i){return arguments.length?(n=ee(e*eo,(r=+i)*eo),t):r},t.angle(90)},Dr.geo.distance=function(t,e){var n,i=(e[0]-t[0])*eo,r=t[1]*eo,o=e[1]*eo,s=Math.sin(i),a=Math.cos(i),l=Math.sin(r),c=Math.cos(r),u=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*s)*n+(n=c*u-l*h*a)*n),l*u+c*h*a)},Dr.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Dr.range(Math.ceil(o/g)*g,r,g).map(d).concat(Dr.range(Math.ceil(c/v)*v,l,v).map(p)).concat(Dr.range(Math.ceil(i/f)*f,n,f).filter(function(t){return Math.abs(t%g)>to}).map(u)).concat(Dr.range(Math.ceil(a/m)*m,s,m).filter(function(t){return Math.abs(t%v)>to}).map(h))}var n,i,r,o,s,a,l,c,u,h,d,p,f=10,m=f,g=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(p(l).slice(1),d(r).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],c=+e[0][1],l=+e[1][1],o>r&&(e=o,o=r,r=e),c>l&&(e=c,c=l,l=e),t.precision(y)):[[o,c],[r,l]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],i>n&&(e=i,i=n,n=e),a>s&&(e=a,a=s,s=e),t.precision(y)):[[i,a],[n,s]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(g=+e[0],v=+e[1],t):[g,v]},t.minorStep=function(e){return arguments.length?(f=+e[0],m=+e[1],t):[f,m]},t.precision=function(e){return arguments.length?(y=+e,u=ie(a,s,90),h=re(i,n,y),d=ie(c,l,90),p=re(o,r,y),t):y},t.majorExtent([[-180,-90+to],[180,90-to]]).minorExtent([[-180,-80-to],[180,80+to]])},Dr.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=oe,r=se;return t.distance=function(){return Dr.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},Dr.geo.interpolate=function(t,e){return ae(t[0]*eo,t[1]*eo,e[0]*eo,e[1]*eo)},Dr.geo.length=function(t){return Fo=0,Dr.geo.stream(t,Ho),Fo};var Fo,Ho={sphere:M,point:M,lineStart:function(){function t(t,r){var o=Math.sin(r*=eo),s=Math.cos(r),a=Math.abs((t*=eo)-e),l=Math.cos(a);Fo+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=i*o-n*s*l)*a),n*o+i*s*l),e=t,n=o,i=s}var e,n,i;Ho.point=function(r,o){e=r*eo,n=Math.sin(o*=eo),i=Math.cos(o),Ho.point=t},Ho.lineEnd=function(){Ho.point=Ho.lineEnd=M}},lineEnd:M,polygonStart:M,polygonEnd:M};(Dr.geo.conicEqualArea=function(){return le(ce)}).raw=ce,Dr.geo.albersUsa=function(){function t(t){return e(t)(t)}function e(t){var e=t[0],n=t[1];return n>50?s:-140>e?a:21>n?l:o}var n,i,r,o=Dr.geo.conicEqualArea().rotate([98,0]).center([0,38]).parallels([29.5,45.5]),s=Dr.geo.conicEqualArea().rotate([160,0]).center([0,60]).parallels([55,65]),a=Dr.geo.conicEqualArea().rotate([160,0]).center([0,20]).parallels([8,18]),l=Dr.geo.conicEqualArea().rotate([60,0]).center([0,10]).parallels([8,18]);return t.invert=function(t){return n(t)||i(t)||r(t)||o.invert(t)},t.scale=function(e){return arguments.length?(o.scale(e),s.scale(.6*e),a.scale(e),l.scale(1.5*e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var c=o.scale(),u=e[0],h=e[1];return o.translate(e),s.translate([u-.4*c,h+.17*c]),a.translate([u-.19*c,h+.2*c]),l.translate([u+.58*c,h+.43*c]),n=ue(s,[[-180,50],[-130,72]]),i=ue(a,[[-164,18],[-154,24]]),r=ue(l,[[-67.5,17.5],[-65,19]]),t},t.scale(1e3)};var zo,jo,$o={point:M,lineStart:M,lineEnd:M,polygonStart:function(){jo=0,$o.lineStart=he},polygonEnd:function(){$o.lineStart=$o.lineEnd=$o.point=M,zo+=Math.abs(jo/2)}},Wo={point:pe,lineStart:fe,lineEnd:me,polygonStart:function(){Wo.lineStart=ge},polygonEnd:function(){Wo.point=pe,Wo.lineStart=fe,Wo.lineEnd=me}};Dr.geo.path=function(){function t(t){return t&&Dr.geo.stream(t,i(r.pointRadius("function"==typeof o?+o.apply(this,arguments):o))),r.result()}var e,n,i,r,o=4.5;return t.area=function(t){return zo=0,Dr.geo.stream(t,i($o)),zo},t.centroid=function(t){return Lo=Io=No=Po=0,Dr.geo.stream(t,i(Wo)),Po?[Io/Po,No/Po]:void 0},t.bounds=function(t){return bt(i)(t)},t.projection=function(n){return arguments.length?(i=(e=n)?n.stream||_e(n):ct,t):e},t.context=function(e){return arguments.length?(r=null==(n=e)?new de:new ve(e),t):n},t.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:+e,t):o},t.projection(Dr.geo.albersUsa()).context(null)},Dr.geo.albers=function(){return Dr.geo.conicEqualArea().parallels([29.5,45.5]).rotate([98,0]).center([0,38]).scale(1e3)};var Bo=be(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Dr.geo.azimuthalEqualArea=function(){return Vt(Bo)}).raw=Bo;var Uo=be(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},ct);(Dr.geo.azimuthalEquidistant=function(){return Vt(Uo)}).raw=Uo,(Dr.geo.conicConformal=function(){return le(we)}).raw=we,(Dr.geo.conicEquidistant=function(){return le(xe)}).raw=xe;var qo=be(function(t){return 1/t},Math.atan);(Dr.geo.gnomonic=function(){return Vt(qo)}).raw=qo,Se.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Zr/2]},(Dr.geo.mercator=function(){return ke(Se)}).raw=Se;var Vo=be(function(){return 1},Math.asin);(Dr.geo.orthographic=function(){return Vt(Vo)}).raw=Vo;var Xo=be(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Dr.geo.stereographic=function(){return Vt(Xo)}).raw=Xo,Ce.invert=function(t,e){return[Math.atan2(j(t),Math.cos(e)),z(Math.sin(e)/$(t))]},(Dr.geo.transverseMercator=function(){return ke(Ce)}).raw=Ce,Dr.geom={},Dr.svg={},Dr.svg.line=function(){return Te(ct)};var Go=Dr.map({linear:Ee,"linear-closed":function(t){return Ee(t)+"Z"},"step-before":Le,"step-after":Ae,basis:Pe,"basis-open":function(t){if(t.length<4)return Ee(t);for(var e,n=[],i=-1,r=t.length,o=[0],s=[0];++i<3;)e=t[i],o.push(e[0]),s.push(e[1]);for(n.push(Oe(Jo,o)+","+Oe(Jo,s)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),s.shift(),s.push(e[1]),Ye(n,o,s);return n.join("")},"basis-closed":function(t){for(var e,n,i=-1,r=t.length,o=r+4,s=[],a=[];++i<4;)n=t[i%r],s.push(n[0]),a.push(n[1]);for(e=[Oe(Jo,s),",",Oe(Jo,a)],--i;++i<o;)n=t[i%r],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),Ye(e,s,a);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],s=t[0][1],a=t[n][0]-o,l=t[n][1]-s,c=-1;++c<=n;)i=t[c],r=c/n,i[0]=e*i[0]+(1-e)*(o+r*a),i[1]=e*i[1]+(1-e)*(s+r*l);return Pe(t)},cardinal:function(t,e){return t.length<3?Ee(t):t[0]+Ie(t,Ne(t,e))},"cardinal-open":function(t,e){return t.length<4?Ee(t):t[1]+Ie(t.slice(1,t.length-1),Ne(t,e))},"cardinal-closed":function(t,e){return t.length<3?Ee(t):t[0]+Ie((t.push(t[0]),t),Ne([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Ee(t):t[0]+Ie(t,He(t))}});Go.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ko=[0,2/3,1/3,0],Qo=[0,1/3,2/3,0],Jo=[0,1/6,2/3,1/6];Dr.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r,o,s,a,l,c,u,h,d,p,f,m=lt(n),g=lt(i),v=t.length,y=v-1,_=[],b=[],w=0;if(m===De&&i===Me)e=t;else for(o=0,e=[];v>o;++o)e.push([+m.call(this,r=t[o],o),+g.call(this,r,o)]);for(o=1;v>o;++o)e[o][1]<e[w][1]?w=o:e[o][1]==e[w][1]&&(w=e[o][0]<e[w][0]?o:w);for(o=0;v>o;++o)o!==w&&(l=e[o][1]-e[w][1],a=e[o][0]-e[w][0],_.push({angle:Math.atan2(l,a),index:o}));for(_.sort(function(t,e){return t.angle-e.angle}),p=_[0].angle,d=_[0].index,h=0,o=1;y>o;++o)s=_[o].index,p==_[o].angle?(a=e[d][0]-e[w][0],l=e[d][1]-e[w][1],c=e[s][0]-e[w][0],u=e[s][1]-e[w][1],a*a+l*l>=c*c+u*u?_[o].index=-1:(_[h].index=-1,p=_[o].angle,h=o,d=s)):(p=_[o].angle,h=o,d=s);for(b.push(w),o=0,s=0;2>o;++s)-1!==_[s].index&&(b.push(_[s].index),o++);for(f=b.length;y>s;++s)if(-1!==_[s].index){for(;!ze(b[f-2],b[f-1],_[s].index,e);)--f;b[f++]=_[s].index}var x=[];for(o=0;f>o;++o)x.push(t[b[o]]);return x}var n=De,i=Me;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},Dr.geom.polygon=function(t){return t.area=function(){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return.5*i},t.centroid=function(e){var n,i,r=-1,o=t.length,s=0,a=0,l=t[o-1];for(arguments.length||(e=-1/(6*t.area()));++r<o;)n=l,l=t[r],i=n[0]*l[1]-l[0]*n[1],s+=(n[0]+l[0])*i,a+=(n[1]+l[1])*i;return[s*e,a*e]},t.clip=function(e){for(var n,i,r,o,s,a,l=-1,c=t.length,u=t[c-1];++l<c;){for(n=e.slice(),e.length=0,o=t[l],s=n[(r=n.length)-1],i=-1;++i<r;)a=n[i],je(a,u,o)?(je(s,u,o)||e.push($e(s,a,u,o)),e.push(a)):je(s,u,o)&&e.push($e(s,a,u,o)),s=a;u=o}return e},t},Dr.geom.delaunay=function(t){var e=t.map(function(){return[]}),n=[];return We(t,function(n){e[n.region.l.index].push(t[n.region.r.index])}),e.forEach(function(e,i){var r=t[i],o=r[0],s=r[1];e.forEach(function(t){t.angle=Math.atan2(t[0]-o,t[1]-s)}),e.sort(function(t,e){return t.angle-e.angle});for(var a=0,l=e.length-1;l>a;a++)n.push([r,e[a],e[a+1]])}),n},Dr.geom.voronoi=function(t){function e(t){var e,i,s,a=t.map(function(){return[]}),l=lt(r),c=lt(o),u=t.length,h=1e6;if(l===De&&c===Me)e=t;else for(e=[],s=0;u>s;++s)e.push([+l.call(this,i=t[s],s),+c.call(this,i,s)]);if(We(e,function(t){var e,n,i,r,o,s;1===t.a&&t.b>=0?(e=t.ep.r,n=t.ep.l):(e=t.ep.l,n=t.ep.r),1===t.a?(o=e?e.y:-h,i=t.c-t.b*o,s=n?n.y:h,r=t.c-t.b*s):(i=e?e.x:-h,o=t.c-t.a*i,r=n?n.x:h,s=t.c-t.a*r);var l=[i,o],c=[r,s];a[t.region.l.index].push(l,c),a[t.region.r.index].push(l,c)}),(a=a.map(function(t,n){var i=e[n][0],r=e[n][1],o=t.map(function(t){return Math.atan2(t[0]-i,t[1]-r)}),s=Dr.range(t.length).sort(function(t,e){return o[t]-o[e]});return s.filter(function(t,e){return!e||o[t]-o[s[e-1]]>to}).map(function(e){return t[e]})})).forEach(function(t,n){var i=t.length;if(!i)return t.push([-h,-h],[-h,h],[h,h],[h,-h]);if(!(i>2)){var r=e[n],o=t[0],s=t[1],a=r[0],l=r[1],c=o[0],u=o[1],d=s[0],p=s[1],f=Math.abs(d-c),m=p-u;if(Math.abs(m)<to){v=u>l?-h:h;t.push([-h,v],[h,v])}else if(to>f){var g=c>a?-h:h;t.push([g,-h],[g,h])}else{var v=(c-a)*(p-u)>(d-c)*(u-l)?h:-h,y=Math.abs(m)-f;Math.abs(y)<to?t.push([0>m?v:-v,v]):(y>0&&(v*=-1),t.push([-h,v],[h,v]))}}}),n)for(s=0;u>s;++s)n(a[s]);for(s=0;u>s;++s)a[s].point=t[s];return a}var n,i=null,r=De,o=Me;return arguments.length?e(t):(e.x=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(o=t,e):o},e.size=function(t){return arguments.length?(null==t?n=null:(i=[+t[0],+t[1]],n=Dr.geom.polygon([[0,0],[0,i[1]],i,[i[0],0]]).clip),e):i},e.links=function(t){var e,n,i,s=t.map(function(){return[]}),a=[],l=lt(r),c=lt(o),u=t.length;if(l===De&&c===Me)e=t;else for(i=0;u>i;++i)e.push([+l.call(this,n=t[i],i),+c.call(this,n,i)]);return We(e,function(e){var n=e.region.l.index,i=e.region.r.index;s[n][i]||(s[n][i]=s[i][n]=!0,a.push({source:t[n],target:t[i]}))}),a},e.triangles=function(t){if(r===De&&o===Me)return Dr.geom.delaunay(t);var e,n,i,s,a,l=lt(r),c=lt(o);for(s=0,e=[],a=t.length;a>s;++s)n=[+l.call(this,i=t[s],s),+c.call(this,i,s)],n.data=i,e.push(n);return Dr.geom.delaunay(e).map(function(t){return t.map(function(t){return t.data})})},e)};var Zo={l:"r",r:"l"};Dr.geom.quadtree=function(t,e,n,i,r){function o(t){function o(t,e,n,i,r,o,s,a){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(Math.abs(l-n)+Math.abs(u-i)<.01)c(t,e,n,i,r,o,s,a);else{var h=t.point;t.x=t.y=t.point=null,c(t,h,l,u,r,o,s,a),c(t,e,n,i,r,o,s,a)}else t.x=n,t.y=i,t.point=e}else c(t,e,n,i,r,o,s,a)}function c(t,e,n,i,r,s,a,l){var c=.5*(r+a),u=.5*(s+l),h=n>=c,d=i>=u,p=(d<<1)+h;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=qe()),h?r=c:a=c,d?s=u:l=u,o(t,e,n,i,r,s,a,l)}var u,h,d,p,f,m,g,v,y,_=lt(a),b=lt(l);if(null!=e)m=e,g=n,v=i,y=r;else if(v=y=-(m=g=1/0),h=[],d=[],f=t.length,s)for(p=0;f>p;++p)(u=t[p]).x<m&&(m=u.x),u.y<g&&(g=u.y),u.x>v&&(v=u.x),u.y>y&&(y=u.y),h.push(u.x),d.push(u.y);else for(p=0;f>p;++p){var w=+_(u=t[p],p),x=+b(u,p);m>w&&(m=w),g>x&&(g=x),w>v&&(v=w),x>y&&(y=x),h.push(w),d.push(x)}var S=v-m,k=y-g;S>k?y=g+S:v=m+k;var C=qe();if(C.add=function(t){o(C,t,+_(t,++p),+b(t,p),m,g,v,y)},C.visit=function(t){Ve(t,C,m,g,v,y)},p=-1,null==e){for(;++p<f;)o(C,t[p],h[p],d[p],m,g,v,y);--p}else t.forEach(C.add);return h=d=t=u=null,C}var s,a=De,l=Me;return(s=arguments.length)?(a=Be,l=Ue,3===s&&(r=n,i=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(a=t,o):a},o.y=function(t){return arguments.length?(l=t,o):l},o.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),o):null==e?null:[i,r]},o)},Dr.interpolateRgb=Xe,Dr.transform=function(t){var e=Mr.createElementNS(Dr.ns.prefix.svg,"g");return(Dr.transform=function(t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate();return new Ge(n?n.matrix:ts)})(t)},Ge.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ts={a:1,b:0,c:0,d:1,e:0,f:0};Dr.interpolateNumber=Ze,Dr.interpolateTransform=tn,Dr.interpolateObject=en,Dr.interpolateString=nn;var es=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Dr.interpolate=rn,Dr.interpolators=[function(t,e){var n=typeof e;return("string"===n||n!==typeof t?uo.has(e)||/^(#|rgb\(|hsl\()/.test(e)?Xe:nn:e instanceof P?Xe:"object"===n?Array.isArray(e)?sn:en:Ze)(t,e)}],Dr.interpolateArray=sn;var ns=function(){return ct},is=Dr.map({linear:ns,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return un},cubic:function(){return hn},sin:function(){return dn},exp:function(){return pn},circle:function(){return fn},elastic:function(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/(2*Zr)*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,10*-i)*Math.sin(2*(i-n)*Zr/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return mn}}),rs=Dr.map({in:ct,out:ln,"in-out":cn,"out-in":function(t){return cn(ln(t))}});Dr.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.substring(0,e):t,i=e>=0?t.substring(e+1):"in";return n=is.get(n)||ns,i=rs.get(i)||ct,an(i(n.apply(null,Array.prototype.slice.call(arguments,1))))},Dr.interpolateHcl=function(t,e){t=Dr.hcl(t),e=Dr.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,s=e.c-i,a=e.l-r;return o>180?o-=360:-180>o&&(o+=360),function(t){return q(n+o*t,i+s*t,r+a*t)+""}},Dr.interpolateHsl=function(t,e){t=Dr.hsl(t),e=Dr.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,s=e.s-i,a=e.l-r;return o>180?o-=360:-180>o&&(o+=360),function(t){return R(n+o*t,i+s*t,r+a*t)+""}},Dr.interpolateLab=function(t,e){t=Dr.lab(t),e=Dr.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,s=e.a-i,a=e.b-r;return function(t){return G(n+o*t,i+s*t,r+a*t)+""}},Dr.interpolateRound=gn,Dr.layout={},Dr.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(_n(t[n]));return e}},Dr.layout.chord=function(){function t(){var t,c,h,d,p,f={},m=[],g=Dr.range(o),v=[];for(n=[],i=[],t=0,d=-1;++d<o;){for(c=0,p=-1;++p<o;)c+=r[d][p];m.push(c),v.push(Dr.range(o)),t+=c}for(s&&g.sort(function(t,e){return s(m[t],m[e])}),a&&v.forEach(function(t,e){t.sort(function(t,n){return a(r[e][t],r[e][n])})}),t=(2*Zr-u*o)/t,c=0,d=-1;++d<o;){for(h=c,p=-1;++p<o;){var y=g[d],_=v[y][p],b=r[y][_],w=c,x=c+=b*t;f[y+"-"+_]={index:y,subindex:_,startAngle:w,endAngle:x,value:b}}i[y]={index:y,startAngle:h,endAngle:c,value:(c-h)/t},c+=u}for(d=-1;++d<o;)for(p=d-1;++p<o;){var S=f[d+"-"+p],k=f[p+"-"+d];(S.value||k.value)&&n.push(S.value<k.value?{source:k,target:S}:{source:S,target:k})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,o,s,a,l,c={},u=0;return c.matrix=function(t){return arguments.length?(o=(r=t)&&r.length,n=i=null,c):r},c.padding=function(t){return arguments.length?(u=t,n=i=null,c):u},c.sortGroups=function(t){return arguments.length?(s=t,n=i=null,c):s},c.sortSubgroups=function(t){return arguments.length?(a=t,n=null,c):a},c.sortChords=function(t){return arguments.length?(l=t,n&&e(),c):l},c.chords=function(){return n||t(),n},c.groups=function(){return i||t(),i},c},Dr.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,s=e.cy-t.y,a=1/Math.sqrt(o*o+s*s);if(m>(r-n)*a){l=e.charge*a*a;return t.px-=o*l,t.py-=s*l,!0}if(e.point&&isFinite(a)){var l=e.pointCharge*a*a;t.px-=o*l,t.py-=s*l}}return!e.charge}}function e(t){t.px=Dr.event.x,t.py=Dr.event.y,a.resume()}var n,i,r,o,s,a={},l=Dr.dispatch("start","tick","end"),c=[1,1],u=.9,h=os,d=ss,p=-30,f=.1,m=.8,g=[],v=[];return a.tick=function(){if((i*=.99)<.005)return l.end({type:"end",alpha:i=0}),!0;var e,n,a,h,d,m,y,_,b,w=g.length,x=v.length;for(n=0;x>n;++n)a=v[n],h=a.source,d=a.target,_=d.x-h.x,b=d.y-h.y,(m=_*_+b*b)&&(m=i*o[n]*((m=Math.sqrt(m))-r[n])/m,_*=m,b*=m,d.x-=_*(y=h.weight/(d.weight+h.weight)),d.y-=b*y,h.x+=_*(y=1-y),h.y+=b*y);if((y=i*f)&&(_=c[0]/2,b=c[1]/2,n=-1,y))for(;++n<w;)a=g[n],a.x+=(_-a.x)*y,a.y+=(b-a.y)*y;if(p)for(Tn(e=Dr.geom.quadtree(g),i,s),n=-1;++n<w;)(a=g[n]).fixed||e.visit(t(a));for(n=-1;++n<w;)(a=g[n]).fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*u,a.y-=(a.py-(a.py=a.y))*u);l.tick({type:"tick",alpha:i})},a.nodes=function(t){return arguments.length?(g=t,a):g},a.links=function(t){return arguments.length?(v=t,a):v},a.size=function(t){return arguments.length?(c=t,a):c},a.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,a):h},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,a):d},a.friction=function(t){return arguments.length?(u=+t,a):u},a.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,a):p},a.gravity=function(t){return arguments.length?(f=+t,a):f},a.theta=function(t){return arguments.length?(m=+t,a):m},a.alpha=function(t){return arguments.length?(t=+t,i?i=t>0?t:0:t>0&&(l.start({type:"start",alpha:i=t}),Dr.timer(a.tick)),a):i},a.start=function(){function t(t,n){for(var i,r=e(),o=-1,s=r.length;++o<s;)if(!isNaN(i=r[o][t]))return i;return Math.random()*n}function e(){if(!l){for(l=[],i=0;f>i;++i)l[i]=[];for(i=0;m>i;++i){var t=v[i];l[t.source.index].push(t.target),l[t.target.index].push(t.source)}}return l[n]}var n,i,l,u,f=g.length,m=v.length,y=c[0],_=c[1];for(n=0;f>n;++n)(u=g[n]).index=n,u.weight=0;for(n=0;m>n;++n)"number"==typeof(u=v[n]).source&&(u.source=g[u.source]),"number"==typeof u.target&&(u.target=g[u.target]),++u.source.weight,++u.target.weight;for(n=0;f>n;++n)u=g[n],isNaN(u.x)&&(u.x=t("x",y)),isNaN(u.y)&&(u.y=t("y",_)),isNaN(u.px)&&(u.px=u.x),isNaN(u.py)&&(u.py=u.y);if(r=[],"function"==typeof h)for(n=0;m>n;++n)r[n]=+h.call(this,v[n],n);else for(n=0;m>n;++n)r[n]=h;if(o=[],"function"==typeof d)for(n=0;m>n;++n)o[n]=+d.call(this,v[n],n);else for(n=0;m>n;++n)o[n]=d;if(s=[],"function"==typeof p)for(n=0;f>n;++n)s[n]=+p.call(this,g[n],n);else for(n=0;f>n;++n)s[n]=p;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return n||(n=Dr.behavior.drag().origin(ct).on("dragstart.force",xn).on("drag.force",e).on("dragend.force",Sn)),arguments.length?void this.on("mouseover.force",kn).on("mouseout.force",Cn).call(n):n},Dr.rebind(a,l,"on")};var os=20,ss=1;Dr.layout.hierarchy=function(){function t(e,s,a){var l=r.call(n,e,s);if(e.depth=s,a.push(e),l&&(c=l.length)){for(var c,u,h=-1,d=e.children=[],p=0,f=s+1;++h<c;)u=t(l[h],f,a),u.parent=e,d.push(u),p+=u.value;i&&d.sort(i),o&&(e.value=p)}else o&&(e.value=+o.call(n,e,s)||0);return e}function e(t,i){var r=t.children,s=0;if(r&&(a=r.length))for(var a,l=-1,c=i+1;++l<a;)s+=e(r[l],c);else o&&(s=+o.call(n,t,i)||0);return o&&(t.value=s),s}function n(e){var n=[];return t(e,0,n),n}var i=Ln,r=Mn,o=En;return n.sort=function(t){return arguments.length?(i=t,n):i},n.children=function(t){return arguments.length?(r=t,n):r},n.value=function(t){return arguments.length?(o=t,n):o},n.revalue=function(t){return e(t,0),t},n},Dr.layout.partition=function(){function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(s=o.length)){var s,a,l,c=-1;for(i=e.value?i/e.value:0;++c<s;)t(a=o[c],n,l=a.value*i,r),n+=l}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}function n(n,o){var s=i.call(this,n,o);return t(s[0],0,r[0],r[1]/e(s[0])),s}var i=Dr.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},Dn(n,i)},Dr.layout.pie=function(){function t(o){var s=o.map(function(n,i){return+e.call(t,n,i)}),a=+("function"==typeof i?i.apply(this,arguments):i),l=(("function"==typeof r?r.apply(this,arguments):r)-a)/Dr.sum(s),c=Dr.range(o.length);null!=n&&c.sort(n===as?function(t,e){return s[e]-s[t]}:function(t,e){return n(o[t],o[e])});var u=[];return c.forEach(function(t){var e;u[t]={data:o[t],value:e=s[t],startAngle:a,endAngle:a+=e*l}}),u}var e=Number,n=as,i=0,r=2*Zr;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t};var as={};Dr.layout.stack=function(){function t(a,l){var c=a.map(function(n,i){return e.call(t,n,i)}),u=c.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),s.call(t,e,n)]})}),h=n.call(t,u,l);c=Dr.permute(c,h),u=Dr.permute(u,h);var d,p,f,m=i.call(t,u,l),g=c.length,v=c[0].length;for(p=0;v>p;++p)for(r.call(t,c[0][p],f=m[p],u[0][p][1]),d=1;g>d;++d)r.call(t,c[d][p],f+=u[d-1][p][1],u[d][p][1]);return a}var e=ct,n=On,i=Yn,r=Pn,o=In,s=Nn;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:ls.get(e)||On,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:cs.get(e)||Yn,t):i},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(s=e,t):s},t.out=function(e){return arguments.length?(r=e,t):r},t};var ls=Dr.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(Rn),o=t.map(Fn),s=Dr.range(i).sort(function(t,e){return r[t]-r[e]}),a=0,l=0,c=[],u=[];for(e=0;i>e;++e)n=s[e],l>a?(a+=o[n],c.push(n)):(l+=o[n],u.push(n));return u.reverse().concat(c)},reverse:function(t){return Dr.range(t.length).reverse()},default:On}),cs=Dr.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,s=[],a=0,l=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>a&&(a=i),s.push(i)}for(n=0;o>n;++n)l[n]=(a-s[n])/2;return l},wiggle:function(t){var e,n,i,r,o,s,a,l,c,u=t.length,h=t[0],d=h.length,p=[];for(p[0]=l=c=0,n=1;d>n;++n){for(e=0,r=0;u>e;++e)r+=t[e][n][1];for(e=0,o=0,a=h[n][0]-h[n-1][0];u>e;++e){for(i=0,s=(t[e][n][1]-t[e][n-1][1])/(2*a);e>i;++i)s+=(t[i][n][1]-t[i][n-1][1])/a;o+=s*t[e][n][1]}p[n]=l-=r?o/r*a:0,c>l&&(c=l)}for(n=0;d>n;++n)p[n]-=c;return p},expand:function(t){var e,n,i,r=t.length,o=t[0].length,s=1/r,a=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=s}for(n=0;o>n;++n)a[n]=0;return a},zero:Yn});Dr.layout.histogram=function(){function t(t,o){for(var s,a,l=[],c=t.map(n,this),u=i.call(this,c,o),h=r.call(this,u,c,o),o=-1,d=c.length,p=h.length-1,f=e?1:1/d;++o<p;)s=l[o]=[],s.dx=h[o+1]-(s.x=h[o]),s.y=0;if(p>0)for(o=-1;++o<d;)(a=c[o])>=u[0]&&a<=u[1]&&(s=l[Dr.bisect(h,a,1,p)-1],s.y+=f,s.push(t[o]));return l}var e=!0,n=Number,i=$n,r=zn;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=lt(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return jn(t,e)}:lt(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},Dr.layout.tree=function(){function t(t,r){function o(t,e){var i=t.children,r=t._tree;if(i&&(s=i.length)){for(var s,l,c,u=i[0],h=u,d=-1;++d<s;)c=i[d],o(c,l),h=a(c,l,h),l=c;Qn(t);var p=.5*(u._tree.prelim+c._tree.prelim);e?(r.prelim=e._tree.prelim+n(t,e),r.mod=r.prelim-p):r.prelim=p}else e&&(r.prelim=e._tree.prelim+n(t,e))}function s(t,e){t.x=t._tree.prelim+e;var n=t.children;if(n&&(i=n.length)){var i,r=-1;for(e+=t._tree.mod;++r<i;)s(n[r],e)}}function a(t,e,i){if(e){for(var r,o=t,s=t,a=e,l=t.parent.children[0],c=o._tree.mod,u=s._tree.mod,h=a._tree.mod,d=l._tree.mod;a=Un(a),o=Bn(o),a&&o;)l=Bn(l),s=Un(s),s._tree.ancestor=t,(r=a._tree.prelim+h-o._tree.prelim-c+n(a,o))>0&&(Jn(Zn(a,t,i),t,r),c+=r,u+=r),h+=a._tree.mod,c+=o._tree.mod,d+=l._tree.mod,u+=s._tree.mod;a&&!Un(s)&&(s._tree.thread=a,s._tree.mod+=h-u),o&&!Bn(l)&&(l._tree.thread=o,l._tree.mod+=c-d,i=t)}return i}var l=e.call(this,t,r),c=l[0];Kn(c,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),o(c),s(c,-c._tree.prelim);var u=qn(c,Xn),h=qn(c,Vn),d=qn(c,Gn),p=u.x-n(u,h)/2,f=h.x+n(h,u)/2,m=d.depth||1;return Kn(c,function(t){t.x=(t.x-p)/(f-p)*i[0],t.y=t.depth/m*i[1],delete t._tree}),l}var e=Dr.layout.hierarchy().sort(null).value(null),n=Wn,i=[1,1];return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=e,t):i},Dn(t,e)},Dr.layout.pack=function(){function t(t,r){var o=e.call(this,t,r),s=o[0];s.x=0,s.y=0,Kn(s,function(t){t.r=Math.sqrt(t.value)}),Kn(s,ri);var a=i[0],l=i[1],c=Math.max(2*s.r/a,2*s.r/l);if(n>0){var u=n*c/2;Kn(s,function(t){t.r+=u}),Kn(s,ri),Kn(s,function(t){t.r-=u}),c=Math.max(2*s.r/a,2*s.r/l)}return ai(s,a/2,l/2,1/c),o}var e=Dr.layout.hierarchy().sort(ti),n=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.padding=function(e){return arguments.length?(n=+e,t):n},Dn(t,e)},Dr.layout.cluster=function(){function t(t,r){var o,s=e.call(this,t,r),a=s[0],l=0;Kn(a,function(t){var e=t.children;e&&e.length?(t.x=ui(e),t.y=ci(e)):(t.x=o?l+=n(t,o):0,t.y=0,o=t)});var c=hi(a),u=di(a),h=c.x-n(c,u)/2,d=u.x+n(u,c)/2;return Kn(a,function(t){t.x=(t.x-h)/(d-h)*i[0],t.y=(1-(a.y?t.y/a.y:1))*i[1]}),s}var e=Dr.layout.hierarchy().sort(null).value(null),n=Wn,i=[1,1];return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=e,t):i},Dn(t,e)},Dr.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var o=n.children;if(o&&o.length){var s,a,l,c=h(n),u=[],d=o.slice(),f=1/0,m="slice"===p?c.dx:"dice"===p?c.dy:"slice-dice"===p?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(d,c.dx*c.dy/n.value),u.area=0;(l=d.length)>0;)u.push(s=d[l-1]),u.area+=s.area,"squarify"!==p||(a=i(u,m))<=f?(d.pop(),f=a):(u.area-=u.pop().area,r(u,m,c,!1),m=Math.min(c.dx,c.dy),u.length=u.area=0,f=1/0);u.length&&(r(u,m,c,!0),u.length=u.area=0),o.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var o,s=h(e),a=i.slice(),l=[];for(t(a,s.dx*s.dy/e.value),l.area=0;o=a.pop();)l.push(o),l.area+=o.area,null!=o.z&&(r(l,o.z?s.dx:s.dy,s,!a.length),l.length=l.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,o=1/0,s=-1,a=t.length;++s<a;)(n=t[s].area)&&(o>n&&(o=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*f/i,i/(e*o*f)):1/0}function r(t,e,n,i){var r,o=-1,s=t.length,a=n.x,c=n.y,u=e?l(t.area/e):0;if(e==n.dx){for((i||u>n.dy)&&(u=n.dy);++o<s;)r=t[o],r.x=a,r.y=c,r.dy=u,a+=r.dx=Math.min(n.x+n.dx-a,u?l(r.area/u):0);r.z=!0,r.dx+=n.x+n.dx-a,n.y+=u,n.dy-=u}else{for((i||u>n.dx)&&(u=n.dx);++o<s;)r=t[o],r.x=a,r.y=c,r.dx=u,c+=r.dy=Math.min(n.y+n.dy-c,u?l(r.area/u):0);r.z=!1,r.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function o(i){var r=s||a(i),o=r[0];return o.x=0,o.y=0,o.dx=c[0],o.dy=c[1],s&&a.revalue(o),t([o],o.dx*o.dy/o.value),(s?n:e)(o),d&&(s=r),r}var s,a=Dr.layout.hierarchy(),l=Math.round,c=[1,1],u=null,h=pi,d=!1,p="squarify",f=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(c=t,o):c},o.padding=function(t){function e(e){return fi(e,t)}if(!arguments.length)return u;var n;return h=null==(u=t)?pi:"function"==(n=typeof t)?function(e){var n=t.call(o,e,e.depth);return null==n?pi(e):fi(e,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(t=[t,t,t,t],e):e,o},o.round=function(t){return arguments.length?(l=t?Math.round:Number,o):l!=Number},o.sticky=function(t){return arguments.length?(d=t,s=null,o):d},o.ratio=function(t){return arguments.length?(f=t,o):f},o.mode=function(t){return arguments.length?(p=t+"",o):p},Dn(o,a)},Dr.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do{n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i}while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=Dr.random.normal.apply(Dr,arguments);return function(){return Math.exp(t())}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e/t}}},Dr.scale={},Dr.scale.linear=function(){return bi([0,1],[0,1],rn,!1)},Dr.scale.log=function(){return Ti(Dr.scale.linear().domain([0,Math.LN10]),10,Di,Mi)};var us=Dr.format(".0e");Dr.scale.pow=function(){return Ii(Dr.scale.linear(),1)},Dr.scale.sqrt=function(){return Dr.scale.pow().exponent(.5)},Dr.scale.ordinal=function(){return Pi([],{t:"range",a:[[]]})},Dr.scale.category10=function(){return Dr.scale.ordinal().range(hs)},Dr.scale.category20=function(){return Dr.scale.ordinal().range(ds)},Dr.scale.category20b=function(){return Dr.scale.ordinal().range(ps)},Dr.scale.category20c=function(){return Dr.scale.ordinal().range(fs)};var hs=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],ds=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],ps=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],fs=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];Dr.scale.quantile=function(){return Oi([],[])},Dr.scale.quantize=function(){return Yi(0,1,[0,1])},Dr.scale.threshold=function(){return Ri([.5],[0,1])},Dr.scale.identity=function(){return Fi([0,1])},Dr.svg.arc=function(){function t(){var t=e.apply(this,arguments),o=n.apply(this,arguments),s=i.apply(this,arguments)+ms,a=r.apply(this,arguments)+ms,l=(s>a&&(l=s,s=a,a=l),a-s),c=Zr>l?"0":"1",u=Math.cos(s),h=Math.sin(s),d=Math.cos(a),p=Math.sin(a);return l>=gs?t?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":t?"M"+o*u+","+o*h+"A"+o+","+o+" 0 "+c+",1 "+o*d+","+o*p+"L"+t*d+","+t*p+"A"+t+","+t+" 0 "+c+",0 "+t*u+","+t*h+"Z":"M"+o*u+","+o*h+"A"+o+","+o+" 0 "+c+",1 "+o*d+","+o*p+"L0,0Z"}var e=Hi,n=zi,i=ji,r=$i;return t.innerRadius=function(n){return arguments.length?(e=lt(n),t):e},t.outerRadius=function(e){return arguments.length?(n=lt(e),t):n},t.startAngle=function(e){return arguments.length?(i=lt(e),t):i},t.endAngle=function(e){return arguments.length?(r=lt(e),t):r},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,o=(i.apply(this,arguments)+r.apply(this,arguments))/2+ms;return[Math.cos(o)*t,Math.sin(o)*t]},t};var ms=-Zr/2,gs=2*Zr-1e-6;Dr.svg.line.radial=function(){var t=Te(Wi);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Le.reverse=Ae,Ae.reverse=Le,Dr.svg.area=function(){return Bi(ct)},Dr.svg.area.radial=function(){var t=Bi(Wi);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Dr.svg.chord=function(){function t(t,a){var l=e(this,o,t,a),c=e(this,s,t,a);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,c)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,c.r,c.p0)+i(c.r,c.p1,c.a1-c.a0)+r(c.r,c.p1,l.r,l.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),o=a.call(t,r,i),s=l.call(t,r,i)+ms,u=c.call(t,r,i)+ms;return{r:o,a0:s,a1:u,p0:[o*Math.cos(s),o*Math.sin(s)],p1:[o*Math.cos(u),o*Math.sin(u)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Zr)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var o=oe,s=se,a=Ui,l=ji,c=$i;return t.radius=function(e){return arguments.length?(a=lt(e),t):a},t.source=function(e){return arguments.length?(o=lt(e),t):o},t.target=function(e){return arguments.length?(s=lt(e),t):s},t.startAngle=function(e){return arguments.length?(l=lt(e),t):l},t.endAngle=function(e){return arguments.length?(c=lt(e),t):c},t},Dr.svg.diagonal=function(){function t(t,r){var o=e.call(this,t,r),s=n.call(this,t,r),a=(o.y+s.y)/2,l=[o,{x:o.x,y:a},{x:s.x,y:a},s];return"M"+(l=l.map(i))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=oe,n=se,i=qi;return t.source=function(n){return arguments.length?(e=lt(n),t):e},t.target=function(e){return arguments.length?(n=lt(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},Dr.svg.diagonal.radial=function(){var t=Dr.svg.diagonal(),e=qi,n=t.projection;return t.projection=function(t){return arguments.length?n(Vi(e=t)):e},t},Dr.svg.symbol=function(){function t(t,i){return(vs.get(e.call(this,t,i))||Ki)(n.call(this,t,i))}var e=Gi,n=Xi;return t.type=function(n){return arguments.length?(e=lt(n),t):e},t.size=function(e){return arguments.length?(n=lt(e),t):n},t};var vs=Dr.map({circle:Ki,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*bs)),n=e*bs;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/_s),n=e*_s/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/_s),n=e*_s/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});Dr.svg.symbolTypes=vs.keys();var ys,_s=Math.sqrt(3),bs=Math.tan(30*eo),ws=[],xs=0,Ss={ease:function(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)},delay:0,duration:250};ws.call=Wr.call,ws.empty=Wr.empty,ws.node=Wr.node,Dr.transition=function(t){return arguments.length?ys?t.transition():t:Xr.transition()},Dr.transition.prototype=ws,ws.select=function(t){var e,n,i,r=this.id,o=[];"function"!=typeof t&&(t=m(t));for(var s=-1,a=this.length;++s<a;){o.push(e=[]);for(var l=this[s],c=-1,u=l.length;++c<u;)(i=l[c])&&(n=t.call(i,i.__data__,c))?("__data__"in i&&(n.__data__=i.__data__),tr(n,c,r,i.__transition__[r]),e.push(n)):e.push(null)}return Qi(o,r)},ws.selectAll=function(t){var e,n,i,r,o,s=this.id,a=[];"function"!=typeof t&&(t=g(t));for(var l=-1,c=this.length;++l<c;)for(var u=this[l],h=-1,d=u.length;++h<d;)if(i=u[h]){o=i.__transition__[s],n=t.call(i,i.__data__,h),a.push(e=[]);for(var p=-1,f=n.length;++p<f;)tr(r=n[p],p,s,o),e.push(r)}return Qi(a,s)},ws.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=T(t));for(var o=0,s=this.length;s>o;o++){r.push(e=[]);for(var a=0,l=(n=this[o]).length;l>a;a++)(i=n[a])&&t.call(i,i.__data__,a)&&e.push(i)}return Qi(r,this.id,this.time).ease(this.ease())},ws.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):I(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(i){i.__transition__[n].tween.set(t,e)})},ws.attr=function(t,e){function n(){this.removeAttribute(o)}function i(){this.removeAttributeNS(o.space,o.local)}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var r=on(t),o=Dr.ns.qualify(t);return Ji(this,"attr."+t,e,function(t){return null==t?o.local?i:n:(t+="",o.local?function(){var e,n=this.getAttributeNS(o.space,o.local);return n!==t&&(e=r(n,t),function(t){this.setAttributeNS(o.space,o.local,e(t))})}:function(){var e,n=this.getAttribute(o);return n!==t&&(e=r(n,t),function(t){this.setAttribute(o,e(t))})})})},ws.attrTween=function(t,e){var n=Dr.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,i){var r=e.call(this,t,i,this.getAttributeNS(n.space,n.local));return r&&function(t){this.setAttributeNS(n.space,n.local,r(t))}}:function(t,i){var r=e.call(this,t,i,this.getAttribute(n));return r&&function(t){this.setAttribute(n,r(t))}})},ws.style=function(t,e,n){function i(){this.style.removeProperty(t)}var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}var o=on(t);return Ji(this,"style."+t,e,function(e){return null==e?i:(e+="",function(){var i,r=Er.getComputedStyle(this,null).getPropertyValue(t);return r!==e&&(i=o(r,e),function(e){this.style.setProperty(t,i(e),n)})})})},ws.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,function(i,r){var o=e.call(this,i,r,Er.getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}})},ws.text=function(t){return Ji(this,"text",t,Zi)},ws.remove=function(){return this.each("end.transition",function(){var t;!this.__transition__&&(t=this.parentNode)&&t.removeChild(this)})},ws.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=Dr.ease.apply(Dr,arguments)),I(this,function(n){n.__transition__[e].ease=t}))},ws.delay=function(t){var e=this.id;return I(this,"function"==typeof t?function(n,i,r){n.__transition__[e].delay=0|t.call(n,n.__data__,i,r)}:(t|=0,function(n){n.__transition__[e].delay=t}))},ws.duration=function(t){var e=this.id;return I(this,"function"==typeof t?function(n,i,r){n.__transition__[e].duration=Math.max(1,0|t.call(n,n.__data__,i,r))}:(t=Math.max(1,0|t),function(n){n.__transition__[e].duration=t}))},ws.each=function(t,e){var n=this.id;if(arguments.length<2){var i=Ss,r=ys;ys=n,I(this,function(e,i,r){Ss=e.__transition__[n],t.call(e,e.__data__,i,r)}),Ss=i,ys=r}else I(this,function(i){i.__transition__[n].event.on(t,e)});return this},ws.transition=function(){for(var t,e,n,i,r=this.id,o=++xs,s=[],a=0,l=this.length;l>a;a++){s.push(t=[]);for(var c=0,u=(e=this[a]).length;u>c;c++)(n=e[c])&&(i=Object.create(n.__transition__[r]),i.delay+=i.duration,tr(n,c,o,i)),t.push(n)}return Qi(s,o)},Dr.svg.axis=function(){function t(t){t.each(function(){var t,h=Dr.select(this),d=null==c?n.ticks?n.ticks.apply(n,l):n.domain():c,p=null==e?n.tickFormat?n.tickFormat.apply(n,l):String:e,f=ir(n,d,u),m=h.selectAll(".tick.minor").data(f,String),g=m.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1e-6),v=Dr.transition(m.exit()).style("opacity",1e-6).remove(),y=Dr.transition(m).style("opacity",1),_=h.selectAll(".tick.major").data(d,String),b=_.enter().insert("g","path").attr("class","tick major").style("opacity",1e-6),w=Dr.transition(_.exit()).style("opacity",1e-6).remove(),x=Dr.transition(_).style("opacity",1),S=gi(n),k=h.selectAll(".domain").data([0]),C=(k.enter().append("path").attr("class","domain"),Dr.transition(k)),T=n.copy(),D=this.__chart__||T;this.__chart__=T,b.append("line"),b.append("text");var M=b.select("line"),E=x.select("line"),L=_.select("text").text(p),A=b.select("text"),I=x.select("text");switch(i){case"bottom":t=er,g.attr("y2",o),y.attr("x2",0).attr("y2",o),M.attr("y2",r),A.attr("y",Math.max(r,0)+a),E.attr("x2",0).attr("y2",r),I.attr("x",0).attr("y",Math.max(r,0)+a),L.attr("dy",".71em").style("text-anchor","middle"),C.attr("d","M"+S[0]+","+s+"V0H"+S[1]+"V"+s);break;case"top":t=er,g.attr("y2",-o),y.attr("x2",0).attr("y2",-o),M.attr("y2",-r),A.attr("y",-(Math.max(r,0)+a)),E.attr("x2",0).attr("y2",-r),I.attr("x",0).attr("y",-(Math.max(r,0)+a)),L.attr("dy","0em").style("text-anchor","middle"),C.attr("d","M"+S[0]+","+-s+"V0H"+S[1]+"V"+-s);break;case"left":t=nr,g.attr("x2",-o),y.attr("x2",-o).attr("y2",0),M.attr("x2",-r),A.attr("x",-(Math.max(r,0)+a)),E.attr("x2",-r).attr("y2",0),I.attr("x",-(Math.max(r,0)+a)).attr("y",0),L.attr("dy",".32em").style("text-anchor","end"),C.attr("d","M"+-s+","+S[0]+"H0V"+S[1]+"H"+-s);break;case"right":t=nr,g.attr("x2",o),y.attr("x2",o).attr("y2",0),M.attr("x2",r),A.attr("x",Math.max(r,0)+a),E.attr("x2",r).attr("y2",0),I.attr("x",Math.max(r,0)+a).attr("y",0),L.attr("dy",".32em").style("text-anchor","start"),C.attr("d","M"+s+","+S[0]+"H0V"+S[1]+"H"+s)}if(n.ticks)b.call(t,D),x.call(t,T),w.call(t,T),g.call(t,D),y.call(t,T),v.call(t,T);else{var N=T.rangeBand()/2,P=function(t){return T(t)+N};b.call(t,P),x.call(t,P)}})}var e,n=Dr.scale.linear(),i=ks,r=6,o=6,s=6,a=3,l=[10],c=null,u=0;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Cs?e+"":ks,t):i},t.ticks=function(){return arguments.length?(l=arguments,t):l},t.tickValues=function(e){return arguments.length?(c=e,t):c},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e,n){if(!arguments.length)return r;var i=arguments.length-1;return r=+e,o=i>1?+n:r,s=i>0?+arguments[i]:r,t},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(e){return arguments.length?(u=+e,t):u},t};var ks="bottom",Cs={top:1,right:1,bottom:1,left:1};Dr.svg.brush=function(){function t(o){o.each(function(){var o,s=Dr.select(this),c=s.selectAll(".background").data([0]),h=s.selectAll(".extent").data([0]),d=s.selectAll(".resize").data(u,String);s.style("pointer-events","all").on("mousedown.brush",r).on("touchstart.brush",r),c.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),h.enter().append("rect").attr("class","extent").style("cursor","move"),d.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ts[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),d.style("display",t.empty()?"none":null),d.exit().remove(),a&&(o=gi(a),c.attr("x",o[0]).attr("width",o[1]-o[0]),n(s)),l&&(o=gi(l),c.attr("y",o[0]).attr("height",o[1]-o[0]),i(s)),e(s)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)][0]+","+h[+/^s/.test(t)][1]+")"})}function n(t){t.select(".extent").attr("x",h[0][0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1][0]-h[0][0])}function i(t){t.select(".extent").attr("y",h[0][1]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1][1]-h[0][1])}function r(){function r(){var t=Dr.event.changedTouches;return t?Dr.touches(g,t)[0]:Dr.mouse(g)}function u(){var t=r(),o=!1;m&&(t[0]+=m[0],t[1]+=m[1]),S||(Dr.event.altKey?(f||(f=[(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2]),k[0]=h[+(t[0]<f[0])][0],k[1]=h[+(t[1]<f[1])][1]):f=null),w&&d(t,a,0)&&(n(_),o=!0),x&&d(t,l,1)&&(i(_),o=!0),o&&(e(_),y({type:"brush",mode:S?"move":"resize"}))}function d(t,e,n){var i,r,s=gi(e),a=s[0],l=s[1],c=k[n],u=h[1][n]-h[0][n];return S&&(a-=c,l-=u+c),i=Math.max(a,Math.min(l,t[n])),S?r=(i+=c)+u:(f&&(c=Math.max(a,Math.min(l,2*f[n]-i))),i>c?(r=i,i=c):r=c),h[0][n]!==i||h[1][n]!==r?(o=null,h[0][n]=i,h[1][n]=r,!0):void 0}function p(){u(),_.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Dr.select("body").style("cursor",null),C.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),y({type:"brushend"}),c()}var f,m,g=this,v=Dr.select(Dr.event.target),y=s.of(g,arguments),_=Dr.select(g),b=v.datum(),w=!/^(n|s)$/.test(b)&&a,x=!/^(e|w)$/.test(b)&&l,S=v.classed("extent"),k=r(),C=Dr.select(Er).on("mousemove.brush",u).on("mouseup.brush",p).on("touchmove.brush",u).on("touchend.brush",p).on("keydown.brush",function(){32==Dr.event.keyCode&&(S||(f=null,k[0]-=h[1][0],k[1]-=h[1][1],S=2),c())}).on("keyup.brush",function(){32==Dr.event.keyCode&&2==S&&(k[0]+=h[1][0],k[1]+=h[1][1],S=0,c())});if(S)k[0]=h[0][0]-k[0],k[1]=h[0][1]-k[1];else if(b){var T=+/w$/.test(b),D=+/^n/.test(b);m=[h[1-T][0]-k[0],h[1-D][1]-k[1]],k[0]=h[T][0],k[1]=h[D][1]}else Dr.event.altKey&&(f=k.slice());_.style("pointer-events","none").selectAll(".resize").style("display",null),Dr.select("body").style("cursor",v.style("cursor")),y({type:"brushstart"}),u(),c()}var o,s=d(t,"brushstart","brush","brushend"),a=null,l=null,u=Ds[0],h=[[0,0],[0,0]];return t.x=function(e){return arguments.length?(a=e,u=Ds[!a<<1|!l],t):a},t.y=function(e){return arguments.length?(l=e,u=Ds[!a<<1|!l],t):l},t.extent=function(e){var n,i,r,s,c;return arguments.length?(o=[[0,0],[0,0]],a&&(n=e[0],i=e[1],l&&(n=n[0],i=i[0]),o[0][0]=n,o[1][0]=i,a.invert&&(n=a(n),i=a(i)),n>i&&(c=n,n=i,i=c),h[0][0]=0|n,h[1][0]=0|i),l&&(r=e[0],s=e[1],a&&(r=r[1],s=s[1]),o[0][1]=r,o[1][1]=s,l.invert&&(r=l(r),s=l(s)),r>s&&(c=r,r=s,s=c),h[0][1]=0|r,h[1][1]=0|s),t):(e=o||h,a&&(n=e[0][0],i=e[1][0],o||(n=h[0][0],i=h[1][0],a.invert&&(n=a.invert(n),i=a.invert(i)),n>i&&(c=n,n=i,i=c))),l&&(r=e[0][1],s=e[1][1],o||(r=h[0][1],s=h[1][1],l.invert&&(r=l.invert(r),s=l.invert(s)),r>s&&(c=r,r=s,s=c))),a&&l?[[n,r],[i,s]]:a?[n,i]:l&&[r,s])},t.clear=function(){return o=null,h[0][0]=h[0][1]=h[1][0]=h[1][1]=0,t},t.empty=function(){return a&&h[0][0]===h[1][0]||l&&h[0][1]===h[1][1]},Dr.rebind(t,s,"on")};var Ts={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ds=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];Dr.time={};var Ms=Date,Es=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];rr.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ls.setUTCDate.apply(this._,arguments)},setDay:function(){Ls.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ls.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ls.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ls.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ls.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ls.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ls.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ls.setTime.apply(this._,arguments)}};var Ls=Date.prototype,As=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Is=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ns=["January","February","March","April","May","June","July","August","September","October","November","December"],Ps=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Dr.time.year=or(function(t){return(t=Dr.time.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Dr.time.years=Dr.time.year.range,Dr.time.years.utc=Dr.time.year.utc.range,Dr.time.day=or(function(t){var e=new Ms(1970,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Dr.time.days=Dr.time.day.range,Dr.time.days.utc=Dr.time.day.utc.range,Dr.time.dayOfYear=function(t){var e=Dr.time.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},Es.forEach(function(t,e){t=t.toLowerCase(),e=7-e;var n=Dr.time[t]=or(function(t){return(t=Dr.time.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=Dr.time.year(t).getDay();return Math.floor((Dr.time.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Dr.time[t+"s"]=n.range,Dr.time[t+"s"].utc=n.utc.range,Dr.time[t+"OfYear"]=function(t){var n=Dr.time.year(t).getDay();return Math.floor((Dr.time.dayOfYear(t)+(n+e)%7)/7)}}),Dr.time.week=Dr.time.sunday,Dr.time.weeks=Dr.time.sunday.range,Dr.time.weeks.utc=Dr.time.sunday.utc.range,Dr.time.weekOfYear=Dr.time.sundayOfYear,Dr.time.format=function(t){function e(e){for(var i,r,o,s=[],a=-1,l=0;++a<n;)37===t.charCodeAt(a)&&(s.push(t.substring(l,a)),null!=(r=js[i=t.charAt(++a)])&&(i=t.charAt(++a)),(o=$s[i])&&(i=o(e,null==r?"e"===i?" ":"0":r)),s.push(i),l=a+1);return s.push(t.substring(l,a)),s.join("")}var n=t.length;return e.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0};if(ar(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=new Ms;return i.setFullYear(n.y,n.m,n.d),i.setHours(n.H,n.M,n.S,n.L),i},e.toString=function(){return t},e};var Os=lr(As),Ys=lr(Is),Rs=lr(Ns),Fs=cr(Ns),Hs=lr(Ps),zs=cr(Ps),js={"-":"",_:" ",0:"0"},$s={a:function(t){return Is[t.getDay()]},A:function(t){return As[t.getDay()]},b:function(t){return Ps[t.getMonth()]},B:function(t){return Ns[t.getMonth()]},c:Dr.time.format("%a %b %e %X %Y"),d:function(t,e){return ur(t.getDate(),e,2)},e:function(t,e){return ur(t.getDate(),e,2)},H:function(t,e){return ur(t.getHours(),e,2)},I:function(t,e){return ur(t.getHours()%12||12,e,2)},j:function(t,e){return ur(1+Dr.time.dayOfYear(t),e,3)},L:function(t,e){return ur(t.getMilliseconds(),e,3)},m:function(t,e){return ur(t.getMonth()+1,e,2)},M:function(t,e){return ur(t.getMinutes(),e,2)},p:function(t){return t.getHours()>=12?"PM":"AM"},S:function(t,e){return ur(t.getSeconds(),e,2)},U:function(t,e){return ur(Dr.time.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return ur(Dr.time.mondayOfYear(t),e,2)},x:Dr.time.format("%m/%d/%Y"),X:Dr.time.format("%H:%M:%S"),y:function(t,e){return ur(t.getFullYear()%100,e,2)},Y:function(t,e){return ur(t.getFullYear()%1e4,e,4)},Z:function(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=~~(Math.abs(e)/60),r=Math.abs(e)%60;return n+ur(i,"0",2)+ur(r,"0",2)},"%":function(){return"%"}},Ws={a:function(t,e,n){Ys.lastIndex=0;var i=Ys.exec(e.substring(n));return i?n+=i[0].length:-1},A:function(t,e,n){Os.lastIndex=0;var i=Os.exec(e.substring(n));return i?n+=i[0].length:-1},b:function(t,e,n){Hs.lastIndex=0;var i=Hs.exec(e.substring(n));return i?(t.m=zs.get(i[0].toLowerCase()),n+=i[0].length):-1},B:function(t,e,n){Rs.lastIndex=0;var i=Rs.exec(e.substring(n));return i?(t.m=Fs.get(i[0].toLowerCase()),n+=i[0].length):-1},c:function(t,e,n){return ar(t,$s.c.toString(),e,n)},d:dr,e:dr,H:pr,I:pr,L:function(t,e,n){Bs.lastIndex=0;var i=Bs.exec(e.substring(n,n+3));return i?(t.L=+i[0],n+=i[0].length):-1},m:function(t,e,n){Bs.lastIndex=0;var i=Bs.exec(e.substring(n,n+2));return i?(t.m=i[0]-1,n+=i[0].length):-1},M:function(t,e,n){Bs.lastIndex=0;var i=Bs.exec(e.substring(n,n+2));return i?(t.M=+i[0],n+=i[0].length):-1},p:function(t,e,n){var i=Us.get(e.substring(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)},S:function(t,e,n){Bs.lastIndex=0;var i=Bs.exec(e.substring(n,n+2));return i?(t.S=+i[0],n+=i[0].length):-1},x:function(t,e,n){return ar(t,$s.x.toString(),e,n)},X:function(t,e,n){return ar(t,$s.X.toString(),e,n)},y:function(t,e,n){Bs.lastIndex=0;var i=Bs.exec(e.substring(n,n+2));return i?(t.y=hr(+i[0]),n+=i[0].length):-1},Y:function(t,e,n){Bs.lastIndex=0;var i=Bs.exec(e.substring(n,n+4));return i?(t.y=+i[0],n+=i[0].length):-1}},Bs=/^\s*\d+/,Us=Dr.map({am:0,pm:1});Dr.time.format.utc=function(t){function e(t){try{var e=new(Ms=rr);return e._=t,n(e)}finally{Ms=Date}}var n=Dr.time.format(t);return e.parse=function(t){try{Ms=rr;var e=n.parse(t);return e&&e._}finally{Ms=Date}},e.toString=n.toString,e};var qs=Dr.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");Dr.time.format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?fr:qs,fr.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},fr.toString=qs.toString,Dr.time.second=or(function(t){return new Ms(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Dr.time.seconds=Dr.time.second.range,Dr.time.seconds.utc=Dr.time.second.utc.range,Dr.time.minute=or(function(t){return new Ms(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Dr.time.minutes=Dr.time.minute.range,Dr.time.minutes.utc=Dr.time.minute.utc.range,Dr.time.hour=or(function(t){var e=t.getTimezoneOffset()/60;return new Ms(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Dr.time.hours=Dr.time.hour.range,Dr.time.hours.utc=Dr.time.hour.utc.range,Dr.time.month=or(function(t){return(t=Dr.time.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Dr.time.months=Dr.time.month.range,Dr.time.months.utc=Dr.time.month.utc.range;var Vs=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Xs=[[Dr.time.second,1],[Dr.time.second,5],[Dr.time.second,15],[Dr.time.second,30],[Dr.time.minute,1],[Dr.time.minute,5],[Dr.time.minute,15],[Dr.time.minute,30],[Dr.time.hour,1],[Dr.time.hour,3],[Dr.time.hour,6],[Dr.time.hour,12],[Dr.time.day,1],[Dr.time.day,2],[Dr.time.week,1],[Dr.time.month,1],[Dr.time.month,3],[Dr.time.year,1]],Gs=[[Dr.time.format("%Y"),At],[Dr.time.format("%B"),function(t){return t.getMonth()}],[Dr.time.format("%b %d"),function(t){return 1!=t.getDate()}],[Dr.time.format("%a %d"),function(t){return t.getDay()&&1!=t.getDate()}],[Dr.time.format("%I %p"),function(t){return t.getHours()}],[Dr.time.format("%I:%M"),function(t){return t.getMinutes()}],[Dr.time.format(":%S"),function(t){return t.getSeconds()}],[Dr.time.format(".%L"),function(t){return t.getMilliseconds()}]],Ks=Dr.scale.linear(),Qs=yr(Gs);Xs.year=function(t,e){return Ks.domain(t.map(br)).ticks(e).map(_r)},Dr.time.scale=function(){return mr(Dr.scale.linear(),Xs,Qs)};var Js=Xs.map(function(t){return[t[0].utc,t[1]]}),Zs=yr([[Dr.time.format.utc("%Y"),At],[Dr.time.format.utc("%B"),function(t){return t.getUTCMonth()}],[Dr.time.format.utc("%b %d"),function(t){return 1!=t.getUTCDate()}],[Dr.time.format.utc("%a %d"),function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[Dr.time.format.utc("%I %p"),function(t){return t.getUTCHours()}],[Dr.time.format.utc("%I:%M"),function(t){return t.getUTCMinutes()}],[Dr.time.format.utc(":%S"),function(t){return t.getUTCSeconds()}],[Dr.time.format.utc(".%L"),function(t){return t.getUTCMilliseconds()}]]);return Js.year=function(t,e){return Ks.domain(t.map(xr)).ticks(e).map(wr)},Dr.time.scale.utc=function(){return mr(Dr.scale.linear(),Js,Zs)},Dr.text=function(){return Dr.xhr.apply(Dr,arguments).response(Sr)},Dr.json=function(t,e){return Dr.xhr(t,"application/json",e).response(kr)},Dr.html=function(t,e){return Dr.xhr(t,"text/html",e).response(Cr)},Dr.xml=function(){return Dr.xhr.apply(Dr,arguments).response(Tr)},Dr}(),function(){function t(t,e){return new Date(e,t+1,0).getDate()}var e=window.nv||{};e.version="1.1.15b",e.dev=!0,window.nv=e,e.tooltip=e.tooltip||{},e.utils=e.utils||{},e.models=e.models||{},e.charts={},e.graphs=[],e.logs={},e.dispatch=d3.dispatch("render_start","render_end"),e.dev&&(e.dispatch.on("render_start",function(t){e.logs.startTime=+new Date}),e.dispatch.on("render_end",function(t){e.logs.endTime=+new Date,e.logs.totalTime=e.logs.endTime-e.logs.startTime,e.log("total",e.logs.totalTime)})),e.log=function(){return e.dev&&console.log&&console.log.apply?console.log.apply(console,arguments):e.dev&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,console).apply(console,arguments),arguments[arguments.length-1]},e.render=function(t){t=t||1,e.render.active=!0,e.dispatch.render_start(),setTimeout(function(){for(var n,i,r=0;r<t&&(i=e.render.queue[r]);r++)n=i.generate(),typeof i.callback==typeof Function&&i.callback(n),e.graphs.push(n);e.render.queue.splice(0,r),e.render.queue.length?setTimeout(arguments.callee,0):(e.dispatch.render_end(),e.render.active=!1)},0)},e.render.active=!1,e.render.queue=[],e.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),e.render.queue.push(t),e.render.active||e.render()},e.identity=function(t){return t},e.strip=function(t){return t.replace(/(\s|&)/g,"")},d3.time.monthEnd=function(t){return new Date(t.getFullYear(),t.getMonth(),0)},d3.time.monthEnds=function(t,e,n){return function(i,r,o){var s=t(i),a=[];if(s<i&&e(s),o>1)for(;s<r;){var l=new Date(+s);n(l)%o==0&&a.push(l),e(s)}else for(;s<r;)a.push(new Date(+s)),e(s);return a}}(d3.time.monthEnd,function(e){e.setUTCDate(e.getUTCDate()+1),e.setDate(t(e.getMonth()+1,e.getFullYear()))},function(t){return t.getMonth()}),e.interactiveGuideline=function(){"use strict";function t(h){h.each(function(h){function d(){var e=d3.mouse(this),i=e[0],r=e[1],l=!0,c=!1;if(u&&(i=d3.event.offsetX,r=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(l=!1),d3.event.target.className.baseVal.match("nv-legend")&&(c=!0)),l&&(i-=o.left,r-=o.top),i<0||r<0||i>f||r>m||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||c){if(u&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(n.nvPointerEventsClass))return;return a.elementMouseout({mouseX:i,mouseY:r}),void t.renderGuideLine(null)}var h=s.invert(i);a.elementMousemove({mouseX:i,mouseY:r,pointXValue:h}),"dblclick"===d3.event.type&&a.elementDblclick({mouseX:i,mouseY:r,pointXValue:h})}var p=d3.select(this),f=i||960,m=r||400,g=p.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([h]);g.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),c&&(c.on("mousemove",d,!0).on("mouseout",d,!0).on("dblclick",d),t.renderGuideLine=function(t){if(l){var n=g.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[e.utils.NaNtoZero(t)]:[],String);n.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",m).attr("y2",0),n.exit().remove()}})})}var n=e.models.tooltip(),i=null,r=null,o={left:0,top:0},s=d3.scale.linear(),a=(d3.scale.linear(),d3.dispatch("elementMousemove","elementMouseout","elementDblclick")),l=!0,c=null,u=-1!==navigator.userAgent.indexOf("MSIE");return t.dispatch=a,t.tooltip=n,t.margin=function(e){return arguments.length?(o.top=void 0!==e.top?e.top:o.top,o.left=void 0!==e.left?e.left:o.left,t):o},t.width=function(e){return arguments.length?(i=e,t):i},t.height=function(e){return arguments.length?(r=e,t):r},t.xScale=function(e){return arguments.length?(s=e,t):s},t.showGuideLine=function(e){return arguments.length?(l=e,t):l},t.svgContainer=function(e){return arguments.length?(c=e,t):c},t},e.interactiveBisect=function(t,e,n){"use strict";if(!t instanceof Array)return null;"function"!=typeof n&&(n=function(t,e){return t.x});var i=d3.bisector(n).left,r=d3.max([0,i(t,e)-1]),o=n(t[r],r);if(void 0===o&&(o=r),o===e)return r;var s=d3.min([r+1,t.length-1]),a=n(t[s],s);return void 0===a&&(a=s),Math.abs(a-e)>=Math.abs(o-e)?r:s},e.nearestValueIndex=function(t,e,n){"use strict";var i=1/0,r=null;return t.forEach(function(t,o){var s=Math.abs(e-t);s<=i&&s<n&&(i=s,r=o)}),r},function(){"use strict";window.nv.tooltip={},window.nv.models.tooltip=function(){function t(){if(h){var t=d3.select(h);"svg"!==t.node().tagName&&(t=t.select("svg"));var e=t.node()?t.attr("viewBox"):null;if(e){e=e.split(" ");var n=parseInt(t.style("width"))/e[2];p.left=p.left*n,p.top=p.top*n}}}function n(t){var e,n=(e=h?d3.select(h):d3.select("body")).select(".nvtooltip");return null===n.node()&&(n=e.append("div").attr("class","nvtooltip "+(u||"xy-tooltip")).attr("id",m)),n.node().innerHTML=t,n.style("top",0).style("left",0).style("opacity",0),n.selectAll("div, table, td, tr").classed(g,!0),n.classed(g,!0),n.node()}function i(){if(f&&b(o)){t();var r=p.left,u=null!=c?c:p.top,m=n(_(o));if(d=m,h){var g=h.getElementsByTagName("svg")[0],v=(g?g.getBoundingClientRect():h.getBoundingClientRect(),{left:0,top:0});if(g){var y=g.getBoundingClientRect(),w=h.getBoundingClientRect(),x=y.top;if(x<0){var S=h.getBoundingClientRect();x=Math.abs(x)>S.height?0:x}v.top=Math.abs(x-w.top),v.left=Math.abs(y.left-w.left)}r+=h.offsetLeft+v.left-2*h.scrollLeft,u+=h.offsetTop+v.top-2*h.scrollTop}return l&&l>0&&(u=Math.floor(u/l)*l),e.tooltip.calcTooltipPosition([r,u],s,a,m),i}}var r=null,o=null,s="w",a=50,l=25,c=null,u=null,h=null,d=null,p={left:null,top:null},f=!0,m="nvtooltip-"+Math.floor(1e5*Math.random()),g="nv-pointer-events-none",v=function(t,e){return t},y=function(t){return t},_=function(t){if(null!=r)return r;if(null==t)return"";var e=d3.select(document.createElement("table"));e.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(y(t.value));var n=e.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});n.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),n.append("td").classed("key",!0).html(function(t){return t.key}),n.append("td").classed("value",!0).html(function(t,e){return v(t.value,e)}),n.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}});var i=e.node().outerHTML;return void 0!==t.footer&&(i+="<div class='footer'>"+t.footer+"</div>"),i},b=function(t){return!!(t&&t.series&&t.series.length>0)};return i.nvPointerEventsClass=g,i.content=function(t){return arguments.length?(r=t,i):r},i.tooltipElem=function(){return d},i.contentGenerator=function(t){return arguments.length?("function"==typeof t&&(_=t),i):_},i.data=function(t){return arguments.length?(o=t,i):o},i.gravity=function(t){return arguments.length?(s=t,i):s},i.distance=function(t){return arguments.length?(a=t,i):a},i.snapDistance=function(t){return arguments.length?(l=t,i):l},i.classes=function(t){return arguments.length?(u=t,i):u},i.chartContainer=function(t){return arguments.length?(h=t,i):h},i.position=function(t){return arguments.length?(p.left=void 0!==t.left?t.left:p.left,p.top=void 0!==t.top?t.top:p.top,i):p},i.fixedTop=function(t){return arguments.length?(c=t,i):c},i.enabled=function(t){return arguments.length?(f=t,i):f},i.valueFormatter=function(t){return arguments.length?("function"==typeof t&&(v=t),i):v},i.headerFormatter=function(t){return arguments.length?("function"==typeof t&&(y=t),i):y},i.id=function(){return m},i},e.tooltip.show=function(t,n,i,r,o,s){var a=document.createElement("div");a.className="nvtooltip "+(s||"xy-tooltip");var l=o;o&&!o.tagName.match(/g|svg/i)||(l=document.getElementsByTagName("body")[0]),a.style.left=0,a.style.top=0,a.style.opacity=0,a.innerHTML=n,l.appendChild(a),o&&(t[0]=t[0]-o.scrollLeft,t[1]=t[1]-o.scrollTop),e.tooltip.calcTooltipPosition(t,i,r,a)},e.tooltip.findFirstNonSVGParent=function(t){for(;null!==t.tagName.match(/^g|svg$/i);)t=t.parentNode;return t},e.tooltip.findTotalOffsetTop=function(t,e){var n=e;do{isNaN(t.offsetTop)||(n+=t.offsetTop)}while(t=t.offsetParent);return n},e.tooltip.findTotalOffsetLeft=function(t,e){var n=e;do{isNaN(t.offsetLeft)||(n+=t.offsetLeft)}while(t=t.offsetParent);return n},e.tooltip.calcTooltipPosition=function(t,n,i,r){var o,s,a=parseInt(r.offsetHeight),l=parseInt(r.offsetWidth),c=e.utils.windowSize().width,u=e.utils.windowSize().height,h=window.pageYOffset,d=window.pageXOffset;u=window.innerWidth>=document.body.scrollWidth?u:u-16,c=window.innerHeight>=document.body.scrollHeight?c:c-16,n=n||"s",i=i||20;var p=function(t){return e.tooltip.findTotalOffsetTop(t,s)},f=function(t){return e.tooltip.findTotalOffsetLeft(t,o)};switch(n){case"e":o=t[0]-l-i,s=t[1]-a/2;var m=f(r),g=p(r);m<d&&(o=t[0]+i>d?t[0]+i:d-m+o),g<h&&(s=h-g+s),g+a>h+u&&(s=h+u-g+s-a);break;case"w":o=t[0]+i,s=t[1]-a/2;var m=f(r),g=p(r);m+l>c&&(o=t[0]-l-i),g<h&&(s=h+5),g+a>h+u&&(s=h+u-g+s-a);break;case"n":o=t[0]-l/2-5,s=t[1]+i;var m=f(r),g=p(r);m<d&&(o=d+5),m+l>c&&(o=o-l/2+5),g+a>h+u&&(s=h+u-g+s-a);break;case"s":o=t[0]-l/2,s=t[1]-a-i;var m=f(r),g=p(r);m<d&&(o=d+5),m+l>c&&(o=o-l/2+5),h>g&&(s=h);break;case"none":o=t[0],s=t[1]-i;var m=f(r),g=p(r)}return r.style.left=o+"px",r.style.top=s+"px",r.style.opacity=1,r.style.position="absolute",r},e.tooltip.cleanup=function(){for(var t=document.getElementsByClassName("nvtooltip"),e=[];t.length;)e.push(t[0]),t[0].style.transitionDelay="0 !important",t[0].style.opacity=0,t[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;e.length;){var t=e.pop();t.parentNode.removeChild(t)}},500)}}(),e.utils.windowSize=function(){var t={width:640,height:480};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t},e.utils.windowResize=function(t){if(void 0!==t){var e=window.onresize;window.onresize=function(n){"function"==typeof e&&e(n),t(n)}}},e.utils.getColor=function(t){return arguments.length?"[object Array]"===Object.prototype.toString.call(t)?function(e,n){return e.color||t[n%t.length]}:t:e.utils.defaultColor()},e.utils.defaultColor=function(){var t=d3.scale.category20().range();return function(e,n){return e.color||t[n%t.length]}},e.utils.customTheme=function(t,e,n){e=e||function(t){return t.key};var i=(n=n||d3.scale.category20().range()).length;return function(r,o){var s=e(r);return i||(i=n.length),void 0!==t[s]?"function"==typeof t[s]?t[s]():t[s]:n[--i]}},e.utils.pjax=function(t,n){function i(i){d3.html(i,function(i){var r=d3.select(n).node();r.parentNode.replaceChild(d3.select(i).select(n).node(),r),e.utils.pjax(t,n)})}d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),i(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&i(d3.event.state)})},e.utils.calcApproxTextWidth=function(t){if("function"==typeof t.style&&"function"==typeof t.text){var e=parseInt(t.style("font-size").replace("px",""));return t.text().length*e*.5}return 0},e.utils.NaNtoZero=function(t){return"number"!=typeof t||isNaN(t)||null===t||t===1/0?0:t},e.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){"function"==typeof this[t]&&this[t](e)}.bind(this)),this},e.models.axis=function(){"use strict";function t(e){return e.each(function(t){var e=d3.select(this).selectAll("g.nv-wrap.nv-axis").data([t]),o=(e.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),e.select("g"));null!==f?n.ticks(f):("top"==n.orient()||"bottom"==n.orient())&&n.ticks(Math.abs(s.range()[1]-s.range()[0])/100),o.transition().call(n),g=g||n.scale();var v=n.tickFormat();null==v&&(v=g.tickFormat());var y=o.selectAll("text.nv-axislabel").data([a||null]);switch(y.exit().remove(),n.orient()){case"top":y.enter().append("text").attr("class","nv-axislabel");S=2==s.range().length?s.range()[1]:s.range()[s.range().length-1]+(s.range()[1]-s.range()[0]);y.attr("text-anchor","middle").attr("y",0).attr("x",S/2),l&&((k=e.selectAll("g.nv-axisMaxMin").data(s.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text"),k.exit().remove(),k.attr("transform",function(t,e){return"translate("+s(t)+",0)"}).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=v(t);return(""+n).match("NaN")?"":n}),k.transition().attr("transform",function(t,e){return"translate("+s.range()[e]+",0)"}));break;case"bottom":var _=36,b=30,w=o.selectAll("g").select("text");if(u%360){w.each(function(t,e){var n=this.getBBox().width;n>b&&(b=n)});var x=Math.abs(Math.sin(u*Math.PI/180)),_=(x?x*b:b)+30;w.attr("transform",function(t,e,n){return"rotate("+u+" 0,0)"}).style("text-anchor",u%360>0?"start":"end")}y.enter().append("text").attr("class","nv-axislabel");var S=2==s.range().length?s.range()[1]:s.range()[s.range().length-1]+(s.range()[1]-s.range()[0]);y.attr("text-anchor","middle").attr("y",_).attr("x",S/2),l&&((k=e.selectAll("g.nv-axisMaxMin").data([s.domain()[0],s.domain()[s.domain().length-1]])).enter().append("g").attr("class","nv-axisMaxMin").append("text"),k.exit().remove(),k.attr("transform",function(t,e){return"translate("+(s(t)+(p?s.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",function(t,e,n){return"rotate("+u+" 0,0)"}).style("text-anchor",u?u%360>0?"start":"end":"middle").text(function(t,e){var n=v(t);return(""+n).match("NaN")?"":n}),k.transition().attr("transform",function(t,e){return"translate("+(s(t)+(p?s.rangeBand()/2:0))+",0)"})),d&&w.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"});break;case"right":y.enter().append("text").attr("class","nv-axislabel"),y.style("text-anchor",h?"middle":"begin").attr("transform",h?"rotate(90)":"").attr("y",h?12-Math.max(i.right,r):-10).attr("x",h?s.range()[0]/2:n.tickPadding()),l&&((k=e.selectAll("g.nv-axisMaxMin").data(s.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),k.exit().remove(),k.attr("transform",function(t,e){return"translate(0,"+s(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text(function(t,e){var n=v(t);return(""+n).match("NaN")?"":n}),k.transition().attr("transform",function(t,e){return"translate(0,"+s.range()[e]+")"}).select("text").style("opacity",1));break;case"left":if(y.enter().append("text").attr("class","nv-axislabel"),y.style("text-anchor",h?"middle":"end").attr("transform",h?"rotate(-90)":"").attr("y",h?-Math.max(i.left,r)+m:-10).attr("x",h?-s.range()[0]/2:-n.tickPadding()),l){var k=e.selectAll("g.nv-axisMaxMin").data(s.domain());k.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),k.exit().remove(),k.attr("transform",function(t,e){return"translate(0,"+g(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=v(t);return(""+n).match("NaN")?"":n}),k.transition().attr("transform",function(t,e){return"translate(0,"+s.range()[e]+")"}).select("text").style("opacity",1)}}if(y.text(function(t){return t}),l&&("left"===n.orient()||"right"===n.orient())&&(o.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(s(t)<s.range()[1]+10||s(t)>s.range()[0]-10)&&((t>1e-10||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),s.domain()[0]==s.domain()[1]&&0==s.domain()[0]&&e.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),l&&("top"===n.orient()||"bottom"===n.orient())){var C=[];e.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?C.push(s(t)-this.getBBox().width-4):C.push(s(t)+this.getBBox().width+4)}catch(n){e?C.push(s(t)-4):C.push(s(t)+4)}}),o.selectAll("g").each(function(t,e){(s(t)<C[0]||s(t)>C[1])&&(t>1e-10||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}c&&o.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t.__data__)/1e6)&&void 0!==t.__data__}).classed("zero",!0),g=s.copy()}),t}var n=d3.svg.axis(),i={top:0,right:0,bottom:0,left:0},r=75,o=60,s=d3.scale.linear(),a=null,l=!0,c=!0,u=0,h=!0,d=!1,p=!1,f=null,m=12;n.scale(s).orient("bottom").tickFormat(function(t){return t});var g;return t.axis=n,d3.rebind(t,n,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),d3.rebind(t,s,"domain","range","rangeBand","rangeBands"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left,t):i},t.width=function(e){return arguments.length?(r=e,t):r},t.ticks=function(e){return arguments.length?(f=e,t):f},t.height=function(e){return arguments.length?(o=e,t):o},t.axisLabel=function(e){return arguments.length?(a=e,t):a},t.showMaxMin=function(e){return arguments.length?(l=e,t):l},t.highlightZero=function(e){return arguments.length?(c=e,t):c},t.scale=function(e){return arguments.length?(s=e,n.scale(s),p="function"==typeof s.rangeBands,d3.rebind(t,s,"domain","range","rangeBand","rangeBands"),t):s},t.rotateYLabel=function(e){return arguments.length?(h=e,t):h},t.rotateLabels=function(e){return arguments.length?(u=e,t):u},t.staggerLabels=function(e){return arguments.length?(d=e,t):d},t.axisLabelDistance=function(e){return arguments.length?(m=e,t):m},t},e.models.bullet=function(){"use strict";function t(e){return e.each(function(t,e){var i=d-n.left-n.right,f=p-n.top-n.bottom,v=d3.select(this),y=o.call(this,t,e).slice().sort(d3.descending),_=s.call(this,t,e).slice().sort(d3.descending),b=a.call(this,t,e).slice().sort(d3.descending),w=l.call(this,t,e).slice(),x=c.call(this,t,e).slice(),S=u.call(this,t,e).slice(),k=d3.scale.linear().domain(d3.extent(d3.merge([h,y]))).range(r?[i,0]:[0,i]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(k.range());this.__chart__=k;var C=d3.min(y),T=d3.max(y),D=y[1],M=v.selectAll("g.nv-wrap.nv-bullet").data([t]),E=M.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),L=M.select("g");E.append("rect").attr("class","nv-range nv-rangeMax"),E.append("rect").attr("class","nv-range nv-rangeAvg"),E.append("rect").attr("class","nv-range nv-rangeMin"),E.append("rect").attr("class","nv-measure"),E.append("path").attr("class","nv-markerTriangle"),M.attr("transform","translate("+n.left+","+n.top+")");var A=function(t){return Math.abs(k(t)-k(0))},I=function(t){return k(t<0?t:0)};L.select("rect.nv-rangeMax").attr("height",f).attr("width",A(T>0?T:C)).attr("x",I(T>0?T:C)).datum(T>0?T:C),L.select("rect.nv-rangeAvg").attr("height",f).attr("width",A(D)).attr("x",I(D)).datum(D),L.select("rect.nv-rangeMin").attr("height",f).attr("width",A(T)).attr("x",I(T)).attr("width",A(T>0?C:T)).attr("x",I(T>0?C:T)).datum(T>0?C:T),L.select("rect.nv-measure").style("fill",m).attr("height",f/3).attr("y",f/3).attr("width",b<0?k(0)-k(b[0]):k(b[0])-k(0)).attr("x",I(b)).on("mouseover",function(){g.elementMouseover({value:b[0],label:S[0]||"Current",pos:[k(b[0]),f/2]})}).on("mouseout",function(){g.elementMouseout({value:b[0],label:S[0]||"Current"})});var N=f/6;_[0]?L.selectAll("path.nv-markerTriangle").attr("transform",function(t){return"translate("+k(_[0])+","+f/2+")"}).attr("d","M0,"+N+"L"+N+","+-N+" "+-N+","+-N+"Z").on("mouseover",function(){g.elementMouseover({value:_[0],label:x[0]||"Previous",pos:[k(_[0]),f/2]})}).on("mouseout",function(){g.elementMouseout({value:_[0],label:x[0]||"Previous"})}):L.selectAll("path.nv-markerTriangle").remove(),M.selectAll(".nv-range").on("mouseover",function(t,e){var n=w[e]||(e?1==e?"Mean":"Minimum":"Maximum");g.elementMouseover({value:t,label:n,pos:[k(t),f/2]})}).on("mouseout",function(t,e){var n=w[e]||(e?1==e?"Mean":"Minimum":"Maximum");g.elementMouseout({value:t,label:n})})}),t}var n={top:0,right:0,bottom:0,left:0},i="left",r=!1,o=function(t){return t.ranges},s=function(t){return t.markers},a=function(t){return t.measures},l=function(t){return t.rangeLabels?t.rangeLabels:[]},c=function(t){return t.markerLabels?t.markerLabels:[]},u=function(t){return t.measureLabels?t.measureLabels:[]},h=[0],d=380,p=30,f=null,m=e.utils.getColor(["#1f77b4"]),g=d3.dispatch("elementMouseover","elementMouseout");return t.dispatch=g,t.options=e.utils.optionsFunc.bind(t),t.orient=function(e){return arguments.length?(i=e,r="right"==i||"bottom"==i,t):i},t.ranges=function(e){return arguments.length?(o=e,t):o},t.markers=function(e){return arguments.length?(s=e,t):s},t.measures=function(e){return arguments.length?(a=e,t):a},t.forceX=function(e){return arguments.length?(h=e,t):h},t.width=function(e){return arguments.length?(d=e,t):d},t.height=function(e){return arguments.length?(p=e,t):p},t.margin=function(e){return arguments.length?(n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t):n},t.tickFormat=function(e){return arguments.length?(f=e,t):f},t.color=function(n){return arguments.length?(m=e.utils.getColor(n),t):m},t},e.models.bulletChart=function(){"use strict";function t(e){return e.each(function(i,p){var v=d3.select(this),y=(c||parseInt(v.style("width"))||960)-o.left-o.right,_=u-o.top-o.bottom,b=this;if(t.update=function(){t(e)},t.container=this,!i||!s.call(this,i,p)){var w=v.selectAll(".nv-noData").data([f]);return w.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),w.attr("x",o.left+y/2).attr("y",18+o.top+_/2).text(function(t){return t}),t}v.selectAll(".nv-noData").remove();var x=s.call(this,i,p).slice().sort(d3.descending),S=a.call(this,i,p).slice().sort(d3.descending),k=l.call(this,i,p).slice().sort(d3.descending),C=v.selectAll("g.nv-wrap.nv-bulletChart").data([i]),T=C.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),D=C.select("g");T.append("g").attr("class","nv-bulletWrap"),T.append("g").attr("class","nv-titles"),C.attr("transform","translate("+o.left+","+o.top+")");var M=d3.scale.linear().domain([0,Math.max(x[0],S[0],k[0])]).range(r?[y,0]:[0,y]),E=this.__chart__||d3.scale.linear().domain([0,1/0]).range(M.range());this.__chart__=M;var L=T.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(u-o.top-o.bottom)/2+")");L.append("text").attr("class","nv-title").text(function(t){return t.title}),L.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),n.width(y).height(_);var A=D.select(".nv-bulletWrap");d3.transition(A).call(n);var I=h||M.tickFormat(y/100),N=D.selectAll("g.nv-tick").data(M.ticks(y/50),function(t){return this.textContent||I(t)}),P=N.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+E(t)+",0)"}).style("opacity",1e-6);P.append("line").attr("y1",_).attr("y2",7*_/6),P.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*_/6).text(I);var O=d3.transition(N).attr("transform",function(t){return"translate("+M(t)+",0)"}).style("opacity",1);O.select("line").attr("y1",_).attr("y2",7*_/6),O.select("text").attr("y",7*_/6),d3.transition(N.exit()).attr("transform",function(t){return"translate("+M(t)+",0)"}).style("opacity",1e-6).remove(),m.on("tooltipShow",function(t){t.key=i.title,d&&g(t,b.parentNode)})}),d3.timer.flush(),t}var n=e.models.bullet(),i="left",r=!1,o={top:5,right:40,bottom:20,left:120},s=function(t){return t.ranges},a=function(t){return t.markers},l=function(t){return t.measures},c=null,u=55,h=null,d=!0,p=function(t,e,n,i,r){return"<h3>"+e+"</h3><p>"+n+"</p>"},f="No Data Available.",m=d3.dispatch("tooltipShow","tooltipHide"),g=function(n,i){var r=n.pos[0]+(i.offsetLeft||0)+o.left,s=n.pos[1]+(i.offsetTop||0)+o.top,a=p(n.key,n.label,n.value,n,t);e.tooltip.show([r,s],a,n.value<0?"e":"w",null,i)};return n.dispatch.on("elementMouseover.tooltip",function(t){m.tooltipShow(t)}),n.dispatch.on("elementMouseout.tooltip",function(t){m.tooltipHide(t)}),m.on("tooltipHide",function(){d&&e.tooltip.cleanup()}),t.dispatch=m,t.bullet=n,d3.rebind(t,n,"color"),t.options=e.utils.optionsFunc.bind(t),t.orient=function(e){return arguments.length?(i=e,r="right"==i||"bottom"==i,t):i},t.ranges=function(e){return arguments.length?(s=e,t):s},t.markers=function(e){return arguments.length?(a=e,t):a},t.measures=function(e){return arguments.length?(l=e,t):l},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(u=e,t):u},t.margin=function(e){return arguments.length?(o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left,t):o},t.tickFormat=function(e){return arguments.length?(h=e,t):h},t.tooltips=function(e){return arguments.length?(d=e,t):d},t.tooltipContent=function(e){return arguments.length?(p=e,t):p},t.noData=function(e){return arguments.length?(f=e,t):f},t},e.models.cumulativeLineChart=function(){"use strict";function t(S){return S.each(function(S){function A(){tt.data([N]);var e=t.transitionDuration();t.transitionDuration(0),t.update(),t.transitionDuration(e)}var O=d3.select(this).classed("nv-chart-"+k,!0),Y=this,R=(p||parseInt(O.style("width"))||960)-h.left-h.right,F=(f||parseInt(O.style("height"))||400)-h.top-h.bottom;if(t.update=function(){O.transition().duration(L).call(t)},t.container=this,C.disabled=S.map(function(t){return!!t.disabled}),!T){var H;T={};for(H in C)C[H]instanceof Array?T[H]=C[H].slice(0):T[H]=C[H]}var z=d3.behavior.drag().on("dragstart",function(e,n){d3.select(t.container).style("cursor","ew-resize")}).on("drag",function(t,e){N.x=d3.event.x,N.i=Math.round(I.invert(N.x)),A()}).on("dragend",function(e,n){d3.select(t.container).style("cursor","auto"),C.index=N.i,E.stateChange(C)});if(!S||!S.length||!S.filter(function(t){return t.values.length}).length){var j=O.selectAll(".nv-noData").data([D]);return j.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),j.attr("x",h.left+R/2).attr("y",h.top+F/2).text(function(t){return t}),t}if(O.selectAll(".nv-noData").remove(),i=o.xScale(),r=o.yScale(),x)o.yDomain(null);else{var $=S.filter(function(t){return!t.disabled}).map(function(t,e){var n=d3.extent(t.values,o.y());return n[0]<-.95&&(n[0]=-.95),[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]}),W=[d3.min($,function(t){return t[0]}),d3.max($,function(t){return t[1]})];o.yDomain(W)}I.domain([0,S[0].values.length-1]).range([0,R]).clamp(!0);var S=n(N.i,S),B=w?"none":"all",U=O.selectAll("g.nv-wrap.nv-cumulativeLine").data([S]),q=U.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),V=U.select("g");if(q.append("g").attr("class","nv-interactive"),q.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),q.append("g").attr("class","nv-y nv-axis"),q.append("g").attr("class","nv-background"),q.append("g").attr("class","nv-linesWrap").style("pointer-events",B),q.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),q.append("g").attr("class","nv-legendWrap"),q.append("g").attr("class","nv-controlsWrap"),m&&(l.width(R),V.select(".nv-legendWrap").datum(S).call(l),h.top!=l.height()&&(h.top=l.height(),F=(f||parseInt(O.style("height"))||400)-h.top-h.bottom),V.select(".nv-legendWrap").attr("transform","translate(0,"+-h.top+")")),b){var X=[{key:"Re-scale y-axis",disabled:!x}];c.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),V.select(".nv-controlsWrap").datum(X).attr("transform","translate(0,"+-h.top+")").call(c)}U.attr("transform","translate("+h.left+","+h.top+")"),y&&V.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)");var G=S.filter(function(t){return t.tempDisabled});U.select(".tempDisabled").remove(),G.length&&U.append("text").attr("class","tempDisabled").attr("x",R/2).attr("y","-.71em").style("text-anchor","end").text(G.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),w&&(u.width(R).height(F).margin({left:h.left,top:h.top}).svgContainer(O).xScale(i),U.select(".nv-interactive").call(u)),q.select(".nv-background").append("rect"),V.select(".nv-background rect").attr("width",R).attr("height",F),o.y(function(t){return t.display.y}).width(R).height(F).color(S.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!S[e].disabled&&!S[e].tempDisabled}));var K=V.select(".nv-linesWrap").datum(S.filter(function(t){return!t.disabled&&!t.tempDisabled}));K.call(o),S.forEach(function(t,e){t.seriesIndex=e});var Q=S.filter(function(t){return!t.disabled&&!!M(t)}),J=V.select(".nv-avgLinesWrap").selectAll("line").data(Q,function(t){return t.key}),Z=function(t){var e=r(M(t));return e<0?0:e>F?F:e};J.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return o.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",R).attr("y1",Z).attr("y2",Z),J.style("stroke-opacity",function(t){var e=r(M(t));return e<0||e>F?0:1}).attr("x1",0).attr("x2",R).attr("y1",Z).attr("y2",Z),J.exit().remove();var tt=K.selectAll(".nv-indexLine").data([N]);tt.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(z),tt.attr("transform",function(t){return"translate("+I(t.i)+",0)"}).attr("height",F),g&&(s.scale(i).ticks(Math.min(S[0].values.length,R/70)).tickSize(-F,0),V.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),d3.transition(V.select(".nv-x.nv-axis")).call(s)),v&&(a.scale(r).ticks(F/36).tickSize(-R,0),d3.transition(V.select(".nv-y.nv-axis")).call(a)),V.select(".nv-background rect").on("click",function(){N.x=d3.mouse(this)[0],N.i=Math.round(I.invert(N.x)),C.index=N.i,E.stateChange(C),A()}),o.dispatch.on("elementClick",function(t){N.i=t.pointIndex,N.x=I(N.i),C.index=N.i,E.stateChange(C),A()}),c.dispatch.on("legendClick",function(e,n){e.disabled=!e.disabled,x=!e.disabled,C.rescaleY=x,E.stateChange(C),t.update()}),l.dispatch.on("stateChange",function(e){C.disabled=e.disabled,E.stateChange(C),t.update()}),u.dispatch.on("elementMousemove",function(n){o.clearHighlights();var i,r,l,c=[];if(S.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(s,a){r=e.interactiveBisect(s.values,n.pointXValue,t.x()),o.highlightPoint(a,r,!0);var u=s.values[r];void 0!==u&&(void 0===i&&(i=u),void 0===l&&(l=t.xScale()(t.x()(u,r))),c.push({key:s.key,value:t.y()(u,r),color:d(s,s.seriesIndex)}))}),c.length>2){var p=t.yScale().invert(n.mouseY),f=.03*Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),m=e.nearestValueIndex(c.map(function(t){return t.value}),p,f);null!==m&&(c[m].highlight=!0)}var g=s.tickFormat()(t.x()(i,r),r);u.tooltip.position({left:l+h.left,top:n.mouseY+h.top}).chartContainer(Y.parentNode).enabled(_).valueFormatter(function(t,e){return a.tickFormat()(t)}).data({value:g,series:c})(),u.renderGuideLine(l)}),u.dispatch.on("elementMouseout",function(t){E.tooltipHide(),o.clearHighlights()}),E.on("tooltipShow",function(t){_&&P(t,Y.parentNode)}),E.on("changeState",function(e){void 0!==e.disabled&&(S.forEach(function(t,n){t.disabled=e.disabled[n]}),C.disabled=e.disabled),void 0!==e.index&&(N.i=e.index,N.x=I(N.i),C.index=e.index,tt.data([N])),void 0!==e.rescaleY&&(x=e.rescaleY),t.update()})}),t}function n(t,e){return e.map(function(e,n){if(!e.values)return e;var i=o.y()(e.values[t],t);return i<-.95&&!A?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(o.y()(t,e)-i)/(1+i)},t}),e)})}var i,r,o=e.models.line(),s=e.models.axis(),a=e.models.axis(),l=e.models.legend(),c=e.models.legend(),u=e.interactiveGuideline(),h={top:30,right:30,bottom:50,left:60},d=e.utils.defaultColor(),p=null,f=null,m=!0,g=!0,v=!0,y=!1,_=!0,b=!0,w=!1,x=!0,S=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},k=o.id(),C={index:0,rescaleY:x},T=null,D="No Data Available.",M=function(t){return t.average},E=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),L=250,A=!1;s.orient("bottom").tickPadding(7),a.orient(y?"right":"left"),c.updateState(!1);var I=d3.scale.linear(),N={i:0,x:0},P=function(n,i){var r=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),c=s.tickFormat()(o.x()(n.point,n.pointIndex)),u=a.tickFormat()(o.y()(n.point,n.pointIndex)),h=S(n.series.key,c,u,n,t);e.tooltip.show([r,l],h,null,null,i)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+h.left,t.pos[1]+h.top],E.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){E.tooltipHide(t)}),E.on("tooltipHide",function(){_&&e.tooltip.cleanup()}),t.dispatch=E,t.lines=o,t.legend=l,t.xAxis=s,t.yAxis=a,t.interactiveLayer=u,d3.rebind(t,o,"defined","isArea","x","y","xScale","yScale","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(h.top=void 0!==e.top?e.top:h.top,h.right=void 0!==e.right?e.right:h.right,h.bottom=void 0!==e.bottom?e.bottom:h.bottom,h.left=void 0!==e.left?e.left:h.left,t):h},t.width=function(e){return arguments.length?(p=e,t):p},t.height=function(e){return arguments.length?(f=e,t):f},t.color=function(n){return arguments.length?(d=e.utils.getColor(n),l.color(d),t):d},t.rescaleY=function(e){return arguments.length?(x=e,t):x},t.showControls=function(e){return arguments.length?(b=e,t):b},t.useInteractiveGuideline=function(e){return arguments.length?(w=e,!0===e&&(t.interactive(!1),t.useVoronoi(!1)),t):w},t.showLegend=function(e){return arguments.length?(m=e,t):m},t.showXAxis=function(e){return arguments.length?(g=e,t):g},t.showYAxis=function(e){return arguments.length?(v=e,t):v},t.rightAlignYAxis=function(e){return arguments.length?(y=e,a.orient(e?"right":"left"),t):y},t.tooltips=function(e){return arguments.length?(_=e,t):_},t.tooltipContent=function(e){return arguments.length?(S=e,t):S},t.state=function(e){return arguments.length?(C=e,t):C},t.defaultState=function(e){return arguments.length?(T=e,t):T},t.noData=function(e){return arguments.length?(D=e,t):D},t.average=function(e){return arguments.length?(M=e,t):M},t.transitionDuration=function(e){return arguments.length?(L=e,t):L},t.noErrorCheck=function(e){return arguments.length?(A=e,t):A},t},e.models.discreteBar=function(){"use strict";function t(e){return e.each(function(t){var e=c-l.left-l.right,h=u-l.top-l.bottom,x=d3.select(this);t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var S=n&&i?[]:t.map(function(t){return t.values.map(function(t,e){return{x:f(t,e),y:m(t,e),y0:t.y0}})});d.domain(n||d3.merge(S).map(function(t){return t.x})).rangeBands(r||[0,e],.1),p.domain(i||d3.extent(d3.merge(S).map(function(t){return t.y}).concat(g))),y?p.range(o||[h-(p.domain()[0]<0?12:0),p.domain()[1]>0?12:0]):p.range(o||[h,0]),s=s||d,a=a||p.copy().range([p(0),p(0)]);var k=x.selectAll("g.nv-wrap.nv-discretebar").data([t]),C=k.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");k.select("g");C.append("g").attr("class","nv-groups"),k.attr("transform","translate("+l.left+","+l.top+")");var T=k.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});T.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),T.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),T.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),T.transition().style("stroke-opacity",1).style("fill-opacity",.75);var D=T.selectAll("g.nv-bar").data(function(t){return t.values});D.exit().remove();var M=D.enter().append("g").attr("transform",function(t,e,n){return"translate("+(d(f(t,e))+.05*d.rangeBand())+", "+p(0)+")"}).on("mouseover",function(e,n){d3.select(this).classed("hover",!0),b.elementMouseover({value:m(e,n),point:e,series:t[e.series],pos:[d(f(e,n))+d.rangeBand()*(e.series+.5)/t.length,p(m(e,n))],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),b.elementMouseout({value:m(e,n),point:e,series:t[e.series],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("click",function(e,n){b.elementClick({value:m(e,n),point:e,series:t[e.series],pos:[d(f(e,n))+d.rangeBand()*(e.series+.5)/t.length,p(m(e,n))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(e,n){b.elementDblClick({value:m(e,n),point:e,series:t[e.series],pos:[d(f(e,n))+d.rangeBand()*(e.series+.5)/t.length,p(m(e,n))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()});M.append("rect").attr("height",0).attr("width",.9*d.rangeBand()/t.length),y?(M.append("text").attr("text-anchor","middle"),D.select("text").text(function(t,e){return _(m(t,e))}).transition().attr("x",.9*d.rangeBand()/2).attr("y",function(t,e){return m(t,e)<0?p(m(t,e))-p(0)+12:-4})):D.selectAll("text").remove(),D.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||v(t,e)}).style("stroke",function(t,e){return t.color||v(t,e)}).select("rect").attr("class",w).transition().attr("width",.9*d.rangeBand()/t.length),D.transition().attr("transform",function(t,e){return"translate("+(d(f(t,e))+.05*d.rangeBand())+", "+(m(t,e)<0?p(0):p(0)-p(m(t,e))<1?p(0)-1:p(m(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(p(m(t,e))-p(i&&i[0]||0))||1)}),s=d.copy(),a=p.copy()}),t}var n,i,r,o,s,a,l={top:0,right:0,bottom:0,left:0},c=960,u=500,h=Math.floor(1e4*Math.random()),d=d3.scale.ordinal(),p=d3.scale.linear(),f=function(t){return t.x},m=function(t){return t.y},g=[0],v=e.utils.defaultColor(),y=!1,_=d3.format(",.2f"),b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),w="discreteBar";return t.dispatch=b,t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(f=e,t):f},t.y=function(e){return arguments.length?(m=e,t):m},t.margin=function(e){return arguments.length?(l.top=void 0!==e.top?e.top:l.top,l.right=void 0!==e.right?e.right:l.right,l.bottom=void 0!==e.bottom?e.bottom:l.bottom,l.left=void 0!==e.left?e.left:l.left,t):l},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(u=e,t):u},t.xScale=function(e){return arguments.length?(d=e,t):d},t.yScale=function(e){return arguments.length?(p=e,t):p},t.xDomain=function(e){return arguments.length?(n=e,t):n},t.yDomain=function(e){return arguments.length?(i=e,t):i},t.xRange=function(e){return arguments.length?(r=e,t):r},t.yRange=function(e){return arguments.length?(o=e,t):o},t.forceY=function(e){return arguments.length?(g=e,t):g},t.color=function(n){return arguments.length?(v=e.utils.getColor(n),t):v},t.id=function(e){return arguments.length?(h=e,t):h},t.showValues=function(e){return arguments.length?(y=e,t):y},t.valueFormat=function(e){return arguments.length?(_=e,t):_},t.rectClass=function(e){return arguments.length?(w=e,t):w},t},e.models.discreteBarChart=function(){"use strict";function t(e){return e.each(function(e){var u=d3.select(this),g=this,w=(l||parseInt(u.style("width"))||960)-a.left-a.right,x=(c||parseInt(u.style("height"))||400)-a.top-a.bottom;if(t.update=function(){y.beforeUpdate(),u.transition().duration(_).call(t)},t.container=this,!e||!e.length||!e.filter(function(t){return t.values.length}).length){var S=u.selectAll(".nv-noData").data([v]);return S.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),S.attr("x",a.left+w/2).attr("y",a.top+x/2).text(function(t){return t}),t}u.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale().clamp(!0);var k=u.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([e]),C=k.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),T=C.append("defs"),D=k.select("g");if(C.append("g").attr("class","nv-x nv-axis"),C.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),C.append("g").attr("class","nv-barsWrap"),D.attr("transform","translate("+a.left+","+a.top+")"),p&&D.select(".nv-y.nv-axis").attr("transform","translate("+w+",0)"),r.width(w).height(x),D.select(".nv-barsWrap").datum(e.filter(function(t){return!t.disabled})).transition().call(r),T.append("clipPath").attr("id","nv-x-label-clip-"+r.id()).append("rect"),D.select("#nv-x-label-clip-"+r.id()+" rect").attr("width",n.rangeBand()*(f?2:1)).attr("height",16).attr("x",-n.rangeBand()/(f?1:2)),h){o.scale(n).ticks(w/100).tickSize(-x,0),D.select(".nv-x.nv-axis").attr("transform","translate(0,"+(i.range()[0]+(r.showValues()&&i.domain()[0]<0?16:0))+")"),D.select(".nv-x.nv-axis").transition().call(o);var M=D.select(".nv-x.nv-axis").selectAll("g");f&&M.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}d&&(s.scale(i).ticks(x/36).tickSize(-w,0),D.select(".nv-y.nv-axis").transition().call(s)),D.select(".nv-zeroLine line").attr("x1",0).attr("x2",w).attr("y1",i(0)).attr("y2",i(0)),y.on("tooltipShow",function(t){m&&b(t,g.parentNode)})}),t}var n,i,r=e.models.discreteBar(),o=e.models.axis(),s=e.models.axis(),a={top:15,right:10,bottom:50,left:60},l=null,c=null,u=e.utils.getColor(),h=!0,d=!0,p=!1,f=!1,m=!0,g=function(t,e,n,i,r){return"<h3>"+e+"</h3><p>"+n+"</p>"},v="No Data Available.",y=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate"),_=250;o.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),s.orient(p?"right":"left").tickFormat(d3.format(",.1f"));var b=function(n,i){var a=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),c=o.tickFormat()(r.x()(n.point,n.pointIndex)),u=s.tickFormat()(r.y()(n.point,n.pointIndex)),h=g(n.series.key,c,u,n,t);e.tooltip.show([a,l],h,n.value<0?"n":"s",null,i)};return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+a.left,t.pos[1]+a.top],y.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){y.tooltipHide(t)}),y.on("tooltipHide",function(){m&&e.tooltip.cleanup()}),t.dispatch=y,t.discretebar=r,t.xAxis=o,t.yAxis=s,d3.rebind(t,r,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","id","showValues","valueFormat"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left,t):a},t.width=function(e){return arguments.length?(l=e,t):l},t.height=function(e){return arguments.length?(c=e,t):c},t.color=function(n){return arguments.length?(u=e.utils.getColor(n),r.color(u),t):u},t.showXAxis=function(e){return arguments.length?(h=e,t):h},t.showYAxis=function(e){return arguments.length?(d=e,t):d},t.rightAlignYAxis=function(e){return arguments.length?(p=e,s.orient(e?"right":"left"),t):p},t.staggerLabels=function(e){return arguments.length?(f=e,t):f},t.tooltips=function(e){return arguments.length?(m=e,t):m},t.tooltipContent=function(e){return arguments.length?(g=e,t):g},t.noData=function(e){return arguments.length?(v=e,t):v},t.transitionDuration=function(e){return arguments.length?(_=e,t):_},t},e.models.distribution=function(){"use strict";function t(e){return e.each(function(t){"x"===s?(i.left,i.right):(i.top,i.bottom);var e="x"==s?"y":"x",r=d3.select(this);n=n||c;var u=r.selectAll("g.nv-distribution").data([t]),h=(u.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),u.select("g"));u.attr("transform","translate("+i.left+","+i.top+")");var d=h.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});d.enter().append("g"),d.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return l(t,e)});var p=d.selectAll("line.nv-dist"+s).data(function(t){return t.values});p.enter().append("line").attr(s+"1",function(t,e){return n(a(t,e))}).attr(s+"2",function(t,e){return n(a(t,e))}),d.exit().selectAll("line.nv-dist"+s).transition().attr(s+"1",function(t,e){return c(a(t,e))}).attr(s+"2",function(t,e){return c(a(t,e))}).style("stroke-opacity",0).remove(),p.attr("class",function(t,e){return"nv-dist"+s+" nv-dist"+s+"-"+e}).attr(e+"1",0).attr(e+"2",o),p.transition().attr(s+"1",function(t,e){return c(a(t,e))}).attr(s+"2",function(t,e){return c(a(t,e))}),n=c.copy()}),t}var n,i={top:0,right:0,bottom:0,left:0},r=400,o=8,s="x",a=function(t){return t[s]},l=e.utils.defaultColor(),c=d3.scale.linear();return t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left,t):i},t.width=function(e){return arguments.length?(r=e,t):r},t.axis=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(o=e,t):o},t.getData=function(e){return arguments.length?(a=d3.functor(e),t):a},t.scale=function(e){return arguments.length?(c=e,t):c},t.color=function(n){return arguments.length?(l=e.utils.getColor(n),t):l},t},e.models.historicalBar=function(){"use strict";function t(w){return w.each(function(t){var w=a-s.left-s.right,x=l-s.top-s.bottom,S=d3.select(this);u.domain(n||d3.extent(t[0].values.map(d).concat(f))),g?u.range(r||[.5*w/t[0].values.length,w*(t[0].values.length-.5)/t[0].values.length]):u.range(r||[0,w]),h.domain(i||d3.extent(t[0].values.map(p).concat(m))).range(o||[x,0]),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]):u.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1]));var k=S.selectAll("g.nv-wrap.nv-historicalBar-"+c).data([t[0].values]),C=k.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+c),T=C.append("defs"),D=C.append("g"),M=k.select("g");D.append("g").attr("class","nv-bars"),k.attr("transform","translate("+s.left+","+s.top+")"),S.on("click",function(t,e){_.chartClick({data:t,index:e,pos:d3.event,id:c})}),T.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),k.select("#nv-chart-clip-path-"+c+" rect").attr("width",w).attr("height",x),M.attr("clip-path",v?"url(#nv-chart-clip-path-"+c+")":"");var E=k.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return d(t,e)});E.exit().remove();E.enter().append("rect").attr("x",0).attr("y",function(t,n){return e.utils.NaNtoZero(h(Math.max(0,p(t,n))))}).attr("height",function(t,n){return e.utils.NaNtoZero(Math.abs(h(p(t,n))-h(0)))}).attr("transform",function(e,n){return"translate("+(u(d(e,n))-w/t[0].values.length*.45)+",0)"}).on("mouseover",function(e,n){b&&(d3.select(this).classed("hover",!0),_.elementMouseover({point:e,series:t[0],pos:[u(d(e,n)),h(p(e,n))],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("mouseout",function(e,n){b&&(d3.select(this).classed("hover",!1),_.elementMouseout({point:e,series:t[0],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("click",function(t,e){b&&(_.elementClick({value:p(t,e),data:t,index:e,pos:[u(d(t,e)),h(p(t,e))],e:d3.event,id:c}),d3.event.stopPropagation())}).on("dblclick",function(t,e){b&&(_.elementDblClick({value:p(t,e),data:t,index:e,pos:[u(d(t,e)),h(p(t,e))],e:d3.event,id:c}),d3.event.stopPropagation())});E.attr("fill",function(t,e){return y(t,e)}).attr("class",function(t,e,n){return(p(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).transition().attr("transform",function(e,n){return"translate("+(u(d(e,n))-w/t[0].values.length*.45)+",0)"}).attr("width",w/t[0].values.length*.9),E.transition().attr("y",function(t,n){var i=p(t,n)<0?h(0):h(0)-h(p(t,n))<1?h(0)-1:h(p(t,n));return e.utils.NaNtoZero(i)}).attr("height",function(t,n){return e.utils.NaNtoZero(Math.max(Math.abs(h(p(t,n))-h(0)),1))})}),t}var n,i,r,o,s={top:0,right:0,bottom:0,left:0},a=960,l=500,c=Math.floor(1e4*Math.random()),u=d3.scale.linear(),h=d3.scale.linear(),d=function(t){return t.x},p=function(t){return t.y},f=[],m=[0],g=!1,v=!0,y=e.utils.defaultColor(),_=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),b=!0;return t.highlightPoint=function(t,e){d3.select(".nv-historicalBar-"+c).select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},t.clearHighlights=function(){d3.select(".nv-historicalBar-"+c).select(".nv-bars .nv-bar.hover").classed("hover",!1)},t.dispatch=_,t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(d=e,t):d},t.y=function(e){return arguments.length?(p=e,t):p},t.margin=function(e){return arguments.length?(s.top=void 0!==e.top?e.top:s.top,s.right=void 0!==e.right?e.right:s.right,s.bottom=void 0!==e.bottom?e.bottom:s.bottom,s.left=void 0!==e.left?e.left:s.left,t):s},t.width=function(e){return arguments.length?(a=e,t):a},t.height=function(e){return arguments.length?(l=e,t):l},t.xScale=function(e){return arguments.length?(u=e,t):u},t.yScale=function(e){return arguments.length?(h=e,t):h},t.xDomain=function(e){return arguments.length?(n=e,t):n},t.yDomain=function(e){return arguments.length?(i=e,t):i},t.xRange=function(e){return arguments.length?(r=e,t):r},t.yRange=function(e){return arguments.length?(o=e,t):o},t.forceX=function(e){return arguments.length?(f=e,t):f},t.forceY=function(e){return arguments.length?(m=e,t):m},t.padData=function(e){return arguments.length?(g=e,t):g},t.clipEdge=function(e){return arguments.length?(v=e,t):v},t.color=function(n){return arguments.length?(y=e.utils.getColor(n),t):y},t.id=function(e){return arguments.length?(c=e,t):c},t.interactive=function(e){return arguments.length?(b=!1,t):b},t},e.models.historicalBarChart=function(){"use strict";function t(e){return e.each(function(v){var k=d3.select(this),C=this,T=(u||parseInt(k.style("width"))||960)-l.left-l.right,D=(h||parseInt(k.style("height"))||400)-l.top-l.bottom;if(t.update=function(){k.transition().duration(x).call(t)},t.container=this,y.disabled=v.map(function(t){return!!t.disabled}),!_){var M;_={};for(M in y)y[M]instanceof Array?_[M]=y[M].slice(0):_[M]=y[M]}if(!v||!v.length||!v.filter(function(t){return t.values.length}).length){var E=k.selectAll(".nv-noData").data([b]);return E.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),E.attr("x",l.left+T/2).attr("y",l.top+D/2).text(function(t){return t}),t}k.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var L=k.selectAll("g.nv-wrap.nv-historicalBarChart").data([v]),A=L.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),I=L.select("g");A.append("g").attr("class","nv-x nv-axis"),A.append("g").attr("class","nv-y nv-axis"),A.append("g").attr("class","nv-barsWrap"),A.append("g").attr("class","nv-legendWrap"),d&&(a.width(T),I.select(".nv-legendWrap").datum(v).call(a),l.top!=a.height()&&(l.top=a.height(),D=(h||parseInt(k.style("height"))||400)-l.top-l.bottom),L.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")),L.attr("transform","translate("+l.left+","+l.top+")"),m&&I.select(".nv-y.nv-axis").attr("transform","translate("+T+",0)"),r.width(T).height(D).color(v.map(function(t,e){return t.color||c(t,e)}).filter(function(t,e){return!v[e].disabled})),I.select(".nv-barsWrap").datum(v.filter(function(t){return!t.disabled})).transition().call(r),p&&(o.scale(n).tickSize(-D,0),I.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),I.select(".nv-x.nv-axis").transition().call(o)),f&&(s.scale(i).ticks(D/36).tickSize(-T,0),I.select(".nv-y.nv-axis").transition().call(s)),a.dispatch.on("legendClick",function(n,i){n.disabled=!n.disabled,v.filter(function(t){return!t.disabled}).length||v.map(function(t){return t.disabled=!1,L.selectAll(".nv-series").classed("disabled",!1),t}),y.disabled=v.map(function(t){return!!t.disabled}),w.stateChange(y),e.transition().call(t)}),a.dispatch.on("legendDblclick",function(e){v.forEach(function(t){t.disabled=!0}),e.disabled=!1,y.disabled=v.map(function(t){return!!t.disabled}),w.stateChange(y),t.update()}),w.on("tooltipShow",function(t){g&&S(t,C.parentNode)}),w.on("changeState",function(e){void 0!==e.disabled&&(v.forEach(function(t,n){t.disabled=e.disabled[n]}),y.disabled=e.disabled),t.update()})}),t}var n,i,r=e.models.historicalBar(),o=e.models.axis(),s=e.models.axis(),a=e.models.legend(),l={top:30,right:90,bottom:50,left:90},c=e.utils.defaultColor(),u=null,h=null,d=!1,p=!0,f=!0,m=!1,g=!0,v=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},y={},_=null,b="No Data Available.",w=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),x=250;o.orient("bottom").tickPadding(7),s.orient(m?"right":"left");var S=function(n,i){if(i){var a=d3.select(i).select("svg"),l=a.node()?a.attr("viewBox"):null;if(l){l=l.split(" ");var c=parseInt(a.style("width"))/l[2];n.pos[0]=n.pos[0]*c,n.pos[1]=n.pos[1]*c}}var u=n.pos[0]+(i.offsetLeft||0),h=n.pos[1]+(i.offsetTop||0),d=o.tickFormat()(r.x()(n.point,n.pointIndex)),p=s.tickFormat()(r.y()(n.point,n.pointIndex)),f=v(n.series.key,d,p,n,t);e.tooltip.show([u,h],f,null,null,i)};return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],w.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){w.tooltipHide(t)}),w.on("tooltipHide",function(){g&&e.tooltip.cleanup()}),t.dispatch=w,t.bars=r,t.legend=a,t.xAxis=o,t.yAxis=s,d3.rebind(t,r,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(l.top=void 0!==e.top?e.top:l.top,l.right=void 0!==e.right?e.right:l.right,l.bottom=void 0!==e.bottom?e.bottom:l.bottom,l.left=void 0!==e.left?e.left:l.left,t):l},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(h=e,t):h},t.color=function(n){return arguments.length?(c=e.utils.getColor(n),a.color(c),t):c},t.showLegend=function(e){return arguments.length?(d=e,t):d},t.showXAxis=function(e){return arguments.length?(p=e,t):p},t.showYAxis=function(e){return arguments.length?(f=e,t):f},t.rightAlignYAxis=function(e){return arguments.length?(m=e,s.orient(e?"right":"left"),t):m},t.tooltips=function(e){return arguments.length?(g=e,t):g},t.tooltipContent=function(e){return arguments.length?(v=e,t):v},t.state=function(e){return arguments.length?(y=e,t):y},t.defaultState=function(e){return arguments.length?(_=e,t):_},t.noData=function(e){return arguments.length?(b=e,t):b},t.transitionDuration=function(e){return arguments.length?(x=e,t):x},t},e.models.indentedTree=function(){"use strict";function t(e){return e.each(function(e){function n(e,i,r){return d3.event.stopPropagation(),d3.event.shiftKey&&!r?(d3.event.shiftKey=!1,e.values&&e.values.forEach(function(t){(t.values||t._values)&&n(t,0,!0)}),!0):!s(e)||(e.values?(e._values=e.values,e.values=null):(e.values=e._values,e._values=null),void t.update())}function i(t){return t._values&&t._values.length?p:t.values&&t.values.length?f:""}function o(t){return t._values&&t._values.length}function s(t){var e=t.values||t._values;return e&&e.length}var y=1,_=d3.select(this),b=d3.layout.tree().children(function(t){return t.values}).size([r,u]);t.update=function(){_.transition().duration(600).call(t)},e[0]||(e[0]={key:c});var w=b.nodes(e[0]),x=d3.select(this).selectAll("div").data([[w]]),S=x.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree").append("table"),k=x.select("table").attr("width","100%").attr("class",d);if(a){var C=S.append("thead").append("tr");h.forEach(function(t){C.append("th").attr("width",t.width?t.width:"10%").style("text-align","numeric"==t.type?"right":"left").append("span").text(t.label)})}var T=k.selectAll("tbody").data(function(t){return t});T.enter().append("tbody"),y=d3.max(w,function(t){return t.depth}),b.size([r,y*u]);var D=T.selectAll("tr").data(function(t){return t.filter(function(t){return!(l&&!t.children)||l(t)})},function(t,e){return t.id||t.id||++v});D.exit().remove(),D.select("img.nv-treeicon").attr("src",i).classed("folded",o);var M=D.enter().append("tr");h.forEach(function(t,e){var r=M.append("td").style("padding-left",function(t){return(e?0:t.depth*u+12+(i(t)?0:16))+"px"},"important").style("text-align","numeric"==t.type?"right":"left");0==e&&r.append("img").classed("nv-treeicon",!0).classed("nv-folded",o).attr("src",i).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(t){return i(t)?"inline-block":"none"}).on("click",n),r.each(function(n){!e&&g(n)?d3.select(this).append("a").attr("href",g).attr("class",d3.functor(t.classes)).append("span"):d3.select(this).append("span"),d3.select(this).select("span").attr("class",d3.functor(t.classes)).text(function(e){return t.format?t.format(e):e[t.key]||"-"})}),t.showCount&&(r.append("span").attr("class","nv-childrenCount"),D.selectAll("span.nv-childrenCount").text(function(t){return t.values&&t.values.length||t._values&&t._values.length?"("+(t.values&&t.values.filter(function(t){return!l||l(t)}).length||t._values&&t._values.filter(function(t){return!l||l(t)}).length||0)+")":""}))}),D.order().on("click",function(t){m.elementClick({row:this,data:t,pos:[t.x,t.y]})}).on("dblclick",function(t){m.elementDblclick({row:this,data:t,pos:[t.x,t.y]})}).on("mouseover",function(t){m.elementMouseover({row:this,data:t,pos:[t.x,t.y]})}).on("mouseout",function(t){m.elementMouseout({row:this,data:t,pos:[t.x,t.y]})})}),t}var n={top:0,right:0,bottom:0,left:0},i=960,r=500,o=e.utils.defaultColor(),s=Math.floor(1e4*Math.random()),a=!0,l=!1,c="No Data Available.",u=20,h=[{key:"key",label:"Name",type:"text"}],d=null,p="images/grey-plus.png",f="images/grey-minus.png",m=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),g=function(t){return t.url},v=0;return t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t):n},t.width=function(e){return arguments.length?(i=e,t):i},t.height=function(e){return arguments.length?(r=e,t):r},t.color=function(n){return arguments.length?(o=e.utils.getColor(n),scatter.color(o),t):o},t.id=function(e){return arguments.length?(s=e,t):s},t.header=function(e){return arguments.length?(a=e,t):a},t.noData=function(e){return arguments.length?(c=e,t):c},t.filterZero=function(e){return arguments.length?(l=e,t):l},t.columns=function(e){return arguments.length?(h=e,t):h},t.tableClass=function(e){return arguments.length?(d=e,t):d},t.iconOpen=function(e){return arguments.length?(p=e,t):p},t.iconClose=function(e){return arguments.length?(f=e,t):f},t.getUrl=function(e){return arguments.length?(g=e,t):g},t},e.models.legend=function(){"use strict";function t(d){return d.each(function(t){var d=i-n.left-n.right,p=d3.select(this).selectAll("g.nv-legend").data([t]),f=(p.enter().append("g").attr("class","nvd3 nv-legend").append("g"),p.select("g"));p.attr("transform","translate("+n.left+","+n.top+")");var m=f.selectAll(".nv-series").data(function(t){return t}),g=m.enter().append("g").attr("class","nv-series").on("mouseover",function(t,e){h.legendMouseover(t,e)}).on("mouseout",function(t,e){h.legendMouseout(t,e)}).on("click",function(e,n){h.legendClick(e,n),c&&(u?(t.forEach(function(t){t.disabled=!0}),e.disabled=!1):(e.disabled=!e.disabled,t.every(function(t){return t.disabled})&&t.forEach(function(t){t.disabled=!1})),h.stateChange({disabled:t.map(function(t){return!!t.disabled})}))}).on("dblclick",function(e,n){h.legendDblclick(e,n),c&&(t.forEach(function(t){t.disabled=!0}),e.disabled=!1,h.stateChange({disabled:t.map(function(t){return!!t.disabled})}))});if(g.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),g.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),m.classed("disabled",function(t){return t.disabled}),m.exit().remove(),m.select("circle").style("fill",function(t,e){return t.color||s(t,e)}).style("stroke",function(t,e){return t.color||s(t,e)}),m.select("text").text(o),a){var v=[];m.each(function(t,n){var i,r=d3.select(this).select("text");try{if((i=r.getComputedTextLength())<=0)throw Error()}catch(t){i=e.utils.calcApproxTextWidth(r)}v.push(i+28)});for(var y=0,_=0,b=[];_<d&&y<v.length;)b[y]=v[y],_+=v[y++];for(0===y&&(y=1);_>d&&y>1;){b=[],y--;for(var w=0;w<v.length;w++)v[w]>(b[w%y]||0)&&(b[w%y]=v[w]);_=b.reduce(function(t,e,n,i){return t+e})}for(var x=[],S=0,k=0;S<y;S++)x[S]=k,k+=b[S];m.attr("transform",function(t,e){return"translate("+x[e%y]+","+(5+20*Math.floor(e/y))+")"}),l?f.attr("transform","translate("+(i-n.right-_)+","+n.top+")"):f.attr("transform","translate(0,"+n.top+")"),r=n.top+n.bottom+20*Math.ceil(v.length/y)}else{var C,T=5,D=5,M=0;m.attr("transform",function(t,e){var r=d3.select(this).select("text").node().getComputedTextLength()+28;return C=D,i<n.left+n.right+C+r&&(D=C=5,T+=20),(D+=r)>M&&(M=D),"translate("+C+","+T+")"}),f.attr("transform","translate("+(i-n.right-M)+","+n.top+")"),r=n.top+n.bottom+T+15}}),t}var n={top:5,right:0,bottom:5,left:0},i=400,r=20,o=function(t){return t.key},s=e.utils.defaultColor(),a=!0,l=!0,c=!0,u=!1,h=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");return t.dispatch=h,t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t):n},t.width=function(e){return arguments.length?(i=e,t):i},t.height=function(e){return arguments.length?(r=e,t):r},t.key=function(e){return arguments.length?(o=e,t):o},t.color=function(n){return arguments.length?(s=e.utils.getColor(n),t):s},t.align=function(e){return arguments.length?(a=e,t):a},t.rightAlign=function(e){return arguments.length?(l=e,t):l},t.updateState=function(e){return arguments.length?(c=e,t):c},t.radioButtonMode=function(e){return arguments.length?(u=e,t):u},t},e.models.line=function(){"use strict";function t(v){return v.each(function(t){var v=s-o.left-o.right,y=a-o.top-o.bottom,_=d3.select(this);n=r.xScale(),i=r.yScale(),m=m||n,g=g||i;var b=_.selectAll("g.nv-wrap.nv-line").data([t]),w=b.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),x=w.append("defs"),S=w.append("g"),k=b.select("g");S.append("g").attr("class","nv-groups"),S.append("g").attr("class","nv-scatterWrap"),b.attr("transform","translate("+o.left+","+o.top+")"),r.width(v).height(y);var C=b.select(".nv-scatterWrap");C.transition().call(r),x.append("clipPath").attr("id","nv-edge-clip-"+r.id()).append("rect"),b.select("#nv-edge-clip-"+r.id()+" rect").attr("width",v).attr("height",y),k.attr("clip-path",p?"url(#nv-edge-clip-"+r.id()+")":""),C.attr("clip-path",p?"url(#nv-edge-clip-"+r.id()+")":"");var T=b.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});T.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),T.exit().remove(),T.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return l(t,e)}).style("stroke",function(t,e){return l(t,e)}),T.transition().style("stroke-opacity",1).style("fill-opacity",.5);var D=T.selectAll("path.nv-area").data(function(t){return d(t)?[t]:[]});D.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(f).defined(h).x(function(t,n){return e.utils.NaNtoZero(m(c(t,n)))}).y0(function(t,n){return e.utils.NaNtoZero(g(u(t,n)))}).y1(function(t,e){return g(i.domain()[0]<=0?i.domain()[1]>=0?0:i.domain()[1]:i.domain()[0])}).apply(this,[t.values])}),T.exit().selectAll("path.nv-area").remove(),D.transition().attr("d",function(t){return d3.svg.area().interpolate(f).defined(h).x(function(t,i){return e.utils.NaNtoZero(n(c(t,i)))}).y0(function(t,n){return e.utils.NaNtoZero(i(u(t,n)))}).y1(function(t,e){return i(i.domain()[0]<=0?i.domain()[1]>=0?0:i.domain()[1]:i.domain()[0])}).apply(this,[t.values])});var M=T.selectAll("path.nv-line").data(function(t){return[t.values]});M.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(f).defined(h).x(function(t,n){return e.utils.NaNtoZero(m(c(t,n)))}).y(function(t,n){return e.utils.NaNtoZero(g(u(t,n)))})),M.transition().attr("d",d3.svg.line().interpolate(f).defined(h).x(function(t,i){return e.utils.NaNtoZero(n(c(t,i)))}).y(function(t,n){return e.utils.NaNtoZero(i(u(t,n)))})),m=n.copy(),g=i.copy()}),t}var n,i,r=e.models.scatter(),o={top:0,right:0,bottom:0,left:0},s=960,a=500,l=e.utils.defaultColor(),c=function(t){return t.x},u=function(t){return t.y},h=function(t,e){return!isNaN(u(t,e))&&null!==u(t,e)},d=function(t){return t.area},p=!1,f="linear";r.size(16).sizeDomain([16,256]);var m,g;return t.dispatch=r.dispatch,t.scatter=r,d3.rebind(t,r,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left,t):o},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(a=e,t):a},t.x=function(e){return arguments.length?(c=e,r.x(e),t):c},t.y=function(e){return arguments.length?(u=e,r.y(e),t):u},t.clipEdge=function(e){return arguments.length?(p=e,t):p},t.color=function(n){return arguments.length?(l=e.utils.getColor(n),r.color(l),t):l},t.interpolate=function(e){return arguments.length?(f=e,t):f},t.defined=function(e){return arguments.length?(h=e,t):h},t.isArea=function(e){return arguments.length?(d=d3.functor(e),t):d},t},e.models.lineChart=function(){"use strict";function t(_){return _.each(function(_){var T=d3.select(this),D=this,M=(h||parseInt(T.style("width"))||960)-c.left-c.right,E=(d||parseInt(T.style("height"))||400)-c.top-c.bottom;if(t.update=function(){T.transition().duration(k).call(t)},t.container=this,b.disabled=_.map(function(t){return!!t.disabled}),!w){var L;w={};for(L in b)b[L]instanceof Array?w[L]=b[L].slice(0):w[L]=b[L]}if(!_||!_.length||!_.filter(function(t){return t.values.length}).length){var A=T.selectAll(".nv-noData").data([x]);return A.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),A.attr("x",c.left+M/2).attr("y",c.top+E/2).text(function(t){return t}),t}T.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var I=T.selectAll("g.nv-wrap.nv-lineChart").data([_]),N=I.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),P=I.select("g");N.append("rect").style("opacity",0),N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis"),N.append("g").attr("class","nv-linesWrap"),N.append("g").attr("class","nv-legendWrap"),N.append("g").attr("class","nv-interactive"),P.select("rect").attr("width",M).attr("height",E>0?E:0),p&&(a.width(M),P.select(".nv-legendWrap").datum(_).call(a),c.top!=a.height()&&(c.top=a.height(),E=(d||parseInt(T.style("height"))||400)-c.top-c.bottom),I.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")),I.attr("transform","translate("+c.left+","+c.top+")"),g&&P.select(".nv-y.nv-axis").attr("transform","translate("+M+",0)"),v&&(l.width(M).height(E).margin({left:c.left,top:c.top}).svgContainer(T).xScale(n),I.select(".nv-interactive").call(l)),r.width(M).height(E).color(_.map(function(t,e){return t.color||u(t,e)}).filter(function(t,e){return!_[e].disabled})),P.select(".nv-linesWrap").datum(_.filter(function(t){return!t.disabled})).transition().call(r),f&&(o.scale(n).ticks(M/100).tickSize(-E,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),P.select(".nv-x.nv-axis").transition().call(o)),m&&(s.scale(i).ticks(E/36).tickSize(-M,0),P.select(".nv-y.nv-axis").transition().call(s)),a.dispatch.on("stateChange",function(e){b=e,S.stateChange(b),t.update()}),l.dispatch.on("elementMousemove",function(n){r.clearHighlights();var i,a,h,d=[];if(_.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,s){a=e.interactiveBisect(o.values,n.pointXValue,t.x()),r.highlightPoint(s,a,!0);var l=o.values[a];void 0!==l&&(void 0===i&&(i=l),void 0===h&&(h=t.xScale()(t.x()(l,a))),d.push({key:o.key,value:t.y()(l,a),color:u(o,o.seriesIndex)}))}),d.length>2){var p=t.yScale().invert(n.mouseY),f=.03*Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),m=e.nearestValueIndex(d.map(function(t){return t.value}),p,f);null!==m&&(d[m].highlight=!0)}var g=o.tickFormat()(t.x()(i,a));l.tooltip.position({left:h+c.left,top:n.mouseY+c.top}).chartContainer(D.parentNode).enabled(y).valueFormatter(function(t,e){return s.tickFormat()(t)}).data({value:g,series:d})(),l.renderGuideLine(h)}),l.dispatch.on("elementMouseout",function(t){S.tooltipHide(),r.clearHighlights()}),S.on("tooltipShow",function(t){y&&C(t,D.parentNode)}),S.on("changeState",function(e){void 0!==e.disabled&&_.length===e.disabled.length&&(_.forEach(function(t,n){t.disabled=e.disabled[n]}),b.disabled=e.disabled),t.update()})}),t}var n,i,r=e.models.line(),o=e.models.axis(),s=e.models.axis(),a=e.models.legend(),l=e.interactiveGuideline(),c={top:30,right:20,bottom:50,left:60},u=e.utils.defaultColor(),h=null,d=null,p=!0,f=!0,m=!0,g=!1,v=!1,y=!0,_=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},b={},w=null,x="No Data Available.",S=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),k=250;o.orient("bottom").tickPadding(7),s.orient(g?"right":"left");var C=function(n,i){var a=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),c=o.tickFormat()(r.x()(n.point,n.pointIndex)),u=s.tickFormat()(r.y()(n.point,n.pointIndex)),h=_(n.series.key,c,u,n,t);e.tooltip.show([a,l],h,null,null,i)};return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],S.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),S.on("tooltipHide",function(){y&&e.tooltip.cleanup()}),t.dispatch=S,t.lines=r,t.legend=a,t.xAxis=o,t.yAxis=s,t.interactiveLayer=l,d3.rebind(t,r,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(h=e,t):h},t.height=function(e){return arguments.length?(d=e,t):d},t.color=function(n){return arguments.length?(u=e.utils.getColor(n),a.color(u),t):u},t.showLegend=function(e){return arguments.length?(p=e,t):p},t.showXAxis=function(e){return arguments.length?(f=e,t):f},t.showYAxis=function(e){return arguments.length?(m=e,t):m},t.rightAlignYAxis=function(e){return arguments.length?(g=e,s.orient(e?"right":"left"),t):g},t.useInteractiveGuideline=function(e){return arguments.length?(v=e,!0===e&&(t.interactive(!1),t.useVoronoi(!1)),t):v},t.tooltips=function(e){return arguments.length?(y=e,t):y},t.tooltipContent=function(e){return arguments.length?(_=e,t):_},t.state=function(e){return arguments.length?(b=e,t):b},t.defaultState=function(e){return arguments.length?(w=e,t):w},t.noData=function(e){return arguments.length?(x=e,t):x},t.transitionDuration=function(e){return arguments.length?(k=e,t):k},t},e.models.linePlusBarChart=function(){"use strict";function t(e){return e.each(function(e){var f=d3.select(this),m=this,_=(d||parseInt(f.style("width"))||960)-h.left-h.right,C=(p||parseInt(f.style("height"))||400)-h.top-h.bottom;if(t.update=function(){f.transition().call(t)},b.disabled=e.map(function(t){return!!t.disabled}),!w){var T;w={};for(T in b)b[T]instanceof Array?w[T]=b[T].slice(0):w[T]=b[T]}if(!e||!e.length||!e.filter(function(t){return t.values.length}).length){var D=f.selectAll(".nv-noData").data([x]);return D.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),D.attr("x",h.left+_/2).attr("y",h.top+C/2).text(function(t){return t}),t}f.selectAll(".nv-noData").remove();var M=e.filter(function(t){return!t.disabled&&t.bar}),E=e.filter(function(t){return!t.bar});n=E.filter(function(t){return!t.disabled}).length&&E.filter(function(t){return!t.disabled})[0].values.length?o.xScale():s.xScale(),i=s.yScale(),r=o.yScale();var L=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([e]),A=L.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),I=L.select("g");A.append("g").attr("class","nv-x nv-axis"),A.append("g").attr("class","nv-y1 nv-axis"),A.append("g").attr("class","nv-y2 nv-axis"),A.append("g").attr("class","nv-barsWrap"),A.append("g").attr("class","nv-linesWrap"),A.append("g").attr("class","nv-legendWrap"),v&&(u.width(_/2),I.select(".nv-legendWrap").datum(e.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(u),h.top!=u.height()&&(h.top=u.height(),C=(p||parseInt(f.style("height"))||400)-h.top-h.bottom),I.select(".nv-legendWrap").attr("transform","translate("+_/2+","+-h.top+")")),L.attr("transform","translate("+h.left+","+h.top+")"),o.width(_).height(C).color(e.map(function(t,e){return t.color||g(t,e)}).filter(function(t,n){return!e[n].disabled&&!e[n].bar})),s.width(_).height(C).color(e.map(function(t,e){return t.color||g(t,e)}).filter(function(t,n){return!e[n].disabled&&e[n].bar}));var N=I.select(".nv-barsWrap").datum(M.length?M:[{values:[]}]),P=I.select(".nv-linesWrap").datum(E[0]&&!E[0].disabled?E:[{values:[]}]);d3.transition(N).call(s),d3.transition(P).call(o),a.scale(n).ticks(_/100).tickSize(-C,0),I.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),d3.transition(I.select(".nv-x.nv-axis")).call(a),l.scale(i).ticks(C/36).tickSize(-_,0),d3.transition(I.select(".nv-y1.nv-axis")).style("opacity",M.length?1:0).call(l),c.scale(r).ticks(C/36).tickSize(M.length?0:-_,0),I.select(".nv-y2.nv-axis").style("opacity",E.length?1:0).attr("transform","translate("+_+",0)"),d3.transition(I.select(".nv-y2.nv-axis")).call(c),u.dispatch.on("stateChange",function(e){b=e,S.stateChange(b),t.update()}),S.on("tooltipShow",function(t){y&&k(t,m.parentNode)}),S.on("changeState",function(n){void 0!==n.disabled&&(e.forEach(function(t,e){t.disabled=n.disabled[e]}),b.disabled=n.disabled),t.update()})}),t}var n,i,r,o=e.models.line(),s=e.models.historicalBar(),a=e.models.axis(),l=e.models.axis(),c=e.models.axis(),u=e.models.legend(),h={top:30,right:60,bottom:50,left:60},d=null,p=null,f=function(t){return t.x},m=function(t){return t.y},g=e.utils.defaultColor(),v=!0,y=!0,_=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},b={},w=null,x="No Data Available.",S=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");s.padData(!0),o.clipEdge(!1).padData(!0),a.orient("bottom").tickPadding(7).highlightZero(!1),l.orient("left"),c.orient("right");var k=function(n,i){var r=n.pos[0]+(i.offsetLeft||0),s=n.pos[1]+(i.offsetTop||0),u=a.tickFormat()(o.x()(n.point,n.pointIndex)),h=(n.series.bar?l:c).tickFormat()(o.y()(n.point,n.pointIndex)),d=_(n.series.key,u,h,n,t);e.tooltip.show([r,s],d,n.value<0?"n":"s",null,i)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+h.left,t.pos[1]+h.top],S.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),s.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+h.left,t.pos[1]+h.top],S.tooltipShow(t)}),s.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),S.on("tooltipHide",function(){y&&e.tooltip.cleanup()}),t.dispatch=S,t.legend=u,t.lines=o,t.bars=s,t.xAxis=a,t.y1Axis=l,t.y2Axis=c,d3.rebind(t,o,"defined","size","clipVoronoi","interpolate"),t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(f=e,o.x(e),s.x(e),t):f},t.y=function(e){return arguments.length?(m=e,o.y(e),s.y(e),t):m},t.margin=function(e){return arguments.length?(h.top=void 0!==e.top?e.top:h.top,h.right=void 0!==e.right?e.right:h.right,h.bottom=void 0!==e.bottom?e.bottom:h.bottom,h.left=void 0!==e.left?e.left:h.left,t):h},t.width=function(e){return arguments.length?(d=e,t):d},t.height=function(e){return arguments.length?(p=e,t):p},t.color=function(n){return arguments.length?(g=e.utils.getColor(n),u.color(g),t):g},t.showLegend=function(e){return arguments.length?(v=e,t):v},t.tooltips=function(e){return arguments.length?(y=e,t):y},t.tooltipContent=function(e){return arguments.length?(_=e,t):_},t.state=function(e){return arguments.length?(b=e,t):b},t.defaultState=function(e){return arguments.length?(w=e,t):w},t.noData=function(e){return arguments.length?(x=e,t):x},t},e.models.lineWithFocusChart=function(){"use strict";function t(e){return e.each(function(e){function S(){p.empty()||p.extent(w),j.data([p.empty()?r.domain():w]).each(function(t,e){var i=r(t[0])-n.range()[0],o=n.range()[1]-r(t[1]);d3.select(this).select(".left").attr("width",i<0?0:i),d3.select(this).select(".right").attr("x",r(t[1])).attr("width",o<0?0:o)})}function M(){w=p.empty()?null:p.extent();var t=p.empty()?r.domain():p.extent();Math.abs(t[0]-t[1])<=1||(C.brush({extent:t,brush:p}),S(),R.select(".nv-focus .nv-linesWrap").datum(e.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,values:e.values.filter(function(e,n){return s.x()(e,n)>=t[0]&&s.x()(e,n)<=t[1]})}})).transition().duration(T).call(s),R.select(".nv-focus .nv-x.nv-axis").transition().duration(T).call(l),R.select(".nv-focus .nv-y.nv-axis").transition().duration(T).call(c))}var E=d3.select(this),L=this,A=(v||parseInt(E.style("width"))||960)-f.left-f.right,I=(y||parseInt(E.style("height"))||400)-f.top-f.bottom-_,N=_-m.top-m.bottom;if(t.update=function(){E.transition().duration(T).call(t)},t.container=this,!e||!e.length||!e.filter(function(t){return t.values.length}).length){var P=E.selectAll(".nv-noData").data([k]);return P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),P.attr("x",f.left+A/2).attr("y",f.top+I/2).text(function(t){return t}),t}E.selectAll(".nv-noData").remove(),n=s.xScale(),i=s.yScale(),r=a.xScale(),o=a.yScale();var O=E.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([e]),Y=O.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),R=O.select("g");Y.append("g").attr("class","nv-legendWrap");var F=Y.append("g").attr("class","nv-focus");F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y nv-axis"),F.append("g").attr("class","nv-linesWrap");var H=Y.append("g").attr("class","nv-context");H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis"),H.append("g").attr("class","nv-linesWrap"),H.append("g").attr("class","nv-brushBackground"),H.append("g").attr("class","nv-x nv-brush"),b&&(d.width(A),R.select(".nv-legendWrap").datum(e).call(d),f.top!=d.height()&&(f.top=d.height(),I=(y||parseInt(E.style("height"))||400)-f.top-f.bottom-_),R.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")),O.attr("transform","translate("+f.left+","+f.top+")"),s.width(A).height(I).color(e.map(function(t,e){return t.color||g(t,e)}).filter(function(t,n){return!e[n].disabled})),a.defined(s.defined()).width(A).height(N).color(e.map(function(t,e){return t.color||g(t,e)}).filter(function(t,n){return!e[n].disabled})),R.select(".nv-context").attr("transform","translate(0,"+(I+f.bottom+m.top)+")");var z=R.select(".nv-context .nv-linesWrap").datum(e.filter(function(t){return!t.disabled}));d3.transition(z).call(a),l.scale(n).ticks(A/100).tickSize(-I,0),c.scale(i).ticks(I/36).tickSize(-A,0),R.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+I+")"),p.x(r).on("brush",function(){var e=t.transitionDuration();t.transitionDuration(0),M(),t.transitionDuration(e)}),w&&p.extent(w);var j=R.select(".nv-brushBackground").selectAll("g").data([w||p.extent()]),$=j.enter().append("g");$.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",N),$.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",N);var W=R.select(".nv-x.nv-brush").call(p);W.selectAll("rect").attr("height",N),W.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,i=N/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}),M(),u.scale(r).ticks(A/100).tickSize(-N,0),R.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),d3.transition(R.select(".nv-context .nv-x.nv-axis")).call(u),h.scale(o).ticks(N/36).tickSize(-A,0),d3.transition(R.select(".nv-context .nv-y.nv-axis")).call(h),R.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),d.dispatch.on("stateChange",function(e){t.update()}),C.on("tooltipShow",function(t){x&&D(t,L.parentNode)})}),t}var n,i,r,o,s=e.models.line(),a=e.models.line(),l=e.models.axis(),c=e.models.axis(),u=e.models.axis(),h=e.models.axis(),d=e.models.legend(),p=d3.svg.brush(),f={top:30,right:30,bottom:30,left:60},m={top:0,right:30,bottom:20,left:60},g=e.utils.defaultColor(),v=null,y=null,_=100,b=!0,w=null,x=!0,S=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},k="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","brush"),T=250;s.clipEdge(!0),a.interactive(!1),l.orient("bottom").tickPadding(5),c.orient("left"),u.orient("bottom").tickPadding(5),h.orient("left");var D=function(n,i){var r=n.pos[0]+(i.offsetLeft||0),o=n.pos[1]+(i.offsetTop||0),a=l.tickFormat()(s.x()(n.point,n.pointIndex)),u=c.tickFormat()(s.y()(n.point,n.pointIndex)),h=S(n.series.key,a,u,n,t);e.tooltip.show([r,o],h,null,null,i)};return s.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+f.left,t.pos[1]+f.top],C.tooltipShow(t)}),s.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),C.on("tooltipHide",function(){x&&e.tooltip.cleanup()}),t.dispatch=C,t.legend=d,t.lines=s,t.lines2=a,t.xAxis=l,t.yAxis=c,t.x2Axis=u,t.y2Axis=h,d3.rebind(t,s,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id"),t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(s.x(e),a.x(e),t):s.x},t.y=function(e){return arguments.length?(s.y(e),a.y(e),t):s.y},t.margin=function(e){return arguments.length?(f.top=void 0!==e.top?e.top:f.top,f.right=void 0!==e.right?e.right:f.right,f.bottom=void 0!==e.bottom?e.bottom:f.bottom,f.left=void 0!==e.left?e.left:f.left,t):f},t.margin2=function(e){return arguments.length?(m=e,t):m},t.width=function(e){return arguments.length?(v=e,t):v},t.height=function(e){return arguments.length?(y=e,t):y},t.height2=function(e){return arguments.length?(_=e,t):_},t.color=function(n){return arguments.length?(g=e.utils.getColor(n),d.color(g),t):g},t.showLegend=function(e){return arguments.length?(b=e,t):b},t.tooltips=function(e){return arguments.length?(x=e,t):x},t.tooltipContent=function(e){return arguments.length?(S=e,t):S},t.interpolate=function(e){return arguments.length?(s.interpolate(e),a.interpolate(e),t):s.interpolate()},t.noData=function(e){return arguments.length?(k=e,t):k},t.xTickFormat=function(e){return arguments.length?(l.tickFormat(e),u.tickFormat(e),t):l.tickFormat()},t.yTickFormat=function(e){return arguments.length?(c.tickFormat(e),h.tickFormat(e),t):c.tickFormat()},t.brushExtent=function(e){return arguments.length?(w=e,t):w},t.transitionDuration=function(e){return arguments.length?(T=e,t):T},t},e.models.linePlusBarWithFocusChart=function(){"use strict";function t(e){return e.each(function(e){function I(){b.empty()||b.extent(L),et.data([b.empty()?r.domain():L]).each(function(t,e){var n=r(t[0])-r.range()[0],i=r.range()[1]-r(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",r(t[1])).attr("width",i<0?0:i)})}function R(){L=b.empty()?null:b.extent(),n=b.empty()?r.domain():b.extent(),P.brush({extent:n,brush:b}),I(),h.width(z).height(j).color(e.map(function(t,e){return t.color||M(t,e)}).filter(function(t,n){return!e[n].disabled&&e[n].bar})),c.width(z).height(j).color(e.map(function(t,e){return t.color||M(t,e)}).filter(function(t,n){return!e[n].disabled&&!e[n].bar}));var t=K.select(".nv-focus .nv-barsWrap").datum(B.length?B.map(function(t,e){return{key:t.key,values:t.values.filter(function(t,e){return h.x()(t,e)>=n[0]&&h.x()(t,e)<=n[1]})}}):[{values:[]}]),a=K.select(".nv-focus .nv-linesWrap").datum(U[0].disabled?[{values:[]}]:U.map(function(t,e){return{key:t.key,values:t.values.filter(function(t,e){return c.x()(t,e)>=n[0]&&c.x()(t,e)<=n[1]})}}));i=B.length?h.xScale():c.xScale(),p.scale(i).ticks(z/100).tickSize(-j,0),p.domain([Math.ceil(n[0]),Math.floor(n[1])]),K.select(".nv-x.nv-axis").transition().duration(O).call(p),t.transition().duration(O).call(h),a.transition().duration(O).call(c),K.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),m.scale(o).ticks(j/36).tickSize(-z,0),K.select(".nv-focus .nv-y1.nv-axis").style("opacity",B.length?1:0),g.scale(s).ticks(j/36).tickSize(B.length?0:-z,0),K.select(".nv-focus .nv-y2.nv-axis").style("opacity",U.length?1:0).attr("transform","translate("+i.range()[1]+",0)"),K.select(".nv-focus .nv-y1.nv-axis").transition().duration(O).call(m),K.select(".nv-focus .nv-y2.nv-axis").transition().duration(O).call(g)}var F=d3.select(this),H=this,z=(S||parseInt(F.style("width"))||960)-w.left-w.right,j=(k||parseInt(F.style("height"))||400)-w.top-w.bottom-C,$=C-x.top-x.bottom;if(t.update=function(){F.transition().duration(O).call(t)},t.container=this,!e||!e.length||!e.filter(function(t){return t.values.length}).length){var W=F.selectAll(".nv-noData").data([N]);return W.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),W.attr("x",w.left+z/2).attr("y",w.top+j/2).text(function(t){return t}),t}F.selectAll(".nv-noData").remove();var B=e.filter(function(t){return!t.disabled&&t.bar}),U=e.filter(function(t){return!t.bar});i=h.xScale(),r=f.scale(),o=h.yScale(),s=c.yScale(),a=d.yScale(),l=u.yScale();var q=e.filter(function(t){return!t.disabled&&t.bar}).map(function(t){return t.values.map(function(t,e){return{x:T(t,e),y:D(t,e)}})}),V=e.filter(function(t){return!t.disabled&&!t.bar}).map(function(t){return t.values.map(function(t,e){return{x:T(t,e),y:D(t,e)}})});i.range([0,z]),r.domain(d3.extent(d3.merge(q.concat(V)),function(t){return t.x})).range([0,z]);var X=F.selectAll("g.nv-wrap.nv-linePlusBar").data([e]),G=X.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),K=X.select("g");G.append("g").attr("class","nv-legendWrap");var Q=G.append("g").attr("class","nv-focus");Q.append("g").attr("class","nv-x nv-axis"),Q.append("g").attr("class","nv-y1 nv-axis"),Q.append("g").attr("class","nv-y2 nv-axis"),Q.append("g").attr("class","nv-barsWrap"),Q.append("g").attr("class","nv-linesWrap");var J=G.append("g").attr("class","nv-context");J.append("g").attr("class","nv-x nv-axis"),J.append("g").attr("class","nv-y1 nv-axis"),J.append("g").attr("class","nv-y2 nv-axis"),J.append("g").attr("class","nv-barsWrap"),J.append("g").attr("class","nv-linesWrap"),J.append("g").attr("class","nv-brushBackground"),J.append("g").attr("class","nv-x nv-brush"),E&&(_.width(z/2),K.select(".nv-legendWrap").datum(e.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(_),w.top!=_.height()&&(w.top=_.height(),j=(k||parseInt(F.style("height"))||400)-w.top-w.bottom-C),K.select(".nv-legendWrap").attr("transform","translate("+z/2+","+-w.top+")")),X.attr("transform","translate("+w.left+","+w.top+")"),d.width(z).height($).color(e.map(function(t,e){return t.color||M(t,e)}).filter(function(t,n){return!e[n].disabled&&e[n].bar})),u.width(z).height($).color(e.map(function(t,e){return t.color||M(t,e)}).filter(function(t,n){return!e[n].disabled&&!e[n].bar}));var Z=K.select(".nv-context .nv-barsWrap").datum(B.length?B:[{values:[]}]),tt=K.select(".nv-context .nv-linesWrap").datum(U[0].disabled?[{values:[]}]:U);K.select(".nv-context").attr("transform","translate(0,"+(j+w.bottom+x.top)+")"),Z.transition().call(d),tt.transition().call(u),b.x(r).on("brush",R),L&&b.extent(L);var et=K.select(".nv-brushBackground").selectAll("g").data([L||b.extent()]),nt=et.enter().append("g");nt.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",$),nt.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",$);var it=K.select(".nv-x.nv-brush").call(b);it.selectAll("rect").attr("height",$),it.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,i=$/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}),f.ticks(z/100).tickSize(-$,0),K.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),K.select(".nv-context .nv-x.nv-axis").transition().call(f),v.scale(a).ticks($/36).tickSize(-z,0),K.select(".nv-context .nv-y1.nv-axis").style("opacity",B.length?1:0).attr("transform","translate(0,"+r.range()[0]+")"),K.select(".nv-context .nv-y1.nv-axis").transition().call(v),y.scale(l).ticks($/36).tickSize(B.length?0:-z,0),K.select(".nv-context .nv-y2.nv-axis").style("opacity",U.length?1:0).attr("transform","translate("+r.range()[1]+",0)"),K.select(".nv-context .nv-y2.nv-axis").transition().call(y),_.dispatch.on("stateChange",function(e){t.update()}),P.on("tooltipShow",function(t){A&&Y(t,H.parentNode)}),R()}),t}var n,i,r,o,s,a,l,c=e.models.line(),u=e.models.line(),h=e.models.historicalBar(),d=e.models.historicalBar(),p=e.models.axis(),f=e.models.axis(),m=e.models.axis(),g=e.models.axis(),v=e.models.axis(),y=e.models.axis(),_=e.models.legend(),b=d3.svg.brush(),w={top:30,right:30,bottom:30,left:60},x={top:0,right:30,bottom:20,left:60},S=null,k=null,C=100,T=function(t){return t.x},D=function(t){return t.y},M=e.utils.defaultColor(),E=!0,L=null,A=!0,I=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},N="No Data Available.",P=d3.dispatch("tooltipShow","tooltipHide","brush"),O=0;c.clipEdge(!0),u.interactive(!1),p.orient("bottom").tickPadding(5),m.orient("left"),g.orient("right"),f.orient("bottom").tickPadding(5),v.orient("left"),y.orient("right");var Y=function(i,r){n&&(i.pointIndex+=Math.ceil(n[0]));var o=i.pos[0]+(r.offsetLeft||0),s=i.pos[1]+(r.offsetTop||0),a=p.tickFormat()(c.x()(i.point,i.pointIndex)),l=(i.series.bar?m:g).tickFormat()(c.y()(i.point,i.pointIndex)),u=I(i.series.key,a,l,i,t);e.tooltip.show([o,s],u,i.value<0?"n":"s",null,r)};return c.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+w.left,t.pos[1]+w.top],P.tooltipShow(t)}),c.dispatch.on("elementMouseout.tooltip",function(t){P.tooltipHide(t)}),h.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+w.left,t.pos[1]+w.top],P.tooltipShow(t)}),h.dispatch.on("elementMouseout.tooltip",function(t){P.tooltipHide(t)}),P.on("tooltipHide",function(){A&&e.tooltip.cleanup()}),t.dispatch=P,t.legend=_,t.lines=c,t.lines2=u,t.bars=h,t.bars2=d,t.xAxis=p,t.x2Axis=f,t.y1Axis=m,t.y2Axis=g,t.y3Axis=v,t.y4Axis=y,d3.rebind(t,c,"defined","size","clipVoronoi","interpolate"),t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(T=e,c.x(e),h.x(e),t):T},t.y=function(e){return arguments.length?(D=e,c.y(e),h.y(e),t):D},t.margin=function(e){return arguments.length?(w.top=void 0!==e.top?e.top:w.top,w.right=void 0!==e.right?e.right:w.right,w.bottom=void 0!==e.bottom?e.bottom:w.bottom,w.left=void 0!==e.left?e.left:w.left,t):w},t.width=function(e){return arguments.length?(S=e,t):S},t.height=function(e){return arguments.length?(k=e,t):k},t.color=function(n){return arguments.length?(M=e.utils.getColor(n),_.color(M),t):M},t.showLegend=function(e){return arguments.length?(E=e,t):E},t.tooltips=function(e){return arguments.length?(A=e,t):A},t.tooltipContent=function(e){return arguments.length?(I=e,t):I},t.noData=function(e){return arguments.length?(N=e,t):N},t.brushExtent=function(e){return arguments.length?(L=e,t):L},t},e.models.multiBar=function(){"use strict";function t(e){return e.each(function(t){var e=u-c.left-c.right,D=h-c.top-c.bottom,M=d3.select(this);x&&t.length&&(x=[{values:t[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),_&&(t=d3.layout.stack().offset(b).values(function(t){return t.values}).y(g)(!t.length&&x?x:t)),t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),_&&t[0].values.map(function(e,n){var i=0,r=0;t.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=r,r-=e.size):(e.y1=e.size+i,i+=e.size)})});var E=i&&r?[]:t.map(function(t){return t.values.map(function(t,e){return{x:m(t,e),y:g(t,e),y0:t.y0,y1:t.y1}})});d.domain(i||d3.merge(E).map(function(t){return t.x})).rangeBands(o||[0,e],C),p.domain(r||d3.extent(d3.merge(E).map(function(t){return _?t.y>0?t.y1:t.y1+t.y:t.y}).concat(v))).range(s||[D,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),p.domain()[0]===p.domain()[1]&&(p.domain()[0]?p.domain([p.domain()[0]+.01*p.domain()[0],p.domain()[1]-.01*p.domain()[1]]):p.domain([-1,1])),a=a||d,l=l||p;var L=M.selectAll("g.nv-wrap.nv-multibar").data([t]),A=L.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),I=A.append("defs"),N=A.append("g"),P=L.select("g");N.append("g").attr("class","nv-groups"),L.attr("transform","translate("+c.left+","+c.top+")"),I.append("clipPath").attr("id","nv-edge-clip-"+f).append("rect"),L.select("#nv-edge-clip-"+f+" rect").attr("width",e).attr("height",D),P.attr("clip-path",y?"url(#nv-edge-clip-"+f+")":"");var O=L.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});O.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),O.exit().transition().selectAll("rect.nv-bar").delay(function(e,n){return n*k/t[0].values.length}).attr("y",function(t){return l(_?t.y0:0)}).attr("height",0).remove(),O.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return w(t,e)}).style("stroke",function(t,e){return w(t,e)}),O.transition().style("stroke-opacity",1).style("fill-opacity",.75);var Y=O.selectAll("rect.nv-bar").data(function(e){return x&&!t.length?x.values:e.values});Y.exit().remove();Y.enter().append("rect").attr("class",function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(e,n,i){return _?0:i*d.rangeBand()/t.length}).attr("y",function(t){return l(_?t.y0:0)}).attr("height",0).attr("width",d.rangeBand()/(_?1:t.length)).attr("transform",function(t,e){return"translate("+d(m(t,e))+",0)"});Y.style("fill",function(t,e,n){return w(t,n,e)}).style("stroke",function(t,e,n){return w(t,n,e)}).on("mouseover",function(e,n){d3.select(this).classed("hover",!0),T.elementMouseover({value:g(e,n),point:e,series:t[e.series],pos:[d(m(e,n))+d.rangeBand()*(_?t.length/2:e.series+.5)/t.length,p(g(e,n)+(_?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),T.elementMouseout({value:g(e,n),point:e,series:t[e.series],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("click",function(e,n){T.elementClick({value:g(e,n),point:e,series:t[e.series],pos:[d(m(e,n))+d.rangeBand()*(_?t.length/2:e.series+.5)/t.length,p(g(e,n)+(_?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(e,n){T.elementDblClick({value:g(e,n),point:e,series:t[e.series],pos:[d(m(e,n))+d.rangeBand()*(_?t.length/2:e.series+.5)/t.length,p(g(e,n)+(_?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}),Y.attr("class",function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"}).transition().attr("transform",function(t,e){return"translate("+d(m(t,e))+",0)"}),S&&(n||(n=t.map(function(){return!0})),Y.style("fill",function(t,e,i){return d3.rgb(S(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[i]).toString()}).style("stroke",function(t,e,i){return d3.rgb(S(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[i]).toString()})),_?Y.transition().delay(function(e,n){return n*k/t[0].values.length}).attr("y",function(t,e){return p(_?t.y1:0)}).attr("height",function(t,e){return Math.max(Math.abs(p(t.y+(_?t.y0:0))-p(_?t.y0:0)),1)}).attr("x",function(e,n){return _?0:e.series*d.rangeBand()/t.length}).attr("width",d.rangeBand()/(_?1:t.length)):Y.transition().delay(function(e,n){return n*k/t[0].values.length}).attr("x",function(e,n){return e.series*d.rangeBand()/t.length}).attr("width",d.rangeBand()/t.length).attr("y",function(t,e){return g(t,e)<0?p(0):p(0)-p(g(t,e))<1?p(0)-1:p(g(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(p(g(t,e))-p(0)),1)||0}),a=d.copy(),l=p.copy()}),t}var n,i,r,o,s,a,l,c={top:0,right:0,bottom:0,left:0},u=960,h=500,d=d3.scale.ordinal(),p=d3.scale.linear(),f=Math.floor(1e4*Math.random()),m=function(t){return t.x},g=function(t){return t.y},v=[0],y=!0,_=!1,b="zero",w=e.utils.defaultColor(),x=!1,S=null,k=1200,C=.1,T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=T,t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(m=e,t):m},t.y=function(e){return arguments.length?(g=e,t):g},t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(h=e,t):h},t.xScale=function(e){return arguments.length?(d=e,t):d},t.yScale=function(e){return arguments.length?(p=e,t):p},t.xDomain=function(e){return arguments.length?(i=e,t):i},t.yDomain=function(e){return arguments.length?(r=e,t):r},t.xRange=function(e){return arguments.length?(o=e,t):o},t.yRange=function(e){return arguments.length?(s=e,t):s},t.forceY=function(e){return arguments.length?(v=e,t):v},t.stacked=function(e){return arguments.length?(_=e,t):_},t.stackOffset=function(e){return arguments.length?(b=e,t):b},t.clipEdge=function(e){return arguments.length?(y=e,t):y},t.color=function(n){return arguments.length?(w=e.utils.getColor(n),t):w},t.barColor=function(n){return arguments.length?(S=e.utils.getColor(n),t):S},t.disabled=function(e){return arguments.length?(n=e,t):n},t.id=function(e){return arguments.length?(f=e,t):f},t.hideable=function(e){return arguments.length?(x=e,t):x},t.delay=function(e){return arguments.length?(k=e,t):k},t.groupSpacing=function(e){return arguments.length?(C=e,t):C},t},e.models.multiBarChart=function(){"use strict";function t(e){return e.each(function(e){var x=d3.select(this),L=this,A=(u||parseInt(x.style("width"))||960)-c.left-c.right,I=(h||parseInt(x.style("height"))||400)-c.top-c.bottom;if(t.update=function(){x.transition().duration(M).call(t)},t.container=this,S.disabled=e.map(function(t){return!!t.disabled}),!k){var N;k={};for(N in S)S[N]instanceof Array?k[N]=S[N].slice(0):k[N]=S[N]}if(!e||!e.length||!e.filter(function(t){return t.values.length}).length){var P=x.selectAll(".nv-noData").data([C]);return P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),P.attr("x",c.left+A/2).attr("y",c.top+I/2).text(function(t){return t}),t}x.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var O=x.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([e]),Y=O.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),R=O.select("g");if(Y.append("g").attr("class","nv-x nv-axis"),Y.append("g").attr("class","nv-y nv-axis"),Y.append("g").attr("class","nv-barsWrap"),Y.append("g").attr("class","nv-legendWrap"),Y.append("g").attr("class","nv-controlsWrap"),f&&(a.width(A-D()),r.barColor()&&e.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),R.select(".nv-legendWrap").datum(e).call(a),c.top!=a.height()&&(c.top=a.height(),I=(h||parseInt(x.style("height"))||400)-c.top-c.bottom),R.select(".nv-legendWrap").attr("transform","translate("+D()+","+-c.top+")")),p){var F=[{key:"Grouped",disabled:r.stacked()},{key:"Stacked",disabled:!r.stacked()}];l.width(D()).color(["#444","#444","#444"]),R.select(".nv-controlsWrap").datum(F).attr("transform","translate(0,"+-c.top+")").call(l)}if(O.attr("transform","translate("+c.left+","+c.top+")"),v&&R.select(".nv-y.nv-axis").attr("transform","translate("+A+",0)"),r.disabled(e.map(function(t){return t.disabled})).width(A).height(I).color(e.map(function(t,e){return t.color||d(t,e)}).filter(function(t,n){return!e[n].disabled})),R.select(".nv-barsWrap").datum(e.filter(function(t){return!t.disabled})).transition().call(r),m){o.scale(n).ticks(A/100).tickSize(-I,0),R.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),R.select(".nv-x.nv-axis").transition().call(o);var H=R.select(".nv-x.nv-axis > g").selectAll("g");if(H.selectAll("line, text").style("opacity",1),_){var z=function(t,e){return"translate("+t+","+e+")"};H.selectAll("text").attr("transform",function(t,e,n){return z(0,n%2==0?5:17)});var j=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;R.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return z(0,0===e||j%2!=0?17:5)})}y&&H.filter(function(t,n){return n%Math.ceil(e[0].values.length/(A/100))!=0}).selectAll("text, line").style("opacity",0),b&&H.selectAll(".tick text").attr("transform","rotate("+b+" 0,0)").style("text-anchor",b>0?"start":"end"),R.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}g&&(s.scale(i).ticks(I/36).tickSize(-A,0),R.select(".nv-y.nv-axis").transition().call(s)),a.dispatch.on("stateChange",function(e){S=e,T.stateChange(S),t.update()}),l.dispatch.on("legendClick",function(e,n){if(e.disabled){switch(F=F.map(function(t){return t.disabled=!0,t}),e.disabled=!1,e.key){case"Grouped":r.stacked(!1);break;case"Stacked":r.stacked(!0)}S.stacked=r.stacked(),T.stateChange(S),t.update()}}),T.on("tooltipShow",function(t){w&&E(t,L.parentNode)}),T.on("changeState",function(n){void 0!==n.disabled&&(e.forEach(function(t,e){t.disabled=n.disabled[e]}),S.disabled=n.disabled),void 0!==n.stacked&&(r.stacked(n.stacked),S.stacked=n.stacked),t.update()})}),t}var n,i,r=e.models.multiBar(),o=e.models.axis(),s=e.models.axis(),a=e.models.legend(),l=e.models.legend(),c={top:30,right:20,bottom:50,left:60},u=null,h=null,d=e.utils.defaultColor(),p=!0,f=!0,m=!0,g=!0,v=!1,y=!0,_=!1,b=0,w=!0,x=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},S={stacked:!1},k=null,C="No Data Available.",T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),D=function(){return p?180:0},M=250;r.stacked(!1),o.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(t){return t}),s.orient(v?"right":"left").tickFormat(d3.format(",.1f")),l.updateState(!1);var E=function(n,i){var a=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),c=o.tickFormat()(r.x()(n.point,n.pointIndex)),u=s.tickFormat()(r.y()(n.point,n.pointIndex)),h=x(n.series.key,c,u,n,t);e.tooltip.show([a,l],h,n.value<0?"n":"s",null,i)};return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],T.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){T.tooltipHide(t)}),T.on("tooltipHide",function(){w&&e.tooltip.cleanup()}),t.dispatch=T,t.multibar=r,t.legend=a,t.xAxis=o,t.yAxis=s,d3.rebind(t,r,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","stackOffset","delay","barColor","groupSpacing"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(h=e,t):h},t.color=function(n){return arguments.length?(d=e.utils.getColor(n),a.color(d),t):d},t.showControls=function(e){return arguments.length?(p=e,t):p},t.showLegend=function(e){return arguments.length?(f=e,t):f},t.showXAxis=function(e){return arguments.length?(m=e,t):m},t.showYAxis=function(e){return arguments.length?(g=e,t):g},t.rightAlignYAxis=function(e){return arguments.length?(v=e,s.orient(e?"right":"left"),t):v},t.reduceXTicks=function(e){return arguments.length?(y=e,t):y},t.rotateLabels=function(e){return arguments.length?(b=e,t):b},t.staggerLabels=function(e){return arguments.length?(_=e,t):_},t.tooltip=function(e){return arguments.length?(x=e,t):x},t.tooltips=function(e){return arguments.length?(w=e,t):w},t.tooltipContent=function(e){return arguments.length?(x=e,t):x},t.state=function(e){return arguments.length?(S=e,t):S},t.defaultState=function(e){return arguments.length?(k=e,t):k},t.noData=function(e){return arguments.length?(C=e,t):C},t.transitionDuration=function(e){return arguments.length?(M=e,t):M},t},e.models.multiBarHorizontal=function(){"use strict";function t(e){return e.each(function(t){var e=u-c.left-c.right,d=h-c.top-c.bottom;d3.select(this);b&&(t=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(g)(t)),t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),b&&t[0].values.map(function(e,n){var i=0,r=0;t.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=r-e.size,r-=e.size):(e.y1=i,i+=e.size)})});var C=i&&r?[]:t.map(function(t){return t.values.map(function(t,e){return{x:m(t,e),y:g(t,e),y0:t.y0,y1:t.y1}})});p.domain(i||d3.merge(C).map(function(t){return t.x})).rangeBands(o||[0,d],.1),f.domain(r||d3.extent(d3.merge(C).map(function(t){return b?t.y>0?t.y1+t.y:t.y1:t.y}).concat(v))),w&&!b?f.range(s||[f.domain()[0]<0?S:0,e-(f.domain()[1]>0?S:0)]):f.range(s||[0,e]),a=a||p,l=l||d3.scale.linear().domain(f.domain()).range([f(0),f(0)]);var D=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([t]),M=D.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),E=(M.append("defs"),M.append("g"));D.select("g");E.append("g").attr("class","nv-groups"),D.attr("transform","translate("+c.left+","+c.top+")");var L=D.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});L.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),L.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),L.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return y(t,e)}).style("stroke",function(t,e){return y(t,e)}),L.transition().style("stroke-opacity",1).style("fill-opacity",.75);var A=L.selectAll("g.nv-bar").data(function(t){return t.values});A.exit().remove();var I=A.enter().append("g").attr("transform",function(e,n,i){return"translate("+l(b?e.y0:0)+","+(b?0:i*p.rangeBand()/t.length+p(m(e,n)))+")"});I.append("rect").attr("width",0).attr("height",p.rangeBand()/(b?1:t.length)),A.on("mouseover",function(e,n){d3.select(this).classed("hover",!0),T.elementMouseover({value:g(e,n),point:e,series:t[e.series],pos:[f(g(e,n)+(b?e.y0:0)),p(m(e,n))+p.rangeBand()*(b?t.length/2:e.series+.5)/t.length],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),T.elementMouseout({value:g(e,n),point:e,series:t[e.series],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("click",function(e,n){T.elementClick({value:g(e,n),point:e,series:t[e.series],pos:[p(m(e,n))+p.rangeBand()*(b?t.length/2:e.series+.5)/t.length,f(g(e,n)+(b?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(e,n){T.elementDblClick({value:g(e,n),point:e,series:t[e.series],pos:[p(m(e,n))+p.rangeBand()*(b?t.length/2:e.series+.5)/t.length,f(g(e,n)+(b?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}),I.append("text"),w&&!b?(A.select("text").attr("text-anchor",function(t,e){return g(t,e)<0?"end":"start"}).attr("y",p.rangeBand()/(2*t.length)).attr("dy",".32em").text(function(t,e){return k(g(t,e))}),A.transition().select("text").attr("x",function(t,e){return g(t,e)<0?-4:f(g(t,e))-f(0)+4})):A.selectAll("text").text(""),x&&!b?(I.append("text").classed("nv-bar-label",!0),A.select("text.nv-bar-label").attr("text-anchor",function(t,e){return g(t,e)<0?"start":"end"}).attr("y",p.rangeBand()/(2*t.length)).attr("dy",".32em").text(function(t,e){return m(t,e)}),A.transition().select("text.nv-bar-label").attr("x",function(t,e){return g(t,e)<0?f(0)-f(g(t,e))+4:-4})):A.selectAll("text.nv-bar-label").text(""),A.attr("class",function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"}),_&&(n||(n=t.map(function(){return!0})),A.style("fill",function(t,e,i){return d3.rgb(_(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[i]).toString()}).style("stroke",function(t,e,i){return d3.rgb(_(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[i]).toString()})),b?A.transition().attr("transform",function(t,e){return"translate("+f(t.y1)+","+p(m(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(f(g(t,e)+t.y0)-f(t.y0))}).attr("height",p.rangeBand()):A.transition().attr("transform",function(e,n){return"translate("+f(g(e,n)<0?g(e,n):0)+","+(e.series*p.rangeBand()/t.length+p(m(e,n)))+")"}).select("rect").attr("height",p.rangeBand()/t.length).attr("width",function(t,e){return Math.max(Math.abs(f(g(t,e))-f(0)),1)}),a=p.copy(),l=f.copy()}),t}var n,i,r,o,s,a,l,c={top:0,right:0,bottom:0,left:0},u=960,h=500,d=Math.floor(1e4*Math.random()),p=d3.scale.ordinal(),f=d3.scale.linear(),m=function(t){return t.x},g=function(t){return t.y},v=[0],y=e.utils.defaultColor(),_=null,b=!1,w=!1,x=!1,S=60,k=d3.format(",.2f"),C=1200,T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=T,t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(m=e,t):m},t.y=function(e){return arguments.length?(g=e,t):g},t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(h=e,t):h},t.xScale=function(e){return arguments.length?(p=e,t):p},t.yScale=function(e){return arguments.length?(f=e,t):f},t.xDomain=function(e){return arguments.length?(i=e,t):i},t.yDomain=function(e){return arguments.length?(r=e,t):r},t.xRange=function(e){return arguments.length?(o=e,t):o},t.yRange=function(e){return arguments.length?(s=e,t):s},t.forceY=function(e){return arguments.length?(v=e,t):v},t.stacked=function(e){return arguments.length?(b=e,t):b},t.color=function(n){return arguments.length?(y=e.utils.getColor(n),t):y},t.barColor=function(n){return arguments.length?(_=e.utils.getColor(n),t):_},t.disabled=function(e){return arguments.length?(n=e,t):n},t.id=function(e){return arguments.length?(d=e,t):d},t.delay=function(e){return arguments.length?(C=e,t):C},t.showValues=function(e){return arguments.length?(w=e,t):w},t.showBarLabels=function(e){return arguments.length?(x=e,t):x},t.valueFormat=function(e){return arguments.length?(k=e,t):k},t.valuePadding=function(e){return arguments.length?(S=e,t):S},t},e.models.multiBarHorizontalChart=function(){"use strict";function t(e){return e.each(function(e){var y=d3.select(this),T=this,D=(u||parseInt(y.style("width"))||960)-c.left-c.right,M=(h||parseInt(y.style("height"))||400)-c.top-c.bottom;if(t.update=function(){y.transition().duration(k).call(t)},t.container=this,_.disabled=e.map(function(t){return!!t.disabled}),!b){var E;b={};for(E in _)_[E]instanceof Array?b[E]=_[E].slice(0):b[E]=_[E]}if(!e||!e.length||!e.filter(function(t){return t.values.length}).length){var L=y.selectAll(".nv-noData").data([w]);return L.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),L.attr("x",c.left+D/2).attr("y",c.top+M/2).text(function(t){return t}),t}y.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var A=y.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([e]),I=A.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),N=A.select("g");if(I.append("g").attr("class","nv-x nv-axis"),I.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),I.append("g").attr("class","nv-barsWrap"),I.append("g").attr("class","nv-legendWrap"),I.append("g").attr("class","nv-controlsWrap"),f&&(a.width(D-S()),r.barColor()&&e.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),N.select(".nv-legendWrap").datum(e).call(a),c.top!=a.height()&&(c.top=a.height(),M=(h||parseInt(y.style("height"))||400)-c.top-c.bottom),N.select(".nv-legendWrap").attr("transform","translate("+S()+","+-c.top+")")),p){var P=[{key:"Grouped",disabled:r.stacked()},{key:"Stacked",disabled:!r.stacked()}];l.width(S()).color(["#444","#444","#444"]),N.select(".nv-controlsWrap").datum(P).attr("transform","translate(0,"+-c.top+")").call(l)}A.attr("transform","translate("+c.left+","+c.top+")"),r.disabled(e.map(function(t){return t.disabled})).width(D).height(M).color(e.map(function(t,e){return t.color||d(t,e)}).filter(function(t,n){return!e[n].disabled})),N.select(".nv-barsWrap").datum(e.filter(function(t){return!t.disabled})).transition().call(r),m&&(o.scale(n).ticks(M/24).tickSize(-D,0),N.select(".nv-x.nv-axis").transition().call(o),N.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")),g&&(s.scale(i).ticks(D/100).tickSize(-M,0),N.select(".nv-y.nv-axis").attr("transform","translate(0,"+M+")"),N.select(".nv-y.nv-axis").transition().call(s)),N.select(".nv-zeroLine line").attr("x1",i(0)).attr("x2",i(0)).attr("y1",0).attr("y2",-M),a.dispatch.on("stateChange",function(e){_=e,x.stateChange(_),t.update()}),l.dispatch.on("legendClick",function(e,n){if(e.disabled){switch(P=P.map(function(t){return t.disabled=!0,t}),e.disabled=!1,e.key){case"Grouped":r.stacked(!1);break;case"Stacked":r.stacked(!0)}_.stacked=r.stacked(),x.stateChange(_),t.update()}}),x.on("tooltipShow",function(t){v&&C(t,T.parentNode)}),x.on("changeState",function(n){void 0!==n.disabled&&(e.forEach(function(t,e){t.disabled=n.disabled[e]}),_.disabled=n.disabled),void 0!==n.stacked&&(r.stacked(n.stacked),_.stacked=n.stacked),t.update()})}),t}var n,i,r=e.models.multiBarHorizontal(),o=e.models.axis(),s=e.models.axis(),a=e.models.legend().height(30),l=e.models.legend().height(30),c={top:30,right:20,bottom:50,left:60},u=null,h=null,d=e.utils.defaultColor(),p=!0,f=!0,m=!0,g=!0,v=!0,y=function(t,e,n,i,r){return"<h3>"+t+" - "+e+"</h3><p>"+n+"</p>"},_={stacked:!1},b=null,w="No Data Available.",x=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),S=function(){return p?180:0},k=250;r.stacked(!1),o.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),s.orient("bottom").tickFormat(d3.format(",.1f")),l.updateState(!1);var C=function(n,i){var a=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),c=o.tickFormat()(r.x()(n.point,n.pointIndex)),u=s.tickFormat()(r.y()(n.point,n.pointIndex)),h=y(n.series.key,c,u,n,t);e.tooltip.show([a,l],h,n.value<0?"e":"w",null,i)};return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],x.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){x.tooltipHide(t)}),x.on("tooltipHide",function(){v&&e.tooltip.cleanup()}),t.dispatch=x,t.multibar=r,t.legend=a,t.xAxis=o,t.yAxis=s,d3.rebind(t,r,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","delay","showValues","showBarLabels","valueFormat","stacked","barColor"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(h=e,t):h},t.color=function(n){return arguments.length?(d=e.utils.getColor(n),a.color(d),t):d},t.showControls=function(e){return arguments.length?(p=e,t):p},t.showLegend=function(e){return arguments.length?(f=e,t):f},t.showXAxis=function(e){return arguments.length?(m=e,t):m},t.showYAxis=function(e){return arguments.length?(g=e,t):g},t.tooltip=function(e){return arguments.length?(y=e,t):y},t.tooltips=function(e){return arguments.length?(v=e,t):v},t.tooltipContent=function(e){return arguments.length?(y=e,t):y},t.state=function(e){return arguments.length?(_=e,t):_},t.defaultState=function(e){return arguments.length?(b=e,t):b},t.noData=function(e){return arguments.length?(w=e,t):w},t.transitionDuration=function(e){return arguments.length?(k=e,t):k},t},e.models.multiChart=function(){"use strict";function t(e){return e.each(function(e){var u=d3.select(this),T=this;t.update=function(){u.transition().call(t)},t.container=this;var D=(s||parseInt(u.style("width"))||960)-r.left-r.right,M=(a||parseInt(u.style("height"))||400)-r.top-r.bottom,E=e.filter(function(t){return!t.disabled&&"line"==t.type&&1==t.yAxis}),L=e.filter(function(t){return!t.disabled&&"line"==t.type&&2==t.yAxis}),A=e.filter(function(t){return!t.disabled&&"bar"==t.type&&1==t.yAxis}),I=e.filter(function(t){return!t.disabled&&"bar"==t.type&&2==t.yAxis}),N=e.filter(function(t){return!t.disabled&&"area"==t.type&&1==t.yAxis}),P=e.filter(function(t){return!t.disabled&&"area"==t.type&&2==t.yAxis}),O=e.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:t.x,y:t.y}})}),Y=e.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:t.x,y:t.y}})});h.domain(d3.extent(d3.merge(O.concat(Y)),function(t){return t.x})).range([0,D]);var R=u.selectAll("g.wrap.multiChart").data([e]),F=R.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");F.append("g").attr("class","x axis"),F.append("g").attr("class","y1 axis"),F.append("g").attr("class","y2 axis"),F.append("g").attr("class","lines1Wrap"),F.append("g").attr("class","lines2Wrap"),F.append("g").attr("class","bars1Wrap"),F.append("g").attr("class","bars2Wrap"),F.append("g").attr("class","stack1Wrap"),F.append("g").attr("class","stack2Wrap"),F.append("g").attr("class","legendWrap");var H=R.select("g");l&&(S.width(D/2),H.select(".legendWrap").datum(e.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t})).call(S),r.top!=S.height()&&(r.top=S.height(),M=(a||parseInt(u.style("height"))||400)-r.top-r.bottom),H.select(".legendWrap").attr("transform","translate("+D/2+","+-r.top+")")),f.width(D).height(M).interpolate("monotone").color(e.map(function(t,e){return t.color||o[e%o.length]}).filter(function(t,n){return!e[n].disabled&&1==e[n].yAxis&&"line"==e[n].type})),m.width(D).height(M).interpolate("monotone").color(e.map(function(t,e){return t.color||o[e%o.length]}).filter(function(t,n){return!e[n].disabled&&2==e[n].yAxis&&"line"==e[n].type})),g.width(D).height(M).color(e.map(function(t,e){return t.color||o[e%o.length]}).filter(function(t,n){return!e[n].disabled&&1==e[n].yAxis&&"bar"==e[n].type})),v.width(D).height(M).color(e.map(function(t,e){return t.color||o[e%o.length]}).filter(function(t,n){return!e[n].disabled&&2==e[n].yAxis&&"bar"==e[n].type})),y.width(D).height(M).color(e.map(function(t,e){return t.color||o[e%o.length]}).filter(function(t,n){return!e[n].disabled&&1==e[n].yAxis&&"area"==e[n].type})),_.width(D).height(M).color(e.map(function(t,e){return t.color||o[e%o.length]}).filter(function(t,n){return!e[n].disabled&&2==e[n].yAxis&&"area"==e[n].type})),H.attr("transform","translate("+r.left+","+r.top+")");var z=H.select(".lines1Wrap").datum(E),j=H.select(".bars1Wrap").datum(A),$=H.select(".stack1Wrap").datum(N),W=H.select(".lines2Wrap").datum(L),B=H.select(".bars2Wrap").datum(I),U=H.select(".stack2Wrap").datum(P),q=N.length?N.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[],V=P.length?P.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[];d.domain(n||d3.extent(d3.merge(O).concat(q),function(t){return t.y})).range([0,M]),p.domain(i||d3.extent(d3.merge(Y).concat(V),function(t){return t.y})).range([0,M]),f.yDomain(d.domain()),g.yDomain(d.domain()),y.yDomain(d.domain()),m.yDomain(p.domain()),v.yDomain(p.domain()),_.yDomain(p.domain()),N.length&&d3.transition($).call(y),P.length&&d3.transition(U).call(_),A.length&&d3.transition(j).call(g),I.length&&d3.transition(B).call(v),E.length&&d3.transition(z).call(f),L.length&&d3.transition(W).call(m),b.ticks(D/100).tickSize(-M,0),H.select(".x.axis").attr("transform","translate(0,"+M+")"),d3.transition(H.select(".x.axis")).call(b),w.ticks(M/36).tickSize(-D,0),d3.transition(H.select(".y1.axis")).call(w),x.ticks(M/36).tickSize(-D,0),d3.transition(H.select(".y2.axis")).call(x),H.select(".y2.axis").style("opacity",Y.length?1:0).attr("transform","translate("+h.range()[1]+",0)"),S.dispatch.on("stateChange",function(e){t.update()}),k.on("tooltipShow",function(t){c&&C(t,T.parentNode)})}),t}var n,i,r={top:30,right:20,bottom:50,left:60},o=d3.scale.category20().range(),s=null,a=null,l=!0,c=!0,u=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},h=d3.scale.linear(),d=d3.scale.linear(),p=d3.scale.linear(),f=e.models.line().yScale(d),m=e.models.line().yScale(p),g=e.models.multiBar().stacked(!1).yScale(d),v=e.models.multiBar().stacked(!1).yScale(p),y=e.models.stackedArea().yScale(d),_=e.models.stackedArea().yScale(p),b=e.models.axis().scale(h).orient("bottom").tickPadding(5),w=e.models.axis().scale(d).orient("left"),x=e.models.axis().scale(p).orient("right"),S=e.models.legend().height(30),k=d3.dispatch("tooltipShow","tooltipHide"),C=function(n,i){var r=n.pos[0]+(i.offsetLeft||0),o=n.pos[1]+(i.offsetTop||0),s=b.tickFormat()(f.x()(n.point,n.pointIndex)),a=(2==n.series.yAxis?x:w).tickFormat()(f.y()(n.point,n.pointIndex)),l=u(n.series.key,s,a,n,t);e.tooltip.show([r,o],l,void 0,void 0,i.offsetParent)};return f.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],k.tooltipShow(t)}),f.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],k.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),g.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],k.tooltipShow(t)}),g.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),v.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],k.tooltipShow(t)}),v.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),y.dispatch.on("tooltipShow",function(t){if(!Math.round(100*y.y()(t.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],k.tooltipShow(t)}),y.dispatch.on("tooltipHide",function(t){k.tooltipHide(t)}),_.dispatch.on("tooltipShow",function(t){if(!Math.round(100*_.y()(t.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],k.tooltipShow(t)}),_.dispatch.on("tooltipHide",function(t){k.tooltipHide(t)}),f.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],k.tooltipShow(t)}),f.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],k.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){c&&e.tooltip.cleanup()}),t.dispatch=k,t.lines1=f,t.lines2=m,t.bars1=g,t.bars2=v,t.stack1=y,t.stack2=_,t.xAxis=b,t.yAxis1=w,t.yAxis2=x,t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(getX=e,f.x(e),g.x(e),t):getX},t.y=function(e){return arguments.length?(getY=e,f.y(e),g.y(e),t):getY},t.yDomain1=function(e){return arguments.length?(n=e,t):n},t.yDomain2=function(e){return arguments.length?(i=e,t):i},t.margin=function(e){return arguments.length?(r=e,t):r},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(a=e,t):a},t.color=function(e){return arguments.length?(o=e,S.color(e),t):o},t.showLegend=function(e){return arguments.length?(l=e,t):l},t.tooltips=function(e){return arguments.length?(c=e,t):c},t.tooltipContent=function(e){return arguments.length?(u=e,t):u},t},e.models.ohlcBar=function(){"use strict";function t(e){return e.each(function(t){var e=a-s.left-s.right,x=l-s.top-s.bottom,k=d3.select(this);u.domain(n||d3.extent(t[0].values.map(d).concat(y))),b?u.range(r||[.5*e/t[0].values.length,e*(t[0].values.length-.5)/t[0].values.length]):u.range(r||[0,e]),h.domain(i||[d3.min(t[0].values.map(v).concat(_)),d3.max(t[0].values.map(g).concat(_))]).range(o||[x,0]),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]):u.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1]));var C=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([t[0].values]),T=C.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),D=T.append("defs"),M=T.append("g"),E=C.select("g");M.append("g").attr("class","nv-ticks"),C.attr("transform","translate("+s.left+","+s.top+")"),k.on("click",function(t,e){S.chartClick({data:t,index:e,pos:d3.event,id:c})}),D.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),C.select("#nv-chart-clip-path-"+c+" rect").attr("width",e).attr("height",x),E.attr("clip-path",w?"url(#nv-chart-clip-path-"+c+")":"");var L=C.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});L.exit().remove();L.enter().append("path").attr("class",function(t,e,n){return(f(t,e)>m(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(n,i){var r=e/t[0].values.length*.9;return"m0,0l0,"+(h(f(n,i))-h(g(n,i)))+"l"+-r/2+",0l"+r/2+",0l0,"+(h(v(n,i))-h(f(n,i)))+"l0,"+(h(m(n,i))-h(v(n,i)))+"l"+r/2+",0l"+-r/2+",0z"}).attr("transform",function(t,e){return"translate("+u(d(t,e))+","+h(g(t,e))+")"}).on("mouseover",function(e,n){d3.select(this).classed("hover",!0),S.elementMouseover({point:e,series:t[0],pos:[u(d(e,n)),h(p(e,n))],pointIndex:n,seriesIndex:0,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),S.elementMouseout({point:e,series:t[0],pointIndex:n,seriesIndex:0,e:d3.event})}).on("click",function(t,e){S.elementClick({value:p(t,e),data:t,index:e,pos:[u(d(t,e)),h(p(t,e))],e:d3.event,id:c}),d3.event.stopPropagation()}).on("dblclick",function(t,e){S.elementDblClick({value:p(t,e),data:t,index:e,pos:[u(d(t,e)),h(p(t,e))],e:d3.event,id:c}),d3.event.stopPropagation()});L.attr("class",function(t,e,n){return(f(t,e)>m(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(L).attr("transform",function(t,e){return"translate("+u(d(t,e))+","+h(g(t,e))+")"}).attr("d",function(n,i){var r=e/t[0].values.length*.9;return"m0,0l0,"+(h(f(n,i))-h(g(n,i)))+"l"+-r/2+",0l"+r/2+",0l0,"+(h(v(n,i))-h(f(n,i)))+"l0,"+(h(m(n,i))-h(v(n,i)))+"l"+r/2+",0l"+-r/2+",0z"})}),t}var n,i,r,o,s={top:0,right:0,bottom:0,left:0},a=960,l=500,c=Math.floor(1e4*Math.random()),u=d3.scale.linear(),h=d3.scale.linear(),d=function(t){return t.x},p=function(t){return t.y},f=function(t){return t.open},m=function(t){return t.close},g=function(t){return t.high},v=function(t){return t.low},y=[],_=[],b=!1,w=!0,x=e.utils.defaultColor(),S=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=S,t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(d=e,t):d},t.y=function(e){return arguments.length?(p=e,t):p},t.open=function(e){return arguments.length?(f=e,t):f},t.close=function(e){return arguments.length?(m=e,t):m},t.high=function(e){return arguments.length?(g=e,t):g},t.low=function(e){return arguments.length?(v=e,t):v},t.margin=function(e){return arguments.length?(s.top=void 0!==e.top?e.top:s.top,s.right=void 0!==e.right?e.right:s.right,s.bottom=void 0!==e.bottom?e.bottom:s.bottom,s.left=void 0!==e.left?e.left:s.left,t):s},t.width=function(e){return arguments.length?(a=e,t):a},t.height=function(e){return arguments.length?(l=e,t):l},t.xScale=function(e){return arguments.length?(u=e,t):u},t.yScale=function(e){return arguments.length?(h=e,t):h},t.xDomain=function(e){return arguments.length?(n=e,t):n},t.yDomain=function(e){return arguments.length?(i=e,t):i},t.xRange=function(e){return arguments.length?(r=e,t):r},t.yRange=function(e){return arguments.length?(o=e,t):o},t.forceX=function(e){return arguments.length?(y=e,t):y},t.forceY=function(e){return arguments.length?(_=e,t):_},t.padData=function(e){return arguments.length?(b=e,t):b},t.clipEdge=function(e){return arguments.length?(w=e,t):w},t.color=function(n){return arguments.length?(x=e.utils.getColor(n),t):x},t.id=function(e){return arguments.length?(c=e,t):c},t},e.models.pie=function(){"use strict";function t(e){return e.each(function(t){var e=i-n.left-n.right,a=r-n.top-n.bottom,u=Math.min(e,a)/2,S=u-u/5,k=d3.select(this),C=k.selectAll(".nv-wrap.nv-pie").data(t),T=C.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+l).append("g"),D=C.select("g");T.append("g").attr("class","nv-pie"),T.append("g").attr("class","nv-pieLabels"),C.attr("transform","translate("+n.left+","+n.top+")"),D.select(".nv-pie").attr("transform","translate("+e/2+","+a/2+")"),D.select(".nv-pieLabels").attr("transform","translate("+e/2+","+a/2+")"),k.on("click",function(t,e){x.chartClick({data:t,index:e,pos:d3.event,id:l})});var M=d3.svg.arc().outerRadius(S);_&&M.startAngle(_),b&&M.endAngle(b),v&&M.innerRadius(u*w);var E=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:s(t)}),L=C.select(".nv-pie").selectAll(".nv-slice").data(E),A=C.select(".nv-pieLabels").selectAll(".nv-label").data(E);L.exit().remove(),A.exit().remove();var I=L.enter().append("g").attr("class","nv-slice").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),x.elementMouseover({label:o(t.data),value:s(t.data),point:t.data,pointIndex:e,pos:[d3.event.pageX,d3.event.pageY],id:l})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),x.elementMouseout({label:o(t.data),value:s(t.data),point:t.data,index:e,id:l})}).on("click",function(t,e){x.elementClick({label:o(t.data),value:s(t.data),point:t.data,index:e,pos:d3.event,id:l}),d3.event.stopPropagation()}).on("dblclick",function(t,e){x.elementDblClick({label:o(t.data),value:s(t.data),point:t.data,index:e,pos:d3.event,id:l}),d3.event.stopPropagation()});L.attr("fill",function(t,e){return c(t,e)}).attr("stroke",function(t,e){return c(t,e)});I.append("path").each(function(t){this._current=t});if(L.select("path").transition().attr("d",M).attrTween("d",function(t){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,v||(t.innerRadius=0);var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){return M(e(t))}}),h){var N=d3.svg.arc().innerRadius(0);p&&(N=M),f&&(N=d3.svg.arc().outerRadius(M.outerRadius())),A.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t){if(y){t.outerRadius=S+10,t.innerRadius=S+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+N.centroid(t)+") rotate("+e+")"}return t.outerRadius=u+10,t.innerRadius=u+15,"translate("+N.centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",y?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var P={},O=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)};A.transition().attr("transform",function(t){if(y){t.outerRadius=S+10,t.innerRadius=S+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+N.centroid(t)+") rotate("+e+")"}t.outerRadius=u+10,t.innerRadius=u+15;var n=N.centroid(t),i=O(n);return P[i]&&(n[1]-=14),P[O(n)]=!0,"translate("+n+")"}),A.select(".nv-label text").style("text-anchor",y?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(t,e){var n=(t.endAngle-t.startAngle)/(2*Math.PI),i={key:o(t.data),value:s(t.data),percent:d3.format("%")(n)};return t.value&&n>g?i[m]:""})}}),t}var n={top:0,right:0,bottom:0,left:0},i=500,r=500,o=function(t){return t.x},s=function(t){return t.y},a=function(t){return t.description},l=Math.floor(1e4*Math.random()),c=e.utils.defaultColor(),u=d3.format(",.2f"),h=!0,p=!0,f=!1,m="key",g=.02,v=!1,y=!1,_=!1,b=!1,w=.5,x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=x,t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t):n},t.width=function(e){return arguments.length?(i=e,t):i},t.height=function(e){return arguments.length?(r=e,t):r},t.values=function(n){return e.log("pie.values() is no longer supported."),t},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(s=d3.functor(e),t):s},t.description=function(e){return arguments.length?(a=e,t):a},t.showLabels=function(e){return arguments.length?(h=e,t):h},t.labelSunbeamLayout=function(e){return arguments.length?(y=e,t):y},t.donutLabelsOutside=function(e){return arguments.length?(f=e,t):f},t.pieLabelsOutside=function(e){return arguments.length?(p=e,t):p},t.labelType=function(e){return arguments.length?(m=e,m=m||"key",t):m},t.donut=function(e){return arguments.length?(v=e,t):v},t.donutRatio=function(e){return arguments.length?(w=e,t):w},t.startAngle=function(e){return arguments.length?(_=e,t):_},t.endAngle=function(e){return arguments.length?(b=e,t):b},t.id=function(e){return arguments.length?(l=e,t):l},t.color=function(n){return arguments.length?(c=e.utils.getColor(n),t):c},t.valueFormat=function(e){return arguments.length?(u=e,t):u},t.labelThreshold=function(e){return arguments.length?(g=e,t):g},t},e.models.pieChart=function(){"use strict";function t(e){return e.each(function(e){var l=d3.select(this),c=(o||parseInt(l.style("width"))||960)-r.left-r.right,u=(s||parseInt(l.style("height"))||400)-r.top-r.bottom;if(t.update=function(){l.transition().call(t)},t.container=this,h.disabled=e.map(function(t){return!!t.disabled}),!d){var m;d={};for(m in h)h[m]instanceof Array?d[m]=h[m].slice(0):d[m]=h[m]}if(!e||!e.length){var g=l.selectAll(".nv-noData").data([p]);return g.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),g.attr("x",r.left+c/2).attr("y",r.top+u/2).text(function(t){return t}),t}l.selectAll(".nv-noData").remove();var v=l.selectAll("g.nv-wrap.nv-pieChart").data([e]),y=v.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),_=v.select("g");y.append("g").attr("class","nv-pieWrap"),y.append("g").attr("class","nv-legendWrap"),a&&(i.width(c).key(n.x()),v.select(".nv-legendWrap").datum(e).call(i),r.top!=i.height()&&(r.top=i.height(),u=(s||parseInt(l.style("height"))||400)-r.top-r.bottom),v.select(".nv-legendWrap").attr("transform","translate(0,"+-r.top+")")),v.attr("transform","translate("+r.left+","+r.top+")"),n.width(c).height(u);var b=_.select(".nv-pieWrap").datum([e]);d3.transition(b).call(n),i.dispatch.on("stateChange",function(e){h=e,f.stateChange(h),t.update()}),n.dispatch.on("elementMouseout.tooltip",function(t){f.tooltipHide(t)}),f.on("changeState",function(n){void 0!==n.disabled&&(e.forEach(function(t,e){t.disabled=n.disabled[e]}),h.disabled=n.disabled),t.update()})}),t}var n=e.models.pie(),i=e.models.legend(),r={top:30,right:20,bottom:20,left:20},o=null,s=null,a=!0,l=e.utils.defaultColor(),c=!0,u=function(t,e,n,i){return"<h3>"+t+"</h3><p>"+e+"</p>"},h={},d=null,p="No Data Available.",f=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),m=function(i,r){var o=n.description()(i.point)||n.x()(i.point),s=i.pos[0]+(r&&r.offsetLeft||0),a=i.pos[1]+(r&&r.offsetTop||0),l=n.valueFormat()(n.y()(i.point)),c=u(o,l,i,t);e.tooltip.show([s,a],c,i.value<0?"n":"s",null,r)};return n.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],f.tooltipShow(t)}),f.on("tooltipShow",function(t){c&&m(t)}),f.on("tooltipHide",function(){c&&e.tooltip.cleanup()}),t.legend=i,t.dispatch=f,t.pie=n,d3.rebind(t,n,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(r.top=void 0!==e.top?e.top:r.top,r.right=void 0!==e.right?e.right:r.right,r.bottom=void 0!==e.bottom?e.bottom:r.bottom,r.left=void 0!==e.left?e.left:r.left,t):r},t.width=function(e){return arguments.length?(o=e,t):o},t.height=function(e){return arguments.length?(s=e,t):s},t.color=function(r){return arguments.length?(l=e.utils.getColor(r),i.color(l),n.color(l),t):l},t.showLegend=function(e){return arguments.length?(a=e,t):a},t.tooltips=function(e){return arguments.length?(c=e,t):c},t.tooltipContent=function(e){return arguments.length?(u=e,t):u},t.state=function(e){return arguments.length?(h=e,t):h},t.defaultState=function(e){return arguments.length?(d=e,t):d},t.noData=function(e){return arguments.length?(p=e,t):p},t},e.models.scatter=function(){"use strict";function t(z){return z.each(function(t){var z=a-s.left-s.right,j=l-s.top-s.bottom,$=d3.select(this);t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var W=L&&A&&P?[]:d3.merge(t.map(function(t){return t.values.map(function(t,e){return{x:f(t,e),y:m(t,e),size:g(t,e)}})}));h.domain(L||d3.extent(W.map(function(t){return t.x}).concat(_))),C&&t[0]?h.range(I||[(z*T+z)/(2*t[0].values.length),z-z*(1+T)/(2*t[0].values.length)]):h.range(I||[0,z]),d.domain(A||d3.extent(W.map(function(t){return t.y}).concat(b))).range(N||[j,0]),p.domain(P||d3.extent(W.map(function(t){return t.size}).concat(w))).range(O||[16,256]),h.domain()[0]!==h.domain()[1]&&d.domain()[0]!==d.domain()[1]||(Y=!0),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]-.01*h.domain()[0],h.domain()[1]+.01*h.domain()[1]]):h.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),isNaN(h.domain()[0])&&h.domain([-1,1]),isNaN(d.domain()[0])&&d.domain([-1,1]),n=n||h,i=i||d,r=r||p;var B=$.selectAll("g.nv-wrap.nv-scatter").data([t]),U=B.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+u+(Y?" nv-single-point":"")),q=U.append("defs"),V=U.append("g"),X=B.select("g");V.append("g").attr("class","nv-groups"),V.append("g").attr("class","nv-point-paths"),B.attr("transform","translate("+s.left+","+s.top+")"),q.append("clipPath").attr("id","nv-edge-clip-"+u).append("rect"),B.select("#nv-edge-clip-"+u+" rect").attr("width",z).attr("height",j>0?j:0),X.attr("clip-path",D?"url(#nv-edge-clip-"+u+")":""),H=!0;var G=B.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});if(G.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),G.exit().remove(),G.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),G.transition().style("fill",function(t,e){return c(t,e)}).style("stroke",function(t,e){return c(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5),y)(K=G.selectAll("circle.nv-point").data(function(t){return t.values},S)).enter().append("circle").style("fill",function(t,e){return t.color}).style("stroke",function(t,e){return t.color}).attr("cx",function(t,i){return e.utils.NaNtoZero(n(f(t,i)))}).attr("cy",function(t,n){return e.utils.NaNtoZero(i(m(t,n)))}).attr("r",function(t,e){return Math.sqrt(p(g(t,e))/Math.PI)}),K.exit().remove(),G.exit().selectAll("path.nv-point").transition().attr("cx",function(t,n){return e.utils.NaNtoZero(h(f(t,n)))}).attr("cy",function(t,n){return e.utils.NaNtoZero(d(m(t,n)))}).remove(),K.each(function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)}),K.transition().attr("cx",function(t,n){return e.utils.NaNtoZero(h(f(t,n)))}).attr("cy",function(t,n){return e.utils.NaNtoZero(d(m(t,n)))}).attr("r",function(t,e){return Math.sqrt(p(g(t,e))/Math.PI)});else{var K=G.selectAll("path.nv-point").data(function(t){return t.values});K.enter().append("path").style("fill",function(t,e){return t.color}).style("stroke",function(t,e){return t.color}).attr("transform",function(t,e){return"translate("+n(f(t,e))+","+i(m(t,e))+")"}).attr("d",d3.svg.symbol().type(v).size(function(t,e){return p(g(t,e))})),K.exit().remove(),G.exit().selectAll("path.nv-point").transition().attr("transform",function(t,e){return"translate("+h(f(t,e))+","+d(m(t,e))+")"}).remove(),K.each(function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)}),K.transition().attr("transform",function(t,e){return"translate("+h(f(t,e))+","+d(m(t,e))+")"}).attr("d",d3.svg.symbol().type(v).size(function(t,e){return p(g(t,e))}))}clearTimeout(o),o=setTimeout(function(){if(!x)return!1;var e=d3.merge(t.map(function(t,e){return t.values.map(function(t,n){var i=f(t,n),r=m(t,n);return[h(i)+1e-7*Math.random(),d(r)+1e-7*Math.random(),e,n,t]}).filter(function(t,e){return k(t[4],e)})}));if(!0===F){if(M){B.select("defs").selectAll(".nv-point-clips").data([u]).enter().append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+u);var n=B.select("#nv-points-clip-"+u).selectAll("circle").data(e);n.enter().append("circle").attr("r",E),n.exit().remove(),n.attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}),B.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+u+")")}e.length&&(e.push([h.range()[0]-20,d.range()[0]-20,null,null]),e.push([h.range()[1]+20,d.range()[1]+20,null,null]),e.push([h.range()[0]-20,d.range()[0]+20,null,null]),e.push([h.range()[1]+20,d.range()[1]-20,null,null]));var i=d3.geom.polygon([[-10,-10],[-10,l+10],[a+10,l+10],[a+10,-10]]),r=d3.geom.voronoi(e).map(function(t,n){return{data:i.clip(t),series:e[n][2],point:e[n][3]}}),o=B.select(".nv-point-paths").selectAll("path").data(r);o.enter().append("path").attr("class",function(t,e){return"nv-path-"+e}),o.exit().remove(),o.attr("d",function(t){return 0===t.data.length?"M 0 0":"M"+t.data.join("L")+"Z"});var c=function(e,n){if(H)return 0;var i=t[e.series];if(void 0!==i){var r=i.values[e.point];n({point:r,series:i,pos:[h(f(r,e.point))+s.left,d(m(r,e.point))+s.top],seriesIndex:e.series,pointIndex:e.point})}};o.on("click",function(t){c(t,R.elementClick)}).on("mouseover",function(t){c(t,R.elementMouseover)}).on("mouseout",function(t,e){c(t,R.elementMouseout)})}else B.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(e,n){if(H||!t[e.series])return 0;var i=t[e.series],r=i.values[n];R.elementClick({point:r,series:i,pos:[h(f(r,n))+s.left,d(m(r,n))+s.top],seriesIndex:e.series,pointIndex:n})}).on("mouseover",function(e,n){if(H||!t[e.series])return 0;var i=t[e.series],r=i.values[n];R.elementMouseover({point:r,series:i,pos:[h(f(r,n))+s.left,d(m(r,n))+s.top],seriesIndex:e.series,pointIndex:n})}).on("mouseout",function(e,n){if(H||!t[e.series])return 0;var i=t[e.series],r=i.values[n];R.elementMouseout({point:r,series:i,seriesIndex:e.series,pointIndex:n})});H=!1},300),n=h.copy(),i=d.copy(),r=p.copy()}),t}var n,i,r,o,s={top:0,right:0,bottom:0,left:0},a=960,l=500,c=e.utils.defaultColor(),u=Math.floor(1e5*Math.random()),h=d3.scale.linear(),d=d3.scale.linear(),p=d3.scale.linear(),f=function(t){return t.x},m=function(t){return t.y},g=function(t){return t.size||1},v=function(t){return t.shape||"circle"},y=!0,_=[],b=[],w=[],x=!0,S=null,k=function(t){return!t.notActive},C=!1,T=.1,D=!1,M=!0,E=function(){return 25},L=null,A=null,I=null,N=null,P=null,O=null,Y=!1,R=d3.dispatch("elementClick","elementMouseover","elementMouseout"),F=!0,H=!1;return t.clearHighlights=function(){d3.selectAll(".nv-chart-"+u+" .nv-point.hover").classed("hover",!1)},t.highlightPoint=function(t,e,n){d3.select(".nv-chart-"+u+" .nv-series-"+t+" .nv-point-"+e).classed("hover",n)},R.on("elementMouseover.point",function(e){x&&t.highlightPoint(e.seriesIndex,e.pointIndex,!0)}),R.on("elementMouseout.point",function(e){x&&t.highlightPoint(e.seriesIndex,e.pointIndex,!1)}),t.dispatch=R,t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(f=d3.functor(e),t):f},t.y=function(e){return arguments.length?(m=d3.functor(e),t):m},t.size=function(e){return arguments.length?(g=d3.functor(e),t):g},t.margin=function(e){return arguments.length?(s.top=void 0!==e.top?e.top:s.top,s.right=void 0!==e.right?e.right:s.right,s.bottom=void 0!==e.bottom?e.bottom:s.bottom,s.left=void 0!==e.left?e.left:s.left,t):s},t.width=function(e){return arguments.length?(a=e,t):a},t.height=function(e){return arguments.length?(l=e,t):l},t.xScale=function(e){return arguments.length?(h=e,t):h},t.yScale=function(e){return arguments.length?(d=e,t):d},t.zScale=function(e){return arguments.length?(p=e,t):p},t.xDomain=function(e){return arguments.length?(L=e,t):L},t.yDomain=function(e){return arguments.length?(A=e,t):A},t.sizeDomain=function(e){return arguments.length?(P=e,t):P},t.xRange=function(e){return arguments.length?(I=e,t):I},t.yRange=function(e){return arguments.length?(N=e,t):N},t.sizeRange=function(e){return arguments.length?(O=e,t):O},t.forceX=function(e){return arguments.length?(_=e,t):_},t.forceY=function(e){return arguments.length?(b=e,t):b},t.forceSize=function(e){return arguments.length?(w=e,t):w},t.interactive=function(e){return arguments.length?(x=e,t):x},t.pointKey=function(e){return arguments.length?(S=e,t):S},t.pointActive=function(e){return arguments.length?(k=e,t):k},t.padData=function(e){return arguments.length?(C=e,t):C},t.padDataOuter=function(e){return arguments.length?(T=e,t):T},t.clipEdge=function(e){return arguments.length?(D=e,t):D},t.clipVoronoi=function(e){return arguments.length?(M=e,t):M},t.useVoronoi=function(e){return arguments.length?(!1===(F=e)&&(M=!1),t):F},t.clipRadius=function(e){return arguments.length?(E=e,t):E},t.color=function(n){return arguments.length?(c=e.utils.getColor(n),t):c},t.shape=function(e){return arguments.length?(v=e,t):v},t.onlyCircles=function(e){return arguments.length?(y=e,t):y},t.id=function(e){return arguments.length?(u=e,t):u},t.singlePoint=function(e){return arguments.length?(Y=e,t):Y},t},e.models.scatterChart=function(){"use strict";function t(e){return e.each(function(e){var D=d3.select(this),M=this,E=(u||parseInt(D.style("width"))||960)-c.left-c.right,H=(h||parseInt(D.style("height"))||400)-c.top-c.bottom;if(t.update=function(){D.transition().duration(P).call(t)},t.container=this,L.disabled=e.map(function(t){return!!t.disabled}),!A){var z;A={};for(z in L)L[z]instanceof Array?A[z]=L[z].slice(0):A[z]=L[z]}if(!e||!e.length||!e.filter(function(t){return t.values.length}).length){var j=D.selectAll(".nv-noData").data([N]);return j.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),j.attr("x",c.left+E/2).attr("y",c.top+H/2).text(function(t){return t}),t}D.selectAll(".nv-noData").remove(),O=O||p,Y=Y||f;var $=D.selectAll("g.nv-wrap.nv-scatterChart").data([e]),W=$.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+n.id()).append("g"),B=$.select("g");if(W.append("rect").attr("class","nvd3 nv-background"),W.append("g").attr("class","nv-x nv-axis"),W.append("g").attr("class","nv-y nv-axis"),W.append("g").attr("class","nv-scatterWrap"),W.append("g").attr("class","nv-distWrap"),W.append("g").attr("class","nv-legendWrap"),W.append("g").attr("class","nv-controlsWrap"),_){var U=S?E/2:E;o.width(U),$.select(".nv-legendWrap").datum(e).call(o),c.top!=o.height()&&(c.top=o.height(),H=(h||parseInt(D.style("height"))||400)-c.top-c.bottom),$.select(".nv-legendWrap").attr("transform","translate("+(E-U)+","+-c.top+")")}if(S&&(s.width(180).color(["#444"]),B.select(".nv-controlsWrap").datum(F).attr("transform","translate(0,"+-c.top+")").call(s)),$.attr("transform","translate("+c.left+","+c.top+")"),x&&B.select(".nv-y.nv-axis").attr("transform","translate("+E+",0)"),n.width(E).height(H).color(e.map(function(t,e){return t.color||d(t,e)}).filter(function(t,n){return!e[n].disabled})),0!==m&&n.xDomain(null),0!==g&&n.yDomain(null),$.select(".nv-scatterWrap").datum(e.filter(function(t){return!t.disabled})).call(n),0!==m){var q=p.domain()[1]-p.domain()[0];n.xDomain([p.domain()[0]-m*q,p.domain()[1]+m*q])}if(0!==g){var V=f.domain()[1]-f.domain()[0];n.yDomain([f.domain()[0]-g*V,f.domain()[1]+g*V])}(0!==g||0!==m)&&$.select(".nv-scatterWrap").datum(e.filter(function(t){return!t.disabled})).call(n),b&&(i.scale(p).ticks(i.ticks()&&i.ticks().length?i.ticks():E/100).tickSize(-H,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")").call(i)),w&&(r.scale(f).ticks(r.ticks()&&r.ticks().length?r.ticks():H/36).tickSize(-E,0),B.select(".nv-y.nv-axis").call(r)),v&&(a.getData(n.x()).scale(p).width(E).color(e.map(function(t,e){return t.color||d(t,e)}).filter(function(t,n){return!e[n].disabled})),W.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),B.select(".nv-distributionX").attr("transform","translate(0,"+f.range()[0]+")").datum(e.filter(function(t){return!t.disabled})).call(a)),y&&(l.getData(n.y()).scale(f).width(H).color(e.map(function(t,e){return t.color||d(t,e)}).filter(function(t,n){return!e[n].disabled})),W.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),B.select(".nv-distributionY").attr("transform","translate("+(x?E:-l.size())+",0)").datum(e.filter(function(t){return!t.disabled})).call(l)),d3.fisheye&&(B.select(".nv-background").attr("width",E).attr("height",H),B.select(".nv-background").on("mousemove",function(){if(C)return B.select(".nv-point-paths").style("pointer-events","all"),!1;B.select(".nv-point-paths").style("pointer-events","none");var t=d3.mouse(this);p.distortion(k).focus(t[0]),f.distortion(k).focus(t[1]),B.select(".nv-scatterWrap").call(n),b&&B.select(".nv-x.nv-axis").call(i),w&&B.select(".nv-y.nv-axis").call(r),B.select(".nv-distributionX").datum(e.filter(function(t){return!t.disabled})).call(a),B.select(".nv-distributionY").datum(e.filter(function(t){return!t.disabled})).call(l)}),B.select(".nv-background").on("click",function(){C=!C}),n.dispatch.on("elementClick.freezeFisheye",function(){C=!C})),s.dispatch.on("legendClick",function(e,o){e.disabled=!e.disabled,k=e.disabled?0:2.5,B.select(".nv-background").style("pointer-events",e.disabled?"none":"all"),B.select(".nv-point-paths").style("pointer-events",e.disabled?"all":"none"),e.disabled?(p.distortion(k).focus(0),f.distortion(k).focus(0),B.select(".nv-scatterWrap").call(n),B.select(".nv-x.nv-axis").call(i),B.select(".nv-y.nv-axis").call(r)):C=!1,t.update()}),o.dispatch.on("stateChange",function(e){L.disabled=e.disabled,I.stateChange(L),t.update()}),n.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",function(e,n){return t.pos[1]-H}),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+a.size()),t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],I.tooltipShow(t)}),I.on("tooltipShow",function(t){T&&R(t,M.parentNode)}),I.on("changeState",function(n){void 0!==n.disabled&&(e.forEach(function(t,e){t.disabled=n.disabled[e]}),L.disabled=n.disabled),t.update()}),O=p.copy(),Y=f.copy()}),t}var n=e.models.scatter(),i=e.models.axis(),r=e.models.axis(),o=e.models.legend(),s=e.models.legend(),a=e.models.distribution(),l=e.models.distribution(),c={top:30,right:20,bottom:50,left:75},u=null,h=null,d=e.utils.defaultColor(),p=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):n.xScale(),f=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):n.yScale(),m=0,g=0,v=!1,y=!1,_=!0,b=!0,w=!0,x=!1,S=!!d3.fisheye,k=0,C=!1,T=!0,D=function(t,e,n){return"<strong>"+e+"</strong>"},M=function(t,e,n){return"<strong>"+n+"</strong>"},E=null,L={},A=null,I=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),N="No Data Available.",P=250;n.xScale(p).yScale(f),i.orient("bottom").tickPadding(10),r.orient(x?"right":"left").tickPadding(10),a.axis("x"),l.axis("y"),s.updateState(!1);var O,Y,R=function(o,s){var a=o.pos[0]+(s.offsetLeft||0),l=o.pos[1]+(s.offsetTop||0),u=o.pos[0]+(s.offsetLeft||0),h=f.range()[0]+c.top+(s.offsetTop||0),d=p.range()[0]+c.left+(s.offsetLeft||0),m=o.pos[1]+(s.offsetTop||0),g=i.tickFormat()(n.x()(o.point,o.pointIndex)),v=r.tickFormat()(n.y()(o.point,o.pointIndex));null!=D&&e.tooltip.show([u,h],D(o.series.key,g,v,o,t),"n",1,s,"x-nvtooltip"),null!=M&&e.tooltip.show([d,m],M(o.series.key,g,v,o,t),"e",1,s,"y-nvtooltip"),null!=E&&e.tooltip.show([a,l],E(o.series.key,g,v,o,t),o.value<0?"n":"s",null,s)},F=[{key:"Magnify",disabled:!0}];return n.dispatch.on("elementMouseout.tooltip",function(t){I.tooltipHide(t),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",l.size())}),I.on("tooltipHide",function(){T&&e.tooltip.cleanup()}),t.dispatch=I,t.scatter=n,t.legend=o,t.controls=s,t.xAxis=i,t.yAxis=r,t.distX=a,t.distY=l,d3.rebind(t,n,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(h=e,t):h},t.color=function(n){return arguments.length?(d=e.utils.getColor(n),o.color(d),a.color(d),l.color(d),t):d},t.showDistX=function(e){return arguments.length?(v=e,t):v},t.showDistY=function(e){return arguments.length?(y=e,t):y},t.showControls=function(e){return arguments.length?(S=e,t):S},t.showLegend=function(e){return arguments.length?(_=e,t):_},t.showXAxis=function(e){return arguments.length?(b=e,t):b},t.showYAxis=function(e){return arguments.length?(w=e,t):w},t.rightAlignYAxis=function(e){return arguments.length?(x=e,r.orient(e?"right":"left"),t):x},t.fisheye=function(e){return arguments.length?(k=e,t):k},t.xPadding=function(e){return arguments.length?(m=e,t):m},t.yPadding=function(e){return arguments.length?(g=e,t):g},t.tooltips=function(e){return arguments.length?(T=e,t):T},t.tooltipContent=function(e){return arguments.length?(E=e,t):E},t.tooltipXContent=function(e){return arguments.length?(D=e,t):D},t.tooltipYContent=function(e){return arguments.length?(M=e,t):M},t.state=function(e){return arguments.length?(L=e,t):L},t.defaultState=function(e){return arguments.length?(A=e,t):A},t.noData=function(e){return arguments.length?(N=e,t):N},t.transitionDuration=function(e){return arguments.length?(P=e,t):P},t},e.models.scatterPlusLineChart=function(){"use strict";function t(e){return e.each(function(e){var C=d3.select(this),T=this,D=(u||parseInt(C.style("width"))||960)-c.left-c.right,R=(h||parseInt(C.style("height"))||400)-c.top-c.bottom;if(t.update=function(){C.transition().duration(I).call(t)},t.container=this,M.disabled=e.map(function(t){return!!t.disabled}),!E){var F;E={};for(F in M)M[F]instanceof Array?E[F]=M[F].slice(0):E[F]=M[F]}if(!e||!e.length||!e.filter(function(t){return t.values.length}).length){var H=C.selectAll(".nv-noData").data([A]);return H.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),H.attr("x",c.left+D/2).attr("y",c.top+R/2).text(function(t){return t}),t}C.selectAll(".nv-noData").remove(),p=n.xScale(),f=n.yScale(),N=N||p,P=P||f;var z=C.selectAll("g.nv-wrap.nv-scatterChart").data([e]),j=z.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+n.id()).append("g"),$=z.select("g");j.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),j.append("g").attr("class","nv-x nv-axis"),j.append("g").attr("class","nv-y nv-axis"),j.append("g").attr("class","nv-scatterWrap"),j.append("g").attr("class","nv-regressionLinesWrap"),j.append("g").attr("class","nv-distWrap"),j.append("g").attr("class","nv-legendWrap"),j.append("g").attr("class","nv-controlsWrap"),z.attr("transform","translate("+c.left+","+c.top+")"),b&&$.select(".nv-y.nv-axis").attr("transform","translate("+D+",0)"),v&&(o.width(D/2),z.select(".nv-legendWrap").datum(e).call(o),c.top!=o.height()&&(c.top=o.height(),R=(h||parseInt(C.style("height"))||400)-c.top-c.bottom),z.select(".nv-legendWrap").attr("transform","translate("+D/2+","+-c.top+")")),w&&(s.width(180).color(["#444"]),$.select(".nv-controlsWrap").datum(Y).attr("transform","translate(0,"+-c.top+")").call(s)),n.width(D).height(R).color(e.map(function(t,e){return t.color||d(t,e)}).filter(function(t,n){return!e[n].disabled})),z.select(".nv-scatterWrap").datum(e.filter(function(t){return!t.disabled})).call(n),z.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+n.id()+")");var W=z.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});W.enter().append("g").attr("class","nv-regLines");var B=W.selectAll(".nv-regLine").data(function(t){return[t]});B.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);B.transition().attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",function(t,e){return f(p.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return f(p.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return d(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1}),y&&(i.scale(p).ticks(i.ticks()?i.ticks():D/100).tickSize(-R,0),$.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")").call(i)),_&&(r.scale(f).ticks(r.ticks()?r.ticks():R/36).tickSize(-D,0),$.select(".nv-y.nv-axis").call(r)),m&&(a.getData(n.x()).scale(p).width(D).color(e.map(function(t,e){return t.color||d(t,e)}).filter(function(t,n){return!e[n].disabled})),j.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),$.select(".nv-distributionX").attr("transform","translate(0,"+f.range()[0]+")").datum(e.filter(function(t){return!t.disabled})).call(a)),g&&(l.getData(n.y()).scale(f).width(R).color(e.map(function(t,e){return t.color||d(t,e)}).filter(function(t,n){return!e[n].disabled})),j.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),$.select(".nv-distributionY").attr("transform","translate("+(b?D:-l.size())+",0)").datum(e.filter(function(t){return!t.disabled})).call(l)),d3.fisheye&&($.select(".nv-background").attr("width",D).attr("height",R),$.select(".nv-background").on("mousemove",function(){if(S)return $.select(".nv-point-paths").style("pointer-events","all"),!1;$.select(".nv-point-paths").style("pointer-events","none");var t=d3.mouse(this);p.distortion(x).focus(t[0]),f.distortion(x).focus(t[1]),$.select(".nv-scatterWrap").datum(e.filter(function(t){return!t.disabled})).call(n),y&&$.select(".nv-x.nv-axis").call(i),_&&$.select(".nv-y.nv-axis").call(r),$.select(".nv-distributionX").datum(e.filter(function(t){return!t.disabled})).call(a),$.select(".nv-distributionY").datum(e.filter(function(t){return!t.disabled})).call(l)}),$.select(".nv-background").on("click",function(){S=!S}),n.dispatch.on("elementClick.freezeFisheye",function(){S=!S})),s.dispatch.on("legendClick",function(e,o){e.disabled=!e.disabled,x=e.disabled?0:2.5,$.select(".nv-background").style("pointer-events",e.disabled?"none":"all"),$.select(".nv-point-paths").style("pointer-events",e.disabled?"all":"none"),e.disabled?(p.distortion(x).focus(0),f.distortion(x).focus(0),$.select(".nv-scatterWrap").call(n),$.select(".nv-x.nv-axis").call(i),$.select(".nv-y.nv-axis").call(r)):S=!1,t.update()}),o.dispatch.on("stateChange",function(e){M=e,L.stateChange(M),t.update()}),n.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.pos[1]-R),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+a.size()),t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],L.tooltipShow(t)}),L.on("tooltipShow",function(t){k&&O(t,T.parentNode)}),L.on("changeState",function(n){void 0!==n.disabled&&(e.forEach(function(t,e){t.disabled=n.disabled[e]}),M.disabled=n.disabled),t.update()}),N=p.copy(),P=f.copy()}),t}var n=e.models.scatter(),i=e.models.axis(),r=e.models.axis(),o=e.models.legend(),s=e.models.legend(),a=e.models.distribution(),l=e.models.distribution(),c={top:30,right:20,bottom:50,left:75},u=null,h=null,d=e.utils.defaultColor(),p=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):n.xScale(),f=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):n.yScale(),m=!1,g=!1,v=!0,y=!0,_=!0,b=!1,w=!!d3.fisheye,x=0,S=!1,k=!0,C=function(t,e,n){return"<strong>"+e+"</strong>"},T=function(t,e,n){return"<strong>"+n+"</strong>"},D=function(t,e,n,i){return"<h3>"+t+"</h3><p>"+i+"</p>"},M={},E=null,L=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),A="No Data Available.",I=250;n.xScale(p).yScale(f),i.orient("bottom").tickPadding(10),r.orient(b?"right":"left").tickPadding(10),a.axis("x"),l.axis("y"),s.updateState(!1);var N,P,O=function(o,s){var a=o.pos[0]+(s.offsetLeft||0),l=o.pos[1]+(s.offsetTop||0),u=o.pos[0]+(s.offsetLeft||0),h=f.range()[0]+c.top+(s.offsetTop||0),d=p.range()[0]+c.left+(s.offsetLeft||0),m=o.pos[1]+(s.offsetTop||0),g=i.tickFormat()(n.x()(o.point,o.pointIndex)),v=r.tickFormat()(n.y()(o.point,o.pointIndex));null!=C&&e.tooltip.show([u,h],C(o.series.key,g,v,o,t),"n",1,s,"x-nvtooltip"),null!=T&&e.tooltip.show([d,m],T(o.series.key,g,v,o,t),"e",1,s,"y-nvtooltip"),null!=D&&e.tooltip.show([a,l],D(o.series.key,g,v,o.point.tooltip,o,t),o.value<0?"n":"s",null,s)},Y=[{key:"Magnify",disabled:!0}];return n.dispatch.on("elementMouseout.tooltip",function(t){L.tooltipHide(t),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",l.size())}),L.on("tooltipHide",function(){k&&e.tooltip.cleanup()}),t.dispatch=L,t.scatter=n,t.legend=o,t.controls=s,t.xAxis=i,t.yAxis=r,t.distX=a,t.distY=l,d3.rebind(t,n,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(h=e,t):h},t.color=function(n){return arguments.length?(d=e.utils.getColor(n),o.color(d),a.color(d),l.color(d),t):d},t.showDistX=function(e){return arguments.length?(m=e,t):m},t.showDistY=function(e){return arguments.length?(g=e,t):g},t.showControls=function(e){return arguments.length?(w=e,t):w},t.showLegend=function(e){return arguments.length?(v=e,t):v},t.showXAxis=function(e){return arguments.length?(y=e,t):y},t.showYAxis=function(e){return arguments.length?(_=e,t):_},t.rightAlignYAxis=function(e){return arguments.length?(b=e,r.orient(e?"right":"left"),t):b},t.fisheye=function(e){return arguments.length?(x=e,t):x},t.tooltips=function(e){return arguments.length?(k=e,t):k},t.tooltipContent=function(e){return arguments.length?(D=e,t):D},t.tooltipXContent=function(e){return arguments.length?(C=e,t):C},t.tooltipYContent=function(e){return arguments.length?(T=e,t):T},t.state=function(e){return arguments.length?(M=e,t):M},t.defaultState=function(e){return arguments.length?(E=e,t):E},t.noData=function(e){return arguments.length?(A=e,t):A},t.transitionDuration=function(e){return arguments.length?(I=e,t):I},t},e.models.sparkline=function(){"use strict";function t(e){return e.each(function(t){var e=a-s.left-s.right,c=l-s.top-s.bottom,m=d3.select(this);u.domain(n||d3.extent(t,d)).range(r||[0,e]),h.domain(i||d3.extent(t,p)).range(o||[c,0]);var g=m.selectAll("g.nv-wrap.nv-sparkline").data([t]);g.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),g.select("g");g.attr("transform","translate("+s.left+","+s.top+")");var v=g.selectAll("path").data(function(t){return[t]});v.enter().append("path"),v.exit().remove(),v.style("stroke",function(t,e){return t.color||f(t,e)}).attr("d",d3.svg.line().x(function(t,e){return u(d(t,e))}).y(function(t,e){return h(p(t,e))}));var y=g.selectAll("circle.nv-point").data(function(t){function e(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var n=t.map(function(t,e){return p(t,e)}),i=e(n.lastIndexOf(h.domain()[1]));return[e(n.indexOf(h.domain()[0])),i,e(n.length-1)].filter(function(t){return null!=t})});y.enter().append("circle"),y.exit().remove(),y.attr("cx",function(t,e){return u(d(t,t.pointIndex))}).attr("cy",function(t,e){return h(p(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return d(t,t.pointIndex)==u.domain()[1]?"nv-point nv-currentValue":p(t,t.pointIndex)==h.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),t}var n,i,r,o,s={top:2,right:0,bottom:2,left:0},a=400,l=32,c=!0,u=d3.scale.linear(),h=d3.scale.linear(),d=function(t){return t.x},p=function(t){return t.y},f=e.utils.getColor(["#000"]);return t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(s.top=void 0!==e.top?e.top:s.top,s.right=void 0!==e.right?e.right:s.right,s.bottom=void 0!==e.bottom?e.bottom:s.bottom,s.left=void 0!==e.left?e.left:s.left,t):s},t.width=function(e){return arguments.length?(a=e,t):a},t.height=function(e){return arguments.length?(l=e,t):l},t.x=function(e){return arguments.length?(d=d3.functor(e),t):d},t.y=function(e){return arguments.length?(p=d3.functor(e),t):p},t.xScale=function(e){return arguments.length?(u=e,t):u},t.yScale=function(e){return arguments.length?(h=e,t):h},t.xDomain=function(e){return arguments.length?(n=e,t):n},t.yDomain=function(e){return arguments.length?(i=e,t):i},t.xRange=function(e){return arguments.length?(r=e,t):r},t.yRange=function(e){return arguments.length?(o=e,t):o},t.animate=function(e){return arguments.length?(c=e,t):c},t.color=function(n){return arguments.length?(f=e.utils.getColor(n),t):f},t},e.models.sparklinePlus=function(){"use strict";function t(e){return e.each(function(d){function g(){if(!c){var t=k.selectAll(".nv-hoverValue").data(l),e=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+n(r.x()(d[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),l.length&&(e.append("line").attr("x1",0).attr("y1",-o.top).attr("x2",0).attr("y2",_),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-o.top).attr("text-anchor","end").attr("dy",".9em"),k.select(".nv-hoverValue .nv-xValue").text(u(r.x()(d[l[0]],l[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-o.top).attr("text-anchor","start").attr("dy",".9em"),k.select(".nv-hoverValue .nv-yValue").text(h(r.y()(d[l[0]],l[0]))))}}var v=d3.select(this),y=(s||parseInt(v.style("width"))||960)-o.left-o.right,_=(a||parseInt(v.style("height"))||400)-o.top-o.bottom;if(t.update=function(){t(e)},t.container=this,!d||!d.length){var b=v.selectAll(".nv-noData").data([m]);return b.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),b.attr("x",o.left+y/2).attr("y",o.top+_/2).text(function(t){return t}),t}v.selectAll(".nv-noData").remove();var w=r.y()(d[d.length-1],d.length-1);n=r.xScale(),i=r.yScale();var x=v.selectAll("g.nv-wrap.nv-sparklineplus").data([d]),S=x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),k=x.select("g");S.append("g").attr("class","nv-sparklineWrap"),S.append("g").attr("class","nv-valueWrap"),S.append("g").attr("class","nv-hoverArea"),x.attr("transform","translate("+o.left+","+o.top+")");var C=k.select(".nv-sparklineWrap");r.width(y).height(_),C.call(r);var T=k.select(".nv-valueWrap").selectAll(".nv-currentValue").data([w]);T.enter().append("text").attr("class","nv-currentValue").attr("dx",f?-8:8).attr("dy",".9em").style("text-anchor",f?"end":"start"),T.attr("x",y+(f?o.right:0)).attr("y",p?function(t){return i(t)}:0).style("fill",r.color()(d[d.length-1],d.length-1)).text(h(w)),S.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!c){var t=d3.mouse(this)[0]-o.left;l=[function(t,e){for(var n=Math.abs(r.x()(t[0],0)-e),i=0,o=0;o<t.length;o++)Math.abs(r.x()(t[o],o)-e)<n&&(n=Math.abs(r.x()(t[o],o)-e),i=o);return i}(d,Math.round(n.invert(t)))],g()}}).on("click",function(){c=!c}).on("mouseout",function(){l=[],g()}),k.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-o.left+","+-o.top+")"}).attr("width",y+o.left+o.right).attr("height",_+o.top)}),t}var n,i,r=e.models.sparkline(),o={top:15,right:100,bottom:10,left:50},s=null,a=null,l=[],c=!1,u=d3.format(",r"),h=d3.format(",.2f"),d=!0,p=!0,f=!1,m="No Data Available.";return t.sparkline=r,d3.rebind(t,r,"x","y","xScale","yScale","color"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left,t):o},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(a=e,t):a},t.xTickFormat=function(e){return arguments.length?(u=e,t):u},t.yTickFormat=function(e){return arguments.length?(h=e,t):h},t.showValue=function(e){return arguments.length?(d=e,t):d},t.alignValue=function(e){return arguments.length?(p=e,t):p},t.rightAlignValue=function(e){return arguments.length?(f=e,t):f},t.noData=function(e){return arguments.length?(m=e,t):m},t},e.models.stackedArea=function(){"use strict";function t(e){return e.each(function(e){var h=o-r.left-r.right,y=s-r.top-r.bottom,_=d3.select(this);n=g.xScale(),i=g.yScale();var b=e;e.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var w=e.filter(function(t){return!t.disabled});e=d3.layout.stack().order(p).offset(d).values(function(t){return t.values}).x(c).y(u).out(function(t,e,n){var i=0===u(t)?0:n;t.display={y:i,y0:e}})(w);var x=_.selectAll("g.nv-wrap.nv-stackedarea").data([e]),S=x.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),k=S.append("defs"),C=S.append("g"),T=x.select("g");C.append("g").attr("class","nv-areaWrap"),C.append("g").attr("class","nv-scatterWrap"),x.attr("transform","translate("+r.left+","+r.top+")"),g.width(h).height(y).x(c).y(function(t){return t.display.y+t.display.y0}).forceY([0]).color(e.map(function(t,e){return t.color||a(t,t.seriesIndex)})),T.select(".nv-scatterWrap").datum(e).call(g),k.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect"),x.select("#nv-edge-clip-"+l+" rect").attr("width",h).attr("height",y),T.attr("clip-path",m?"url(#nv-edge-clip-"+l+")":"");var D=d3.svg.area().x(function(t,e){return n(c(t,e))}).y0(function(t){return i(t.display.y0)}).y1(function(t){return i(t.display.y+t.display.y0)}).interpolate(f),M=d3.svg.area().x(function(t,e){return n(c(t,e))}).y0(function(t){return i(t.display.y0)}).y1(function(t){return i(t.display.y0)}),E=T.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});E.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return M(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),v.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),v.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),v.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),E.exit().remove(),E.style("fill",function(t,e){return t.color||a(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||a(t,t.seriesIndex)}),E.transition().attr("d",function(t,e){return D(t.values,e)}),g.dispatch.on("elementMouseover.area",function(t){T.select(".nv-chart-"+l+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),g.dispatch.on("elementMouseout.area",function(t){T.select(".nv-chart-"+l+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),t.d3_stackedOffset_stackPercent=function(t){var e,n,i,r=t.length,o=t[0].length,s=1/r,a=[];for(n=0;n<o;++n){for(e=0,i=0;e<b.length;e++)i+=u(b[e].values[n]);if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=s}for(n=0;n<o;++n)a[n]=0;return a}}),t}var n,i,r={top:0,right:0,bottom:0,left:0},o=960,s=500,a=e.utils.defaultColor(),l=Math.floor(1e5*Math.random()),c=function(t){return t.x},u=function(t){return t.y},h="stack",d="zero",p="default",f="linear",m=!1,g=e.models.scatter(),v=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");return g.size(2.2).sizeDomain([2.2,2.2]),g.dispatch.on("elementClick.area",function(t){v.areaClick(t)}),g.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],v.tooltipShow(t)}),g.dispatch.on("elementMouseout.tooltip",function(t){v.tooltipHide(t)}),t.dispatch=v,t.scatter=g,d3.rebind(t,g,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights"),t.options=e.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(c=d3.functor(e),t):c},t.y=function(e){return arguments.length?(u=d3.functor(e),t):u},t.margin=function(e){return arguments.length?(r.top=void 0!==e.top?e.top:r.top,r.right=void 0!==e.right?e.right:r.right,r.bottom=void 0!==e.bottom?e.bottom:r.bottom,r.left=void 0!==e.left?e.left:r.left,t):r},t.width=function(e){return arguments.length?(o=e,t):o},t.height=function(e){return arguments.length?(s=e,t):s},t.clipEdge=function(e){return arguments.length?(m=e,t):m},t.color=function(n){return arguments.length?(a=e.utils.getColor(n),t):a},t.offset=function(e){return arguments.length?(d=e,t):d},t.order=function(e){return arguments.length?(p=e,t):p},t.style=function(e){if(!arguments.length)return h;switch(h=e){case"stack":t.offset("zero"),t.order("default");break;case"stream":t.offset("wiggle"),t.order("inside-out");break;case"stream-center":t.offset("silhouette"),t.order("inside-out");break;case"expand":t.offset("expand"),t.order("default");break;case"stack_percent":t.offset(t.d3_stackedOffset_stackPercent),t.order("default")}return t},t.interpolate=function(e){return arguments.length?(f=e,t):f},t},e.models.stackedAreaChart=function(){"use strict";function t(w){return w.each(function(w){var I=d3.select(this),N=this,P=(h||parseInt(I.style("width"))||960)-u.left-u.right,O=(d||parseInt(I.style("height"))||400)-u.top-u.bottom;if(t.update=function(){I.transition().duration(L).call(t)},t.container=this,S.disabled=w.map(function(t){return!!t.disabled}),!k){var Y;k={};for(Y in S)S[Y]instanceof Array?k[Y]=S[Y].slice(0):k[Y]=S[Y]}if(!w||!w.length||!w.filter(function(t){return t.values.length}).length){var R=I.selectAll(".nv-noData").data([C]);return R.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),R.attr("x",u.left+P/2).attr("y",u.top+O/2).text(function(t){return t}),t}I.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var F=I.selectAll("g.nv-wrap.nv-stackedAreaChart").data([w]),H=F.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),z=F.select("g");if(H.append("rect").style("opacity",0),H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis"),H.append("g").attr("class","nv-stackedWrap"),H.append("g").attr("class","nv-legendWrap"),H.append("g").attr("class","nv-controlsWrap"),H.append("g").attr("class","nv-interactive"),z.select("rect").attr("width",P).attr("height",O),m){var j=f?P-D:P;a.width(j),z.select(".nv-legendWrap").datum(w).call(a),u.top!=a.height()&&(u.top=a.height(),O=(d||parseInt(I.style("height"))||400)-u.top-u.bottom),z.select(".nv-legendWrap").attr("transform","translate("+(P-j)+","+-u.top+")")}if(f){var $=[{key:E.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=r.style(),style:"stack"},{key:E.stream||"Stream",metaKey:"Stream",disabled:"stream"!=r.style(),style:"stream"},{key:E.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=r.style(),style:"expand"},{key:E.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=r.style(),style:"stack_percent"}];D=M.length/3*260,$=$.filter(function(t){return-1!==M.indexOf(t.metaKey)}),l.width(D).color(["#444","#444","#444"]),z.select(".nv-controlsWrap").datum($).call(l),u.top!=Math.max(l.height(),a.height())&&(u.top=Math.max(l.height(),a.height()),O=(d||parseInt(I.style("height"))||400)-u.top-u.bottom),z.select(".nv-controlsWrap").attr("transform","translate(0,"+-u.top+")")}F.attr("transform","translate("+u.left+","+u.top+")"),y&&z.select(".nv-y.nv-axis").attr("transform","translate("+P+",0)"),_&&(c.width(P).height(O).margin({left:u.left,top:u.top}).svgContainer(I).xScale(n),F.select(".nv-interactive").call(c)),r.width(P).height(O),z.select(".nv-stackedWrap").datum(w).transition().call(r),g&&(o.scale(n).ticks(P/100).tickSize(-O,0),z.select(".nv-x.nv-axis").attr("transform","translate(0,"+O+")"),z.select(".nv-x.nv-axis").transition().duration(0).call(o)),v&&(s.scale(i).ticks("wiggle"==r.offset()?0:O/36).tickSize(-P,0).setTickFormat("expand"==r.style()||"stack_percent"==r.style()?d3.format("%"):x),z.select(".nv-y.nv-axis").transition().duration(0).call(s)),r.dispatch.on("areaClick.toggle",function(e){1===w.filter(function(t){return!t.disabled}).length?w.forEach(function(t){t.disabled=!1}):w.forEach(function(t,n){t.disabled=n!=e.seriesIndex}),S.disabled=w.map(function(t){return!!t.disabled}),T.stateChange(S),t.update()}),a.dispatch.on("stateChange",function(e){S.disabled=e.disabled,T.stateChange(S),t.update()}),l.dispatch.on("legendClick",function(e,n){e.disabled&&($=$.map(function(t){return t.disabled=!0,t}),e.disabled=!1,r.style(e.style),S.style=r.style(),T.stateChange(S),t.update())}),c.dispatch.on("elementMousemove",function(n){r.clearHighlights();var i,a,l,h=[];if(w.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,s){a=e.interactiveBisect(o.values,n.pointXValue,t.x()),r.highlightPoint(s,a,!0);var c=o.values[a];if(void 0!==c){void 0===i&&(i=c),void 0===l&&(l=t.xScale()(t.x()(c,a)));var u="expand"==r.style()?c.display.y:t.y()(c,a);h.push({key:o.key,value:u,color:p(o,o.seriesIndex),stackedValue:c.display})}}),h.reverse(),h.length>2){var d=t.yScale().invert(n.mouseY),f=null;h.forEach(function(t,e){d=Math.abs(d);var n=Math.abs(t.stackedValue.y0),i=Math.abs(t.stackedValue.y);d>=n&&d<=i+n&&(f=e)}),null!=f&&(h[f].highlight=!0)}var m=o.tickFormat()(t.x()(i,a)),g="expand"==r.style()?function(t,e){return d3.format(".1%")(t)}:function(t,e){return s.tickFormat()(t)};c.tooltip.position({left:l+u.left,top:n.mouseY+u.top}).chartContainer(N.parentNode).enabled(b).valueFormatter(g).data({value:m,series:h})(),c.renderGuideLine(l)}),c.dispatch.on("elementMouseout",function(t){T.tooltipHide(),r.clearHighlights()}),T.on("tooltipShow",function(t){b&&A(t,N.parentNode)}),T.on("changeState",function(e){void 0!==e.disabled&&w.length===e.disabled.length&&(w.forEach(function(t,n){t.disabled=e.disabled[n]}),S.disabled=e.disabled),void 0!==e.style&&r.style(e.style),t.update()})}),t}var n,i,r=e.models.stackedArea(),o=e.models.axis(),s=e.models.axis(),a=e.models.legend(),l=e.models.legend(),c=e.interactiveGuideline(),u={top:30,right:25,bottom:50,left:60},h=null,d=null,p=e.utils.defaultColor(),f=!0,m=!0,g=!0,v=!0,y=!1,_=!1,b=!0,w=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},x=d3.format(",.2f"),S={style:r.style()},k=null,C="No Data Available.",T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),D=250,M=["Stacked","Stream","Expanded"],E={},L=250;o.orient("bottom").tickPadding(7),s.orient(y?"right":"left"),l.updateState(!1);var A=function(n,i){var a=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),c=o.tickFormat()(r.x()(n.point,n.pointIndex)),u=s.tickFormat()(r.y()(n.point,n.pointIndex)),h=w(n.series.key,c,u,n,t);e.tooltip.show([a,l],h,n.value<0?"n":"s",null,i)};return r.dispatch.on("tooltipShow",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],T.tooltipShow(t)}),r.dispatch.on("tooltipHide",function(t){T.tooltipHide(t)}),T.on("tooltipHide",function(){b&&e.tooltip.cleanup()}),t.dispatch=T,t.stacked=r,t.legend=a,t.controls=l,t.xAxis=o,t.yAxis=s,t.interactiveLayer=c,d3.rebind(t,r,"x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate"),t.options=e.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left,t):u},t.width=function(e){return arguments.length?(h=e,t):h},t.height=function(e){return arguments.length?(d=e,t):d},t.color=function(n){return arguments.length?(p=e.utils.getColor(n),a.color(p),r.color(p),t):p},t.showControls=function(e){return arguments.length?(f=e,t):f},t.showLegend=function(e){return arguments.length?(m=e,t):m},t.showXAxis=function(e){return arguments.length?(g=e,t):g},t.showYAxis=function(e){return arguments.length?(v=e,t):v},t.rightAlignYAxis=function(e){return arguments.length?(y=e,s.orient(e?"right":"left"),t):y},t.useInteractiveGuideline=function(e){return arguments.length?(_=e,!0===e&&(t.interactive(!1),t.useVoronoi(!1)),t):_},t.tooltip=function(e){return arguments.length?(w=e,t):w},t.tooltips=function(e){return arguments.length?(b=e,t):b},t.tooltipContent=function(e){return arguments.length?(w=e,t):w},t.state=function(e){return arguments.length?(S=e,t):S},t.defaultState=function(e){return arguments.length?(k=e,t):k},t.noData=function(e){return arguments.length?(C=e,t):C},t.transitionDuration=function(e){return arguments.length?(L=e,t):L},t.controlsData=function(e){return arguments.length?(M=e,t):M},t.controlLabels=function(e){return arguments.length?"object"!=typeof e?E:(E=e,t):E},s.setTickFormat=s.tickFormat,s.tickFormat=function(t){return arguments.length?(x=t,s):x},t}}(),nv.utils.windowSize=function(){var t={width:640,height:480};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t},nv.utils.windowResize=function(t){if(void 0!==t){var e=window.onresize;window.onresize=function(n){"function"==typeof e&&e(n),t(n)}}},nv.utils.getColor=function(t){return arguments.length?"[object Array]"===Object.prototype.toString.call(t)?function(e,n){return e.color||t[n%t.length]}:t:nv.utils.defaultColor()},nv.utils.defaultColor=function(){var t=d3.scale.category20().range();return function(e,n){return e.color||t[n%t.length]}},nv.utils.customTheme=function(t,e,n){e=e||function(t){return t.key};var i=(n=n||d3.scale.category20().range()).length;return function(r,o){var s=e(r);return i||(i=n.length),void 0!==t[s]?"function"==typeof t[s]?t[s]():t[s]:n[--i]}},nv.utils.pjax=function(t,e){function n(n){d3.html(n,function(n){var i=d3.select(e).node();i.parentNode.replaceChild(d3.select(n).select(e).node(),i),nv.utils.pjax(t,e)})}d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),n(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&n(d3.event.state)})},nv.utils.calcApproxTextWidth=function(t){if("function"==typeof t.style&&"function"==typeof t.text){var e=parseInt(t.style("font-size").replace("px",""));return t.text().length*e*.5}return 0},nv.utils.NaNtoZero=function(t){return"number"!=typeof t||isNaN(t)||null===t||t===1/0?0:t},nv.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){"function"==typeof this[t]&&this[t](e)}.bind(this)),this},function(){"use strict";window.nv.tooltip={},window.nv.models.tooltip=function(){function t(){if(u){var t=d3.select(u);"svg"!==t.node().tagName&&(t=t.select("svg"));var e=t.node()?t.attr("viewBox"):null;if(e){e=e.split(" ");var n=parseInt(t.style("width"))/e[2];d.left=d.left*n,d.top=d.top*n}}}function e(t){var e,n=(e=u?d3.select(u):d3.select("body")).select(".nvtooltip");return null===n.node()&&(n=e.append("div").attr("class","nvtooltip "+(c||"xy-tooltip")).attr("id",f)),n.node().innerHTML=t,n.style("top",0).style("left",0).style("opacity",0),n.selectAll("div, table, td, tr").classed(m,!0),n.classed(m,!0),n.node()}function n(){if(p&&_(r)){t();var i=d.left,c=null!=l?l:d.top,f=e(y(r));if(h=f,u){var m=u.getElementsByTagName("svg")[0],g=(m?m.getBoundingClientRect():u.getBoundingClientRect(),{left:0,top:0});if(m){var v=m.getBoundingClientRect(),b=u.getBoundingClientRect(),w=v.top;if(w<0){var x=u.getBoundingClientRect();w=Math.abs(w)>x.height?0:w}g.top=Math.abs(w-b.top),g.left=Math.abs(v.left-b.left)}i+=u.offsetLeft+g.left-2*u.scrollLeft,c+=u.offsetTop+g.top-2*u.scrollTop}return a&&a>0&&(c=Math.floor(c/a)*a),nv.tooltip.calcTooltipPosition([i,c],o,s,f),n}}var i=null,r=null,o="w",s=50,a=25,l=null,c=null,u=null,h=null,d={left:null,top:null},p=!0,f="nvtooltip-"+Math.floor(1e5*Math.random()),m="nv-pointer-events-none",g=function(t,e){return t},v=function(t){return t},y=function(t){if(null!=i)return i;if(null==t)return"";var e=d3.select(document.createElement("table"));e.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(v(t.value));var n=e.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});n.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),n.append("td").classed("key",!0).html(function(t){return t.key}),n.append("td").classed("value",!0).html(function(t,e){return g(t.value,e)}),n.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}});var r=e.node().outerHTML;return void 0!==t.footer&&(r+="<div class='footer'>"+t.footer+"</div>"),r},_=function(t){return!!(t&&t.series&&t.series.length>0)};return n.nvPointerEventsClass=m,n.content=function(t){return arguments.length?(i=t,n):i},n.tooltipElem=function(){return h},n.contentGenerator=function(t){return arguments.length?("function"==typeof t&&(y=t),n):y},n.data=function(t){return arguments.length?(r=t,n):r},n.gravity=function(t){return arguments.length?(o=t,n):o},n.distance=function(t){return arguments.length?(s=t,n):s},n.snapDistance=function(t){return arguments.length?(a=t,n):a},n.classes=function(t){return arguments.length?(c=t,n):c},n.chartContainer=function(t){return arguments.length?(u=t,n):u},n.position=function(t){return arguments.length?(d.left=void 0!==t.left?t.left:d.left,d.top=void 0!==t.top?t.top:d.top,n):d},n.fixedTop=function(t){return arguments.length?(l=t,n):l},n.enabled=function(t){return arguments.length?(p=t,n):p},n.valueFormatter=function(t){return arguments.length?("function"==typeof t&&(g=t),n):g},n.headerFormatter=function(t){return arguments.length?("function"==typeof t&&(v=t),n):v},n.id=function(){return f},n},nv.tooltip.show=function(t,e,n,i,r,o){var s=document.createElement("div");s.className="nvtooltip "+(o||"xy-tooltip");var a=r;r&&!r.tagName.match(/g|svg/i)||(a=document.getElementsByTagName("body")[0]),s.style.left=0,s.style.top=0,s.style.opacity=0,s.innerHTML=e,a.appendChild(s),r&&(t[0]=t[0]-r.scrollLeft,t[1]=t[1]-r.scrollTop),nv.tooltip.calcTooltipPosition(t,n,i,s)},nv.tooltip.findFirstNonSVGParent=function(t){for(;null!==t.tagName.match(/^g|svg$/i);)t=t.parentNode;return t},nv.tooltip.findTotalOffsetTop=function(t,e){var n=e;do{isNaN(t.offsetTop)||(n+=t.offsetTop)}while(t=t.offsetParent);return n},nv.tooltip.findTotalOffsetLeft=function(t,e){var n=e;do{isNaN(t.offsetLeft)||(n+=t.offsetLeft)}while(t=t.offsetParent);return n},nv.tooltip.calcTooltipPosition=function(t,e,n,i){var r,o,s=parseInt(i.offsetHeight),a=parseInt(i.offsetWidth),l=nv.utils.windowSize().width,c=nv.utils.windowSize().height,u=window.pageYOffset,h=window.pageXOffset;c=window.innerWidth>=document.body.scrollWidth?c:c-16,l=window.innerHeight>=document.body.scrollHeight?l:l-16,e=e||"s",n=n||20;var d=function(t){return nv.tooltip.findTotalOffsetTop(t,o)},p=function(t){return nv.tooltip.findTotalOffsetLeft(t,r)};switch(e){case"e":r=t[0]-a-n,o=t[1]-s/2;var f=p(i),m=d(i);f<h&&(r=t[0]+n>h?t[0]+n:h-f+r),m<u&&(o=u-m+o),m+s>u+c&&(o=u+c-m+o-s);break;case"w":r=t[0]+n,o=t[1]-s/2;var f=p(i),m=d(i);f+a>l&&(r=t[0]-a-n),m<u&&(o=u+5),m+s>u+c&&(o=u+c-m+o-s);break;case"n":r=t[0]-a/2-5,o=t[1]+n;var f=p(i),m=d(i);f<h&&(r=h+5),f+a>l&&(r=r-a/2+5),m+s>u+c&&(o=u+c-m+o-s);break;case"s":r=t[0]-a/2,o=t[1]-s-n;var f=p(i),m=d(i);f<h&&(r=h+5),f+a>l&&(r=r-a/2+5),u>m&&(o=u);break;case"none":r=t[0],o=t[1]-n;var f=p(i),m=d(i)}return i.style.left=r+"px",i.style.top=o+"px",i.style.opacity=1,i.style.position="absolute",i},nv.tooltip.cleanup=function(){for(var t=document.getElementsByClassName("nvtooltip"),e=[];t.length;)e.push(t[0]),t[0].style.transitionDelay="0 !important",t[0].style.opacity=0,t[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;e.length;){var t=e.pop();t.parentNode.removeChild(t)}},500)}}(),nv.interactiveGuideline=function(){"use strict";function t(u){u.each(function(u){function h(){var n=d3.mouse(this),i=n[0],a=n[1],l=!0,u=!1;if(c&&(i=d3.event.offsetX,a=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(l=!1),d3.event.target.className.baseVal.match("nv-legend")&&(u=!0)),l&&(i-=r.left,a-=r.top),i<0||a<0||i>p||a>f||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||u){if(c&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(e.nvPointerEventsClass))return;return s.elementMouseout({mouseX:i,mouseY:a}),void t.renderGuideLine(null)}var h=o.invert(i);s.elementMousemove({mouseX:i,mouseY:a,pointXValue:h}),"dblclick"===d3.event.type&&s.elementDblclick({mouseX:i,mouseY:a,pointXValue:h})}var d=d3.select(this),p=n||960,f=i||400,m=d.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([u]);m.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),l&&(l.on("mousemove",h,!0).on("mouseout",h,!0).on("dblclick",h),t.renderGuideLine=function(t){if(a){var e=m.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[nv.utils.NaNtoZero(t)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",f).attr("y2",0),e.exit().remove()}})})}var e=nv.models.tooltip(),n=null,i=null,r={left:0,top:0},o=d3.scale.linear(),s=(d3.scale.linear(),d3.dispatch("elementMousemove","elementMouseout","elementDblclick")),a=!0,l=null,c=-1!==navigator.userAgent.indexOf("MSIE");return t.dispatch=s,t.tooltip=e,t.margin=function(e){return arguments.length?(r.top=void 0!==e.top?e.top:r.top,r.left=void 0!==e.left?e.left:r.left,t):r},t.width=function(e){return arguments.length?(n=e,t):n},t.height=function(e){return arguments.length?(i=e,t):i},t.xScale=function(e){return arguments.length?(o=e,t):o},t.showGuideLine=function(e){return arguments.length?(a=e,t):a},t.svgContainer=function(e){return arguments.length?(l=e,t):l},t},nv.interactiveBisect=function(t,e,n){"use strict";if(!t instanceof Array)return null;"function"!=typeof n&&(n=function(t,e){return t.x});var i=d3.bisector(n).left,r=d3.max([0,i(t,e)-1]),o=n(t[r],r);if(void 0===o&&(o=r),o===e)return r;var s=d3.min([r+1,t.length-1]),a=n(t[s],s);return void 0===a&&(a=s),Math.abs(a-e)>=Math.abs(o-e)?r:s},nv.nearestValueIndex=function(t,e,n){"use strict";var i=1/0,r=null;return t.forEach(function(t,o){var s=Math.abs(e-t);s<=i&&s<n&&(i=s,r=o)}),r},nv.models.axis=function(){"use strict";function t(r){return r.each(function(t){var r=d3.select(this).selectAll("g.nv-wrap.nv-axis").data([t]),g=(r.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),r.select("g"));null!==p?e.ticks(p):"top"!=e.orient()&&"bottom"!=e.orient()||e.ticks(Math.abs(o.range()[1]-o.range()[0])/100),g.transition().call(e),m=m||e.scale();var v=e.tickFormat();null==v&&(v=m.tickFormat());var y=g.selectAll("text.nv-axislabel").data([s||null]);switch(y.exit().remove(),e.orient()){case"top":y.enter().append("text").attr("class","nv-axislabel");S=2==o.range().length?o.range()[1]:o.range()[o.range().length-1]+(o.range()[1]-o.range()[0]);y.attr("text-anchor","middle").attr("y",0).attr("x",S/2),a&&((k=r.selectAll("g.nv-axisMaxMin").data(o.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text"),k.exit().remove(),k.attr("transform",function(t,e){return"translate("+o(t)+",0)"}).select("text").attr("dy","-0.5em").attr("y",-e.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=v(t);return(""+n).match("NaN")?"":n}),k.transition().attr("transform",function(t,e){return"translate("+o.range()[e]+",0)"}));break;case"bottom":var _=36,b=30,w=g.selectAll("g").select("text");if(c%360){w.each(function(t,e){var n=this.getBBox().width;n>b&&(b=n)});var x=Math.abs(Math.sin(c*Math.PI/180)),_=(x?x*b:b)+30;w.attr("transform",function(t,e,n){return"rotate("+c+" 0,0)"}).style("text-anchor",c%360>0?"start":"end")}y.enter().append("text").attr("class","nv-axislabel");var S=2==o.range().length?o.range()[1]:o.range()[o.range().length-1]+(o.range()[1]-o.range()[0]);y.attr("text-anchor","middle").attr("y",_).attr("x",S/2),a&&((k=r.selectAll("g.nv-axisMaxMin").data([o.domain()[0],o.domain()[o.domain().length-1]])).enter().append("g").attr("class","nv-axisMaxMin").append("text"),k.exit().remove(),k.attr("transform",function(t,e){return"translate("+(o(t)+(d?o.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",e.tickPadding()).attr("transform",function(t,e,n){return"rotate("+c+" 0,0)"}).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(t,e){var n=v(t);return(""+n).match("NaN")?"":n}),k.transition().attr("transform",function(t,e){return"translate("+(o(t)+(d?o.rangeBand()/2:0))+",0)"})),h&&w.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"});break;case"right":y.enter().append("text").attr("class","nv-axislabel"),y.style("text-anchor",u?"middle":"begin").attr("transform",u?"rotate(90)":"").attr("y",u?12-Math.max(n.right,i):-10).attr("x",u?o.range()[0]/2:e.tickPadding()),a&&((k=r.selectAll("g.nv-axisMaxMin").data(o.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),k.exit().remove(),k.attr("transform",function(t,e){return"translate(0,"+o(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",e.tickPadding()).style("text-anchor","start").text(function(t,e){var n=v(t);return(""+n).match("NaN")?"":n}),k.transition().attr("transform",function(t,e){return"translate(0,"+o.range()[e]+")"}).select("text").style("opacity",1));break;case"left":if(y.enter().append("text").attr("class","nv-axislabel"),y.style("text-anchor",u?"middle":"end").attr("transform",u?"rotate(-90)":"").attr("y",u?-Math.max(n.left,i)+f:-10).attr("x",u?-o.range()[0]/2:-e.tickPadding()),a){var k=r.selectAll("g.nv-axisMaxMin").data(o.domain());k.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),k.exit().remove(),k.attr("transform",function(t,e){return"translate(0,"+m(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-e.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=v(t);return(""+n).match("NaN")?"":n}),k.transition().attr("transform",function(t,e){return"translate(0,"+o.range()[e]+")"}).select("text").style("opacity",1)}}if(y.text(function(t){return t}),!a||"left"!==e.orient()&&"right"!==e.orient()||(g.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(o(t)<o.range()[1]+10||o(t)>o.range()[0]-10)&&((t>1e-10||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),o.domain()[0]==o.domain()[1]&&0==o.domain()[0]&&r.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),a&&("top"===e.orient()||"bottom"===e.orient())){var C=[];r.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?C.push(o(t)-this.getBBox().width-4):C.push(o(t)+this.getBBox().width+4)}catch(n){e?C.push(o(t)-4):C.push(o(t)+4)}}),g.selectAll("g").each(function(t,e){(o(t)<C[0]||o(t)>C[1])&&(t>1e-10||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}l&&g.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t.__data__)/1e6)&&void 0!==t.__data__}).classed("zero",!0),m=o.copy()}),t}var e=d3.svg.axis(),n={top:0,right:0,bottom:0,left:0},i=75,r=60,o=d3.scale.linear(),s=null,a=!0,l=!0,c=0,u=!0,h=!1,d=!1,p=null,f=12;e.scale(o).orient("bottom").tickFormat(function(t){return t});var m;return t.axis=e,d3.rebind(t,e,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),d3.rebind(t,o,"domain","range","rangeBand","rangeBands"),t.options=nv.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t):n},t.width=function(e){return arguments.length?(i=e,t):i},t.ticks=function(e){return arguments.length?(p=e,t):p},t.height=function(e){return arguments.length?(r=e,t):r},t.axisLabel=function(e){return arguments.length?(s=e,t):s},t.showMaxMin=function(e){return arguments.length?(a=e,t):a},t.highlightZero=function(e){return arguments.length?(l=e,t):l},t.scale=function(n){return arguments.length?(o=n,e.scale(o),d="function"==typeof o.rangeBands,d3.rebind(t,o,"domain","range","rangeBand","rangeBands"),t):o},t.rotateYLabel=function(e){return arguments.length?(u=e,t):u},t.rotateLabels=function(e){return arguments.length?(c=e,t):c},t.staggerLabels=function(e){return arguments.length?(h=e,t):h},t.axisLabelDistance=function(e){return arguments.length?(f=e,t):f},t},nv.models.line=function(){"use strict";function t(g){return g.each(function(t){var g=o-r.left-r.right,v=s-r.top-r.bottom,y=d3.select(this);e=i.xScale(),n=i.yScale(),f=f||e,m=m||n;var _=y.selectAll("g.nv-wrap.nv-line").data([t]),b=_.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),w=b.append("defs"),x=b.append("g"),S=_.select("g");x.append("g").attr("class","nv-groups"),x.append("g").attr("class","nv-scatterWrap"),_.attr("transform","translate("+r.left+","+r.top+")"),i.width(g).height(v);var k=_.select(".nv-scatterWrap");k.transition().call(i),w.append("clipPath").attr("id","nv-edge-clip-"+i.id()).append("rect"),_.select("#nv-edge-clip-"+i.id()+" rect").attr("width",g).attr("height",v>0?v:0),S.attr("clip-path",d?"url(#nv-edge-clip-"+i.id()+")":""),k.attr("clip-path",d?"url(#nv-edge-clip-"+i.id()+")":"");var C=_.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});C.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),C.exit().remove(),C.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return a(t,e)}).style("stroke",function(t,e){return a(t,e)}),C.transition().style("stroke-opacity",1).style("fill-opacity",.5);var T=C.selectAll("path.nv-area").data(function(t){return h(t)?[t]:[]});T.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(p).defined(u).x(function(t,e){return nv.utils.NaNtoZero(f(l(t,e)))}).y0(function(t,e){return nv.utils.NaNtoZero(m(c(t,e)))}).y1(function(t,e){return m(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])}).apply(this,[t.values])}),C.exit().selectAll("path.nv-area").remove(),T.transition().attr("d",function(t){return d3.svg.area().interpolate(p).defined(u).x(function(t,n){return nv.utils.NaNtoZero(e(l(t,n)))}).y0(function(t,e){return nv.utils.NaNtoZero(n(c(t,e)))}).y1(function(t,e){return n(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])}).apply(this,[t.values])});var D=C.selectAll("path.nv-line").data(function(t){return[t.values]});D.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(p).defined(u).x(function(t,e){return nv.utils.NaNtoZero(f(l(t,e)))}).y(function(t,e){return nv.utils.NaNtoZero(m(c(t,e)))})),D.transition().attr("d",d3.svg.line().interpolate(p).defined(u).x(function(t,n){return nv.utils.NaNtoZero(e(l(t,n)))}).y(function(t,e){return nv.utils.NaNtoZero(n(c(t,e)))})),f=e.copy(),m=n.copy()}),t}var e,n,i=nv.models.scatter(),r={top:0,right:0,bottom:0,left:0},o=960,s=500,a=nv.utils.defaultColor(),l=function(t){return t.x},c=function(t){return t.y},u=function(t,e){return!isNaN(c(t,e))&&null!==c(t,e)},h=function(t){return t.area},d=!1,p="linear";i.size(16).sizeDomain([16,256]);var f,m;return t.dispatch=i.dispatch,t.scatter=i,d3.rebind(t,i,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights"),t.options=nv.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(r.top=void 0!==e.top?e.top:r.top,r.right=void 0!==e.right?e.right:r.right,r.bottom=void 0!==e.bottom?e.bottom:r.bottom,r.left=void 0!==e.left?e.left:r.left,t):r},t.width=function(e){return arguments.length?(o=e,t):o},t.height=function(e){return arguments.length?(s=e,t):s},t.x=function(e){return arguments.length?(l=e,i.x(e),t):l},t.y=function(e){return arguments.length?(c=e,i.y(e),t):c},t.clipEdge=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(a=nv.utils.getColor(e),i.color(a),t):a},t.interpolate=function(e){return arguments.length?(p=e,t):p},t.defined=function(e){return arguments.length?(u=e,t):u},t.isArea=function(e){return arguments.length?(h=d3.functor(e),t):h},t},nv.models.lineWithFocusChart=function(){"use strict";function t(x){return x.each(function(x){function D(){d.empty()||d.extent(b),j.data([d.empty()?i.domain():b]).each(function(t,n){var r=i(t[0])-e.range()[0],o=e.range()[1]-i(t[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",i(t[1])).attr("width",o<0?0:o)})}function M(){b=d.empty()?null:d.extent();var t=d.empty()?i.domain():d.extent();Math.abs(t[0]-t[1])<=1||(k.brush({extent:t,brush:d}),D(),R.select(".nv-focus .nv-linesWrap").datum(x.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,area:e.area,values:e.values.filter(function(e,n){return o.x()(e,n)>=t[0]&&o.x()(e,n)<=t[1]})}})).transition().duration(C).call(o),R.select(".nv-focus .nv-x.nv-axis").transition().duration(C).call(a),R.select(".nv-focus .nv-y.nv-axis").transition().duration(C).call(l))}var E=d3.select(this),L=this,A=(g||parseInt(E.style("width"))||960)-p.left-p.right,I=(v||parseInt(E.style("height"))||400)-p.top-p.bottom-y,N=y-f.top-f.bottom;if(t.update=function(){E.transition().duration(C).call(t)},t.container=this,!(x&&x.length&&x.filter(function(t){return t.values.length}).length)){var P=E.selectAll(".nv-noData").data([S]);return P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),P.attr("x",p.left+A/2).attr("y",p.top+I/2).text(function(t){return t}),t}E.selectAll(".nv-noData").remove(),e=o.xScale(),n=o.yScale(),i=s.xScale(),r=s.yScale();var O=E.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([x]),Y=O.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),R=O.select("g");Y.append("g").attr("class","nv-legendWrap");var F=Y.append("g").attr("class","nv-context");F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y nv-axis"),F.append("g").attr("class","nv-linesWrap"),F.append("g").attr("class","nv-brushBackground"),F.append("g").attr("class","nv-x nv-brush");var H=Y.append("g").attr("class","nv-focus");H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis"),H.append("g").attr("class","nv-linesWrap"),_&&(h.width(A),R.select(".nv-legendWrap").datum(x).call(h),p.top!=h.height()&&(p.top=h.height(),I=(v||parseInt(E.style("height"))||400)-p.top-p.bottom-y),R.select(".nv-legendWrap").attr("transform","translate(0,"+-p.top+")")),O.attr("transform","translate("+p.left+","+p.top+")"),o.width(A).height(I).color(x.map(function(t,e){return t.color||m(t,e)}).filter(function(t,e){return!x[e].disabled})),s.defined(o.defined()).width(A).height(N).color(x.map(function(t,e){return t.color||m(t,e)}).filter(function(t,e){return!x[e].disabled})),R.select(".nv-context").attr("transform","translate(0,"+(I+p.bottom+f.top)+")");var z=R.select(".nv-context .nv-linesWrap").datum(x.filter(function(t){return!t.disabled}));d3.transition(z).call(s),a.scale(e).ticks(A/100).tickSize(-I,0),l.scale(n).ticks(I/36).tickSize(-A,0),R.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+I+")"),d.x(i).on("brush",function(){var e=t.transitionDuration();t.transitionDuration(0),M(),t.transitionDuration(e)}),b&&d.extent(b);var j=R.select(".nv-brushBackground").selectAll("g").data([b||d.extent()]),$=j.enter().append("g");$.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",N),$.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",N);var W=R.select(".nv-x.nv-brush").call(d);W.selectAll("rect").attr("height",N),W.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,i=N/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}),M(),c.scale(i).ticks(A/100).tickSize(-N,0),R.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),d3.transition(R.select(".nv-context .nv-x.nv-axis")).call(c),u.scale(r).ticks(N/36).tickSize(-A,0),d3.transition(R.select(".nv-context .nv-y.nv-axis")).call(u),R.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),h.dispatch.on("stateChange",function(e){t.update()}),k.on("tooltipShow",function(t){w&&T(t,L.parentNode)})}),t}var e,n,i,r,o=nv.models.line(),s=nv.models.line(),a=nv.models.axis(),l=nv.models.axis(),c=nv.models.axis(),u=nv.models.axis(),h=nv.models.legend(),d=d3.svg.brush(),p={top:30,right:30,bottom:30,left:60},f={top:0,right:30,bottom:20,left:60},m=nv.utils.defaultColor(),g=null,v=null,y=100,_=!0,b=null,w=!0,x=function(t,e,n,i,r){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},S="No Data Available.",k=d3.dispatch("tooltipShow","tooltipHide","brush"),C=250;o.clipEdge(!0),s.interactive(!1),a.orient("bottom").tickPadding(5),l.orient("left"),c.orient("bottom").tickPadding(5),u.orient("left");var T=function(e,n){var i=e.pos[0]+(n.offsetLeft||0),r=e.pos[1]+(n.offsetTop||0),s=a.tickFormat()(o.x()(e.point,e.pointIndex)),c=l.tickFormat()(o.y()(e.point,e.pointIndex)),u=x(e.series.key,s,c,e,t);nv.tooltip.show([i,r],u,null,null,n)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+p.left,t.pos[1]+p.top],k.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){w&&nv.tooltip.cleanup()}),t.dispatch=k,t.legend=h,t.lines=o,t.lines2=s,t.xAxis=a,t.yAxis=l,t.x2Axis=c,t.y2Axis=u,d3.rebind(t,o,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id"),t.options=nv.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(o.x(e),s.x(e),t):o.x},t.y=function(e){return arguments.length?(o.y(e),s.y(e),t):o.y},t.margin=function(e){return arguments.length?(p.top=void 0!==e.top?e.top:p.top,p.right=void 0!==e.right?e.right:p.right,p.bottom=void 0!==e.bottom?e.bottom:p.bottom,p.left=void 0!==e.left?e.left:p.left,t):p},t.margin2=function(e){return arguments.length?(f=e,t):f},t.width=function(e){return arguments.length?(g=e,t):g},t.height=function(e){return arguments.length?(v=e,t):v},t.height2=function(e){return arguments.length?(y=e,t):y},t.color=function(e){return arguments.length?(m=nv.utils.getColor(e),h.color(m),t):m},t.showLegend=function(e){return arguments.length?(_=e,t):_},t.tooltips=function(e){return arguments.length?(w=e,t):w},t.tooltipContent=function(e){return arguments.length?(x=e,t):x},t.interpolate=function(e){return arguments.length?(o.interpolate(e),s.interpolate(e),t):o.interpolate()},t.noData=function(e){return arguments.length?(S=e,t):S},t.xTickFormat=function(e){return arguments.length?(a.tickFormat(e),c.tickFormat(e),t):a.tickFormat()},t.yTickFormat=function(e){return arguments.length?(l.tickFormat(e),u.tickFormat(e),t):l.tickFormat()},t.brushExtent=function(e){return arguments.length?(b=e,t):b},t.transitionDuration=function(e){return arguments.length?(C=e,t):C},t},function(t,e){"use strict";function n(){i.READY||(y.determineEventTypes(),f.each(i.gestures,function(t){b.register(t)}),y.onTouch(i.DOCUMENT,d,b.detect),y.onTouch(i.DOCUMENT,p,b.detect),i.READY=!0)}var i=function(t,e){return new i.Instance(t,e||{})};i.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},i.HAS_POINTEREVENTS=t.navigator.pointerEnabled||t.navigator.msPointerEnabled,i.HAS_TOUCHEVENTS="ontouchstart"in t,i.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,i.NO_MOUSEEVENTS=i.HAS_TOUCHEVENTS&&t.navigator.userAgent.match(i.MOBILE_REGEX),i.EVENT_TYPES={},i.UPDATE_VELOCITY_INTERVAL=16,i.DOCUMENT=t.document;var r=i.DIRECTION_DOWN="down",o=i.DIRECTION_LEFT="left",s=i.DIRECTION_UP="up",a=i.DIRECTION_RIGHT="right",l=i.POINTER_MOUSE="mouse",c=i.POINTER_TOUCH="touch",u=i.POINTER_PEN="pen",h=i.EVENT_START="start",d=i.EVENT_MOVE="move",p=i.EVENT_END="end";i.plugins=i.plugins||{},i.gestures=i.gestures||{},i.READY=!1;var f=i.utils={extend:function(t,e,n){for(var i in e)void 0!==t[i]&&n||(t[i]=e[i]);return t},each:function(t,e,n){var i,r;if("forEach"in t)t.forEach(e,n);else if(void 0!==t.length){for(i=-1;r=t[++i];)if(!1===e.call(n,r,i,t))return}else for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))return},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],n=[];return f.each(t,function(t){e.push(void 0!==t.clientX?t.clientX:t.pageX),n.push(void 0!==t.clientY?t.clientY:t.pageY)}),{pageX:(Math.min.apply(Math,e)+Math.max.apply(Math,e))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(t,e,n){return{x:Math.abs(e/t)||0,y:Math.abs(n/t)||0}},getAngle:function(t,e){var n=e.pageY-t.pageY,i=e.pageX-t.pageX;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(t,e){return Math.abs(t.pageX-e.pageX)>=Math.abs(t.pageY-e.pageY)?t.pageX-e.pageX>0?o:a:t.pageY-e.pageY>0?s:r},getDistance:function(t,e){var n=e.pageX-t.pageX,i=e.pageY-t.pageY;return Math.sqrt(n*n+i*i)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==s||t==r},toggleDefaultBehavior:function(t,e,n){if(e&&t&&t.style){f.each(["webkit","moz","Moz","ms","o",""],function(i){f.each(e,function(e,r){i&&(r=i+r.substring(0,1).toUpperCase()+r.substring(1)),r in t.style&&(t.style[r]=!n&&e)})});var i=function(){return!1};"none"==e.userSelect&&(t.onselectstart=!n&&i),"none"==e.userDrag&&(t.ondragstart=!n&&i)}}};i.Instance=function(t,e){var r=this;return n(),this.element=t,this.enabled=!0,this.options=f.extend(f.extend({},i.defaults),e||{}),this.options.stop_browser_behavior&&f.toggleDefaultBehavior(this.element,this.options.stop_browser_behavior,!1),this.eventStartHandler=y.onTouch(t,h,function(t){r.enabled&&b.startDetect(r,t)}),this.eventHandlers=[],this},i.Instance.prototype={on:function(t,e){var n=t.split(" ");return f.each(n,function(t){this.element.addEventListener(t,e,!1),this.eventHandlers.push({gesture:t,handler:e})},this),this},off:function(t,e){var n,i,r=t.split(" ");return f.each(r,function(t){for(this.element.removeEventListener(t,e,!1),n=-1;i=this.eventHandlers[++n];)i.gesture===t&&i.handler===e&&this.eventHandlers.splice(n,1)},this),this},trigger:function(t,e){e||(e={});var n=i.DOCUMENT.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e;var r=this.element;return f.hasParent(e.target,r)&&(r=e.target),r.dispatchEvent(n),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,e;for(this.options.stop_browser_behavior&&f.toggleDefaultBehavior(this.element,this.options.stop_browser_behavior,!0),t=-1;e=this.eventHandlers[++t];)this.element.removeEventListener(e.gesture,e.handler,!1);return this.eventHandlers=[],y.unbindDom(this.element,i.EVENT_TYPES[h],this.eventStartHandler),null}};var m=null,g=!1,v=!1,y=i.event={bindDom:function(t,e,n){var i=e.split(" ");f.each(i,function(e){t.addEventListener(e,n,!1)})},unbindDom:function(t,e,n){var i=e.split(" ");f.each(i,function(e){t.removeEventListener(e,n,!1)})},onTouch:function(t,e,n){var r=this,o=function(o){var s=o.type.toLowerCase();if(!s.match(/mouse/)||!v){s.match(/touch/)||s.match(/pointerdown/)||s.match(/mouse/)&&1===o.which?g=!0:s.match(/mouse/)&&!o.which&&(g=!1),s.match(/touch|pointer/)&&(v=!0);var a=0;g&&(i.HAS_POINTEREVENTS&&e!=p?a=_.updatePointer(e,o):s.match(/touch/)?a=o.touches.length:v||(a=s.match(/up/)?0:1),a>0&&e==p?e=d:a||(e=p),(a||null===m)&&(m=o),n.call(b,r.collectEventData(t,e,r.getTouchList(m,e),o)),i.HAS_POINTEREVENTS&&e==p&&(a=_.updatePointer(e,o))),a||(m=null,g=!1,v=!1,_.reset())}};return this.bindDom(t,i.EVENT_TYPES[e],o),o},determineEventTypes:function(){var t;t=i.HAS_POINTEREVENTS?_.getEvents():i.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],i.EVENT_TYPES[h]=t[0],i.EVENT_TYPES[d]=t[1],i.EVENT_TYPES[p]=t[2]},getTouchList:function(t){return i.HAS_POINTEREVENTS?_.getTouchList():t.touches?t.touches:(t.identifier=1,[t])},collectEventData:function(t,e,n,i){var r=c;return(i.type.match(/mouse/)||_.matchType(l,i))&&(r=l),{center:f.getCenter(n),timeStamp:(new Date).getTime(),target:i.target,touches:n,eventType:e,pointerType:r,srcEvent:i,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return b.stopDetect()}}}},_=i.PointerEvent={pointers:{},getTouchList:function(){var t=[];return f.each(this.pointers,function(e){t.push(e)}),t},updatePointer:function(t,e){return t==p?delete this.pointers[e.pointerId]:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e),Object.keys(this.pointers).length},matchType:function(t,e){if(!e.pointerType)return!1;var n=e.pointerType,i={};return i[l]=n===l,i[c]=n===c,i[u]=n===u,i[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},b=i.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:f.extend({},e),lastEvent:!1,lastVelocityEvent:!1,velocity:!1,name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var e=this.current.inst.options;return f.each(this.gestures,function(n){if(!this.stopped&&!1!==e[n.name]&&!1===n.handler.call(n,t,this.current.inst))return this.stopDetect(),!1},this),this.current&&(this.current.lastEvent=t),t.eventType==p&&!t.touches.length-1&&this.stopDetect(),t}},stopDetect:function(){this.previous=f.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(t){var e=this.current,n=e.startEvent;t.touches.length==n.touches.length&&t.touches!==n.touches||(n.touches=[],f.each(t.touches,function(t){n.touches.push(f.extend({},t))}));var r,o,s=t.timeStamp-n.timeStamp,a=t.center.pageX-n.center.pageX,l=t.center.pageY-n.center.pageY,c=e.lastVelocityEvent,u=e.velocity;return c&&t.timeStamp-c.timeStamp>i.UPDATE_VELOCITY_INTERVAL?(u=f.getVelocity(t.timeStamp-c.timeStamp,t.center.pageX-c.center.pageX,t.center.pageY-c.center.pageY),e.lastVelocityEvent=t,e.velocity=u):e.velocity||(u=f.getVelocity(s,a,l),e.lastVelocityEvent=t,e.velocity=u),t.eventType==p?(r=e.lastEvent&&e.lastEvent.interimAngle,o=e.lastEvent&&e.lastEvent.interimDirection):(r=e.lastEvent&&f.getAngle(e.lastEvent.center,t.center),o=e.lastEvent&&f.getDirection(e.lastEvent.center,t.center)),f.extend(t,{deltaTime:s,deltaX:a,deltaY:l,velocityX:u.x,velocityY:u.y,distance:f.getDistance(n.center,t.center),angle:f.getAngle(n.center,t.center),interimAngle:r,direction:f.getDirection(n.center,t.center),interimDirection:o,scale:f.getScale(n.touches,t.touches),rotation:f.getRotation(n.touches,t.touches),startEvent:n}),t},register:function(t){var e=t.defaults||{};return void 0===e[t.name]&&(e[t.name]=!0),f.extend(i.defaults,e,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}};i.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(t,e){if(b.current.name!=this.name&&this.triggered)return e.trigger(this.name+"end",t),void(this.triggered=!1);if(!(e.options.drag_max_touches>0&&t.touches.length>e.options.drag_max_touches))switch(t.eventType){case h:this.triggered=!1;break;case d:if(t.distance<e.options.drag_min_distance&&b.current.name!=this.name)return;if(b.current.name!=this.name&&(b.current.name=this.name,e.options.correct_for_drag_min_distance&&t.distance>0)){var n=Math.abs(e.options.drag_min_distance/t.distance);b.current.startEvent.center.pageX+=t.deltaX*n,b.current.startEvent.center.pageY+=t.deltaY*n,t=b.extendEventData(t)}(b.current.lastEvent.drag_locked_to_axis||e.options.drag_lock_to_axis&&e.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var i=b.current.lastEvent.direction;t.drag_locked_to_axis&&i!==t.direction&&(f.isVertical(i)?t.direction=t.deltaY<0?s:r:t.direction=t.deltaX<0?o:a),this.triggered||(e.trigger(this.name+"start",t),this.triggered=!0),e.trigger(this.name,t),e.trigger(this.name+t.direction,t);var l=f.isVertical(t.direction);(e.options.drag_block_vertical&&l||e.options.drag_block_horizontal&&!l)&&t.preventDefault();break;case p:this.triggered&&e.trigger(this.name+"end",t),this.triggered=!1}}},i.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(t,e){switch(t.eventType){case h:clearTimeout(this.timer),b.current.name=this.name,this.timer=setTimeout(function(){"hold"==b.current.name&&e.trigger("hold",t)},e.options.hold_timeout);break;case d:t.distance>e.options.hold_threshold&&clearTimeout(this.timer);break;case p:clearTimeout(this.timer)}}},i.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==p&&e.trigger(this.name,t)}},i.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(t,e){if(t.eventType==p){if(t.touches.length<e.options.swipe_min_touches||t.touches.length>e.options.swipe_max_touches)return;(t.velocityX>e.options.swipe_velocity||t.velocityY>e.options.swipe_velocity)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},i.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},has_moved:!1,handler:function(t,e){var n,i,r;t.eventType==h?this.has_moved=!1:t.eventType!=d||this.moved?t.eventType==p&&"touchcancel"!=t.srcEvent.type&&t.deltaTime<e.options.tap_max_touchtime&&!this.has_moved&&(i=(n=b.previous)&&n.lastEvent&&t.timeStamp-n.lastEvent.timeStamp,r=!1,n&&"tap"==n.name&&i&&i<e.options.doubletap_interval&&t.distance<e.options.doubletap_distance&&(e.trigger("doubletap",t),r=!0),r&&!e.options.tap_always||(b.current.name="tap",e.trigger(b.current.name,t))):this.has_moved=t.distance>e.options.tap_max_distance}},i.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,e){e.options.prevent_mouseevents&&t.pointerType==l?t.stopDetect():(e.options.prevent_default&&t.preventDefault(),t.eventType==h&&e.trigger(this.name,t))}},i.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1,transform_within_instance:!1},triggered:!1,handler:function(t,e){if(b.current.name!=this.name&&this.triggered)return e.trigger(this.name+"end",t),void(this.triggered=!1);if(!(t.touches.length<2)){if(e.options.transform_always_block&&t.preventDefault(),e.options.transform_within_instance)for(var n=-1;t.touches[++n];)if(!f.hasParent(t.touches[n].target,e.element))return;switch(t.eventType){case h:this.triggered=!1;break;case d:var i=Math.abs(1-t.scale),r=Math.abs(t.rotation);if(i<e.options.transform_min_scale&&r<e.options.transform_min_rotation)return;b.current.name=this.name,this.triggered||(e.trigger(this.name+"start",t),this.triggered=!0),e.trigger(this.name,t),r>e.options.transform_min_rotation&&e.trigger("rotate",t),i>e.options.transform_min_scale&&(e.trigger("pinch",t),e.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case p:this.triggered&&e.trigger(this.name+"end",t),this.triggered=!1}}}},"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof module&&module.exports?module.exports=i:t.Hammer=i}(window),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var r,o=e||window.event,s=[].slice.call(arguments,1),a=0,l=0,c=0,u=0,h=0;return e=t.event.fix(o),e.type="mousewheel",o.wheelDelta&&(a=o.wheelDelta),o.detail&&(a=-1*o.detail),o.deltaY&&(a=c=-1*o.deltaY),o.deltaX&&(a=-1*(l=o.deltaX)),void 0!==o.wheelDeltaY&&(c=o.wheelDeltaY),void 0!==o.wheelDeltaX&&(l=-1*o.wheelDeltaX),u=Math.abs(a),(!n||u<n)&&(n=u),h=Math.max(Math.abs(c),Math.abs(l)),(!i||h<i)&&(i=h),r=a>0?"floor":"ceil",a=Math[r](a/n),l=Math[r](l/i),c=Math[r](c/i),s.unshift(e,a,l,c),(t.event.dispatch||t.event.handle).apply(this,s)}var n,i,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(t.event.fixHooks)for(var s=r.length;s;)t.event.fixHooks[r[--s]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=o.length;t;)this.addEventListener(o[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=o.length;t;)this.removeEventListener(o[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t){var e=function(){function e(){this.el=null,this.shift=6,this.drop=0,this.init=function(){var e=this;this.el=t("<div></div>").addClass("mapplic-tooltip"),t("<a></a>").addClass("mapplic-tooltip-close").attr("href","#").click(function(t){t.preventDefault(),c.deeplinking.clear(),e.hide()}).appendTo(this.el),this.image=t("<img>").addClass("mapplic-tooltip-image").hide().appendTo(this.el),this.title=t("<h4></h4>").addClass("mapplic-tooltip-title").appendTo(this.el),this.content=t("<div></div>").addClass("mapplic-tooltip-content").appendTo(this.el),this.desc=t("<div></div>").addClass("mapplic-tooltip-description").appendTo(this.content),this.link=t("<a>More</a>").addClass("mapplic-tooltip-link").attr("href","#").hide().appendTo(this.el),t("<div></div>").addClass("mapplic-tooltip-triangle").prependTo(this.el),c.map.append(this.el)},this.set=function(e){if(e){if("none"==e.action)return void this.el.stop().fadeOut(300);var n=this;e.image?this.image.attr("src",e.image).show():this.image.hide(),e.link?this.link.attr("href",e.link).show():this.link.hide(),this.title.text(e.title),this.desc.html(e.description);var i=t('.mapplic-pin[data-location="'+e.id+'"]');0==i.length?this.shift=6:this.shift=i.height()+6,t("img",this.desc).load(function(){n.position(e)}),this.position(e)}},this.show=function(e){if(e){if("none"==e.action)return void this.el.stop().fadeOut(300);var n=this;e.image?this.image.attr("src",e.image).show():this.image.hide(),e.link?this.link.attr("href",e.link).show():this.link.hide(),this.title.text(e.title),this.desc.html(e.description);var i=t('.mapplic-pin[data-location="'+e.id+'"]');0==i.length?this.shift=6:this.shift=i.height()+6,t("img",this.desc).load(function(){n.position(e)}),this.position(e),this.el.stop().fadeIn(200).show()}},this.position=function(t){var e=100*t.x;y=100*t.y,mt=-this.el.outerHeight()-this.shift,ml=-this.el.outerWidth()/2,this.el.css({left:e+"%",top:y+"%",marginTop:mt,marginLeft:ml}),this.drop=this.el.outerHeight()+this.shift},this.hide=function(){var t=this;this.el.stop().fadeOut(300,function(){t.desc.empty()})}}function n(){this.init=function(){var e=location.hash.slice(1);if(e){var n=p(e);c.tooltip.set(n),f(e,0),c.tooltip.show(n)}else _(.5,.5,1,0);t(window).on("hashchange",function(){var t=location.hash.slice(1);if(t){var e=p(t);c.tooltip.set(e),f(t,800),c.tooltip.show(e)}})},this.clear=function(){history.pushState?history.pushState("",document.title,window.location.pathname):window.location.hash=""}}function i(){this.el=null,this.shift=6,this.init=function(){var e=this;this.el=t("<div></div>").addClass("mapplic-tooltip mapplic-hovertip"),this.title=t("<h4></h4>").addClass("mapplic-tooltip-title").appendTo(this.el),t("<div></div>").addClass("mapplic-tooltip-triangle").appendTo(this.el),t(c.map).on("mouseover",".mapplic-layer a",function(){var n="";t(this).hasClass("mapplic-pin")?(n=t(this).data("location"),e.shift=t(this).height()+6):(n=t(this).attr("xlink:href").slice(1),e.shift=6);var i=p(n);i&&e.show(i)}).on("mouseout",function(){e.hide()}),c.map.append(this.el)},this.show=function(t){this.title.text(t.title);var e=100*t.x,n=100*t.y,i=-this.el.outerHeight()-this.shift,r=-this.el.outerWidth()/2;this.el.css({left:e+"%",top:n+"%",marginTop:i,marginLeft:r}),this.el.stop().fadeIn(100)},this.hide=function(){this.el.stop().fadeOut(200)}}function r(){this.el=null,this.init=function(){this.el=t("<div></div>").addClass("mapplic-minimap").appendTo(c.container),this.el.css("height",this.el.width()*c.hw_ratio),this.el.click(function(e){e.preventDefault();var n=(e.pageX-t(this).offset().left)/t(this).width(),i=(e.pageY-t(this).offset().top)/t(this).height();_(n,i,c.scale/c.fitscale,100)})},this.addLayer=function(e){var n=t("<div></div>").addClass("mapplic-minimap-layer").addClass(e.id).appendTo(this.el);t("<img>").attr("src",e.minimap).addClass("mapplic-minimap-background").appendTo(n),t("<div></div>").addClass("mapplic-minimap-overlay").appendTo(n),t("<img>").attr("src",e.minimap).addClass("mapplic-minimap-active").appendTo(n)},this.show=function(e){t(".mapplic-minimap-layer:visible",this.el).hide(),t(".mapplic-minimap-layer."+e,this.el).show()},this.update=function(e,n){var i=t(".mapplic-minimap-active",this.el);void 0===e&&(e=c.x),void 0===n&&(n=c.y);var r=Math.round(c.container.width()/c.contentWidth/c.scale*this.el.width()),o=Math.round(c.container.height()/c.contentHeight/c.scale*this.el.height()),s=Math.round(-n/c.contentHeight/c.scale*this.el.height()),a=Math.round(-e/c.contentWidth/c.scale*this.el.width()),l=a+r,u=s+o;i.css("clip","rect("+s+"px, "+l+"px, "+u+"px, "+a+"px)")}}function o(){this.el=null,this.list=null,this.init=function(){var e=this;if(this.el=t("<div></div>").addClass("mapplic-sidebar").appendTo(c.el),c.o.search){var n=t("<form></form>").addClass("mapplic-search-form").submit(function(){return!1}).appendTo(this.el);c.clear=t("<button></button>").addClass("mapplic-search-clear").click(function(){i.val(""),i.keyup()}).appendTo(n);var i=t("<input>").attr({type:"text",spellcheck:"false",placeholder:"Search for location..."}).addClass("mapplic-search-input").keyup(function(){var n=t(this).val();e.search(n)}).prependTo(n)}var r=t("<div></div>").addClass("mapplic-list-container").appendTo(this.el);this.list=t("<ol></ol>").addClass("mapplic-list").appendTo(r),this.notfound=t("<p></p>").addClass("mapplic-not-found").text("Nothing found. Please try a different search.").appendTo(r),c.o.search||r.css("padding-top","0")},this.addCategories=function(e){var n=this.list;t.each(e,function(e,i){var r=t("<li></li>").addClass("mapplic-list-category").addClass(i.id),o=t("<ol></ol>").css("border-color",i.color).appendTo(r);"false"==i.show&&o.hide();var s=t("<a></a>").attr("href","#").attr("title",i.title).css("background-color",i.color).text(i.title).click(function(t){return o.slideToggle(200),!1}).prependTo(r);i.icon&&t("<img>").attr("src",i.icon).addClass("mapplic-list-thumbnail").prependTo(s),t("<span></span>").text("0").addClass("mapplic-list-count").prependTo(s),n.append(r)})},this.addLocation=function(e){var n=t("<li></li>").addClass("mapplic-list-location").addClass("mapplic-list-shown"),i=t("<a></a>").attr("href","#"+e.id).appendTo(n);e.thumbnail&&t("<img>").attr("src",e.thumbnail).addClass("mapplic-list-thumbnail").appendTo(i),t("<h4></h4>").text(e.title).appendTo(i),t("<span></span>").html(e.about).appendTo(i);var r=t(".mapplic-list-category."+e.category);r.length?t("ol",r).append(n):this.list.append(n),t(".mapplic-list-count",r).text(t(".mapplic-list-shown",r).length)},this.search=function(e){e?c.clear.fadeIn(100):c.clear.fadeOut(100),t(".mapplic-list li",c.el).each(function(){t(this).text().search(new RegExp(e,"i"))<0?(t(this).removeClass("mapplic-list-shown"),t(this).slideUp(200)):(t(this).addClass("mapplic-list-shown"),t(this).show())}),t(".mapplic-list > li",c.el).each(function(){var e=t(".mapplic-list-shown",this).length;t(".mapplic-list-count",this).text(e)}),t(".mapplic-list > li.mapplic-list-shown").length>0?this.notfound.fadeOut(200):this.notfound.fadeIn(200)}}function s(){this.el=null,this.init=function(){this.el=t("<div></div>").addClass("mapplic-coordinates").appendTo(c.container),this.el.append("x: "),t("<code></code>").addClass("mapplic-coordinates-x").appendTo(this.el),this.el.append(" y: "),t("<code></code>").addClass("mapplic-coordinates-y").appendTo(this.el),t(".mapplic-layer",c.map).on("mousemove",function(e){var n=(e.pageX-c.map.offset().left)/c.map.width(),i=(e.pageY-c.map.offset().top)/c.map.height();t(".mapplic-coordinates-x").text(parseFloat(n).toFixed(4)),t(".mapplic-coordinates-y").text(parseFloat(i).toFixed(4))})}}function a(){this.el=null,this.init=function(){this.el=t("<a></a>").attr("href","#").addClass("mapplic-clear-button").click(function(t){t.preventDefault(),c.deeplinking.clear(),c.tooltip.hide(),_(.5,.5,1)}).appendTo(c.container)}}function l(){this.el=null,this.init=function(){var e=this;this.element=c.el[0],t("<a></a>").attr("href","#").attr("href","#").addClass("mapplic-fullscreen-button").click(function(t){t.preventDefault(),e.isFull()?e.exitFull():e.goFull()}).appendTo(c.container)},this.goFull=function(){this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen?this.element.webkitRequestFullscreen():this.element.msRequestFullscreen&&this.element.msRequestFullscreen()},this.exitFull=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},this.isFull=function(){return window.innerHeight==screen.height}}var c=this;c.o={source:"locations.json",height:420,locations:!0,minimap:!0,sidebar:!0,deeplinking:!0,search:!0,clearbutton:!0,hovertip:!0,fullscreen:!1,developer:!1,animate:!0,maxscale:4},c.init=function(e,n){return c.o=t.extend(c.o,n),c.x=0,c.y=0,c.scale=1,c.el=e.addClass("mapplic-element mapplic-loading").height(c.o.height),t.getJSON(c.o.source,function(t){u(t),c.el.removeClass("mapplic-loading"),h()}).fail(function(){console.error("Couldn't load map data. (Make sure you are running the script through a server and not just opening the html file with your browser)"),alert("Data file missing or invalid!")}),c},c.goToLocation=function(t,e){f(t,e)};var u=function(u){function h(){var e=t(".mapplic-pin:not(.mapplic-animate):visible");e.length>0?(e.first().addClass("mapplic-animate"),window.setTimeout(h,200)):(t(".mapplic-animate").removeClass("mapplic-animate"),t(".mapplic-pin").css("opacity","1"))}c.data=u;var p,f=0;if(c.container=t("<div></div>").addClass("mapplic-container").appendTo(c.el),c.map=t("<div></div>").addClass("mapplic-map").appendTo(c.container),c.levelselect=t("<select></select>").addClass("mapplic-levels-select"),c.o.sidebar||c.container.css("width","100%"),c.contentWidth=u.mapwidth,c.contentHeight=u.mapheight,c.hw_ratio=u.mapheight/u.mapwidth,u.mapheight/c.container.height()>u.mapwidth/c.container.width()?(c.min_width=c.container.width(),c.min_height=c.container.width()*c.hw_ratio):(c.min_height=c.container.height(),c.min_width=c.container.height()/c.hw_ratio),c.map.css({width:u.mapwidth,height:u.mapheight}),c.o.minimap&&(c.minimap=new r,c.minimap.init()),c.o.sidebar&&(c.sidebar=new o,c.sidebar.init(),c.sidebar.addCategories(u.categories)),u.levels&&t.each(u.levels,function(e,n){var i=n.map,r=i.substr(i.lastIndexOf(".")+1).toLowerCase(),o=t("<div></div>").addClass("mapplic-layer").addClass(n.id).hide().appendTo(c.map);switch(r){case"jpg":case"jpeg":case"png":case"gif":t("<img>").attr("src",i).addClass("mapplic-map-image").appendTo(o);break;case"svg":t("<div></div>").addClass("mapplic-map-image").load(i).appendTo(o);break;default:alert("File type "+r+" is not supported!")}c.minimap&&c.minimap.addLayer(n),c.levelselect.prepend(t("<option></option>").attr("value",n.id).text(n.title)),p&&!n.show||(p=n.id),t.each(n.locations,function(e,n){var i=100*n.y,r=100*n.x;if("hidden"!=n.pin&&c.o.locations){var s="#"+n.id;"redirect"==n.action&&(s=n.link);var a=t("<a></a>").attr("href",s).addClass("mapplic-pin").css({top:i+"%",left:r+"%"}).appendTo(o);a.attr("data-location",n.id),a.addClass(n.pin)}c.sidebar&&c.sidebar.addLocation(n)}),f++}),c.o.animate&&(t(".mapplic-pin").css("opacity","0"),window.setTimeout(h,200)),c.o.hovertip&&(c.hovertip=(new i).init()),c.tooltip=new e,c.tooltip.init(),c.o.developer&&(c.devtools=(new s).init()),c.o.clearbutton&&(c.clearbutton=(new a).init()),c.o.fullscreen&&(c.fullscreen=(new l).init()),f>1){c.levels=t("<div></div>").addClass("mapplic-levels");var y=t('<a href="#"></a>').addClass("mapplic-levels-up").appendTo(c.levels);c.levelselect.appendTo(c.levels);var _=t('<a href="#"></a>').addClass("mapplic-levels-down").appendTo(c.levels);c.container.append(c.levels),c.levelselect.change(function(){var e=t(this).val();d(e)}),y.click(function(e){e.preventDefault(),t(this).hasClass("disabled")||d("+")}),_.click(function(e){e.preventDefault(),t(this).hasClass("disabled")||d("-")})}d(p),t(window).resize(function(){var t=c.container.width()/c.contentWidth,e=c.container.height()/c.contentHeight;c.fitscale=t>e?t:e,c.scale=v(c.scale),c.x=m(c.x),c.y=g(c.y),b(c.x,c.y,c.scale,100)}).resize(),c.o.deeplinking&&(c.deeplinking=new n,c.deeplinking.init())},h=function(){var e=c.map,n=t(".mapplic-map-image",c.map);if(document.ondragstart=function(){return!1},n.on("mousedown",function(n){e.stop(),e.data("mouseX",n.pageX),e.data("mouseY",n.pageY),e.data("lastX",c.x),e.data("lastY",c.y),e.addClass("mapplic-dragging"),c.map.on("mousemove",function(t){var n=t.pageX-e.data("mouseX")+c.x;y=t.pageY-e.data("mouseY")+c.y,n=m(n),y=g(y),b(n,y),e.data("lastX",n),e.data("lastY",y)}),t(document).on("mouseup",function(n){c.x=e.data("lastX"),c.y=e.data("lastY"),c.map.off("mousemove"),t(document).off("mouseup"),e.removeClass("mapplic-dragging")})}),t(document).on("dblclick",".mapplic-map-image",function(t){var e=c.map.offset(),n=(t.pageX-e.left)/c.map.width(),i=(t.pageY-e.top)/c.map.height(),r=c.map.width()/c.min_width*2;_(n,i,r,600)}),t(".mapplic-layer",this.el).bind("mousewheel DOMMouseScroll",function(t,e){t.preventDefault();var n=c.scale;c.scale=v(n+n*e/5),c.x=m(c.x-(t.pageX-c.container.offset().left-c.x)*(c.scale/n-1)),c.y=g(c.y-(t.pageY-c.container.offset().top-c.y)*(c.scale/n-1)),b(c.x,c.y,c.scale,100)}),!("ontouchstart"in window||"onmsgesturechange"in window))return!0;n.on("touchstart",function(t){var i=t.originalEvent,r=e.position();e.data("touchY",i.changedTouches[0].pageY-r.top),e.data("touchX",i.changedTouches[0].pageX-r.left),n.on("touchmove",function(t){t.preventDefault();var i=t.originalEvent;1==i.touches.length?(c.x=m(i.changedTouches[0].pageX-e.data("touchX")),c.y=g(i.changedTouches[0].pageY-e.data("touchY")),b(c.x,c.y,c.scale,100)):n.off("touchmove")}),n.on("touchend",function(t){n.off("touchmove touchend")})});var i,r=1;Hammer(c.map[0],{transform_always_block:!0,drag_block_horizontal:!0,drag_block_vertical:!0}).on("touch transform",function(t){switch(t.type){case"touch":i=r;break;case"transform":var e=t.gesture.center;r=Math.max(1,Math.min(i*t.gesture.scale,10));var n=c.scale;c.scale=v(r*c.fitscale),c.x=m(c.x-(e.pageX-c.container.offset().left-c.x)*(c.scale/n-1)),c.y=g(c.y-(e.pageY-c.container.offset().top-c.y)*(c.scale/n-1)),b(c.x,c.y,c.scale,200)}})},d=function(e){switch(e){case"+":e=t("option:selected",c.levelselect).removeAttr("selected").prev().prop("selected","selected").val();break;case"-":e=t("option:selected",c.levelselect).removeAttr("selected").next().prop("selected","selected").val();break;default:t('option[value="'+e+'"]',c.levelselect).prop("selected","selected")}var n=t(".mapplic-layer."+e,c.map);if(!n.is(":visible")){c.tooltip.hide(),t(".mapplic-layer:visible",c.map).hide(),n.show(),c.minimap&&c.minimap.show(e);var i=c.levelselect.get(0).selectedIndex,r=t(".mapplic-levels-up",c.levels),o=t(".mapplic-levels-down",c.levels);r.removeClass("disabled"),o.removeClass("disabled"),0==i?r.addClass("disabled"):i==c.levelselect.get(0).length-1&&o.addClass("disabled")}},p=function(e){var n=null;return t.each(c.data.levels,function(i,r){t.each(r.locations,function(t,i){i.id==e&&(n=i)})}),n},f=function(e,n){t.each(c.data.levels,function(i,r){t.each(r.locations,function(t,i){if(i.id==e){var o=void 0!==i.zoom?i.zoom:4,s=c.tooltip.drop/c.contentHeight/o;d(r.id),_(i.x,parseFloat(i.y)-s,o,n,"easeInOutCubic")}})})},m=function(t){var e=c.container.width()-c.contentWidth*c.scale;return t>0?t=0:t<e&&(t=e),t},g=function(t){var e=c.container.height()-c.contentHeight*c.scale;return t>=0?t=0:t<e&&(t=e),t},v=function(t){return t<c.fitscale?t=c.fitscale:t>c.o.maxscale&&(t=c.o.maxscale),t},_=function(t,e,n,i,r){i=void 0!==i?i:400,c.scale=v(c.fitscale*n);c.contentWidth,c.scale;c.x=m(.5*c.container.width()-c.scale*c.contentWidth*t),c.y=g(.5*c.container.height()-c.scale*c.contentHeight*e),b(c.x,c.y,c.scale,i,r)},b=function(t,e,n,i,r){void 0!==n?c.map.stop().animate({left:t,top:e,width:c.contentWidth*n,height:c.contentHeight*n},i,r):c.map.css({left:t,top:e}),c.minimap&&c.minimap.update(t,e)}};t.fn.mapplic=function(n){var i=this.length;return this.each(function(r){var o=t(this),s="mapplic"+(i>1?"-"+ ++r:""),a=(new e).init(o,n);o.data(s,a).data("key",s)})}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["d3"],function(n){return t.Rickshaw=e(n)}):"object"==typeof exports?module.exports=e(require("d3")):t.Rickshaw=e(d3)}(this,function(t){var e={namespace:function(t,n){for(var i=t.split("."),r=e,o=1,s=i.length;o<s;o++){var a=i[o];r[a]=r[a]||{},r=r[a]}return r},keys:function(t){var e=[];for(var n in t)e.push(n);return e},extend:function(t,e){for(var n in e)t[n]=e[n];return t},clone:function(t){return JSON.parse(JSON.stringify(t))}};return function(t){function e(t){return h.call(t)===y}function n(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function i(t){if(r(t)!==v)throw new TypeError;var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function r(t){switch(t){case null:return d;case void 0:return p}switch(typeof t){case"boolean":return f;case"number":return m;case"string":return g}return v}function o(t){return void 0===t}function s(t){var e=t.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=e.length||e[0]?e:[]}function a(t,e){var n=t;return function(){var t=l([u(n,this)],arguments);return e.apply(this,t)}}function l(t,e){for(var n=t.length,i=e.length;i--;)t[n+i]=e[i];return t}function c(t,e){return t=_.call(t,0),l(t,e)}function u(t,e){if(arguments.length<2&&o(arguments[0]))return this;var n=t,i=_.call(arguments,2);return function(){var t=c(i,arguments);return n.apply(e,t)}}var h=Object.prototype.toString,d="Null",p="Undefined",f="Boolean",m="Number",g="String",v="Object",y="[object Function]",_=Array.prototype.slice,b=function(){},w=function(){function t(){}var r=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}();return{create:function(){function i(){this.initialize.apply(this,arguments)}var r=null,o=[].slice.apply(arguments);if(e(o[0])&&(r=o.shift()),n(i,w.Methods),i.superclass=r,i.subclasses=[],r){t.prototype=r.prototype,i.prototype=new t;try{r.subclasses.push(i)}catch(t){}}for(var s=0,a=o.length;s<a;s++)i.addMethods(o[s]);return i.prototype.initialize||(i.prototype.initialize=b),i.prototype.constructor=i,i},Methods:{addMethods:function(t){var n=this.superclass&&this.superclass.prototype,o=i(t);r&&(t.toString!=Object.prototype.toString&&o.push("toString"),t.valueOf!=Object.prototype.valueOf&&o.push("valueOf"));for(var l=0,c=o.length;l<c;l++){var h=o[l],d=t[h];if(n&&e(d)&&"$super"==s(d)[0]){var p=d;(d=a(function(t){return function(){return n[t].apply(this,arguments)}}(h),p)).valueOf=u(p.valueOf,p),d.toString=u(p.toString,p)}this.prototype[h]=d}return this}}}}();t.exports?t.exports.Class=w:t.Class=w}(e),e.namespace("Rickshaw.Compat.ClassList"),e.Compat.ClassList=function(){"undefined"==typeof document||"classList"in document.createElement("a")||function(t){"use strict";var e=(t.HTMLElement||t.Element).prototype,n=Object,i=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},o=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},s=function(t,e){if(""===e)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(t,e)},a=function(t){for(var e=i.call(t.className),n=e?e.split(/\s+/):[],r=0,o=n.length;r<o;r++)this.push(n[r]);this._updateClassName=function(){t.className=this.toString()}},l=a.prototype=[],c=function(){return new a(this)};if(o.prototype=Error.prototype,l.item=function(t){return this[t]||null},l.contains=function(t){return t+="",-1!==s(this,t)},l.add=function(t){-1===s(this,t+="")&&(this.push(t),this._updateClassName())},l.remove=function(t){var e=s(this,t+="");-1!==e&&(this.splice(e,1),this._updateClassName())},l.toggle=function(t){-1===s(this,t+="")?this.add(t):this.remove(t)},l.toString=function(){return this.join(" ")},n.defineProperty){var u={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(e,"classList",u)}catch(t){-2146823252===t.number&&(u.enumerable=!1,n.defineProperty(e,"classList",u))}}else n.prototype.__defineGetter__&&e.__defineGetter__("classList",c)}(window)},("undefined"!=typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"==typeof RICKSHAW_NO_COMPAT)&&new e.Compat.ClassList,e.namespace("Rickshaw.Graph"),e.Graph=function(n){var i=this;this.initialize=function(e){if(!e.element)throw"Rickshaw.Graph needs a reference to an element";if(1!==e.element.nodeType)throw"Rickshaw.Graph element was defined but not an HTML element";this.element=e.element,this.series=e.series,this.window={},this.updateCallbacks=[],this.configureCallbacks=[],this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0,preserve:!1,xScale:void 0,yScale:void 0,stack:!0},this._loadRenderers(),this.configure(e),this.validateSeries(e.series),this.series.active=function(){return i.series.filter(function(t){return!t.disabled})},this.setSize({width:e.width,height:e.height}),this.element.classList.add("rickshaw_graph"),this.vis=t.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height),this.discoverRange()},this._loadRenderers=function(){for(var t in e.Graph.Renderer)if(t&&e.Graph.Renderer.hasOwnProperty(t)){var n=e.Graph.Renderer[t];n&&n.prototype&&n.prototype.render&&i.registerRenderer(new n({graph:i}))}},this.validateSeries=function(t){if(!(Array.isArray(t)||t instanceof e.Series))throw"series is not an array: "+Object.prototype.toString.apply(t);t.forEach(function(t){if(!(t instanceof Object))throw"series element is not an object: "+t;if(!t.data)throw"series has no data: "+JSON.stringify(t);if(!Array.isArray(t.data))throw"series data is not an array: "+JSON.stringify(t.data);if(t.data.length>0){var e=t.data[0].x,n=t.data[0].y;if("number"!=typeof e||"number"!=typeof n&&null!==n)throw"x and y properties of points should be numbers instead of "+typeof e+" and "+typeof n}if(t.data.length>=3&&(t.data[2].x<t.data[1].x||t.data[1].x<t.data[0].x||t.data[t.data.length-1].x<t.data[0].x))throw"series data needs to be sorted on x values for series name: "+t.name},this)},this.dataDomain=function(){var e=this.series.map(function(t){return t.data});return[t.min(e.map(function(t){return t[0].x})),t.max(e.map(function(t){return t[t.length-1].x}))]},this.discoverRange=function(){var e=this.renderer.domain();this.x=(this.xScale||t.scale.linear()).copy().domain(e.x).range([0,this.width]),this.y=(this.yScale||t.scale.linear()).copy().domain(e.y).range([this.height,0]),this.x.magnitude=t.scale.linear().domain([e.x[0]-e.x[0],e.x[1]-e.x[0]]).range([0,this.width]),this.y.magnitude=t.scale.linear().domain([e.y[0]-e.y[0],e.y[1]-e.y[0]]).range([0,this.height])},this.render=function(){this.stackData();this.discoverRange(),this.renderer.render(),this.updateCallbacks.forEach(function(t){t()})},this.update=this.render,this.stackData=function(){var n=this.series.active().map(function(t){return t.data}).map(function(t){return t.filter(function(t){return this._slice(t)},this)},this),r=this.preserve;r||this.series.forEach(function(t){t.scale&&(r=!0)}),n=r?e.clone(n):n,this.series.active().forEach(function(t,e){if(t.scale){var i=n[e];i&&i.forEach(function(e){e.y=t.scale(e.y)})}}),this.stackData.hooks.data.forEach(function(t){n=t.f.apply(i,[n])});var o;if(!this.renderer.unstack){this._validateStackable();var s=t.layout.stack();s.offset(i.offset),o=s(n)}o=o||n,this.renderer.unstack&&o.forEach(function(t){t.forEach(function(t){t.y0=void 0===t.y0?0:t.y0})}),this.stackData.hooks.after.forEach(function(t){o=t.f.apply(i,[n])});var a=0;return this.series.forEach(function(t){t.disabled||(t.stack=o[a++])}),this.stackedData=o,o},this._validateStackable=function(){var t;this.series.forEach(function(e){if((t=t||e.data.length)&&e.data.length!=t)throw"stacked series cannot have differing numbers of points: "+t+" vs "+e.data.length+"; see Rickshaw.Series.fill()"},this)},this.stackData.hooks={data:[],after:[]},this._slice=function(t){if(this.window.xMin||this.window.xMax){var e=!0;return this.window.xMin&&t.x<this.window.xMin&&(e=!1),this.window.xMax&&t.x>this.window.xMax&&(e=!1),e}return!0},this.onUpdate=function(t){this.updateCallbacks.push(t)},this.onConfigure=function(t){this.configureCallbacks.push(t)},this.registerRenderer=function(t){this._renderers=this._renderers||{},this._renderers[t.name]=t},this.configure=function(t){this.config=this.config||{},(t.width||t.height)&&this.setSize(t),e.keys(this.defaults).forEach(function(e){this.config[e]=e in t?t[e]:e in this?this[e]:this.defaults[e]},this),e.keys(this.config).forEach(function(t){this[t]=this.config[t]},this),"stack"in t&&(t.unstack=!t.stack);var n=t.renderer||this.renderer&&this.renderer.name||"stack";this.setRenderer(n,t),this.configureCallbacks.forEach(function(e){e(t)})},this.setRenderer=function(t,e){if("function"==typeof t)this.renderer=new t({graph:i}),this.registerRenderer(this.renderer);else{if(!this._renderers[t])throw"couldn't find renderer "+t;this.renderer=this._renderers[t]}"object"==typeof e&&this.renderer.configure(e)},this.setSize=function(t){if(t=t||{},void 0!==typeof window)var e=window.getComputedStyle(this.element,null),n=parseInt(e.getPropertyValue("width"),10),i=parseInt(e.getPropertyValue("height"),10);this.width=t.width||n||400,this.height=t.height||i||250,this.vis&&this.vis.attr("width",this.width).attr("height",this.height)},this.initialize(n)},e.namespace("Rickshaw.Fixtures.Color"),e.Fixtures.Color=function(){this.schemes={},this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse(),this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"],this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"],this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse(),this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"},this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse(),this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"],this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]},e.namespace("Rickshaw.Fixtures.RandomData"),e.Fixtures.RandomData=function(t){t=t||1;var e=200,n=Math.floor((new Date).getTime()/1e3);this.addData=function(i){var r=100*Math.random()+15+e,o=i[0].length,s=1;i.forEach(function(e){var i=20*Math.random(),a=r/25+s+++15*(Math.cos(o*s*11/960)+2)+7*(Math.cos(o/7)+2)+1*(Math.cos(o/17)+2);e.push({x:o*t+n,y:a+i})}),e=.85*r},this.removeData=function(e){e.forEach(function(t){t.shift()}),n+=t}},e.namespace("Rickshaw.Fixtures.Time"),e.Fixtures.Time=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(t){return t.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(t){return t.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getUTCMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(e){return t.time.format("%b %e")(e)},this.formatTime=function(t){return t.toUTCString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var n,i;if("month"==e.name){if(n=new Date(1e3*t),Date.UTC(n.getUTCFullYear(),n.getUTCMonth())/1e3==t)return t;i=n.getUTCFullYear();var r=n.getUTCMonth();return 11==r?(r=0,i+=1):r+=1,Date.UTC(i,r)/1e3}return"year"==e.name?(n=new Date(1e3*t),Date.UTC(n.getUTCFullYear(),0)/1e3==t?t:(i=n.getUTCFullYear()+1,Date.UTC(i,0)/1e3)):Math.ceil(t/e.seconds)*e.seconds}},e.namespace("Rickshaw.Fixtures.Time.Local"),e.Fixtures.Time.Local=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(t){return t.getDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(t){return t.getMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(e){return t.time.format("%b %e")(e)},this.formatTime=function(t){return t.toString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var n,i;if("day"==e.name){var r=new Date(1e3*(t+e.seconds-1)),o=new Date(0);return o.setMilliseconds(0),o.setSeconds(0),o.setMinutes(0),o.setHours(0),o.setDate(r.getDate()),o.setMonth(r.getMonth()),o.setFullYear(r.getFullYear()),o.getTime()/1e3}if("month"==e.name){if(n=new Date(1e3*t),new Date(n.getFullYear(),n.getMonth()).getTime()/1e3==t)return t;i=n.getFullYear();var s=n.getMonth();return 11==s?(s=0,i+=1):s+=1,new Date(i,s).getTime()/1e3}return"year"==e.name?(n=new Date(1e3*t),new Date(n.getUTCFullYear(),0).getTime()/1e3==t?t:(i=n.getFullYear()+1,new Date(i,0).getTime()/1e3)):Math.ceil(t/e.seconds)*e.seconds}},e.namespace("Rickshaw.Fixtures.Number"),e.Fixtures.Number.formatKMBT=function(t){var e=Math.abs(t);return e>=1e12?t/1e12+"T":e>=1e9?t/1e9+"B":e>=1e6?t/1e6+"M":e>=1e3?t/1e3+"K":e<1&&t>0?t.toFixed(2):0===e?"":t},e.Fixtures.Number.formatBase1024KMGTP=function(t){var e=Math.abs(t);return e>=0x4000000000000?t/0x4000000000000+"P":e>=1099511627776?t/1099511627776+"T":e>=1073741824?t/1073741824+"G":e>=1048576?t/1048576+"M":e>=1024?t/1024+"K":e<1&&t>0?t.toFixed(2):0===e?"":t},e.namespace("Rickshaw.Color.Palette"),e.Color.Palette=function(n){var i=new e.Fixtures.Color;if(n=n||{},this.schemes={},this.scheme=i.schemes[n.scheme]||n.scheme||i.schemes.colorwheel,this.runningIndex=0,this.generatorIndex=0,n.interpolatedStopCount){var r,o,s=this.scheme.length-1,a=[];for(r=0;r<s;r++){a.push(this.scheme[r]);var l=t.interpolateHsl(this.scheme[r],this.scheme[r+1]);for(o=1;o<n.interpolatedStopCount;o++)a.push(l(1/n.interpolatedStopCount*o))}a.push(this.scheme[this.scheme.length-1]),this.scheme=a}this.rotateCount=this.scheme.length,this.color=function(t){return this.scheme[t]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"},this.interpolateColor=function(){if(Array.isArray(this.scheme)){var e;return this.generatorIndex==2*this.rotateCount-1?(e=t.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(.5),this.generatorIndex=0,this.rotateCount*=2):(e=t.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(.5),this.generatorIndex++),this.scheme.push(e),e}}},e.namespace("Rickshaw.Graph.Ajax"),e.Graph.Ajax=e.Class.create({initialize:function(t){this.dataURL=t.dataURL,this.onData=t.onData||function(t){return t},this.onComplete=t.onComplete||function(){},this.onError=t.onError||function(){},this.args=t,this.request()},request:function(){jQuery.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL),this.onError(this)},success:function(t,n){t=this.onData(t),this.args.series=this._splice({data:t,series:this.args.series}),this.graph=this.graph||new e.Graph(this.args),this.graph.render(),this.onComplete(this)},_splice:function(t){var e=t.data,n=t.series;return t.series?(n.forEach(function(t){var n=t.key||t.name;if(!n)throw"series needs a key or a name";e.forEach(function(e){var i=e.key||e.name;if(!i)throw"data needs a key or a name";n==i&&["color","name","data"].forEach(function(n){e[n]&&(t[n]=e[n])})})}),n):e}}),e.namespace("Rickshaw.Graph.Annotate"),e.Graph.Annotate=function(t){this.graph=t.graph;this.elements={timeline:t.element};var n=this;this.data={},this.elements.timeline.classList.add("rickshaw_annotation_timeline"),this.add=function(t,e,i){n.data[t]=n.data[t]||{boxes:[]},n.data[t].boxes.push({content:e,end:i})},this.update=function(){e.keys(n.data).forEach(function(t){var e=n.data[t],i=n.graph.x(t);if(i<0||i>n.graph.x.range()[1])return e.element&&(e.line.classList.add("offscreen"),e.element.style.display="none"),void e.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.add("offscreen")});if(!e.element){var r=e.element=document.createElement("div");r.classList.add("annotation"),this.elements.timeline.appendChild(r),r.addEventListener("click",function(t){r.classList.toggle("active"),e.line.classList.toggle("active"),e.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.toggle("active")})},!1)}e.element.style.left=i+"px",e.element.style.display="block",e.boxes.forEach(function(t){var r=t.element;if(r||((r=t.element=document.createElement("div")).classList.add("content"),r.innerHTML=t.content,e.element.appendChild(r),e.line=document.createElement("div"),e.line.classList.add("annotation_line"),n.graph.element.appendChild(e.line),t.end&&(t.rangeElement=document.createElement("div"),t.rangeElement.classList.add("annotation_range"),n.graph.element.appendChild(t.rangeElement))),t.end){var o=i,s=Math.min(n.graph.x(t.end),n.graph.x.range()[1]);o>s&&(s=i,o=Math.max(n.graph.x(t.end),n.graph.x.range()[0]));var a=s-o;t.rangeElement.style.left=o+"px",t.rangeElement.style.width=a+"px",t.rangeElement.classList.remove("offscreen")}e.line.classList.remove("offscreen"),e.line.style.left=i+"px"})},this)},this.graph.onUpdate(function(){n.update()})},e.namespace("Rickshaw.Graph.Axis.Time"),e.Graph.Axis.Time=function(t){var n=this;this.graph=t.graph,this.elements=[],this.ticksTreatment=t.ticksTreatment||"plain",this.fixedTimeUnit=t.timeUnit;var i=t.timeFixture||new e.Fixtures.Time;this.appropriateTimeUnit=function(){var t,e=i.units,n=this.graph.x.domain(),r=n[1]-n[0];return e.forEach(function(e){Math.floor(r/e.seconds)>=2&&(t=t||e)}),t||i.units[i.units.length-1]},this.tickOffsets=function(){for(var t=this.graph.x.domain(),e=this.fixedTimeUnit||this.appropriateTimeUnit(),n=Math.ceil((t[1]-t[0])/e.seconds),r=t[0],o=[],s=0;s<n;s++){var a=i.ceil(r,e);r=a+e.seconds/2,o.push({value:a,unit:e})}return o},this.render=function(){this.elements.forEach(function(t){t.parentNode.removeChild(t)}),this.elements=[],this.tickOffsets().forEach(function(t){if(!(n.graph.x(t.value)>n.graph.x.range()[1])){var e=document.createElement("div");e.style.left=n.graph.x(t.value)+"px",e.classList.add("x_tick"),e.classList.add(n.ticksTreatment);var i=document.createElement("div");i.classList.add("title"),i.innerHTML=t.unit.formatter(new Date(1e3*t.value)),e.appendChild(i),n.graph.element.appendChild(e),n.elements.push(e)}})},this.graph.onUpdate(function(){n.render()})},e.namespace("Rickshaw.Graph.Axis.X"),e.Graph.Axis.X=function(e){var n=this;this.initialize=function(e){this.graph=e.graph,this.orientation=e.orientation||"top",this.pixelsPerTick=e.pixelsPerTick||75,e.ticks&&(this.staticTicks=e.ticks),e.tickValues&&(this.tickValues=e.tickValues),this.tickSize=e.tickSize||4,this.ticksTreatment=e.ticksTreatment||"plain",e.element?(this.element=e.element,this._discoverSize(e.element,e),this.vis=t.select(e.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class","rickshaw_graph x_axis_d3"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):this.vis=this.graph.vis,this.graph.onUpdate(function(){n.render()})},this.setSize=function(t){if(t=t||{},this.element){this._discoverSize(this.element.parentNode,t),this.vis.attr("height",this.height).attr("width",1.1*this.width);var e=Math.floor(.1*this.width/2);this.element.style.left=-1*e+"px"}},this.render=function(){void 0!==this._renderWidth&&this.graph.width!==this._renderWidth&&this.setSize({auto:!0});var n=t.svg.axis().scale(this.graph.x).orient(this.orientation);n.tickFormat(e.tickFormat||function(t){return t}),this.tickValues&&n.tickValues(this.tickValues),this.ticks=this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var i,r=Math.floor(.1*this.width/2)||0;i="top"==this.orientation?"translate("+r+","+(this.height||this.graph.height)+")":"translate("+r+", 0)",this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",i).call(n.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var o=("bottom"==this.orientation?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class","x_grid_d3").call(n.ticks(this.ticks).tickSubdivide(0).tickSize(o)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)}),this._renderHeight=this.graph.height},this._discoverSize=function(t,e){if("undefined"!=typeof window){var n=window.getComputedStyle(t,null),i=parseInt(n.getPropertyValue("height"),10);if(!e.auto)var r=parseInt(n.getPropertyValue("width"),10)}this.width=1.1*(e.width||r||this.graph.width),this.height=e.height||i||40},this.initialize(e)},e.namespace("Rickshaw.Graph.Axis.Y"),e.Graph.Axis.Y=e.Class.create({initialize:function(e){this.graph=e.graph,this.orientation=e.orientation||"right",this.pixelsPerTick=e.pixelsPerTick||75,e.ticks&&(this.staticTicks=e.ticks),e.tickValues&&(this.tickValues=e.tickValues),this.tickSize=e.tickSize||4,this.ticksTreatment=e.ticksTreatment||"plain",this.tickFormat=e.tickFormat||function(t){return t},this.berthRate=.1,e.element?(this.element=e.element,this.vis=t.select(e.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):this.vis=this.graph.vis;var n=this;this.graph.onUpdate(function(){n.render()})},setSize:function(t){if(t=t||{},this.element){if("undefined"!=typeof window){var e=window.getComputedStyle(this.element.parentNode,null),n=parseInt(e.getPropertyValue("width"),10);if(!t.auto)var i=parseInt(e.getPropertyValue("height"),10)}this.width=t.width||n||this.graph.width*this.berthRate,this.height=t.height||i||this.graph.height,this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));var r=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*r+"px")}},render:function(){void 0!==this._renderHeight&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0}),this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var t=this._drawAxis(this.graph.y);this._drawGrid(t),this._renderHeight=this.graph.height},_drawAxis:function(e){var n=t.svg.axis().scale(e).orient(this.orientation);if(n.tickFormat(this.tickFormat),this.tickValues&&n.tickValues(this.tickValues),"left"==this.orientation)var i=this.height*this.berthRate,r="translate("+this.width+", "+i+")";return this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",r).call(n.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)),n},_drawGrid:function(t){var e=("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(t.ticks(this.ticks).tickSubdivide(0).tickSize(e)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}}),e.namespace("Rickshaw.Graph.Axis.Y.Scaled"),e.Graph.Axis.Y.Scaled=e.Class.create(e.Graph.Axis.Y,{initialize:function(t,e){if(void 0===e.scale)throw new Error("Scaled requires scale");this.scale=e.scale,void 0===e.grid?this.grid=!0:this.grid=e.grid,t(e)},_drawAxis:function(e,n){var i=this.scale.domain(),r=this.graph.renderer.domain().y,o=[Math.min.apply(Math,i),Math.max.apply(Math,i)],s=t.scale.linear().domain([0,1]).range(o),a=[s(r[0]),s(r[1])],l=t.scale.linear().domain(o).range(a);return e(this.scale.copy().domain(i.map(l)).range(n.range()))},_drawGrid:function(t,e){this.grid&&t(e)}}),e.namespace("Rickshaw.Graph.Behavior.Series.Highlight"),e.Graph.Behavior.Series.Highlight=function(e){this.graph=e.graph,this.legend=e.legend;var n=this,i={},r=null,o=e.disabledColor||function(e){return t.interpolateRgb(e,t.rgb("#d8d8d8"))(.8).toString()};this.addHighlightEvents=function(t){t.element.addEventListener("mouseover",function(e){r||(r=t,n.legend.lines.forEach(function(e){if(t!==e)i[e.series.name]=i[e.series.name]||e.series.color,e.series.color=o(e.series.color);else if(n.graph.renderer.unstack&&(!e.series.renderer||e.series.renderer.unstack)){var r=n.graph.series.indexOf(e.series);e.originalIndex=r;var s=n.graph.series.splice(r,1)[0];n.graph.series.push(s)}}),n.graph.update())},!1),t.element.addEventListener("mouseout",function(e){r&&(r=null,n.legend.lines.forEach(function(e){if(t===e&&e.hasOwnProperty("originalIndex")){var r=n.graph.series.pop();n.graph.series.splice(e.originalIndex,0,r),delete e.originalIndex}i[e.series.name]&&(e.series.color=i[e.series.name])}),n.graph.update())},!1)},this.legend&&this.legend.lines.forEach(function(t){n.addHighlightEvents(t)})},e.namespace("Rickshaw.Graph.Behavior.Series.Order"),e.Graph.Behavior.Series.Order=function(t){this.graph=t.graph,this.legend=t.legend;var e=this;if(void 0===window.jQuery)throw"couldn't find jQuery at window.jQuery";if(void 0===window.jQuery.ui)throw"couldn't find jQuery UI at window.jQuery.ui";jQuery(function(){jQuery(e.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(t,n){var i=[];jQuery(e.legend.list).find("li").each(function(t,e){e.series&&i.push(e.series)});for(var r=e.graph.series.length-1;r>=0;r--)e.graph.series[r]=i.shift();e.graph.update()}}),jQuery(e.legend.list).disableSelection()}),this.graph.onUpdate(function(){var t=window.getComputedStyle(e.legend.element).height;e.legend.element.style.height=t})},e.namespace("Rickshaw.Graph.Behavior.Series.Toggle"),e.Graph.Behavior.Series.Toggle=function(t){this.graph=t.graph,this.legend=t.legend;var e=this;if(this.addAnchor=function(t){var n=document.createElement("a");n.innerHTML="&#10004;",n.classList.add("action"),t.element.insertBefore(n,t.element.firstChild),n.onclick=function(e){if(t.series.disabled)t.series.enable(),t.element.classList.remove("disabled");else{if(this.graph.series.filter(function(t){return!t.disabled}).length<=1)return;t.series.disable(),t.element.classList.add("disabled")}}.bind(this),t.element.getElementsByTagName("span")[0].onclick=function(n){var i=t.series.disabled;if(!i)for(var r=0;r<e.legend.lines.length;r++){var o=e.legend.lines[r];if(t.series===o.series);else if(!o.series.disabled){i=!0;break}}i?(t.series.enable(),t.element.classList.remove("disabled"),e.legend.lines.forEach(function(e){t.series===e.series||(e.series.disable(),e.element.classList.add("disabled"))})):e.legend.lines.forEach(function(t){t.series.enable(),t.element.classList.remove("disabled")})}},this.legend){var n=jQuery;void 0!==n&&n(this.legend.list).sortable&&n(this.legend.list).sortable({start:function(t,e){e.item.bind("no.onclick",function(t){t.preventDefault()})},stop:function(t,e){setTimeout(function(){e.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(t){e.addAnchor(t)})}this._addBehavior=function(){this.graph.series.forEach(function(t){t.disable=function(){if(e.graph.series.length<=1)throw"only one series left";t.disabled=!0,e.graph.update()},t.enable=function(){t.disabled=!1,e.graph.update()}})},this._addBehavior(),this.updateBehaviour=function(){this._addBehavior()}},e.namespace("Rickshaw.Graph.HoverDetail"),e.Graph.HoverDetail=e.Class.create({initialize:function(t){var e=this.graph=t.graph;this.xFormatter=t.xFormatter||function(t){return new Date(1e3*t).toUTCString()},this.yFormatter=t.yFormatter||function(t){return null===t?t:t.toFixed(2)};var n=this.element=document.createElement("div");n.className="detail",this.visible=!0,e.element.appendChild(n),this.lastEvent=null,this._addListeners(),this.onShow=t.onShow,this.onHide=t.onHide,this.onRender=t.onRender,this.formatter=t.formatter||this.formatter},formatter:function(t,e,n,i,r,o){return t.name+":&nbsp;"+r},update:function(e){if((e=e||this.lastEvent)&&(this.lastEvent=e,e.target.nodeName.match(/^(path|svg|rect|circle)$/))){var n,i=this.graph,r=e.offsetX||e.layerX,o=e.offsetY||e.layerY,s=0,a=[];if(this.graph.series.active().forEach(function(e){var l=this.graph.stackedData[s++];if(l.length){var c=i.x.invert(r),u=t.scale.linear().domain([l[0].x,l.slice(-1)[0].x]).range([0,l.length-1]),h=Math.round(u(c));h==l.length-1&&h--;for(var d=Math.min(h||0,l.length-1),p=h;p<l.length-1&&(l[p]&&l[p+1]);){if(l[p].x<=c&&l[p+1].x>c){d=Math.abs(c-l[p].x)<Math.abs(c-l[p+1].x)?p:p+1;break}l[p+1].x<=c?p++:p--}d<0&&(d=0);var f=l[d],m=Math.sqrt(Math.pow(Math.abs(i.x(f.x)-r),2)+Math.pow(Math.abs(i.y(f.y+f.y0)-o),2)),g=e.xFormatter||this.xFormatter,v=e.yFormatter||this.yFormatter,y={formattedXValue:g(f.x),formattedYValue:v(e.scale?e.scale.invert(f.y):f.y),series:e,value:f,distance:m,order:s,name:e.name};(!n||m<n.distance)&&(n=y),a.push(y)}},this),n){n.active=!0;var l=n.value.x,c=n.formattedXValue;this.element.innerHTML="",this.element.style.left=i.x(l)+"px",this.visible&&this.render({points:a,detail:a,mouseX:r,mouseY:o,formattedXValue:c,domainX:l})}}},hide:function(){this.visible=!1,this.element.classList.add("inactive"),"function"==typeof this.onHide&&this.onHide()},show:function(){this.visible=!0,this.element.classList.remove("inactive"),"function"==typeof this.onShow&&this.onShow()},render:function(t){var e=this.graph,n=t.points.filter(function(t){return t.active}).shift();if(null!==n.value.y){var i=n.formattedXValue,r=n.formattedYValue;this.element.innerHTML="",this.element.style.left=e.x(n.value.x)+"px";var o=document.createElement("div");o.className="x_label",o.innerHTML=i,this.element.appendChild(o);var s=document.createElement("div");s.className="item";var a=n.series,l=a.scale?a.scale.invert(n.value.y):n.value.y;s.innerHTML=this.formatter(a,n.value.x,l,i,r,n),s.style.top=this.graph.y(n.value.y0+n.value.y)+"px",this.element.appendChild(s);var c=document.createElement("div");c.className="dot",c.style.top=s.style.top,c.style.borderColor=a.color,this.element.appendChild(c),n.active&&(s.classList.add("active"),c.classList.add("active"));var u=[o,s];u.forEach(function(t){t.classList.add("left")}),this.show();var h=this._calcLayoutError(u);h>0&&(u.forEach(function(t){t.classList.remove("left"),t.classList.add("right")}),this._calcLayoutError(u)>h&&u.forEach(function(t){t.classList.remove("right"),t.classList.add("left")})),"function"==typeof this.onRender&&this.onRender(t)}},_calcLayoutError:function(t){var e=this.element.parentNode.getBoundingClientRect(),n=0;t.forEach(function(t){var i=t.getBoundingClientRect();i.width&&(i.right>e.right&&(n+=i.right-e.right),i.left<e.left&&(n+=e.left-i.left))});return n},_addListeners:function(){this.graph.element.addEventListener("mousemove",function(t){this.visible=!0,this.update(t)}.bind(this),!1),this.graph.onUpdate(function(){this.update()}.bind(this)),this.graph.element.addEventListener("mouseout",function(t){!t.relatedTarget||t.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),!1)}}),e.namespace("Rickshaw.Graph.JSONP"),e.Graph.JSONP=e.Class.create(e.Graph.Ajax,{request:function(){jQuery.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}}),e.namespace("Rickshaw.Graph.Legend"),e.Graph.Legend=e.Class.create({className:"rickshaw_legend",initialize:function(t){this.element=t.element,this.graph=t.graph,this.naturalOrder=t.naturalOrder,this.element.classList.add(this.className),this.list=document.createElement("ul"),this.element.appendChild(this.list),this.render(),this.graph.onUpdate(function(){})},render:function(){for(var t=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var e=this.graph.series.map(function(t){return t});this.naturalOrder||(e=e.reverse()),e.forEach(function(e){t.addLine(e)})},addLine:function(e){var n=document.createElement("li");n.className="line",e.disabled&&(n.className+=" disabled"),e.className&&t.select(n).classed(e.className,!0);var i=document.createElement("div");i.className="swatch",i.style.backgroundColor=e.color,n.appendChild(i);var r=document.createElement("span");r.className="label",r.innerHTML=e.name,n.appendChild(r),this.list.appendChild(n),n.series=e,e.noLegend&&(n.style.display="none");var o={element:n,series:e};return this.shelving&&(this.shelving.addAnchor(o),this.shelving.updateBehaviour()),this.highlighter&&this.highlighter.addHighlightEvents(o),this.lines.push(o),n}}),e.namespace("Rickshaw.Graph.RangeSlider"),e.Graph.RangeSlider=e.Class.create({initialize:function(t){this.element=t.element;var e=this.graph=t.graph;this.slideCallbacks=[],this.build(),e.onUpdate(function(){this.update()}.bind(this))},build:function(){var t=this.element,e=this.graph,n=jQuery,i=e.dataDomain(),r=this;n(function(){n(t).slider({range:!0,min:i[0],max:i[1],values:[i[0],i[1]],slide:function(t,n){if(!(n.values[1]<=n.values[0])){e.window.xMin=n.values[0],e.window.xMax=n.values[1],e.update();var i=e.dataDomain();i[0]==n.values[0]&&(e.window.xMin=void 0),i[1]==n.values[1]&&(e.window.xMax=void 0),r.slideCallbacks.forEach(function(t){t(e,e.window.xMin,e.window.xMax)})}}})}),n(t)[0].style.width=e.width+"px"},update:function(){var t=this.element,e=this.graph,n=jQuery,i=n(t).slider("option","values"),r=e.dataDomain();n(t).slider("option","min",r[0]),n(t).slider("option","max",r[1]),null==e.window.xMin&&(i[0]=r[0]),null==e.window.xMax&&(i[1]=r[1]),n(t).slider("option","values",i)},onSlide:function(t){this.slideCallbacks.push(t)}}),e.namespace("Rickshaw.Graph.RangeSlider.Preview"),e.Graph.RangeSlider.Preview=e.Class.create({initialize:function(e){if(!e.element)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";if(!e.graph&&!e.graphs)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";this.element=e.element,this.element.style.position="relative",this.graphs=e.graph?[e.graph]:e.graphs,this.defaults={height:75,width:400,gripperColor:void 0,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0,heightRatio:.2},this.heightRatio=e.heightRatio||this.defaults.heightRatio,this.defaults.gripperColor=t.rgb(this.defaults.frameColor).darker().toString(),this.configureCallbacks=[],this.slideCallbacks=[],this.previews=[],e.width||(this.widthFromGraph=!0),e.height||(this.heightFromGraph=!0),(this.widthFromGraph||this.heightFromGraph)&&this.graphs[0].onConfigure(function(){this.configure(e),this.render()}.bind(this)),e.width=e.width||this.graphs[0].width||this.defaults.width,e.height=e.height||this.graphs[0].height*this.heightRatio||this.defaults.height,this.configure(e),this.render()},onSlide:function(t){this.slideCallbacks.push(t)},onConfigure:function(t){this.configureCallbacks.push(t)},configure:function(t){this.config=this.config||{},this.configureCallbacks.forEach(function(e){e(t)}),e.keys(this.defaults).forEach(function(e){this.config[e]=e in t?t[e]:e in this.config?this.config[e]:this.defaults[e]},this),("width"in t||"height"in t)&&(this.widthFromGraph&&(this.config.width=this.graphs[0].width),this.heightFromGraph&&(this.config.height=this.graphs[0].height*this.heightRatio,this.previewHeight=this.config.height),this.previews.forEach(function(t){var e=this.previewHeight/this.graphs.length-2*this.config.frameTopThickness,n=this.config.width-2*this.config.frameHandleThickness;if(t.setSize({width:n,height:e}),this.svg){var i=e+2*this.config.frameHandleThickness,r=n+2*this.config.frameHandleThickness;this.svg.style("width",r+"px"),this.svg.style("height",i+"px")}},this))},render:function(){var n=this;this.svg=t.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]),this.previewHeight=this.config.height-2*this.config.frameTopThickness,this.previewWidth=this.config.width-2*this.config.frameHandleThickness,this.currentFrame=[0,this.previewWidth];var i=t.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs),r="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)";i.enter().append("div").classed("rickshaw_range_slider_preview_container",!0).style("-webkit-transform",r).style("-moz-transform",r).style("-ms-transform",r).style("transform",r).each(function(t,i){var r=e.extend({},t.config),o=n.previewHeight/n.graphs.length,s=t.renderer.name;e.extend(r,{element:this.appendChild(document.createElement("div")),height:o,width:n.previewWidth,series:t.series,renderer:s});var a=new e.Graph(r);n.previews.push(a),t.onUpdate(function(){a.render(),n.render()}),t.onConfigure(function(t){delete t.height,t.width=t.width-2*n.config.frameHandleThickness,a.configure(t),a.render()}),a.render()}),i.exit().remove();var o=this.graphs[0],s=t.scale.linear().domain([0,this.previewWidth]).range(o.dataDomain()),a=[o.window.xMin,o.window.xMax];this.currentFrame[0]=void 0===a[0]?0:Math.round(s.invert(a[0])),this.currentFrame[0]<0&&(this.currentFrame[0]=0),this.currentFrame[1]=void 0===a[1]?this.previewWidth:s.invert(a[1]),this.currentFrame[1]-this.currentFrame[0]<n.config.minimumFrameWidth&&(this.currentFrame[1]=(this.currentFrame[0]||0)+n.config.minimumFrameWidth),this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",!0).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","absolute").style("top",0),this._renderDimming(),this._renderFrame(),this._renderGrippers(),this._renderHandles(),this._renderMiddle(),this._registerMouseEvents()},_renderDimming:function(){var t=this.svg.selectAll("path.dimming").data([null]);t.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",!0);var e="";e+=" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness,e+=" h "+this.previewWidth,e+=" v "+this.previewHeight,e+=" h "+-this.previewWidth,e+=" z ",e+=" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+Math.min(this.currentFrame[1]+2*this.config.frameHandleThickness,this.previewWidth+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderFrame:function(){var t=this.svg.selectAll("path.frame").data([null]);t.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",!0);var e="";e+=" M "+this.currentFrame[0]+" 0",e+=" H "+(this.currentFrame[1]+2*this.config.frameHandleThickness),e+=" V "+this.config.height,e+=" H "+this.currentFrame[0],e+=" z",e+=" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+(this.currentFrame[0]+this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderGrippers:function(){var t=this.svg.selectAll("path.gripper").data([null]);t.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",!0);var e="";[.4,.6].forEach(function(t){e+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*t)+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height),e+=" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+t))+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height)}.bind(this)),t.attr("d",e)},_renderHandles:function(){var t=this.svg.selectAll("rect.left_handle").data([null]);t.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",!0),t.attr("x",this.currentFrame[0]).attr("height",this.config.height);var e=this.svg.selectAll("rect.right_handle").data([null]);e.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",!0),e.attr("x",this.currentFrame[1]+this.config.frameHandleThickness).attr("height",this.config.height)},_renderMiddle:function(){var t=this.svg.selectAll("rect.middle_handle").data([null]);t.enter().append("rect").style("cursor","move").style("fill-opacity","0").classed("middle_handle",!0),t.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness).attr("height",this.config.height)},_registerMouseEvents:function(){function e(e,n){l.stop=c._getClientXFromEvent(t.event,l);var i=l.stop-l.start,r=c.frameBeforeDrag.slice(0),o=c.config.minimumFrameWidth;l.rigid&&(o=c.frameBeforeDrag[1]-c.frameBeforeDrag[0]),l.left&&(r[0]=Math.max(r[0]+i,0)),l.right&&(r[1]=Math.min(r[1]+i,c.previewWidth)),r[1]-r[0]<=o&&(l.left&&(r[0]=r[1]-o),l.right&&(r[1]=r[0]+o),r[0]<=0&&(r[1]-=r[0],r[0]=0),r[1]>=c.previewWidth&&(r[0]-=r[1]-c.previewWidth,r[1]=c.previewWidth)),c.graphs.forEach(function(e){var n=t.scale.linear().interpolate(t.interpolateNumber).domain([0,c.previewWidth]).range(e.dataDomain()),i=[n(r[0]),n(r[1])];c.slideCallbacks.forEach(function(t){t(e,i[0],i[1])}),0===r[0]&&(i[0]=void 0),r[1]===c.previewWidth&&(i[1]=void 0),e.window.xMin=i[0],e.window.xMax=i[1],e.update()})}function n(){l.target=t.event.target,l.start=c._getClientXFromEvent(t.event,l),c.frameBeforeDrag=c.currentFrame.slice(),t.event.preventDefault?t.event.preventDefault():t.event.returnValue=!1,t.select(document).on("mousemove.rickshaw_range_slider_preview",e),t.select(document).on("mouseup.rickshaw_range_slider_preview",s),t.select(document).on("touchmove.rickshaw_range_slider_preview",e),t.select(document).on("touchend.rickshaw_range_slider_preview",s),t.select(document).on("touchcancel.rickshaw_range_slider_preview",s)}function i(t,e){l.left=!0,n()}function r(t,e){l.right=!0,n()}function o(t,e){l.left=!0,l.right=!0,l.rigid=!0,n()}function s(e,n){t.select(document).on("mousemove.rickshaw_range_slider_preview",null),t.select(document).on("mouseup.rickshaw_range_slider_preview",null),t.select(document).on("touchmove.rickshaw_range_slider_preview",null),t.select(document).on("touchend.rickshaw_range_slider_preview",null),t.select(document).on("touchcancel.rickshaw_range_slider_preview",null),delete c.frameBeforeDrag,l.left=!1,l.right=!1,l.rigid=!1}var a=t.select(this.element),l={target:null,start:null,stop:null,left:!1,right:!1,rigid:!1},c=this;a.select("rect.left_handle").on("mousedown",i),a.select("rect.right_handle").on("mousedown",r),a.select("rect.middle_handle").on("mousedown",o),a.select("rect.left_handle").on("touchstart",i),a.select("rect.right_handle").on("touchstart",r),a.select("rect.middle_handle").on("touchstart",o)},_getClientXFromEvent:function(t,e){switch(t.type){case"touchstart":case"touchmove":for(var n=t.changedTouches,i=null,r=0;r<n.length;r++)if(n[r].target===e.target){i=n[r];break}return null!==i?i.clientX:void 0;default:return t.clientX}}}),e.namespace("Rickshaw.Graph.Renderer"),e.Graph.Renderer=e.Class.create({initialize:function(t){this.graph=t.graph,this.tension=t.tension||this.tension,this.configure(t)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:.8,strokeWidth:2,unstack:!0,padding:{top:.01,right:0,bottom:.01,left:0},stroke:!1,fill:!1}},domain:function(t){var e=1/0,n=-1/0,i=1/0,r=-1/0;return(t||this.graph.stackedData||this.graph.stackData()).forEach(function(t){t.forEach(function(t){if(null!=t.y){var e=t.y+t.y0;e<i&&(i=e),e>r&&(r=e)}}),t.length&&(t[0].x<e&&(e=t[0].x),t[t.length-1].x>n&&(n=t[t.length-1].x))}),e-=(n-e)*this.padding.left,n+=(n-e)*this.padding.right,i="auto"===this.graph.min?i:this.graph.min||0,r=void 0===this.graph.max?r:this.graph.max,("auto"===this.graph.min||i<0)&&(i-=(r-i)*this.padding.bottom),void 0===this.graph.max&&(r+=(r-i)*this.padding.top),{x:[e,n],y:[i,r]}},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis;i.selectAll("*").remove();var r=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),o=i.selectAll("path.path").data(r).enter().append("svg:path").classed("path",!0).attr("d",this.seriesPathFactory());if(this.stroke)var s=i.selectAll("path.stroke").data(r).enter().append("svg:path").classed("stroke",!0).attr("d",this.seriesStrokeFactory());var a=0;n.forEach(function(t){t.disabled||(t.path=o[0][a],this.stroke&&(t.stroke=s[0][a]),this._styleSeries(t),a++)},this)},_styleSeries:function(e){var n=this.fill?e.color:"none",i=this.stroke?e.color:"none";e.path.setAttribute("fill",n),e.path.setAttribute("stroke",i),e.path.setAttribute("stroke-width",this.strokeWidth),e.className&&t.select(e.path).classed(e.className,!0),e.className&&this.stroke&&t.select(e.stroke).classed(e.className,!0)},configure:function(t){t=t||{},e.keys(this.defaults()).forEach(function(n){t.hasOwnProperty(n)?"object"==typeof this.defaults()[n]?e.keys(this.defaults()[n]).forEach(function(e){this[n][e]=void 0!==t[n][e]?t[n][e]:void 0!==this[n][e]?this[n][e]:this.defaults()[n][e]},this):this[n]=void 0!==t[n]?t[n]:void 0!==this[n]?this[n]:void 0!==this.graph[n]?this.graph[n]:this.defaults()[n]:this[n]=this[n]||this.graph[n]||this.defaults()[n]},this)},setStrokeWidth:function(t){void 0!==t&&(this.strokeWidth=t)},setTension:function(t){void 0!==t&&(this.tension=t)}}),e.namespace("Rickshaw.Graph.Renderer.Line"),e.Graph.Renderer.Line=e.Class.create(e.Graph.Renderer,{name:"line",defaults:function(t){return e.extend(t(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n}}),e.namespace("Rickshaw.Graph.Renderer.Stack"),e.Graph.Renderer.Stack=e.Class.create(e.Graph.Renderer,{name:"stack",defaults:function(t){return e.extend(t(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var e=this.graph,n=t.svg.area().x(function(t){return e.x(t.x)}).y0(function(t){return e.y(t.y0)}).y1(function(t){return e.y(t.y+t.y0)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n}}),e.namespace("Rickshaw.Graph.Renderer.Bar"),e.Graph.Renderer.Bar=e.Class.create(e.Graph.Renderer,{name:"bar",defaults:function(t){var n=e.extend(t(),{gapSize:.05,unstack:!1});return delete n.tension,n},initialize:function(t,e){e=e||{},this.gapSize=e.gapSize||this.gapSize,t(e)},domain:function(t){var e=t(),n=this._frequentInterval(this.graph.stackedData.slice(-1).shift());return e.x[1]+=Number(n.magnitude),e},barWidth:function(t){var e=this._frequentInterval(t.stack);return this.graph.x.magnitude(e.magnitude)*(1-this.gapSize)},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis;i.selectAll("*").remove();var r=this.barWidth(n.active()[0]),o=0,s=n.filter(function(t){return!t.disabled}).length,a=this.unstack?r/s:r,l=function(t){return"matrix("+[1,0,0,t.y<0?-1:1,0,t.y<0?2*e.y.magnitude(Math.abs(t.y)):0].join(",")+")"};n.forEach(function(t){if(!t.disabled){this.barWidth(t);var n=i.selectAll("path").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:rect").attr("x",function(t){return e.x(t.x)+o}).attr("y",function(t){return e.y(t.y0+Math.abs(t.y))*(t.y<0?-1:1)}).attr("width",a).attr("height",function(t){return e.y.magnitude(Math.abs(t.y))}).attr("transform",l);Array.prototype.forEach.call(n[0],function(e){e.setAttribute("fill",t.color)}),this.unstack&&(o+=a)}},this)},_frequentInterval:function(t){for(var n={},i=0;i<t.length-1;i++){var r=t[i+1].x-t[i].x;n[r]=n[r]||0,n[r]++}var o={count:0,magnitude:1};return e.keys(n).forEach(function(t){o.count<n[t]&&(o={count:n[t],magnitude:t})}),o}}),e.namespace("Rickshaw.Graph.Renderer.Area"),e.Graph.Renderer.Area=e.Class.create(e.Graph.Renderer,{name:"area",defaults:function(t){return e.extend(t(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var e=this.graph,n=t.svg.area().x(function(t){return e.x(t.x)}).y0(function(t){return e.y(t.y0)}).y1(function(t){return e.y(t.y+t.y0)}).interpolate(e.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},seriesStrokeFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y+t.y0)}).interpolate(e.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis;i.selectAll("*").remove();var r=this.unstack?"append":"insert",o=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),s=i.selectAll("path").data(o).enter()[r]("svg:g","g");s.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area"),this.stroke&&s.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var a=0;n.forEach(function(t){t.disabled||(t.path=s[0][a++],this._styleSeries(t))},this)},_styleSeries:function(e){e.path&&(t.select(e.path).select(".area").attr("fill",e.color),this.stroke&&t.select(e.path).select(".line").attr("fill","none").attr("stroke",e.stroke||t.interpolateRgb(e.color,"black")(.125)).attr("stroke-width",this.strokeWidth),e.className&&e.path.setAttribute("class",e.className))}}),e.namespace("Rickshaw.Graph.Renderer.ScatterPlot"),e.Graph.Renderer.ScatterPlot=e.Class.create(e.Graph.Renderer,{name:"scatterplot",defaults:function(t){return e.extend(t(),{unstack:!0,fill:!0,stroke:!1,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:4})},initialize:function(t,e){t(e)},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis,r=this.dotSize;i.selectAll("*").remove(),n.forEach(function(t){if(!t.disabled){var n=i.selectAll("path").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return e.x(t.x)}).attr("cy",function(t){return e.y(t.y)}).attr("r",function(t){return"r"in t?t.r:r});t.className&&n.classed(t.className,!0),Array.prototype.forEach.call(n[0],function(e){e.setAttribute("fill",t.color)})}},this)}}),e.namespace("Rickshaw.Graph.Renderer.Multi"),e.Graph.Renderer.Multi=e.Class.create(e.Graph.Renderer,{name:"multi",initialize:function(t,e){t(e)},defaults:function(t){return e.extend(t(),{unstack:!0,fill:!1,stroke:!0})},configure:function(t,e){e=e||{},this.config=e,t(e)},domain:function(e){this.graph.stackData();var n=[],i=this._groups();return this._stack(i),i.forEach(function(t){var i=t.series.filter(function(t){return!t.disabled}).map(function(t){return t.stack});if(i.length){var r=null;r=t.renderer&&t.renderer.domain?t.renderer.domain(i):e(i),n.push(r)}}),{x:[t.min(n.map(function(t){return t.x[0]})),t.max(n.map(function(t){return t.x[1]}))],y:[t.min(n.map(function(t){return t.y[0]})),t.max(n.map(function(t){return t.y[1]}))]}},_groups:function(){var n=this.graph,i={};n.series.forEach(function(r){if(!r.disabled){if(!i[r.renderer]){var o=document.createElementNS("http://www.w3.org/2000/svg","g");n.vis[0][0].appendChild(o);var s=n._renderers[r.renderer],a={};[this.defaults(),s.defaults(),this.config,this.graph].forEach(function(t){e.extend(a,t)}),s.configure(a),i[r.renderer]={renderer:s,series:[],vis:t.select(o)}}i[r.renderer].series.push(r)}},this);var r=[];return Object.keys(i).forEach(function(t){var e=i[t];r.push(e)}),r},_stack:function(n){return n.forEach(function(n){var i=n.series.filter(function(t){return!t.disabled}),r=i.map(function(t){return t.stack});if(!n.renderer.unstack){var o=t.layout.stack(),s=e.clone(o(r));i.forEach(function(t,n){t._stack=e.clone(s[n])})}},this),n},render:function(){this.graph.series.forEach(function(t){if(!t.renderer)throw new Error("Each series needs a renderer for graph 'multi' renderer")}),this.graph.vis.selectAll("*").remove();var t=this._groups();(t=this._stack(t)).forEach(function(t){var e=t.series.filter(function(t){return!t.disabled});e.active=function(){return e},t.renderer.render({series:e,vis:t.vis}),e.forEach(function(t){t.stack=t._stack||t.stack||t.data})})}}),e.namespace("Rickshaw.Graph.Renderer.LinePlot"),e.Graph.Renderer.LinePlot=e.Class.create(e.Graph.Renderer,{name:"lineplot",defaults:function(t){return e.extend(t(),{unstack:!0,fill:!1,stroke:!0,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:3,strokeWidth:2})},seriesPathFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis,r=this.dotSize;i.selectAll("*").remove();var o=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),s=i.selectAll("path").data(o).enter().append("svg:path").attr("d",this.seriesPathFactory()),a=0;n.forEach(function(t){t.disabled||(t.path=s[0][a++],this._styleSeries(t))},this),n.forEach(function(t){if(!t.disabled){var n=i.selectAll("x").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return e.x(t.x)}).attr("cy",function(t){return e.y(t.y)}).attr("r",function(t){return"r"in t?t.r:r});Array.prototype.forEach.call(n[0],function(e){e&&(e.setAttribute("data-color",t.color),e.setAttribute("fill","white"),e.setAttribute("stroke",t.color),e.setAttribute("stroke-width",this.strokeWidth))}.bind(this))}},this)}}),e.namespace("Rickshaw.Graph.Smoother"),e.Graph.Smoother=e.Class.create({initialize:function(t){this.graph=t.graph,this.element=t.element,this.aggregationScale=1,this.build(),this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var t=this,e=jQuery;this.element&&e(function(){e(t.element).slider({min:1,max:100,slide:function(e,n){t.setScale(n.value),t.graph.update()}})})},setScale:function(t){if(t<1)throw"scale out of range: "+t;this.aggregationScale=t,this.graph.update()},transformer:function(t){if(1==this.aggregationScale)return t;var e=[];return t.forEach(function(t){for(var n=[];t.length;){var i=0,r=0,o=t.splice(0,this.aggregationScale);o.forEach(function(t){i+=t.x/o.length,r+=t.y/o.length}),n.push({x:i,y:r})}e.push(n)}.bind(this)),e}}),e.namespace("Rickshaw.Graph.Socketio"),e.Graph.Socketio=e.Class.create(e.Graph.Ajax,{request:function(){var t=this;io.connect(this.dataURL).on("rickshaw",function(e){t.success(e)})}}),e.namespace("Rickshaw.Series"),e.Series=e.Class.create(Array,{initialize:function(t,n,i){i=i||{},this.palette=new e.Color.Palette(n),this.timeBase=void 0===i.timeBase?Math.floor((new Date).getTime()/1e3):i.timeBase;var r=void 0===i.timeInterval?1e3:i.timeInterval;this.setTimeInterval(r),t&&"object"==typeof t&&Array.isArray(t)&&t.forEach(function(t){this.addItem(t)},this)},addItem:function(t){if(void 0===t.name)throw"addItem() needs a name";t.color=t.color||this.palette.color(t.name),t.data=t.data||[],0===t.data.length&&this.length&&this.getIndex()>0?this[0].data.forEach(function(e){t.data.push({x:e.x,y:0})}):0===t.data.length&&t.data.push({x:this.timeBase-(this.timeInterval||0),y:0}),this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},addData:function(t,n){var i=this.getIndex();e.keys(t).forEach(function(t){this.itemByName(t)||this.addItem({name:t})},this),this.forEach(function(e){e.data.push({x:n||(i*this.timeInterval||1)+this.timeBase,y:t[e.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return this[e]},setTimeInterval:function(t){this.timeInterval=t/1e3},setTimeBase:function(t){this.timeBase=t},dump:function(){var t={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};return this.forEach(function(e){var n={color:e.color,name:e.name,data:[]};e.data.forEach(function(t){n.data.push({x:t.x,y:t.y})}),t.items.push(n)}),t},load:function(t){t.timeInterval&&(this.timeInterval=t.timeInterval),t.timeBase&&(this.timeBase=t.timeBase),t.items&&t.items.forEach(function(t){this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},this)}}),e.Series.zeroFill=function(t){e.Series.fill(t,0)},e.Series.fill=function(t,e){for(var n,i=0,r=t.map(function(t){return t.data});i<Math.max.apply(null,r.map(function(t){return t.length}));)n=Math.min.apply(null,r.filter(function(t){return t[i]}).map(function(t){return t[i].x})),r.forEach(function(t){t[i]&&t[i].x==n||t.splice(i,0,{x:n,y:e})}),i++},e.namespace("Rickshaw.Series.FixedDuration"),e.Series.FixedDuration=e.Class.create(e.Series,{initialize:function(t,n,i){if(void 0===(i=i||{}).timeInterval)throw new Error("FixedDuration series requires timeInterval");if(void 0===i.maxDataPoints)throw new Error("FixedDuration series requires maxDataPoints");if(this.palette=new e.Color.Palette(n),this.timeBase=void 0===i.timeBase?Math.floor((new Date).getTime()/1e3):i.timeBase,this.setTimeInterval(i.timeInterval),this[0]&&this[0].data&&this[0].data.length?(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):(this.currentSize=0,this.currentIndex=0),this.maxDataPoints=i.maxDataPoints,t&&"object"==typeof t&&Array.isArray(t)&&(t.forEach(function(t){this.addItem(t)},this),this.currentSize+=1,this.currentIndex+=1),this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval,void 0!==this.maxDataPoints&&this.currentSize<this.maxDataPoints)for(var r=this.maxDataPoints-this.currentSize-1;r>1;r--)this.currentSize+=1,this.currentIndex+=1,this.forEach(function(t){t.data.unshift({x:((r-1)*this.timeInterval||1)+this.timeBase,y:0,i:r})},this)},addData:function(t,e,n){if(t(e,n),this.currentSize+=1,this.currentIndex+=1,void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(t){t.data.splice(0,1)}),this.currentSize-=1},getIndex:function(){return this.currentIndex}}),e}),function(t){t.fn.metrojs={capabilities:null,checkCapabilities:function(e,n){return(null==t.fn.metrojs.capabilities||void 0!==n&&1==n)&&(t.fn.metrojs.capabilities=new t.fn.metrojs.MetroModernizr(e)),t.fn.metrojs.capabilities}};var e=t.fn.metrojs,n=99e3;t.fn.liveTile=function(e){if(i[e]){for(var n=[],r=1;r<=arguments.length;r++)n[r-1]=arguments[r];return i[e].apply(this,n)}return"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.liveTile"),null):i.init.apply(this,arguments)},t.fn.liveTile.contentModules={modules:[],addContentModule:function(t,e){this.modules instanceof Array||(this.modules=[]),this.modules.push(e)},hasContentModule:function(t){if(void 0===t||!(this.modules instanceof Array))return-1;for(var e=0;e<this.modules.length;e++)if(void 0!==this.modules[e].moduleName&&this.modules[e].moduleName==t)return e;return-1}},t.fn.liveTile.defaults={mode:"slide",speed:500,initDelay:-1,delay:5e3,stops:"100%",stack:!1,direction:"vertical",animationDirection:"forward",tileSelector:">div,>li,>p,>img,>a",tileFaceSelector:">div,>li,>p,>img,>a",ignoreDataAttributes:!1,click:null,link:"",newWindow:!1,bounce:!1,bounceDirections:"all",bounceFollowsMove:!0,pauseOnHover:!1,pauseOnHoverEvent:"both",playOnHover:!1,playOnHoverEvent:"both",onHoverDelay:0,repeatCount:-1,appendBack:!0,alwaysTrigger:!1,flipListOnHover:!1,flipListOnHoverEvent:"mouseout",noHAflipOpacity:"1",haTransFunc:"ease",noHaTransFunc:"linear",currentIndex:0,startNow:!0,useModernizr:void 0!==window.Modernizr,useHardwareAccel:!0,useTranslate:!0,faces:{$front:null,$back:null},animationStarting:function(){},animationComplete:function(){},triggerDelay:function(){return 3e3*Math.random()},swap:"",swapFront:"-",swapBack:"-",contentModules:[]};var i={init:function(n){var i=t.extend({},t.fn.liveTile.defaults,n);return e.checkCapabilities(i),o.getBrowserPrefix(),-1==t.fn.liveTile.contentModules.hasContentModule("image")&&t.fn.liveTile.contentModules.addContentModule("image",s.imageSwap),-1==t.fn.liveTile.contentModules.hasContentModule("html")&&t.fn.liveTile.contentModules.addContentModule("html",s.htmlSwap),t(this).each(function(e,n){var o=t(n),s=r.initTileData(o,i);s.faces=r.prepTile(o,s),s.fade=function(t){r.fade(o,t)},s.slide=function(t){r.slide(o,t)},s.carousel=function(t){r.carousel(o,t)},s.flip=function(t){r.flip(o,t)},s.flipList=function(t){r.flipList(o,t)};var a={fade:s.fade,slide:s.slide,carousel:s.carousel,flip:s.flip,"flip-list":s.flipList};s.doAction=function(t){var e=a[s.mode];"function"==typeof e&&(e(t),s.hasRun=!0),t==s.timer.repeatCount&&(s.runEvents=!1)},s.timer=new t.fn.metrojs.TileTimer(s.delay,s.doAction,s.repeatCount),o.data("LiveTile",s),("flip-list"!==s.mode||0==s.flipListOnHover)&&(s.pauseOnHover?r.bindPauseOnHover(o):s.playOnHover&&r.bindPlayOnHover(o,s)),(s.link.length>0||"function"==typeof s.click)&&o.css({cursor:"pointer"}).bind("click.liveTile",function(t){var e=!0;"function"==typeof s.click&&(e=s.click(o,s)||!1),e&&s.link.length>0&&(t.preventDefault(),s.newWindow?window.open(s.link):window.location=s.link)}),r.bindBounce(o,s),s.startNow&&"none"!=s.mode&&(s.runEvents=!0,s.timer.start(s.initDelay))})},goto:function(e){var n,i=typeof e;if("undefined"===i&&(n={index:-99,delay:0,autoAniDirection:!1}),"number"!==i&&isNaN(e)){if("string"===i)if("next"==e)n={index:-99,delay:0};else{if(0!==e.indexOf("prev"))return t.error(e+' is not a recognized action for .liveTile("goto")'),t(this);n={index:-100,delay:0}}else if("object"===i){void 0===e.delay&&(e.delay=0);var r=typeof e.index;"undefined"===r?e.index=0:"string"===r&&("next"===e.index?e.index=-99:0===e.index.indexOf("prev")&&(e.index=-100)),n=e}}else n={index:parseInt(e,10),delay:0};return t(this).each(function(e,i){var r=t(i),o=r.data("LiveTile"),s=r.data("metrojs.tile"),a=n.index;if(!0===s.animating)return t(this);if("carousel"===o.mode){var l=o.faces.$listTiles.filter(".active"),c=o.faces.$listTiles.index(l);if(-100===a?((void 0===n.autoAniDirection||1==n.autoAniDirection)&&(o.tempValues.animationDirection=void 0===n.animationDirection?"backward":n.animationDirection),a=0===c?o.faces.$listTiles.length-1:c-1):-99===a&&((void 0===n.autoAniDirection||1==n.autoAniDirection)&&(o.tempValues.animationDirection=void 0===n.animationDirection?"forward":n.animationDirection),a=c+1),c==a)return;void 0!==n.direction&&(o.tempValues.direction=n.direction),void 0!==n.animationDirection&&(o.tempValues.animationDirection=n.animationDirection),o.currentIndex=0==a?o.faces.$listTiles.length:a-1}else o.currentIndex=a;o.runEvents=!0,o.timer.start(n.delay>=0?n.delay:o.delay)})},play:function(e){var n,i=typeof e;return"undefined"===i?n={delay:-1}:"number"===i?n={delay:e}:"object"===i&&(void 0===e.delay&&(e.delay=-1),n=e),t(this).each(function(e,i){var r=t(i).data("LiveTile");r.runEvents=!0,n.delay<0&&!r.hasRun&&(n.delay=r.initDelay),r.timer.start(n.delay>=0?n.delay:r.delay)})},animate:function(){return t(this).each(function(e,n){t(n).data("LiveTile").doAction()})},stop:function(){return t(this).each(function(e,n){var i=t(n).data("LiveTile");i.hasRun=!1,i.runEvents=!1,i.timer.stop(),window.clearTimeout(i.eventTimeout),window.clearTimeout(i.flCompleteTimeout),window.clearTimeout(i.completeTimeout),"flip-list"===i.mode&&i.faces.$listTiles.each(function(e,n){var i=t(n).data("metrojs.tile");window.clearTimeout(i.eventTimeout),window.clearTimeout(i.flCompleteTimeout),window.clearTimeout(i.completeTimeout)})})},pause:function(){return t(this).each(function(e,n){var i=t(n).data("LiveTile");i.timer.pause(),i.runEvents=!1,window.clearTimeout(i.eventTimeout),window.clearTimeout(i.flCompleteTimeout),window.clearTimeout(i.completeTimeout),"flip-list"===i.mode&&i.faces.$listTiles.each(function(e,n){var i=t(n).data("metrojs.tile");window.clearTimeout(i.eventTimeout),window.clearTimeout(i.flCompleteTimeout),window.clearTimeout(i.completeTimeout)})})},restart:function(e){var n,i=typeof e;return"undefined"===i?n={delay:-1}:"number"===i?n={delay:e}:"object"===i&&(void 0===e.delay&&(e.delay=-1),n=e),t(this).each(function(e,i){var r=t(i).data("LiveTile");n.delay<0&&!r.hasRun&&(n.delay=r.initDelay),r.hasRun=!1,r.runEvents=!0,r.timer.restart(n.delay>=0?n.delay:r.delay)})},rebind:function(e){return t(this).each(function(t,n){void 0!==e?(void 0!==e.timer&&null!=e.timer&&e.timer.stop(),e.hasRun=!1,i.init.apply(n,e)):i.init.apply(n,{})})},destroy:function(e){var n,i=typeof e;return"undefined"===i?n={removeCss:!1}:"boolean"===i?n={removeCss:e}:"object"===i&&(void 0===e.removeCss&&(e.removeCss=!1),n=e),t(this).each(function(e,i){var s=t(i),a=s.data("LiveTile");if(void 0!==a){s.unbind(".liveTile");var l=o.appendStyleProperties({margin:"",cursor:""},["transform","transition"],["",""]);a.timer.stop(),window.clearTimeout(a.eventTimeout),window.clearTimeout(a.flCompleteTimeout),window.clearTimeout(a.completeTimeout),null!=a.faces.$listTiles&&a.faces.$listTiles.each(function(e,i){var o=t(i);if("flip-list"===a.mode){var s=o.data("metrojs.tile");window.clearTimeout(s.eventTimeout),window.clearTimeout(s.flCompleteTimeout),window.clearTimeout(s.completeTimeout)}else if("carousel"===a.mode){var c=a.listData[e];c.bounce&&r.unbindMsBounce(o,c)}n.removeCss?(o.removeClass("ha"),o.find(a.tileFaceSelector).unbind(".liveTile").removeClass("bounce flip-front flip-back ha slide slide-front slide-back").css(l)):o.find(a.tileFaceSelector).unbind(".liveTile"),o.removeData("metrojs.tile")}).unbind(".liveTile"),null!=a.faces.$front&&n.removeCss&&a.faces.$front.removeClass("flip-front flip-back ha slide slide-front slide-back").css(l),null!=a.faces.$back&&n.removeCss&&a.faces.$back.removeClass("flip-front flip-back ha slide slide-front slide-back").css(l),a.bounce&&r.unbindMsBounce(s,a),a.playOnHover&&r.unbindMsPlayOnHover(s,a),a.pauseOnhover&&r.unbindMsPauseOnHover(s,a),s.removeClass("ha"),s.removeData("LiveTile"),s.removeData("metrojs.tile"),a=null}})}},r={dataAtr:function(t,e,n){return void 0!==t.attr("data-"+e)?t.attr("data-"+e):n},dataMethod:function(t,e,n){return void 0!==t.data(e)?t.data(e):n},getDataOrDefault:null,initTileData:function(n,i){var o=0==i.ignoreDataAttributes,s=null;null==this.getDataOrDefault&&(this.getDataOrDefault=e.capabilities.isOldJQuery?this.dataAtr:this.dataMethod),(s=o?{speed:this.getDataOrDefault(n,"speed",i.speed),delay:this.getDataOrDefault(n,"delay",i.delay),stops:this.getDataOrDefault(n,"stops",i.stops),stack:this.getDataOrDefault(n,"stack",i.stack),mode:this.getDataOrDefault(n,"mode",i.mode),direction:this.getDataOrDefault(n,"direction",i.direction),useHardwareAccel:this.getDataOrDefault(n,"ha",i.useHardwareAccel),repeatCount:this.getDataOrDefault(n,"repeat",i.repeatCount),swap:this.getDataOrDefault(n,"swap",i.swap),appendBack:this.getDataOrDefault(n,"appendback",i.appendBack),currentIndex:this.getDataOrDefault(n,"start-index",i.currentIndex),animationDirection:this.getDataOrDefault(n,"ani-direction",i.animationDirection),startNow:this.getDataOrDefault(n,"start-now",i.startNow),tileSelector:this.getDataOrDefault(n,"tile-selector",i.tileSelector),tileFaceSelector:this.getDataOrDefault(n,"face-selector",i.tileFaceSelector),bounce:this.getDataOrDefault(n,"bounce",i.bounce),bounceDirections:this.getDataOrDefault(n,"bounce-dir",i.bounceDirections),bounceFollowsMove:this.getDataOrDefault(n,"bounce-follows",i.bounceFollowsMove),click:this.getDataOrDefault(n,"click",i.click),link:this.getDataOrDefault(n,"link",i.link),newWindow:this.getDataOrDefault(n,"new-window",i.newWindow),alwaysTrigger:this.getDataOrDefault(n,"always-trigger",i.alwaysTrigger),flipListOnHover:this.getDataOrDefault(n,"flip-onhover",i.flipListOnHover),pauseOnHover:this.getDataOrDefault(n,"pause-onhover",i.pauseOnHover),playOnHover:this.getDataOrDefault(n,"play-onhover",i.playOnHover),onHoverDelay:this.getDataOrDefault(n,"hover-delay",i.onHoverDelay),noHAflipOpacity:this.getDataOrDefault(n,"flip-opacity",i.noHAflipOpacity),useTranslate:this.getDataOrDefault(n,"use-translate",i.useTranslate),runEvents:!1,isReversed:!1,loopCount:0,contentModules:[],listData:[],height:n.height(),width:n.width(),tempValues:{}}:t.extend(!0,{runEvents:!1,isReversed:!1,loopCount:0,contentModules:[],listData:[],height:n.height(),width:n.width(),tempValues:{}},i)).useTranslate=s.useTranslate&&s.useHardwareAccel&&e.capabilities.canTransform&&e.capabilities.canTransition,s.margin="vertical"===s.direction?s.height/2:s.width/2,s.stops="object"==typeof i.stops&&i.stops instanceof Array?i.stops:(""+s.stops).split(","),1===s.stops.length&&s.stops.push("0px");var a=s.swap.replace(" ","").split(","),l=o?this.getDataOrDefault(n,"swap-front",i.swapFront):i.swapFront,c=o?this.getDataOrDefault(n,"swap-back",i.swapBack):i.swapBack;s.swapFront="-"===l?a:l.replace(" ","").split(","),s.swapBack="-"===c?a:c.replace(" ","").split(",");var u;for(u=0;u<s.swapFront.length;u++)s.swapFront[u].length>0&&-1===t.inArray(s.swapFront[u],a)&&a.push(s.swapFront[u]);for(u=0;u<s.swapBack.length;u++)s.swapBack[u].length>0&&-1===t.inArray(s.swapBack[u],a)&&a.push(s.swapBack[u]);for(s.swap=a,u=0;u<a.length;u++)if(a[u].length>0){var h=t.fn.liveTile.contentModules.hasContentModule(a[u]);h>-1&&s.contentModules.push(t.fn.liveTile.contentModules.modules[h])}s.initDelay=o?this.getDataOrDefault(n,"initdelay",i.initDelay):i.initDelay,s.delay<-1?s.delay=i.triggerDelay(1):s.delay<0&&(s.delay=3500+4501*Math.random()),s.initDelay<0&&(s.initDelay=s.delay);var d={};for(u=0;u<s.contentModules.length;u++)t.extend(d,s.contentModules[u].data);t.extend(d,i,s);for("flip-list"===d.mode?n.find(d.tileSelector).not(".tile-title").each(function(e,n){var i=t(n),s={direction:o?r.getDataOrDefault(i,"direction",d.direction):d.direction,newWindow:!!o&&r.getDataOrDefault(i,"new-window",!1),link:o?r.getDataOrDefault(i,"link",""):"",faces:{$front:null,$back:null},height:i.height(),width:i.width(),isReversed:!1};s.margin="vertical"===s.direction?s.height/2:s.width/2,d.listData.push(s)}):"carousel"===d.mode&&(d.stack=!0,n.find(d.tileSelector).not(".tile-title").each(function(e,n){var i=t(n),s={bounce:!!o&&r.getDataOrDefault(i,"bounce",!1),bounceDirections:o?r.getDataOrDefault(i,"bounce-dir","all"):"all",link:o?r.getDataOrDefault(i,"link",""):"",newWindow:!!o&&r.getDataOrDefault(i,"new-window",!1),animationDirection:o?r.getDataOrDefault(i,"ani-direction",""):"",direction:o?r.getDataOrDefault(i,"direction",""):""};d.listData.push(s)})),u=0;u<s.contentModules.length;u++)"function"==typeof d.contentModules[u].initData&&d.contentModules[u].initData(d,n);return s=null,d},prepTile:function(i,s){i.addClass(s.mode);var a,l,c,u,h={$tileFaces:null,$listTiles:null,$front:null,$back:null};switch(s.mode){case"fade":h.$tileFaces=i.find(s.tileFaceSelector).not(".tile-title"),h.$front=null!=s.faces.$front&&s.faces.$front.length>0?s.faces.$front.addClass("fade-front"):h.$tileFaces.filter(":first").addClass("fade-front"),h.$back=null!=s.faces.$back&&s.faces.$back.length>0?s.faces.$back.addClass("fade-back"):h.$tileFaces.length>1?h.$tileFaces.filter(":last").addClass("fade-back"):s.appendBack?t('<div class="fade-back"></div>').appendTo(i):t("<div></div>");break;case"slide":if(h.$tileFaces=i.find(s.tileFaceSelector).not(".tile-title"),h.$front=null!=s.faces.$front&&s.faces.$front.length>0?s.faces.$front.addClass("slide-front"):h.$tileFaces.filter(":first").addClass("slide-front"),h.$back=null!=s.faces.$back&&s.faces.$back.length>0?s.faces.$back.addClass("slide-back"):h.$tileFaces.length>1?h.$tileFaces.filter(":last").addClass("slide-back"):s.appendBack?t('<div class="slide-back"></div>').appendTo(i):t("<div></div>"),1==s.stack){var d,p;"vertical"===s.direction?(d="top",p="translate(0%, -100%) translateZ(0)"):(d="left",p="translate(-100%, 0%) translateZ(0)"),c={},s.useTranslate?o.appendStyleProperties(c,["transform"],[p]):c[d]="-100%",h.$back.css(c)}i.data("metrojs.tile",{animating:!1}),e.capabilities.canTransition&&s.useHardwareAccel&&(i.addClass("ha"),h.$front.addClass("ha"),h.$back.addClass("ha"));break;case"carousel":h.$listTiles=i.find(s.tileSelector).not(".tile-title");var f=h.$listTiles.length;i.data("metrojs.tile",{animating:!1}),s.currentIndex=Math.min(s.currentIndex,f-1),h.$listTiles.each(function(n,i){var a=t(i).addClass("slide"),l=s.listData[n],c="string"==typeof l.animationDirection&&l.animationDirection.length>0?l.animationDirection:s.animationDirection,h="string"==typeof l.direction&&l.direction.length>0?l.direction:s.direction;n==s.currentIndex?a.addClass("active"):"forward"===c?"vertical"===h?(u=s.useTranslate?o.appendStyleProperties({},["transform"],["translate(0%, 100%) translateZ(0)"]):{left:"0%",top:"100%"},a.css(u)):(u=s.useTranslate?o.appendStyleProperties({},["transform"],["translate(100%, 0%) translateZ(0)"]):{left:"100%",top:"0%"},a.css(u)):"backward"===c&&("vertical"===h?(u=s.useTranslate?o.appendStyleProperties({},["transform"],["translate(0%, -100%) translateZ(0)"]):{left:"0%",top:"-100%"},a.css(u)):(u=s.useTranslate?o.appendStyleProperties({},["transform"],["translate(-100%, 0%) translateZ(0)"]):{left:"-100%",top:"0%"},a.css(u))),r.bindLink(a,l),s.useHardwareAccel&&e.capabilities.canTransition&&r.bindBounce(a,l),a=null,l=null}),e.capabilities.canFlip3d&&s.useHardwareAccel&&(i.addClass("ha"),h.$listTiles.addClass("ha"));break;case"flip-list":h.$listTiles=i.find(s.tileSelector).not(".tile-title"),h.$listTiles.each(function(i,u){var h=t(u).addClass("tile-"+(i+1)),d=h.find(s.tileFaceSelector).filter(":first").addClass("flip-front").css({margin:"0px"});1===h.find(s.tileFaceSelector).length&&1==s.appendBack&&h.append("<div></div>");var p=h.find(s.tileFaceSelector).filter(":last").addClass("flip-back").css({margin:"0px"});s.listData[i].faces.$front=d,s.listData[i].faces.$back=p,h.data("metrojs.tile",{animating:!1,count:1,completeTimeout:null,flCompleteTimeout:null,index:i});var f=h.data("metrojs.tile");e.capabilities.canFlip3d&&s.useHardwareAccel?(h.addClass("ha"),d.addClass("ha"),p.addClass("ha"),a="vertical"===s.listData[i].direction?"rotateX(180deg)":"rotateY(180deg)",c=o.appendStyleProperties({},["transform"],[a]),p.css(c)):(l="vertical"===s.listData[i].direction?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"},c="vertical"===s.listData[i].direction?{height:"0px",width:"100%",marginTop:s.listData[i].margin+"px",opacity:s.noHAflipOpacity}:{height:"100%",width:"0px",marginLeft:s.listData[i].margin+"px",opacity:s.noHAflipOpacity},d.css(l),p.css(c));var m=function(){f.count++,f.count>=n&&(f.count=1)};if(s.flipListOnHover){var g=s.flipListOnHoverEvent+".liveTile";d.bind(g,function(){r.flip(h,f.count,s,m)}),p.bind(g,function(){r.flip(h,f.count,s,m)})}s.listData[i].link.length>0&&h.css({cursor:"pointer"}).bind("click.liveTile",function(){s.listData[i].newWindow?window.open(s.listData[i].link):window.location=s.listData[i].link})});break;case"flip":h.$tileFaces=i.find(s.tileFaceSelector).not(".tile-title"),h.$front=null!=s.faces.$front&&s.faces.$front.length>0?s.faces.$front.addClass("flip-front"):h.$tileFaces.filter(":first").addClass("flip-front"),h.$back=null!=s.faces.$back&&s.faces.$back.length>0?s.faces.$back.addClass("flip-back"):h.$tileFaces.length>1?h.$tileFaces.filter(":last").addClass("flip-back"):s.appendBack?t('<div class="flip-back"></div>').appendTo(i):t("<div></div>"),i.data("metrojs.tile",{animating:!1}),e.capabilities.canFlip3d&&s.useHardwareAccel?(i.addClass("ha"),h.$front.addClass("ha"),h.$back.addClass("ha"),a="vertical"===s.direction?"rotateX(180deg)":"rotateY(180deg)",c=o.appendStyleProperties({},["transform"],[a]),h.$back.css(c)):(l="vertical"===s.direction?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"},c="vertical"===s.direction?{height:"0%",width:"100%",marginTop:s.margin+"px",opacity:"0"}:{height:"100%",width:"0%",marginLeft:s.margin+"px",opacity:"0"},h.$front.css(l),h.$back.css(c))}return h},bindPauseOnHover:function(n){!function(){var i=n.data("LiveTile"),r=!1,o=!1,s="both"==i.pauseOnHoverEvent||"mouseover"==i.pauseOnHoverEvent||"mouseenter"==i.pauseOnHoverEvent,a="both"==i.pauseOnHoverEvent||"mouseout"==i.pauseOnHoverEvent||"mouseleave"==i.pauseOnHoverEvent;i.pOnHoverMethods={pause:function(){i.timer.pause(),"flip-list"===i.mode&&i.faces.$listTiles.each(function(e,n){window.clearTimeout(t(n).data("metrojs.tile").completeTimeout)})},over:function(){r||o||i.runEvents&&(o=!0,i.eventTimeout=window.setTimeout(function(){o=!1,a&&(r=!0),i.pOnHoverMethods.pause()},i.onHoverDelay))},out:function(){if(o)return window.clearTimeout(i.eventTimeout),void(o=!1);if(s){if(!r&&!o)return;i.runEvents&&i.timer.start(i.hasRun?i.delay:i.initDelay)}else i.pOnHoverMethods.pause();r=!1}},e.capabilities.canTouch?window.navigator.msPointerEnabled?(s&&n[0].addEventListener("MSPointerOver",i.pOnHoverMethods.over,!1),a&&n[0].addEventListener("MSPointerOut",i.pOnHoverMethods.out,!1)):(s&&n.bind("touchstart.liveTile",i.pOnHoverMethods.over),a&&n.bind("touchend.liveTile",i.pOnHoverMethods.out)):(s&&n.bind("mouseover.liveTile",i.pOnHoverMethods.over),a&&n.bind("mouseout.liveTile",i.pOnHoverMethods.out))}()},unbindMsPauseOnHover:function(t,e){void 0!==e.pOnHoverMethods&&window.navigator.msPointerEnabled&&(t[0].removeEventListener("MSPointerOver",e.pOnHoverMethods.over,!1),t[0].removeEventListener("MSPointerOut",e.pOnHoverMethods.out,!1))},bindPlayOnHover:function(t,n){!function(){var r=!1,o=!1,s="both"==n.playOnHoverEvent||"mouseover"==n.playOnHoverEvent||"mouseenter"==n.playOnHoverEvent,a="both"==n.playOnHoverEvent||"mouseout"==n.playOnHoverEvent||"mouseleave"==n.playOnHoverEvent;n.onHoverMethods={over:function(){if(!(r||o||n.bounce&&"no"!=n.bounceMethods.down)){var e="flip"==n.mode||(n.startNow?!n.isReversed:n.isReversed);window.clearTimeout(n.eventTimeout),(n.runEvents&&e||!n.hasRun)&&(o=!0,n.eventTimeout=window.setTimeout(function(){o=!1,a&&(r=!0),i.play.apply(t[0],[0])},n.onHoverDelay))}},out:function(){return o?(window.clearTimeout(n.eventTimeout),void(o=!1)):void((!s||r||o)&&(window.clearTimeout(n.eventTimeout),n.eventTimeout=window.setTimeout(function(){var e="flip"==n.mode||(n.startNow?n.isReversed:!n.isReversed);n.runEvents&&e&&i.play.apply(t[0],[0]),r=!1},n.speed+200)))}},e.capabilities.canTouch?window.navigator.msPointerEnabled?(s&&t[0].addEventListener("MSPointerDown",n.onHoverMethods.over,!1),a&&t.bind("mouseleave.liveTile",n.onHoverMethods.out)):(s&&t.bind("touchstart.liveTile",n.onHoverMethods.over),a&&t.bind("touchend.liveTile",n.onHoverMethods.out)):(s&&t.bind("mouseenter.liveTile",n.onHoverMethods.over),a&&t.bind("mouseleave.liveTile",n.onHoverMethods.out))}()},unbindMsPlayOnHover:function(t,e){void 0!==e.onHoverMethods&&window.navigator.msPointerEnabled&&t[0].removeEventListener("MSPointerDown",e.onHoverMethods.over,!1)},bindBounce:function(n,i){i.bounce&&(n.addClass("bounce"),n.addClass("noselect"),i.bounceMethods={down:"no",threshold:30,zeroPos:{x:0,y:0},eventPos:{x:0,y:0},inTilePos:{x:0,y:0},pointPos:{x:0,y:0},regions:{c:[0,0],tl:[-1,-1],tr:[1,-1],bl:[-1,1],br:[1,1],t:[null,-1],r:[1,null],b:[null,1],l:[-1,null]},targets:{all:["c","t","r","b","l","tl","tr","bl","br"],edges:["c","t","r","b","l"],corners:["c","tl","tr","bl","br"]},hitTest:function(n,r,o,s){var a=i.bounceMethods.regions,l=i.bounceMethods.targets[o],c=0,u=null,h=null,d={hit:[0,0],name:"c"};if(e.capabilities.isOldAndroid||!e.capabilities.canTransition)return d;void 0===l&&("string"==typeof o&&(l=o.split(",")),t.isArray(l)&&-1==t.inArray("c")&&(s=0,d=null));for(var p=n.width(),f=n.height(),m=[p*s,f*s],g=r.x-.5*p,v=r.y-.5*f,y=[g>0?Math.abs(g)<=m[0]?0:1:Math.abs(g)<=m[0]?0:-1,v>0?Math.abs(v)<=m[1]?0:1:Math.abs(v)<=m[1]?0:-1];c<l.length;c++){if(null!=u)return u;var _=l[c],b=a[_];if("*"==_)return _=l[c+1],{region:a[_],name:_};y[0]==b[0]&&y[1]==b[1]?u={hit:b,name:_}:y[0]!=b[0]&&null!=b[0]||y[1]!=b[1]&&null!=b[1]||(h={hit:b,name:_})}return null!=u?u:null!=h?h:d},bounceDown:function(e){if("A"!=e.target.tagName||t(e).is(".bounce")){var r=e.originalEvent&&e.originalEvent.touches?e.originalEvent.touches[0]:e,s=n.offset();window.pageXOffset,window.pageYOffset,i.bounceMethods.pointPos={x:r.pageX,y:r.pageY},i.bounceMethods.inTilePos={x:r.pageX-s.left,y:r.pageY-s.top},i.$tileParent||(i.$tileParent=n.parent());var a=i.$tileParent.offset();i.bounceMethods.eventPos={x:s.left-a.left+n.width()/2,y:s.top-a.top+n.height()/2};var l=i.bounceMethods.hitTest(n,i.bounceMethods.inTilePos,i.bounceDirections,.25);if(null==l)i.bounceMethods.down="no";else{window.navigator.msPointerEnabled?(document.addEventListener("MSPointerUp",i.bounceMethods.bounceUp,!1),n[0].addEventListener("MSPointerUp",i.bounceMethods.bounceUp,!1),document.addEventListener("MSPointerCancel",i.bounceMethods.bounceUp,!1),i.bounceFollowsMove&&n[0].addEventListener("MSPointerMove",i.bounceMethods.bounceMove,!1)):(t(document).bind("mouseup.liveTile, touchend.liveTile, touchcancel.liveTile, dragstart.liveTile",i.bounceMethods.bounceUp),i.bounceFollowsMove&&(n.bind("touchmove.liveTile",i.bounceMethods.bounceMove),n.bind("mousemove.liveTile",i.bounceMethods.bounceMove)));var c="bounce-"+l.name;n.addClass(c),i.bounceMethods.down=c,i.bounceMethods.downPcss=o.appendStyleProperties({},["perspective-origin"],[i.bounceMethods.eventPos.x+"px "+i.bounceMethods.eventPos.y+"px"]),i.$tileParent.css(i.bounceMethods.downPcss)}}},bounceUp:function(){"no"!=i.bounceMethods.down&&(i.bounceMethods.unBounce(),window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerUp",i.bounceMethods.bounceUp,!1),n[0].removeEventListener("MSPointerUp",i.bounceMethods.bounceUp,!1),document.removeEventListener("MSPointerCancel",i.bounceMethods.bounceUp,!1),i.bounceFollowsMove&&n[0].removeEventListener("MSPointerMove",i.bounceMethods.bounceMove,!1)):t(document).unbind("mouseup.liveTile, touchend.liveTile, touchcancel.liveTile, dragstart.liveTile",i.bounceMethods.bounceUp),i.bounceFollowsMove&&(n.unbind("touchmove.liveTile",i.bounceMethods.bounceMove),n.unbind("mousemove.liveTile",i.bounceMethods.bounceMove)))},bounceMove:function(t){if("no"!=i.bounceMethods.down){var e=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t,r=Math.abs(e.pageX-i.bounceMethods.pointPos.x),o=Math.abs(e.pageY-i.bounceMethods.pointPos.y);if(r>i.bounceMethods.threshold||o>i.bounceMethods.threshold){var s=i.bounceMethods.down;i.bounceMethods.bounceDown(t),s!=i.bounceMethods.down&&n.removeClass(s)}}},unBounce:function(){if(n.removeClass(i.bounceMethods.down),"object"==typeof i.bounceMethods.downPcss){var t=["perspective-origin","perspective-origin-x","perspective-origin-y"],e=["","",""];i.bounceMethods.downPcss=o.appendStyleProperties({},t,e),window.setTimeout(function(){i.$tileParent.css(i.bounceMethods.downPcss)},200)}i.bounceMethods.down="no",i.bounceMethods.inTilePos=i.bounceMethods.zeroPos,i.bounceMethods.eventPos=i.bounceMethods.zeroPos}},window.navigator.msPointerEnabled?n[0].addEventListener("MSPointerDown",i.bounceMethods.bounceDown,!1):e.capabilities.canTouch?n.bind("touchstart.liveTile",i.bounceMethods.bounceDown):n.bind("mousedown.liveTile",i.bounceMethods.bounceDown))},unbindMsBounce:function(t,e){e.bounce&&window.navigator.msPointerEnabled&&(t[0].removeEventListener("MSPointerDown",e.bounceMethods.bounceDown,!1),t[0].removeEventListener("MSPointerCancel",e.bounceMethods.bounceUp,!1),t[0].removeEventListener("MSPointerOut",e.bounceMethods.bounceUp,!1))},bindLink:function(e,n){n.link.length>0&&e.css({cursor:"pointer"}).bind("click.liveTile",function(e){("A"!=e.target.tagName||t(e).is(".live-tile,.slide,.flip"))&&(n.newWindow?window.open(n.link):window.location=n.link)})},runContenModules:function(t,e,n,i){for(var r=0;r<t.contentModules.length;r++){var o=t.contentModules[r];"function"==typeof o.action&&o.action(t,e,n,i)}},fade:function(t,e,n){var i="object"==typeof n?n:t.data("LiveTile"),o=function(){(i.timer.repeatCount>0||-1==i.timer.repeatCount)&&i.timer.count!=i.timer.repeatCount&&i.timer.start(i.delay)};if(!i.faces.$front.is(":animated")){i.timer.pause();var s=i.loopCount+1;i.isReversed=0==s%2;var a=i.animationStarting.call(t[0],i,i.faces.$front,i.faces.$back);if(void 0!==a&&0==a)return void o();i.loopCount=s;var l=function(){o(),r.runContenModules(i,i.faces.$front,i.faces.$back),i.animationComplete.call(t[0],i,i.faces.$front,i.faces.$back)};i.isReversed?i.faces.$front.fadeIn(i.speed,i.noHaTransFunc,l):i.faces.$front.fadeOut(i.speed,i.noHaTransFunc,l)}},slide:function(n,i,s,a,l){var c="object"==typeof s?s:n.data("LiveTile"),u=n.data("metrojs.tile");if(1==u.animating||n.is(":animated"))return c=null,void(u=null);var h=function(){(c.timer.repeatCount>0||-1==c.timer.repeatCount)&&c.timer.count!=c.timer.repeatCount&&c.timer.start(c.delay)};if("carousel"!==c.mode){c.isReversed=0!=c.currentIndex%2,c.timer.pause();var d=c.animationStarting.call(n[0],c,c.faces.$front,c.faces.$back);if(void 0!==d&&0==d)return void h();c.loopCount=c.loopCount+1}else c.isReversed=!0;var p;p="string"==typeof c.tempValues.direction&&c.tempValues.direction.length>0?c.tempValues.direction:c.direction,c.tempValues.direction=null;var f={},m={},g=void 0===a?c.currentIndex:a,v=t.trim(c.stops[Math.min(g,c.stops.length-1)]),y=v.indexOf("px"),_=0,b=0,w="vertical"===p?c.height:c.width,x="vertical"===p?"top":"left",S=1==c.stack,k=function(){void 0===l?(c.currentIndex=c.currentIndex+1,c.currentIndex>c.stops.length-1&&(c.currentIndex=0)):l(),"carousel"!=c.mode&&h(),r.runContenModules(c,c.faces.$front,c.faces.$back,c.currentIndex),c.animationComplete.call(n[0],c,c.faces.$front,c.faces.$back),c=null,u=null};if(y>0?(b=parseInt(v.substring(0,y),10),_=b-w+"px"):(b=parseInt(v.replace("%",""),10),_=b-100+"%"),e.capabilities.canTransition&&c.useHardwareAccel){if(void 0!==u.animating&&1==u.animating)return;u.animating=!0;var C=["transition-property","transition-duration","transition-timing-function"],T=[c.useTranslate?"transform":x,c.speed+"ms",c.haTransFunc];T[o.browserPrefix+"transition-property"]=o.browserPrefix+"transform",f=o.appendStyleProperties(f,C,T),m=o.appendStyleProperties(m,C,T);var D,M="vertical"===p,E=M?"top":"left";c.useTranslate?(D=M?"translate(0%, "+v+")":"translate("+v+", 0%)",f=o.appendStyleProperties(f,["transform"],[D+"translateZ(0)"]),S&&(D=M?"translate(0%, "+_+")":"translate("+_+", 0%)",m=o.appendStyleProperties(m,["transform"],[D+"translateZ(0)"]))):(f[E]=v,S&&(m[E]=_)),c.faces.$front.css(f),S&&c.faces.$back.css(m),window.clearTimeout(c.completeTimeout),c.completeTimeout=window.setTimeout(function(){u.animating=!1,k()},c.speed)}else{f[x]=v,m[x]=_,u.animating=!0;var L=c.faces.$front.stop(),A=c.faces.$back.stop();L.animate(f,c.speed,c.noHaTransFunc,function(){u.animating=!1,k()}),S&&A.animate(m,c.speed,c.noHaTransFunc,function(){})}},carousel:function(t,n){var i=t.data("LiveTile"),s=t.data("metrojs.tile");if(1==s.animating||i.faces.$listTiles.length<=1)s=null;else{var a=function(){(i.timer.repeatCount>0||-1==i.timer.repeatCount)&&i.timer.count!=i.timer.repeatCount&&i.timer.start(i.delay)};i.timer.pause();var l=i.faces.$listTiles.filter(".active"),c=i.faces.$listTiles.index(l),u=i.currentIndex,h=u!=c?u:c,d=h+1>=i.faces.$listTiles.length?0:h+1,p=i.listData[d];if(c==d)return s=null,void(l=null);var f;f="string"==typeof i.tempValues.animationDirection&&i.tempValues.animationDirection.length>0?i.tempValues.animationDirection:"string"==typeof p.animationDirection&&p.animationDirection.length>0?p.animationDirection:i.animationDirection,i.tempValues.animationDirection=null;var m;"string"==typeof i.tempValues.direction&&i.tempValues.direction.length>0?m=i.tempValues.direction:"string"==typeof p.direction&&p.direction.length>0?(m=p.direction,i.tempValues.direction=m):m=i.direction;var g=i.faces.$listTiles.eq(d),v=i.animationStarting.call(t[0],i,l,g);if(void 0===v||0!=v){i.loopCount=i.loopCount+1;var y,_=o.appendStyleProperties({},["transition-duration"],["0s"]),b="vertical"===m;"backward"===f?(i.useTranslate&&e.capabilities.canTransition?(y=b?"translate(0%, -100%)":"translate(-100%, 0%)",_=o.appendStyleProperties(_,["transform"],[y+" translateZ(0)"]),i.stops=["100%"]):(b?(_.top="-100%",_.left="0%"):(_.top="0%",_.left="-100%"),i.stops=["100%"]),i.faces.$front=l,i.faces.$back=g):(i.useTranslate&&e.capabilities.canTransition?(y=b?"translate(0%, 100%)":"translate(100%, 0%)",_=o.appendStyleProperties(_,["transform"],[y+" translateZ(0)"])):b?(_.top="100%",_.left="0%"):(_.top="0%",_.left="100%"),i.faces.$front=g,i.faces.$back=l,i.stops=["0%"]),g.css(_),window.setTimeout(function(){l.removeClass("active"),g.addClass("active"),r.slide(t,n,i,0,function(){i.currentIndex=d,s=null,l=null,g=null,a()})},150)}else a()}},flip:function(t,n,i,s){var a=t.data("metrojs.tile");if(1!=a.animating){var l,c,u,h,d,p,f,m="object"==typeof i?i:t.data("LiveTile"),g=void 0===s,v=0,y=function(){(m.timer.repeatCount>0||-1==m.timer.repeatCount)&&m.timer.count!=m.timer.repeatCount&&m.timer.start(m.delay)};if(g){m.timer.pause();var _=m.loopCount+1;f=0==_%2,m.isReversed=f,l=m.faces.$front,c=m.faces.$back;var b=f?[m,c,l]:[m,l,c],w=m.animationStarting.apply(t[0],b);if(void 0!==w&&0==w)return void y();u=m.direction,height=m.height,width=m.width,margin=m.margin,m.loopCount=_}else f=0==n%2,v=a.index,l=m.listData[v].faces.$front,c=m.listData[v].faces.$back,m.listData[v].isReversed=f,u=m.listData[v].direction,height=m.listData[v].height,width=m.listData[v].width,margin=m.listData[v].margin;if(e.capabilities.canFlip3d&&m.useHardwareAccel){h=f?"360deg":"180deg",d="vertical"===u?"rotateX("+h+")":"rotateY("+h+")",p=o.appendStyleProperties({},["transform","transition"],[d,"all "+m.speed+"ms "+m.haTransFunc+" 0s"]);var x=f?"540deg":"360deg",S="vertical"===u?"rotateX("+x+")":"rotateY("+x+")",k=o.appendStyleProperties({},["transform","transition"],[S,"all "+m.speed+"ms "+m.haTransFunc+" 0s"]);l.css(p),c.css(k);var C=function(){a.animating=!1;var e,n;f?(e="vertical"===u?"rotateX(0deg)":"rotateY(0deg)",n=o.appendStyleProperties({},["transform","transition"],[e,"all 0s "+m.haTransFunc+" 0s"]),l.css(n),r.runContenModules(m,l,c,v),g?(y(),m.animationComplete.call(t[0],m,l,c)):s(m,l,c),l=null,c=null,m=null,a=null):(r.runContenModules(m,c,l,v),g?(y(),m.animationComplete.call(t[0],m,c,l)):s(m,c,l))};"flip-list"===m.mode?(window.clearTimeout(m.listData[v].completeTimeout),m.listData[v].completeTimeout=window.setTimeout(C,m.speed)):(window.clearTimeout(m.completeTimeout),m.completeTimeout=window.setTimeout(C,m.speed))}else{var T,D=m.speed/2,M="vertical"===u?{height:"0px",width:"100%",marginTop:margin+"px",opacity:m.noHAflipOpacity}:{height:"100%",width:"0px",marginLeft:margin+"px",opacity:m.noHAflipOpacity},E="vertical"===u?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"};f?(a.animating=!0,c.stop().animate(M,{duration:D}),T=function(){a.animating=!1,l.stop().animate(E,{duration:D,complete:function(){r.runContenModules(m,l,c,v),g?(y(),m.animationComplete.call(t[0],m,l,c)):s(m,l,c),a=null,l=null,c=null}})},"flip-list"===m.mode?(window.clearTimeout(m.listData[a.index].completeTimeout),m.listData[a.index].completeTimeout=window.setTimeout(T,D)):(window.clearTimeout(m.completeTimeout),m.completeTimeout=window.setTimeout(T,D))):(a.animating=!0,l.stop().animate(M,{duration:D}),T=function(){a.animating=!1,c.stop().animate(E,{duration:D,complete:function(){r.runContenModules(m,c,l,v),g?(y(),m.animationComplete.call(t[0],m,c,l)):s(m,c,l),l=null,c=null,m=null,a=null}})},"flip-list"===m.mode?(window.clearTimeout(m.listData[a.index].completeTimeout),m.listData[a.index].completeTimeout=window.setTimeout(T,D)):(window.clearTimeout(m.completeTimeout),m.completeTimeout=window.setTimeout(T,D)))}}else a=null},flipList:function(e){var i=e.data("LiveTile"),o=i.speed,s=!1,a=function(){(i.timer.repeatCount>0||-1==i.timer.repeatCount)&&i.timer.count!=i.timer.repeatCount&&i.timer.start(i.delay)};i.timer.pause();var l=i.animationStarting.call(e[0],i,null,null);return void 0!==l&&0==l?void a():(i.loopCount=i.loopCount+1,i.faces.$listTiles.each(function(e,a){var l=t(a),c=l.data("metrojs.tile"),u=i.triggerDelay(e),h=i.speed+Math.max(u,0),d=i.alwaysTrigger;d||(d=351*Math.random()>150),d&&(s=!0,o=Math.max(h+i.speed,o),window.clearTimeout(c.flCompleteTimeout),c.flCompleteTimeout=window.setTimeout(function(){r.flip(l,c.count,i,function(){c.count++,c.count>=n&&(c.count=1),l=null,c=null})},h))}),void(s&&(window.clearTimeout(i.flCompleteTimeout),i.flCompleteTimeout=window.setTimeout(function(){r.runContenModules(i,null,null,-1),i.animationComplete.call(e[0],i,null,null),a()},o+i.speed))))}},o={stylePrefixes:"Webkit Moz O ms Khtml ".split(" "),domPrefixes:"-webkit- -moz- -o- -ms- -khtml- ".split(" "),browserPrefix:null,appendStyleProperties:function(e,n,i){for(var r=0;r<=n.length-1;r++)e[t.trim(this.browserPrefix+n[r])]=i[r],e[t.trim(n[r])]=i[r];return e},applyStyleValue:function(e,n,i){return e[t.trim(this.browserPrefix+n)]=i,e[n]=i,e},getBrowserPrefix:function(){if(null==this.browserPrefix){for(var t="",e=0;e<=this.domPrefixes.length-1;e++)void 0!==document.body.style[this.domPrefixes[e]+"transform"]&&(t=this.domPrefixes[e]);return this.browserPrefix=t}return this.browserPrefix},shuffleArray:function(t){for(var e=[];t.length;)e.push(t.splice(Math.random()*t.length,1));for(;e.length;)t.push(e.pop());return t}},s={moduleName:"custom",customSwap:{data:{customDoSwapFront:function(){return!1},customDoSwapBack:function(){return!1},customGetContent:function(){return null}},initData:function(e){var n={};n.doSwapFront=t.inArray("custom",e.swapFront)>-1&&e.customDoSwapFront(),n.doSwapBack=t.inArray("custom",e.swapBack)>-1&&e.customDoSwapBack(),e.customSwap=void 0!==e.customSwap?t.extend(n,e.customSwap):n},action:function(){}},htmlSwap:{moduleName:"html",data:{frontContent:[],frontIsRandom:!0,frontIsInGrid:!1,backContent:[],backIsRandom:!0,backIsInGrid:!1},initData:function(e,n){var i={backBag:[],backIndex:0,backStaticIndex:0,backStaticRndm:-1,prevBackIndex:-1,frontBag:[],frontIndex:0,frontStaticIndex:0,frontStaticRndm:-1,prevFrontIndex:-1};e.ignoreDataAttributes?(i.frontIsRandom=e.frontIsRandom,i.frontIsInGrid=e.frontIsInGrid,i.backIsRandom=e.backIsRandom,i.backIsInGrid=e.backIsInGrid):(i.frontIsRandom=r.getDataOrDefault(n,"front-israndom",e.frontIsRandom),i.frontIsInGrid=r.getDataOrDefault(n,"front-isingrid",e.frontIsInGrid),i.backIsRandom=r.getDataOrDefault(n,"back-israndom",e.backIsRandom),i.backIsInGrid=r.getDataOrDefault(n,"back-isingrid",e.backIsInGrid)),i.doSwapFront=t.inArray("html",e.swapFront)>-1&&e.frontContent instanceof Array&&e.frontContent.length>0,i.doSwapBack=t.inArray("html",e.swapBack)>-1&&e.backContent instanceof Array&&e.backContent.length>0,e.htmlSwap=void 0!==e.htmlSwap?t.extend(i,e.htmlSwap):i,e.htmlSwap.doSwapFront&&(e.htmlSwap.frontBag=this.prepBag(e.htmlSwap.frontBag,e.frontContent,e.htmlSwap.prevFrontIndex),e.htmlSwap.frontStaticRndm=e.htmlSwap.frontBag.pop()),e.htmlSwap.doSwapBack&&(e.htmlSwap.backBag=this.prepBag(e.htmlSwap.backBag,e.backContent,e.htmlSwap.prevBackIndex),e.htmlSwap.backStaticRndm=e.htmlSwap.backBag.pop())},prepBag:function(t,e,n){t=t||[];for(var i=0,r=0;r<e.length;r++)(r!=n||1===t.length)&&(t[i]=r,i++);return o.shuffleArray(t)},getFrontSwapIndex:function(t){var e=0;return t.htmlSwap.frontIsRandom?(0===t.htmlSwap.frontBag.length&&(t.htmlSwap.frontBag=this.prepBag(t.htmlSwap.frontBag,t.frontContent,t.htmlSwap.prevFrontIndex)),e=t.htmlSwap.frontIsInGrid?t.htmlSwap.frontStaticRndm:t.htmlSwap.frontBag.pop()):e=t.htmlSwap.frontIsInGrid?t.htmlSwap.frontStaticIndex:t.htmlSwap.frontIndex,e},getBackSwapIndex:function(t){var e=0;return t.htmlSwap.backIsRandom?(0===t.htmlSwap.backBag.length&&(t.htmlSwap.backBag=this.prepBag(t.htmlSwap.backBag,t.backContent,t.htmlSwap.prevBackIndex)),e=t.htmlSwap.backIsInGrid?t.htmlSwap.backStaticRndm:t.htmlSwap.backBag.pop()):e=t.htmlSwap.backIsInGrid?t.htmlSwap.backStaticIndex:t.htmlSwap.backIndex,e},action:function(t,e,n,i){if(t.htmlSwap.doSwapFront||t.htmlSwap.doSwapBack){var r="flip-list"===t.mode,o=0,s=r?t.listData[Math.max(i,0)].isReversed:t.isReversed;if(r&&-1==i)return void(s?t.htmlSwap.doSwapBack&&(0===t.htmlSwap.backBag.length&&(t.htmlSwap.backBag=this.prepBag(t.htmlSwap.backBag,t.backContent,t.htmlSwap.backStaticRndm)),t.htmlSwap.backStaticRndm=t.htmlSwap.backBag.pop(),t.htmlSwap.backStaticIndex++,t.htmlSwap.backStaticIndex>=t.backContent.length&&(t.htmlSwap.backStaticIndex=0)):t.htmlSwap.doSwapFront&&(0===t.htmlSwap.frontBag.length&&(t.htmlSwap.frontBag=this.prepBag(t.htmlSwap.frontBag,t.frontContent,t.htmlSwap.frontStaticRndm)),t.htmlSwap.frontStaticRndm=t.htmlSwap.frontBag.pop(),t.htmlSwap.frontStaticIndex++,t.htmlSwap.frontStaticIndex>=t.frontContent.length&&(t.htmlSwap.frontStaticIndex=0)));if(s){if(!t.htmlSwap.doSwapBack)return;o=this.getBackSwapIndex(t),t.htmlSwap.prevBackIndex=o,n.html(t.backContent[t.htmlSwap.backIndex]),t.htmlSwap.backIndex++,t.htmlSwap.backIndex>=t.backContent.length&&(t.htmlSwap.backIndex=0),r||(t.htmlSwap.backStaticIndex++,t.htmlSwap.backStaticIndex>=t.backContent.length&&(t.htmlSwap.backStaticIndex=0))}else{if(!t.htmlSwap.doSwapFront)return;o=this.getFrontSwapIndex(t),t.htmlSwap.prevFrontIndex=o,"slide"===t.mode?t.startNow?n.html(t.frontContent[o]):e.html(t.frontContent[o]):n.html(t.frontContent[o]),t.htmlSwap.frontIndex++,t.htmlSwap.frontIndex>=t.frontContent.length&&(t.htmlSwap.frontIndex=0),r||(t.htmlSwap.frontStaticIndex++,t.htmlSwap.frontStaticIndex>=t.frontContent.length&&(t.htmlSwap.frontStaticIndex=0))}}}},imageSwap:{moduleName:"image",data:{preloadImages:!1,imageCssSelector:">img,>a>img",fadeSwap:!1,frontImages:[],frontIsRandom:!0,frontIsBackgroundImage:!1,frontIsInGrid:!1,backImages:null,backIsRandom:!0,backIsBackgroundImage:!1,backIsInGrid:!1},initData:function(e,n){var i={backBag:[],backIndex:0,backStaticIndex:0,backStaticRndm:-1,frontBag:[],frontIndex:0,frontStaticIndex:0,frontStaticRndm:-1,prevBackIndex:-1,prevFrontIndex:-1};e.ignoreDataAttributes?(i.imageCssSelector=r.getDataOrDefault(n,"image-css",e.imageCssSelector),i.fadeSwap=r.getDataOrDefault(n,"fadeswap",e.fadeSwap),i.frontIsRandom=r.getDataOrDefault(n,"front-israndom",e.frontIsRandom),i.frontIsInGrid=r.getDataOrDefault(n,"front-isingrid",e.frontIsInGrid),i.frontIsBackgroundImage=r.getDataOrDefault(n,"front-isbg",e.frontIsBackgroundImage),i.backIsRandom=r.getDataOrDefault(n,"back-israndom",e.backIsRandom),i.backIsInGrid=r.getDataOrDefault(n,"back-isingrid",e.backIsInGrid),i.backIsBackgroundImage=r.getDataOrDefault(n,"back-isbg",e.backIsBackgroundImage),i.doSwapFront=t.inArray("image",e.swapFront)>-1&&e.frontImages instanceof Array&&e.frontImages.length>0,i.doSwapBack=t.inArray("image",e.swapBack)>-1&&e.backImages instanceof Array&&e.backImages.length>0,i.alwaysSwapFront=r.getDataOrDefault(n,"front-alwaysswap",e.alwaysSwapFront),i.alwaysSwapBack=r.getDataOrDefault(n,"back-alwaysswap",e.alwaysSwapBack)):(i.imageCssSelector=e.imageCssSelector,i.fadeSwap=e.fadeSwap,i.frontIsRandom=e.frontIsRandom,i.frontIsInGrid=e.frontIsInGrid,i.frontIsBackgroundImage=e.frontIsBackgroundImage,i.backIsRandom=e.backIsRandom,i.backIsInGrid=e.backIsInGrid,i.backIsBackgroundImage=e.backIsBackgroundImage,i.doSwapFront=t.inArray("image",e.swapFront)>-1&&e.frontImages instanceof Array&&e.frontImages.length>0,i.doSwapBack=t.inArray("image",e.swapBack)>-1&&e.backImages instanceof Array&&e.backImages.length>0,i.alwaysSwapFront=e.alwaysSwapFront,i.alwaysSwapBack=e.alwaysSwapBack),e.imgSwap=void 0!==e.imgSwap?t.extend(i,e.imgSwap):i,e.imgSwap.doSwapFront&&(e.imgSwap.frontBag=this.prepBag(e.imgSwap.frontBag,e.frontImages,e.imgSwap.prevFrontIndex),e.imgSwap.frontStaticRndm=e.imgSwap.frontBag.pop(),e.preloadImages&&t(e.frontImages).metrojs.preloadImages(function(){})),e.imgSwap.doSwapBack&&(e.imgSwap.backBag=this.prepBag(e.imgSwap.backBag,e.backImages,e.imgSwap.prevBackIndex),e.imgSwap.backStaticRndm=e.imgSwap.backBag.pop(),e.preloadImages&&t(e.backImages).metrojs.preloadImages(function(){}))},prepBag:function(t,e,n){t=t||[];for(var i=0,r=0;r<e.length;r++)(r!=n||1===e.length)&&(t[i]=r,i++);return o.shuffleArray(t)},getFrontSwapIndex:function(t){var e=0;return t.imgSwap.frontIsRandom?(0===t.imgSwap.frontBag.length&&(t.imgSwap.frontBag=this.prepBag(t.imgSwap.frontBag,t.frontImages,t.imgSwap.prevFrontIndex)),e=t.imgSwap.frontIsInGrid?t.imgSwap.frontStaticRndm:t.imgSwap.frontBag.pop()):e=t.imgSwap.frontIsInGrid?t.imgSwap.frontStaticIndex:t.imgSwap.frontIndex,e},getBackSwapIndex:function(t){var e=0;return t.imgSwap.backIsRandom?(0===t.imgSwap.backBag.length&&(t.imgSwap.backBag=this.prepBag(t.imgSwap.backBag,t.backImages,t.imgSwap.prevBackIndex)),e=t.imgSwap.backIsInGrid?t.imgSwap.backStaticRndm:t.imgSwap.backBag.pop()):e=t.imgSwap.backIsInGrid?t.imgSwap.backStaticIndex:t.imgSwap.backIndex,e},setImageProperties:function(e,n,i){var r={},o={};void 0!==n.src&&(i?r.backgroundImage="url('"+n.src+"')":o.src=n.src),void 0!==n.alt&&(o.alt=n.alt),"object"==typeof n.css?e.css(t.extend(r,n.css)):e.css(r),"object"==typeof n.attr?e.attr(t.extend(o,n.attr)):e.attr(o)},action:function(t,e,n,i){if(t.imgSwap.doSwapFront||t.imgSwap.doSwapBack){var r="flip-list"===t.mode,o=(t.mode,0),a=r?t.listData[Math.max(i,0)].isReversed:t.isReversed;if(r&&-1==i)return(t.alwaysSwapFront||!a)&&t.imgSwap.doSwapFront&&(0===t.imgSwap.frontBag.length&&(t.imgSwap.frontBag=this.prepBag(t.imgSwap.frontBag,t.frontImages,t.imgSwap.frontStaticRndm)),t.imgSwap.frontStaticRndm=t.imgSwap.frontBag.pop(),t.imgSwap.frontStaticIndex++,t.imgSwap.frontStaticIndex>=t.frontImages.length&&(t.imgSwap.frontStaticIndex=0)),void((t.alwaysSwapBack||a)&&t.imgSwap.doSwapBack&&(0===t.imgSwap.backBag.length&&(t.imgSwap.backBag=this.prepBag(t.imgSwap.backBag,t.backImages,t.imgSwap.backStaticRndm)),t.imgSwap.backStaticRndm=t.imgSwap.backBag.pop(),t.imgSwap.backStaticIndex++,t.imgSwap.backStaticIndex>=t.backImages.length&&(t.imgSwap.backStaticIndex=0)));var l,c,u,h;if(t.alwaysSwapFront||!a){if(!t.imgSwap.doSwapFront)return;o=this.getFrontSwapIndex(t),t.imgSwap.prevFrontIndex=o,l="slide"===t.mode?e:n,c=l.find(t.imgSwap.imageCssSelector),u="object"==typeof t.frontImages[o]?t.frontImages[o]:{src:t.frontImages[o]},h=function(e){var n=t.imgSwap.frontIsBackgroundImage;"function"==typeof e&&(n?window.setTimeout(e,100):c[0].onload=e),s.imageSwap.setImageProperties(c,u,n)},t.fadeSwap?c.fadeOut(function(){h(function(){c.fadeIn()})}):h(),t.imgSwap.frontIndex++,t.imgSwap.frontIndex>=t.frontImages.length&&(t.imgSwap.frontIndex=0),r||(t.imgSwap.frontStaticIndex++,t.imgSwap.frontStaticIndex>=t.frontImages.length&&(t.imgSwap.frontStaticIndex=0))}if(t.alwaysSwapBack||a){if(!t.imgSwap.doSwapBack)return;o=this.getBackSwapIndex(t),t.imgSwap.prevBackIndex=o,c=(l=n).find(t.imgSwap.imageCssSelector),u="object"==typeof t.backImages[o]?t.backImages[o]:{src:t.backImages[o]},h=function(){s.imageSwap.setImageProperties(c,u,t.imgSwap.backIsBackgroundImage)},t.fadeSwap?c.fadeOut(function(){h(function(){c.fadeIn()})}):h(),t.imgSwap.backIndex++,t.imgSwap.backIndex>=t.backImages.length&&(t.imgSwap.backIndex=0),r||(t.imgSwap.backStaticIndex++,t.imgSwap.backStaticIndex>=t.backImages.length&&(t.imgSwap.backStaticIndex=0))}}}}};t.fn.metrojs.TileTimer=function(t,e,i){this.timerId=null,this.interval=t,this.action=e,this.count=0,this.repeatCount=void 0===i?0:i,this.start=function(e){window.clearTimeout(this.timerId);var n=this;this.timerId=window.setTimeout(function(){n.tick.call(n,t)},e)},this.tick=function(t){this.action(this.count+1),++this.count>=n&&(this.count=0),(this.repeatCount>0||-1==this.repeatCount)&&(this.count!=this.repeatCount?this.start(t):this.stop())},this.stop=function(){this.timerId=window.clearTimeout(this.timerId),this.reset()},this.resume=function(){(this.repeatCount>0||-1==this.repeatCount)&&this.count!=this.repeatCount&&this.start(t)},this.pause=function(){this.timerId=window.clearTimeout(this.timerId)},this.reset=function(){this.count=0},this.restart=function(t){this.stop(),this.start(t)}},jQuery.fn.metrojs.theme={loadDefaultTheme:function(t){if(void 0===t||null==t)t=jQuery.fn.metrojs.theme.defaults;else{var e=jQuery.fn.metrojs.theme.defaults;jQuery.extend(e,t),t=e}var n=void 0!==window.localStorage,i=function(t){return void 0!==window.localStorage[t]&&null!=window.localStorage[t]};!n||i("Metro.JS.AccentColor")&&i("Metro.JS.BaseAccentColor")?n?(t.accentColor=window.localStorage["Metro.JS.AccentColor"],t.baseTheme=window.localStorage["Metro.JS.BaseAccentColor"],jQuery(t.accentCssSelector).addClass(t.accentColor).data("accent",t.accentColor),jQuery(t.baseThemeCssSelector).addClass(t.baseTheme),"function"==typeof t.loaded&&t.loaded(t.baseTheme,t.accentColor)):(jQuery(t.accentCssSelector).addClass(t.accentColor).data("accent",t.accentColor),jQuery(t.baseThemeCssSelector).addClass(t.baseTheme),"function"==typeof t.loaded&&t.loaded(t.baseTheme,t.accentColor),void 0!==t.preloadAltBaseTheme&&t.preloadAltBaseTheme&&jQuery(["dark"==t.baseTheme?t.metroLightUrl:t.metroDarkUrl]).metrojs.preloadImages(function(){})):(window.localStorage["Metro.JS.AccentColor"]=t.accentColor,window.localStorage["Metro.JS.BaseAccentColor"]=t.baseTheme,jQuery(t.accentCssSelector).addClass(t.accentColor).data("accent",t.accentColor),jQuery(t.baseThemeCssSelector).addClass(t.baseTheme),"function"==typeof t.loaded&&t.loaded(t.baseTheme,t.accentColor),void 0!==t.preloadAltBaseTheme&&t.preloadAltBaseTheme&&jQuery(["dark"==t.baseTheme?t.metroLightUrl:t.metroDarkUrl]).metrojs.preloadImages(function(){}))},applyTheme:function(t,e,n){if(void 0===n||null==n)n=jQuery.fn.metrojs.theme.defaults;else{var i=jQuery.fn.metrojs.theme.defaults;n=jQuery.extend({},i,n)}if(void 0!==t&&null!=t){void 0!==window.localStorage&&(window.localStorage["Metro.JS.BaseAccentColor"]=t);var r=jQuery(n.baseThemeCssSelector);r.length>0&&("dark"==t?r.addClass("dark").removeClass("light"):"light"==t&&r.addClass("light").removeClass("dark"))}if(void 0!==e&&null!=e){void 0!==window.localStorage&&(window.localStorage["Metro.JS.AccentColor"]=e);var o=jQuery(n.accentCssSelector);if(o.length>0){var s=!1;o.each(function(){jQuery(this).addClass(e);var t=jQuery(this).data("accent");if(t!=e){var n=jQuery(this).attr("class").replace(t,"");n=n.replace(/(\s)+/," "),jQuery(this).attr("class",n),jQuery(this).data("accent",e),s=!0}}),s&&"function"==typeof n.accentPicked&&n.accentPicked(e)}}},appendAccentColors:function(e){if(void 0===e||null==e)e=jQuery.fn.metrojs.theme.defaults;else{var n=jQuery.fn.metrojs.theme.defaults;e=jQuery.extend({},n,e)}for(var i="",r=e.accentColors,o=e.accentListTemplate,s=0;s<r.length;s++)i+=o.replace(/\{0\}/g,r[s]);t(i).appendTo(e.accentListContainer)},appendBaseThemes:function(e){if(void 0===e||null==e)e=jQuery.fn.metrojs.theme.defaults;else{var n=jQuery.fn.metrojs.theme.defaults;e=jQuery.extend({},n,e)}for(var i="",r=e.baseThemes,o=e.baseThemeListTemplate,s=0;s<r.length;s++)i+=o.replace(/\{0\}/g,r[s]);t(i).appendTo(e.baseThemeListContainer)},defaults:{baseThemeCssSelector:"body",accentCssSelector:".tiles",accentColor:"blue",baseTheme:"dark",accentColors:["amber","blue","brown","cobalt","crimson","cyan","magenta","lime","indigo","green","emerald","mango","mauve","olive","orange","pink","red","sienna","steel","teal","violet","yellow"],baseThemes:["light","dark"],accentListTemplate:"<li><a href='javascript:;' title='{0}' class='accent {0}'></a></li>",accentListContainer:"ul.theme-options,.theme-options>ul",baseThemeListTemplate:"<li><a href='javascript:;' title='{0}' class='accent {0}'></a></li>",baseThemeListContainer:"ul.base-theme-options,.base-theme-options>ul"}},jQuery.fn.applicationBar=function(e){var n=void 0!==jQuery.fn.metrojs.theme?jQuery.fn.metrojs.theme.defaults:{};if(jQuery.extend(n,jQuery.fn.applicationBar.defaults,e),void 0!==jQuery.fn.metrojs.theme){var i=jQuery.fn.metrojs.theme;n.shouldApplyTheme&&i.loadDefaultTheme(n);var r=n.accentListContainer.replace(","," a,")+" a",o=function(){var t=jQuery(this).attr("class").replace("accent","").replace(" ","");i.applyTheme(null,t,n),"function"==typeof n.accentPicked&&n.accentPicked(t)},s=n.baseThemeListContainer.replace(","," a,")+" a",a=function(){var t=jQuery(this).attr("class").replace("accent","").replace(" ","");i.applyTheme(t,null,n),"function"==typeof n.themePicked&&n.themePicked(t)};"function"==typeof t.fn.on?(t(this).on("click.appBar",r,o),t(this).on("click.appBar",s,a)):(t(r).live("click.appBar",o),t(s).live("click.appBar",a))}return t(this).each(function(e,i){var r=t(i),o=t.extend({},n);"auto"==o.collapseHeight&&(o.collapseHeight=t(this).height()),navigator.userAgent.match(/(Android|webOS|iPhone|iPod|BlackBerry|PIE|IEMobile)/i)&&(navigator.userAgent.match(/(IEMobile\/1)/i)||navigator.userAgent.match(/(iPhone OS [56789])/i)||r.css({position:"absolute",bottom:"0px"})),o.slideOpen=function(){r.hasClass("expanded")||o.animateAppBar(!1)},o.slideClosed=function(){r.hasClass("expanded")&&o.animateAppBar(!0)},o.animateAppBar=function(t){var e=t?o.collapseHeight:o.expandHeight;t?r.removeClass("expanded"):r.hasClass("expanded")||r.addClass("expanded"),r.stop().animate({height:e},{duration:o.duration})},r.data("ApplicationBar",o),r.find(n.handleSelector).click(function(){o.animateAppBar(r.hasClass("expanded"))}),1==o.bindKeyboard&&jQuery(document.documentElement).keyup(function(t){38==t.keyCode?t.target&&null==t.target.tagName.match(/INPUT|TEXTAREA|SELECT/i)&&(r.hasClass("expanded")||o.animateAppBar(!1)):40==t.keyCode&&t.target&&null==t.target.tagName.match(/INPUT|TEXTAREA|SELECT/i)&&r.hasClass("expanded")&&o.animateAppBar(!0)})})},jQuery.fn.applicationBar.defaults={applyTheme:!0,themePicked:function(){},accentPicked:function(){},loaded:function(){},duration:300,expandHeight:"320px",collapseHeight:"auto",bindKeyboard:!0,handleSelector:"a.etc",metroLightUrl:"images/metroIcons_light.jpg",metroDarkUrl:"images/metroIcons.jpg",preloadAltBaseTheme:!1},t.fn.metrojs.preloadImages=function(e){var n=t(this).toArray(),i=t("<img style='display:none;' />").appendTo("body");t(this).each(function(){var t=this;"object"==typeof this&&(t=this.src),i.attr({src:t}).load(function(){for(var t=0;t<n.length;t++)n[t]==element&&n.splice(t,1);0==n.length&&e()})}),i.remove()},t.fn.metrojs.MetroModernizr=function(e){if(void 0===e&&(e={useHardwareAccel:!0,useModernizr:void 0!==window.Modernizr}),this.isOldJQuery=/^1\.[0123]/.test(t.fn.jquery),this.isOldAndroid=function(){try{var e=navigator.userAgent;if(e.indexOf("Android")>=0&&2.3>parseFloat(e.slice(e.indexOf("Android")+8)))return!0}catch(e){t.error(e)}return!1}(),this.canTransform=!1,this.canTransition=!1,this.canTransform3d=!1,this.canAnimate=!1,this.canTouch=!1,this.canFlip3d=e.useHardwareAccel,1==e.useHardwareAccel)if(0==e.useModernizr)if(void 0!==window.MetroModernizr)this.canTransform=window.MetroModernizr.canTransform,this.canTransition=window.MetroModernizr.canTransition,this.canTransform3d=window.MetroModernizr.canTransform3d,this.canAnimate=window.MetroModernizr.canAnimate,this.canTouch=window.MetroModernizr.canTouch;else{window.MetroModernizr={};var n="metromodernizr",i=document.documentElement,r=document.head||document.getElementsByTagName("head")[0],o=document.createElement(n),s=o.style,a=" -webkit- -moz- -o- -ms- ".split(" "),l="Webkit Moz O ms Khtml".split(" "),c=function(t,e){for(var n in t)if(void 0!==s[t[n]]&&(!e||e(t[n],o)))return!0},u=function(t,e){var n=t.charAt(0).toUpperCase()+t.substr(1),i=(t+" "+l.join(n+" ")+n).split(" ");return!!c(i,e)},h=function(t,e){var o,s=document.createElement("style"),a=document.createElement("div");return s.textContent=t,r.appendChild(s),a.id=n,i.appendChild(a),o=e(a),s.parentNode.removeChild(s),a.parentNode.removeChild(a),!!o};this.canTransform=!!c(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]),this.canTransition=u("transitionProperty"),this.canTransform3d=function(){var t=!!c(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);return t&&"webkitPerspective"in i.style&&(t=h(["@media (",a.join("transform-3d),("),n,")","{#metromodernizr{left:9px;position:absolute;height:3px;}}"].join(""),function(t){return 3===t.offsetHeight&&9===t.offsetLeft})),t}(),this.canAnimate=u("animationName"),this.canTouch=canTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||void 0!==window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>0||h(["@media (",a.join("touch-enabled),("),n,")","{#metromodernizr{top:9px;position:absolute}}"].join(""),function(t){return 9===t.offsetTop}),window.MetroModernizr.canTransform=this.canTransform,window.MetroModernizr.canTransition=this.canTransition,window.MetroModernizr.canTransform3d=this.canTransform3d,window.MetroModernizr.canAnimate=this.canAnimate,window.MetroModernizr.canTouch=this.canTouch,i=null,r=null,o=null,s=null}else this.canTransform=t("html").hasClass("csstransforms"),this.canTransition=t("html").hasClass("csstransitions"),this.canTransform3d=t("html").hasClass("csstransforms3d"),this.canAnimate=t("html").hasClass("cssanimations"),this.canTouch=t("html").hasClass("touch")||void 0!==window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>0;this.canFlip3d=this.canFlip3d&&this.canAnimate&&this.canTransform&&this.canTransform3d}}(jQuery),function(t,e,n){!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)}(function(i){"use strict";var r,o,s,a,l,c,u,h,d,p,f,m,g,v,y,_,b,w,x,S,k,C,T,D,M,E,L,A,I,N,P={},O=0;r=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:n,normalRangeMax:n,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:n,chartRangeMax:n,chartRangeMinX:n,chartRangeMaxX:n,tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:n,nullColor:n,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:n,chartRangeMin:n,chartRangeClip:!1,colorMap:n,tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:n,thresholdValue:0,chartRangeMax:n,chartRangeMin:n,chartRangeClip:!1,tooltipFormat:new s("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:n,tooltipFormat:new s("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:n,targetColor:"#4a2",chartRangeMax:n,chartRangeMin:n,tooltipFormat:new s("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},M='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',o=function(){var t,e;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=i.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&((e=Array.prototype.slice.call(arguments,1,-1)).unshift(t.prototype),i.extend.apply(i,e))):t.prototype=arguments[0],t.prototype.cls=t,t},i.SPFormatClass=s=o({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,i){var r,o,s,a,l,c=this,u=t;return this.format.replace(this.fre,function(){return o=arguments[1],s=arguments[3],(r=c.precre.exec(o))?(l=r[2],o=r[1]):l=!1,(a=u[o])===n?"":s&&e&&e[s]?e[s].get?e[s].get(a)||a:e[s][a]||a:(d(a)&&(a=i.get("numberFormatter")?i.get("numberFormatter")(a):g(a,l,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark"))),a)})}}),i.spformat=function(t,e){return new s(t,e)},a=function(t,e,n){return e>t?e:t>n?n:t},l=function(t,n){var i;return 2===n?(i=e.floor(t.length/2),t.length%2?t[i]:(t[i-1]+t[i])/2):t.length%2?(i=(t.length*n+n)/4)%1?(t[e.floor(i)]+t[e.floor(i)-1])/2:t[i-1]:(i=(t.length*n+2)/4)%1?(t[e.floor(i)]+t[e.floor(i)-1])/2:t[i-1]},c=function(t){var e;switch(t){case"undefined":t=n;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:t==(e=parseFloat(t))&&(t=e)}return t},u=function(t){var e,n=[];for(e=t.length;e--;)n[e]=c(t[e]);return n},h=function(t,e){var n,i,r=[];for(n=0,i=t.length;i>n;n++)t[n]!==e&&r.push(t[n]);return r},d=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=function(t,e,n,r,o){var s,a;for(t=(!1===e?parseFloat(t).toString():t.toFixed(e)).split(""),(s=(s=i.inArray(".",t))<0?t.length:s)<t.length&&(t[s]=o),a=s-n;a>0;a-=n)t.splice(a,0,r);return t.join("")},p=function(t,e,n){var i;for(i=e.length;i--;)if((!n||null!==e[i])&&e[i]!==t)return!1;return!0},m=function(t){return i.isArray(t)?t:[t]},f=function(e){var n;t.createStyleSheet?t.createStyleSheet().cssText=e:(n=t.createElement("style"),n.type="text/css",t.getElementsByTagName("head")[0].appendChild(n),n["string"==typeof t.body.style.WebkitAppearance?"innerText":"innerHTML"]=e)},i.fn.simpledraw=function(e,r,o,s){var a,l;if(o&&(a=this.data("_jqs_vcanvas")))return a;if(!1===i.fn.sparkline.canvas)return!1;if(i.fn.sparkline.canvas===n){var c=t.createElement("canvas");if(c.getContext&&c.getContext("2d"))i.fn.sparkline.canvas=function(t,e,n,i){return new A(t,e,n,i)};else{if(!t.namespaces||t.namespaces.v)return i.fn.sparkline.canvas=!1,!1;t.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),i.fn.sparkline.canvas=function(t,e,n){return new I(t,e,n)}}}return e===n&&(e=i(this).innerWidth()),r===n&&(r=i(this).innerHeight()),a=i.fn.sparkline.canvas(e,r,this,s),(l=i(this).data("_jqs_mhandler"))&&l.registerCanvas(a),a},i.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},i.RangeMapClass=v=o({init:function(t){var e,n,i=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&e.indexOf(":")>-1&&(n=e.split(":"),n[0]=0===n[0].length?-1/0:parseFloat(n[0]),n[1]=0===n[1].length?1/0:parseFloat(n[1]),n[2]=t[e],i.push(n));this.map=t,this.rangelist=i||!1},get:function(t){var e,i,r,o=this.rangelist;if((r=this.map[t])!==n)return r;if(o)for(e=o.length;e--;)if((i=o[e])[0]<=t&&i[1]>=t)return i[2];return n}}),i.range_map=function(t){return new v(t)},y=o({init:function(t,e){var n=i(t);this.$el=n,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=i(t.canvas);this.canvas=t,this.$canvas=e,e.mouseenter(i.proxy(this.mouseenter,this)),e.mouseleave(i.proxy(this.mouseleave,this)),e.click(i.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=n)},mouseclick:function(t){var e=i.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(e){i(t.body).unbind("mousemove.jqs"),i(t.body).bind("mousemove.jqs",i.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new _(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){i(t.body).unbind("mousemove.jqs");var e,n=this.splist,r=n.length,o=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),e=0;r>e;e++)n[e].clearRegionHighlight()&&(o=!0);o&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t,e,n,r,o,s=this.splist,a=s.length,l=!1,c=this.$canvas.offset(),u=this.currentPageX-c.left,h=this.currentPageY-c.top;if(this.over){for(n=0;a>n;n++)e=s[n],(r=e.setRegionHighlight(this.currentEl,u,h))&&(l=!0);if(l){if(o=i.Event("sparklineRegionChange"),o.sparklines=this.splist,this.$el.trigger(o),this.tooltip){for(t="",n=0;a>n;n++)e=s[n],t+=e.getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===r&&this.mouseleave()}}}),_=o({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;padding: 5px 5px 15px 5px;min-height: 30px;min-width: 30px;",init:function(e){var n,r=e.get("tooltipClassname","jqstooltip"),o=this.sizeStyle;this.container=e.get("tooltipContainer")||t.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),i("#jqssizetip").remove(),i("#jqstooltip").remove(),this.sizetip=i("<div/>",{id:"jqssizetip",style:o,class:r}),this.tooltip=i("<div/>",{id:"jqstooltip",class:r}).appendTo(this.container),n=this.tooltip.offset(),this.offsetLeft=n.left,this.offsetTop=n.top,this.hidden=!0,i(window).unbind("resize.jqs scroll.jqs"),i(window).bind("resize.jqs scroll.jqs",i.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=i(window).scrollTop(),this.scrollLeft=i(window).scrollLeft(),this.scrollRight=this.scrollLeft+i(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+12,this.height=this.sizetip.height()+12,this.sizetip.remove()},setContent:function(t){return t?(this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),void(this.hidden&&(this.hidden=!1,this.updatePosition()))):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(t,e){if(t===n){if(this.mousex===n)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=n,i(window).unbind("resize.jqs scroll.jqs")}}),i(function(){f(M)}),N=[],i.fn.sparkline=function(e,r){return this.each(function(){var o,s,a=new i.fn.sparkline.options(this,r),l=i(this);if(o=function(){var r,o,s,c,u,h,d;return"html"===e||e===n?(((d=this.getAttribute(a.get("tagValuesAttribute")))===n||null===d)&&(d=l.html()),r=d.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):r=e,o="auto"===a.get("width")?r.length*a.get("defaultPixelsPerValue"):a.get("width"),"auto"===a.get("height")?a.get("composite")&&i.data(this,"_jqs_vcanvas")||(c=t.createElement("span"),c.innerHTML="a",l.html(c),s=i(c).innerHeight()||i(c).height(),i(c).remove(),c=null):s=a.get("height"),a.get("disableInteraction")?u=!1:(u=i.data(this,"_jqs_mhandler"))?a.get("composite")||u.reset():(u=new y(this,a),i.data(this,"_jqs_mhandler",u)),a.get("composite")&&!i.data(this,"_jqs_vcanvas")?void(i.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),i.data(this,"_jqs_errnotify",!0))):((h=new(i.fn.sparkline[a.get("type")])(this,r,a,o,s)).render(),void(u&&u.registerSparkline(h)))},i(this).html()&&!a.get("disableHiddenCheck")&&i(this).is(":hidden")||!i(this).parents("body").length){if(!a.get("composite")&&i.data(this,"_jqs_pending"))for(s=N.length;s;s--)N[s-1][0]==this&&N.splice(s-1,1);N.push([this,o]),i.data(this,"_jqs_pending",!0)}else o.call(this)})},i.fn.sparkline.defaults=r(),i.sparkline_display_visible=function(){var t,e,n,r=[];for(e=0,n=N.length;n>e;e++)t=N[e][0],i(t).is(":visible")&&!i(t).parents().is(":hidden")?(N[e][1].call(t),i.data(N[e][0],"_jqs_pending",!1),r.push(e)):!i(t).closest("html").length&&!i.data(t,"_jqs_pending")&&(i.data(N[e][0],"_jqs_pending",!1),r.push(e));for(e=r.length;e;e--)N.splice(r[e-1],1)},i.fn.sparkline.options=o({init:function(t,e){var n,r,o,s;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},o=(r=i.fn.sparkline.defaults).common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||o.tagOptionsPrefix),n=(s=this.getTagSetting("type"))===P?r[e.type||o.type]:r[s],this.mergedOptions=i.extend({},o,n,e)},getTagSetting:function(t){var e,i,r,o,s=this.tagOptionsPrefix;if(!1===s||s===n)return P;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if((e=this.tag.getAttribute(s+t))===n||null===e)e=P;else if("["===e.substr(0,1))for(e=e.substr(1,e.length-2).split(","),i=e.length;i--;)e[i]=c(e[i].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(r=e.substr(1,e.length-2).split(","),e={},i=r.length;i--;)o=r[i].split(":",2),e[o[0].replace(/(^\s*)|(\s*$)/g,"")]=c(o[1].replace(/(^\s*)|(\s*$)/g,""));else e=c(e);this.tagValCache.key=e}return e},get:function(t,e){var i,r=this.getTagSetting(t);return r!==P?r:(i=this.mergedOptions[t])===n?e:i}}),i.fn.sparkline._base=o({disabled:!1,init:function(t,e,r,o,s){this.el=t,this.$el=i(t),this.values=e,this.options=r,this.width=o,this.height=s,this.currentRegion=n},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(){},setRegionHighlight:function(t,e,i){var r,o=this.currentRegion,s=!this.options.get("disableHighlight");return e>this.canvasWidth||i>this.canvasHeight||0>e||0>i?null:(r=this.getRegion(t,e,i),o!==r&&(o!==n&&s&&this.removeHighlight(),this.currentRegion=r,r!==n&&s&&this.renderHighlight(),!0))},clearRegionHighlight:function(){return this.currentRegion!==n&&(this.removeHighlight(),this.currentRegion=n,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var t,e,r,o,a,l,c,u,h,d,p,f,m,g,v=this.options,y="",_=[];if(this.currentRegion===n)return"";if(t=this.getCurrentRegionFields(),p=v.get("tooltipFormatter"))return p(this,v,t);if(v.get("tooltipChartTitle")&&(y+='<div class="jqs jqstitle">'+v.get("tooltipChartTitle")+"</div>\n"),!(e=this.options.get("tooltipFormat")))return"";if(i.isArray(e)||(e=[e]),i.isArray(t)||(t=[t]),c=this.options.get("tooltipFormatFieldlist"),u=this.options.get("tooltipFormatFieldlistKey"),c&&u){for(h=[],l=t.length;l--;)d=t[l][u],-1!=(g=i.inArray(d,c))&&(h[g]=t[l]);t=h}for(r=e.length,m=t.length,l=0;r>l;l++)for("string"==typeof(f=e[l])&&(f=new s(f)),o=f.fclass||"jqsfield",g=0;m>g;g++)t[g].isNull&&v.get("tooltipSkipNull")||(i.extend(t[g],{prefix:v.get("tooltipPrefix"),suffix:v.get("tooltipSuffix")}),a=f.render(t[g],v.get("tooltipValueLookups"),v),_.push('<div class="'+o+'">'+a+"</div>"));return _.length?y+_.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,n){var i,r,o,s,l=n.get("highlightColor"),c=n.get("highlightLighten");if(l)return l;if(c&&(i=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(o=[],r=4===t.length?16:1,s=0;3>s;s++)o[s]=a(e.round(parseInt(i[s+1],16)*r*c),0,255);return"rgb("+o.join(",")+")"}return t}}),b={changeHighlight:function(t){var e,n=this.currentRegion,r=this.target,o=this.regionShapes[n];o&&(e=this.renderRegion(n,t),i.isArray(e)||i.isArray(o)?(r.replaceWithShapes(o,e),this.regionShapes[n]=i.map(e,function(t){return t.id})):(r.replaceWithShape(o,e),this.regionShapes[n]=e.id))},render:function(){var t,e,n,r,o=this.values,s=this.target,a=this.regionShapes;if(this.cls._super.render.call(this)){for(n=o.length;n--;)if(t=this.renderRegion(n))if(i.isArray(t)){for(e=[],r=t.length;r--;)t[r].append(),e.push(t[r].id);a[n]=e}else t.append(),a[n]=t.id;else a[n]=null;s.render()}}},i.fn.sparkline.line=w=o(i.fn.sparkline._base,{type:"line",init:function(t,e,n,i,r){w._super.init.call(this,t,e,n,i,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e){var i,r=this.regionMap;for(i=r.length;i--;)if(null!==r[i]&&e>=r[i][0]&&e<=r[i][1])return r[i][2];return n},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,i=this.currentRegion,r=this.target,o=this.vertices[i],s=this.options,a=s.get("spotRadius"),l=s.get("highlightSpotColor"),c=s.get("highlightLineColor");o&&(a&&l&&(t=r.drawCircle(o[0],o[1],a,n,l),this.highlightSpotId=t.id,r.insertAfterShape(this.lastShapeId,t)),c&&(e=r.drawLine(o[0],this.canvasTop,o[0],this.canvasTop+this.canvasHeight,c),this.highlightLineId=e.id,r.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,n,i,r,o,s=this.values,a=s.length,l=this.xvalues,c=this.yvalues,u=this.yminmax;for(t=0;a>t;t++)n=s[t],i="string"==typeof s[t],r="object"==typeof s[t]&&s[t]instanceof Array,o=i&&s[t].split(":"),i&&2===o.length?(l.push(Number(o[0])),c.push(Number(o[1])),u.push(Number(o[1]))):r?(l.push(n[0]),c.push(n[1]),u.push(n[1])):(l.push(t),null===s[t]||"null"===s[t]?c.push(null):(c.push(Number(n)),u.push(Number(n))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=e.max.apply(e,u),this.miny=this.minyorg=e.min.apply(e,u),this.maxx=e.max.apply(e,l),this.minx=e.min.apply(e,l),this.xvalues=l,this.yvalues=c,this.yminmax=u},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),i=t.get("normalRangeMax");e!==n&&(e<this.miny&&(this.miny=e),i>this.maxy&&(this.maxy=i)),t.get("chartRangeMin")!==n&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==n&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==n&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==n&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,i,r,o,s){var a=this.options.get("normalRangeMin"),l=this.options.get("normalRangeMax"),c=i+e.round(r-r*((l-this.miny)/s)),u=e.round(r*(l-a)/s);this.target.drawRect(t,c,o,u,n,this.options.get("normalRangeColor")).append()},render:function(){var t,r,o,s,a,l,c,u,h,d,p,f,m,g,y,_,b,x,S,k,C,T,D,M,E,L=this.options,A=this.target,I=this.canvasWidth,N=this.canvasHeight,P=this.vertices,O=L.get("spotRadius"),Y=this.regionMap;if(w._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),D=this.xvalues,M=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(s=a=0,t=0==this.maxx-this.minx?1:this.maxx-this.minx,r=0==this.maxy-this.miny?1:this.maxy-this.miny,o=this.yvalues.length-1,O&&(4*O>I||4*O>N)&&(O=0),O&&(((C=L.get("highlightSpotColor")&&!L.get("disableInteraction"))||L.get("minSpotColor")||L.get("spotColor")&&M[o]===this.miny)&&(N-=e.ceil(O)),(C||L.get("maxSpotColor")||L.get("spotColor")&&M[o]===this.maxy)&&(N-=e.ceil(O),s+=e.ceil(O)),(C||(L.get("minSpotColor")||L.get("maxSpotColor"))&&(M[0]===this.miny||M[0]===this.maxy))&&(a+=e.ceil(O),I-=e.ceil(O)),(C||L.get("spotColor")||L.get("minSpotColor")||L.get("maxSpotColor")&&(M[o]===this.miny||M[o]===this.maxy))&&(I-=e.ceil(O))),N--,L.get("normalRangeMin")!==n&&!L.get("drawNormalOnTop")&&this.drawNormalRange(a,s,N,I,r),u=[c=[]],g=y=null,_=M.length,E=0;_>E;E++)h=D[E],p=D[E+1],d=M[E],f=a+e.round((h-this.minx)*(I/t)),m=_-1>E?a+e.round((p-this.minx)*(I/t)):I,y=f+(m-f)/2,Y[E]=[g||0,y,E],g=y,null===d?E&&(null!==M[E-1]&&(c=[],u.push(c)),P.push(null)):(d<this.miny&&(d=this.miny),d>this.maxy&&(d=this.maxy),c.length||c.push([f,s+N]),l=[f,s+e.round(N-N*((d-this.miny)/r))],c.push(l),P.push(l));for(b=[],x=[],S=u.length,E=0;S>E;E++)(c=u[E]).length&&(L.get("fillColor")&&(c.push([c[c.length-1][0],s+N]),x.push(c.slice(0)),c.pop()),c.length>2&&(c[0]=[c[0][0],c[1][1]]),b.push(c));for(S=x.length,E=0;S>E;E++)A.drawShape(x[E],L.get("fillColor"),L.get("fillColor")).append();for(L.get("normalRangeMin")!==n&&L.get("drawNormalOnTop")&&this.drawNormalRange(a,s,N,I,r),S=b.length,E=0;S>E;E++)A.drawShape(b[E],L.get("lineColor"),n,L.get("lineWidth")).append();if(O&&L.get("valueSpots"))for((k=L.get("valueSpots")).get===n&&(k=new v(k)),E=0;_>E;E++)(T=k.get(M[E]))&&A.drawCircle(a+e.round((D[E]-this.minx)*(I/t)),s+e.round(N-N*((M[E]-this.miny)/r)),O,n,T).append();O&&L.get("spotColor")&&null!==M[o]&&A.drawCircle(a+e.round((D[D.length-1]-this.minx)*(I/t)),s+e.round(N-N*((M[o]-this.miny)/r)),O,n,L.get("spotColor")).append(),this.maxy!==this.minyorg&&(O&&L.get("minSpotColor")&&(h=D[i.inArray(this.minyorg,M)],A.drawCircle(a+e.round((h-this.minx)*(I/t)),s+e.round(N-N*((this.minyorg-this.miny)/r)),O,n,L.get("minSpotColor")).append()),O&&L.get("maxSpotColor")&&(h=D[i.inArray(this.maxyorg,M)],A.drawCircle(a+e.round((h-this.minx)*(I/t)),s+e.round(N-N*((this.maxyorg-this.miny)/r)),O,n,L.get("maxSpotColor")).append())),this.lastShapeId=A.getLastShapeId(),this.canvasTop=s,A.render()}}}),i.fn.sparkline.bar=x=o(i.fn.sparkline._base,b,{type:"bar",init:function(t,r,o,s,l){var d,p,f,m,g,y,_,b,w,S,k,C,T,D,M,E,L,A,I,N,P,O,Y=parseInt(o.get("barWidth"),10),R=parseInt(o.get("barSpacing"),10),F=o.get("chartRangeMin"),H=o.get("chartRangeMax"),z=o.get("chartRangeClip"),j=1/0,$=-1/0;for(x._super.init.call(this,t,r,o,s,l),y=0,_=r.length;_>y;y++)N=r[y],((d="string"==typeof N&&N.indexOf(":")>-1)||i.isArray(N))&&(M=!0,d&&(N=r[y]=u(N.split(":"))),N=h(N,null),p=e.min.apply(e,N),f=e.max.apply(e,N),j>p&&(j=p),f>$&&($=f));this.stacked=M,this.regionShapes={},this.barWidth=Y,this.barSpacing=R,this.totalBarWidth=Y+R,this.width=s=r.length*Y+(r.length-1)*R,this.initTarget(),z&&(T=F===n?-1/0:F,D=H===n?1/0:H),g=[],m=M?[]:g;var W=[],B=[];for(y=0,_=r.length;_>y;y++)if(M)for(E=r[y],r[y]=I=[],W[y]=0,m[y]=B[y]=0,L=0,A=E.length;A>L;L++)null!==(N=I[L]=z?a(E[L],T,D):E[L])&&(N>0&&(W[y]+=N),0>j&&$>0?0>N?B[y]+=e.abs(N):m[y]+=N:m[y]+=e.abs(N-(0>N?$:j)),g.push(N));else N=z?a(r[y],T,D):r[y],null!==(N=r[y]=c(N))&&g.push(N);this.max=C=e.max.apply(e,g),this.min=k=e.min.apply(e,g),this.stackMax=$=M?e.max.apply(e,W):C,this.stackMin=j=M?e.min.apply(e,g):k,o.get("chartRangeMin")!==n&&(o.get("chartRangeClip")||o.get("chartRangeMin")<k)&&(k=o.get("chartRangeMin")),o.get("chartRangeMax")!==n&&(o.get("chartRangeClip")||o.get("chartRangeMax")>C)&&(C=o.get("chartRangeMax")),this.zeroAxis=w=o.get("zeroAxis",!0),S=0>=k&&C>=0&&w?0:0==w?k:k>0?k:C,this.xaxisOffset=S,b=M?e.max.apply(e,m)+e.max.apply(e,B):C-k,this.canvasHeightEf=w&&0>k?this.canvasHeight-2:this.canvasHeight-1,S>k?(O=M&&C>=0?$:C,(P=(O-S)/b*this.canvasHeight)!==e.ceil(P)&&(this.canvasHeightEf-=2,P=e.ceil(P))):P=this.canvasHeight,this.yoffset=P,i.isArray(o.get("colorMap"))?(this.colorMapByIndex=o.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=o.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===n&&(this.colorMapByValue=new v(this.colorMapByValue))),this.range=b},getRegion:function(t,i){var r=e.floor(i/this.totalBarWidth);return 0>r||r>=this.values.length?n:r},getCurrentRegionFields:function(){var t,e,n=this.currentRegion,i=m(this.values[n]),r=[];for(e=i.length;e--;)t=i[e],r.push({isNull:null===t,value:t,color:this.calcColor(e,t,n),offset:n});return r},calcColor:function(t,e,r){var o,s,a=this.colorMapByIndex,l=this.colorMapByValue,c=this.options;return o=this.stacked?c.get("stackedBarColor"):0>e?c.get("negBarColor"):c.get("barColor"),0===e&&c.get("zeroColor")!==n&&(o=c.get("zeroColor")),l&&(s=l.get(e))?o=s:a&&a.length>r&&(o=a[r]),i.isArray(o)?o[t%o.length]:o},renderRegion:function(t,r){var o,s,a,l,c,u,h,d,f,m,g=this.values[t],v=this.options,y=this.xaxisOffset,_=[],b=this.range,w=this.stacked,x=this.target,S=t*this.totalBarWidth,k=this.canvasHeightEf,C=this.yoffset;if(g=i.isArray(g)?g:[g],h=g.length,d=g[0],l=p(null,g),m=p(y,g,!0),l)return v.get("nullColor")?(a=r?v.get("nullColor"):this.calcHighlightColor(v.get("nullColor"),v),o=C>0?C-1:C,x.drawRect(S,o,this.barWidth-1,0,a,a)):n;for(c=C,u=0;h>u;u++){if(d=g[u],w&&d===y){if(!m||f)continue;f=!0}s=b>0?e.floor(k*(e.abs(d-y)/b))+1:1,y>d||d===y&&0===C?(o=c,c+=s):(o=C-s,C-=s),a=this.calcColor(u,d,t),r&&(a=this.calcHighlightColor(a,v)),_.push(x.drawRect(S,o,this.barWidth-1,s-1,a,a))}return 1===_.length?_[0]:_}}),i.fn.sparkline.tristate=S=o(i.fn.sparkline._base,b,{type:"tristate",init:function(t,e,r,o,s){var a=parseInt(r.get("barWidth"),10),l=parseInt(r.get("barSpacing"),10);S._super.init.call(this,t,e,r,o,s),this.regionShapes={},this.barWidth=a,this.barSpacing=l,this.totalBarWidth=a+l,this.values=i.map(e,Number),this.width=o=e.length*a+(e.length-1)*l,i.isArray(r.get("colorMap"))?(this.colorMapByIndex=r.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=r.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===n&&(this.colorMapByValue=new v(this.colorMapByValue))),this.initTarget()},getRegion:function(t,n){return e.floor(n/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===n,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var n,i=this.values,r=this.options,o=this.colorMapByIndex,s=this.colorMapByValue;return s&&(n=s.get(t))?n:o&&o.length>e?o[e]:i[e]<0?r.get("negBarColor"):i[e]>0?r.get("posBarColor"):r.get("zeroBarColor")},renderRegion:function(t,n){var i,r,o,s,a,l,c=this.values,u=this.options,h=this.target;return i=h.pixelHeight,o=e.round(i/2),s=t*this.totalBarWidth,c[t]<0?(a=o,r=o-1):c[t]>0?(a=0,r=o-1):(a=o-1,r=2),null!==(l=this.calcColor(c[t],t))?(n&&(l=this.calcHighlightColor(l,u)),h.drawRect(s,a,this.barWidth-1,r-1,l,l)):void 0}}),i.fn.sparkline.discrete=k=o(i.fn.sparkline._base,b,{type:"discrete",init:function(t,r,o,s,a){k._super.init.call(this,t,r,o,s,a),this.regionShapes={},this.values=r=i.map(r,Number),this.min=e.min.apply(e,r),this.max=e.max.apply(e,r),this.range=this.max-this.min,this.width=s="auto"===o.get("width")?2*r.length:this.width,this.interval=e.floor(s/r.length),this.itemWidth=s/r.length,o.get("chartRangeMin")!==n&&(o.get("chartRangeClip")||o.get("chartRangeMin")<this.min)&&(this.min=o.get("chartRangeMin")),o.get("chartRangeMax")!==n&&(o.get("chartRangeClip")||o.get("chartRangeMax")>this.max)&&(this.max=o.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===o.get("lineHeight")?e.round(.3*this.canvasHeight):o.get("lineHeight"))},getRegion:function(t,n){return e.floor(n/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===n,value:this.values[t],offset:t}},renderRegion:function(t,n){var i,r,o,s,l=this.values,c=this.options,u=this.min,h=this.max,d=this.range,p=this.interval,f=this.target,m=this.canvasHeight,g=this.lineHeight,v=m-g;return r=a(l[t],u,h),s=t*p,i=e.round(v-v*((r-u)/d)),o=c.get("thresholdColor")&&r<c.get("thresholdValue")?c.get("thresholdColor"):c.get("lineColor"),n&&(o=this.calcHighlightColor(o,c)),f.drawLine(s,i,s,i+g,o)}}),i.fn.sparkline.bullet=C=o(i.fn.sparkline._base,{type:"bullet",init:function(t,i,r,o,s){var a,l,c;C._super.init.call(this,t,i,r,o,s),this.values=i=u(i),(c=i.slice())[0]=null===c[0]?c[2]:c[0],c[1]=null===i[1]?c[2]:c[1],a=e.min.apply(e,i),l=e.max.apply(e,i),a=r.get("base")===n?0>a?a:0:r.get("base"),this.min=a,this.max=l,this.range=l-a,this.shapes={},this.valueShapes={},this.regiondata={},this.width=o="auto"===r.get("width")?"4.0em":o,this.target=this.$el.simpledraw(o,s,r.get("composite")),i.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,i){var r=this.target.getShapeAt(t,e,i);return r!==n&&this.shapes[r]!==n?this.shapes[r]:n},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,n=this.currentRegion,i=this.valueShapes[n];switch(delete this.shapes[i],n.substr(0,1)){case"r":e=this.renderRange(n.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[n]=e.id,this.shapes[e.id]=n,this.target.replaceWithShape(i,e)},renderRange:function(t,n){var i=this.values[t],r=e.round(this.canvasWidth*((i-this.min)/this.range)),o=this.options.get("rangeColors")[t-2];return n&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(0,0,r-1,this.canvasHeight-1,o,o)},renderPerformance:function(t){var n=this.values[1],i=e.round(this.canvasWidth*((n-this.min)/this.range)),r=this.options.get("performanceColor");return t&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,e.round(.3*this.canvasHeight),i-1,e.round(.4*this.canvasHeight)-1,r,r)},renderTarget:function(t){var n=this.values[0],i=e.round(this.canvasWidth*((n-this.min)/this.range)-this.options.get("targetWidth")/2),r=e.round(.1*this.canvasHeight),o=this.canvasHeight-2*r,s=this.options.get("targetColor");return t&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(i,r,this.options.get("targetWidth")-1,o-1,s,s)},render:function(){var t,e,n=this.values.length,i=this.target;if(C._super.render.call(this)){for(t=2;n>t;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),i.render()}}}),i.fn.sparkline.pie=T=o(i.fn.sparkline._base,{type:"pie",init:function(t,n,r,o,s){var a,l=0;if(T._super.init.call(this,t,n,r,o,s),this.shapes={},this.valueShapes={},this.values=n=i.map(n,Number),"auto"===r.get("width")&&(this.width=this.height),n.length>0)for(a=n.length;a--;)l+=n[a];this.total=l,this.initTarget(),this.radius=e.floor(e.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,i){var r=this.target.getShapeAt(t,e,i);return r!==n&&this.shapes[r]!==n?this.shapes[r]:n},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===n,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,n=this.renderSlice(e,t),i=this.valueShapes[e];delete this.shapes[i],this.target.replaceWithShape(i,n),this.valueShapes[e]=n.id,this.shapes[n.id]=e},renderSlice:function(t,i){var r,o,s,a,l,c=this.target,u=this.options,h=this.radius,d=u.get("borderWidth"),p=u.get("offset"),f=2*e.PI,m=this.values,g=this.total,v=p?2*e.PI*(p/360):0;for(a=m.length,s=0;a>s;s++){if(r=v,o=v,g>0&&(o=v+f*(m[s]/g)),t===s)return l=u.get("sliceColors")[s%u.get("sliceColors").length],i&&(l=this.calcHighlightColor(l,u)),c.drawPieSlice(h,h,h-d,r,o,n,l);v=o}},render:function(){var t,i,r=this.target,o=this.values,s=this.options,a=this.radius,l=s.get("borderWidth");if(T._super.render.call(this)){for(l&&r.drawCircle(a,a,e.floor(a-l/2),s.get("borderColor"),n,l).append(),i=o.length;i--;)o[i]&&(t=this.renderSlice(i).append(),this.valueShapes[i]=t.id,this.shapes[t.id]=i);r.render()}}}),i.fn.sparkline.box=D=o(i.fn.sparkline._base,{type:"box",init:function(t,e,n,r,o){D._super.init.call(this,t,e,n,r,o),this.values=i.map(e,Number),this.width="auto"===n.get("width")?"4.0em":r,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==n&&t.push({field:"lo",value:this.loutlier}),this.routlier!==n&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==n&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==n&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,i,r,o,s,a,c,u,h,d,p,f=this.target,m=this.values,g=m.length,v=this.options,y=this.canvasWidth,_=this.canvasHeight,b=v.get("chartRangeMin")===n?e.min.apply(e,m):v.get("chartRangeMin"),w=v.get("chartRangeMax")===n?e.max.apply(e,m):v.get("chartRangeMax"),x=0;if(D._super.render.call(this)){if(v.get("raw"))v.get("showOutliers")&&m.length>5?(i=m[0],t=m[1],o=m[2],s=m[3],a=m[4],c=m[5],u=m[6]):(t=m[0],o=m[1],s=m[2],a=m[3],c=m[4]);else if(m.sort(function(t,e){return t-e}),o=l(m,1),s=l(m,2),a=l(m,3),r=a-o,v.get("showOutliers")){for(t=c=n,h=0;g>h;h++)t===n&&m[h]>o-r*v.get("outlierIQR")&&(t=m[h]),m[h]<a+r*v.get("outlierIQR")&&(c=m[h]);i=m[0],u=m[g-1]}else t=m[0],c=m[g-1];this.quartiles=[o,s,a],this.lwhisker=t,this.rwhisker=c,this.loutlier=i,this.routlier=u,p=y/(w-b+1),v.get("showOutliers")&&(x=e.ceil(v.get("spotRadius")),y-=2*e.ceil(v.get("spotRadius")),p=y/(w-b+1),t>i&&f.drawCircle((i-b)*p+x,_/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append(),u>c&&f.drawCircle((u-b)*p+x,_/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append()),f.drawRect(e.round((o-b)*p+x),e.round(.1*_),e.round((a-o)*p),e.round(.8*_),v.get("boxLineColor"),v.get("boxFillColor")).append(),f.drawLine(e.round((t-b)*p+x),e.round(_/2),e.round((o-b)*p+x),e.round(_/2),v.get("lineColor")).append(),f.drawLine(e.round((t-b)*p+x),e.round(_/4),e.round((t-b)*p+x),e.round(_-_/4),v.get("whiskerColor")).append(),f.drawLine(e.round((c-b)*p+x),e.round(_/2),e.round((a-b)*p+x),e.round(_/2),v.get("lineColor")).append(),f.drawLine(e.round((c-b)*p+x),e.round(_/4),e.round((c-b)*p+x),e.round(_-_/4),v.get("whiskerColor")).append(),f.drawLine(e.round((s-b)*p+x),e.round(.1*_),e.round((s-b)*p+x),e.round(.9*_),v.get("medianColor")).append(),v.get("target")&&(d=e.ceil(v.get("spotRadius")),f.drawLine(e.round((v.get("target")-b)*p+x),e.round(_/2-d),e.round((v.get("target")-b)*p+x),e.round(_/2+d),v.get("targetColor")).append(),f.drawLine(e.round((v.get("target")-b)*p+x-d),e.round(_/2),e.round((v.get("target")-b)*p+x+d),e.round(_/2),v.get("targetColor")).append()),f.render()}}}),E=o({init:function(t,e,n,i){this.target=t,this.id=e,this.type=n,this.args=i},append:function(){return this.target.appendShape(this),this}}),L=o({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,n){t&&(this.width=t,this.height=e,this.target=n,this.lastShapeId=null,n[0]&&(n=n[0]),i.data(n,"_jqs_vcanvas",this))},drawLine:function(t,e,n,i,r,o){return this.drawShape([[t,e],[n,i]],r,o)},drawShape:function(t,e,n,i){return this._genShape("Shape",[t,e,n,i])},drawCircle:function(t,e,n,i,r,o){return this._genShape("Circle",[t,e,n,i,r,o])},drawPieSlice:function(t,e,n,i,r,o,s){return this._genShape("PieSlice",[t,e,n,i,r,o,s])},drawRect:function(t,e,n,i,r,o){return this._genShape("Rect",[t,e,n,i,r,o])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){i(e).html(t)},_calculatePixelDims:function(t,e,n){var r;r=this._pxregex.exec(e),this.pixelHeight=r?r[1]:i(n).height(),r=this._pxregex.exec(t),this.pixelWidth=r?r[1]:i(n).width()},_genShape:function(t,e){var n=O++;return e.unshift(n),new E(this,n,t,e)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),A=o(L,{init:function(e,r,o,s){A._super.init.call(this,e,r,o),this.canvas=t.createElement("canvas"),o[0]&&(o=o[0]),i.data(o,"_jqs_vcanvas",this),i(this.canvas).css({display:"inline-block",width:e,height:r,verticalAlign:"top"}),this._insert(this.canvas,o),this._calculatePixelDims(e,r,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=s,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=n,i(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,i){var r=this.canvas.getContext("2d");return t!==n&&(r.strokeStyle=t),r.lineWidth=i===n?1:i,e!==n&&(r.fillStyle=e),r},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=n},_drawShape:function(t,e,i,r,o){var s,a,l=this._getContext(i,r,o);for(l.beginPath(),l.moveTo(e[0][0]+.5,e[0][1]+.5),s=1,a=e.length;a>s;s++)l.lineTo(e[s][0]+.5,e[s][1]+.5);i!==n&&l.stroke(),r!==n&&l.fill(),this.targetX!==n&&this.targetY!==n&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,i,r,o,s,a,l){var c=this._getContext(s,a,l);c.beginPath(),c.arc(i,r,o,0,2*e.PI,!1),this.targetX!==n&&this.targetY!==n&&c.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),s!==n&&c.stroke(),a!==n&&c.fill()},_drawPieSlice:function(t,e,i,r,o,s,a,l){var c=this._getContext(a,l);c.beginPath(),c.moveTo(e,i),c.arc(e,i,r,o,s,!1),c.lineTo(e,i),c.closePath(),a!==n&&c.stroke(),l&&c.fill(),this.targetX!==n&&this.targetY!==n&&c.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,n,i,r,o,s){return this._drawShape(t,[[e,n],[e+i,n],[e+i,n+r],[e,n+r],[e,n]],o,s)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var n,i=this.shapeseq;for(this.shapes[e.id]=e,n=i.length;n--;)i[n]==t&&(i[n]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var n,i,r,o=this.shapeseq,s={};for(i=t.length;i--;)s[t[i]]=!0;for(i=o.length;i--;)n=o[i],s[n]&&(o.splice(i,1),delete this.shapes[n],r=i);for(i=e.length;i--;)o.splice(r,0,e[i].id),this.shapes[e[i].id]=e[i]},insertAfterShape:function(t,e){var n,i=this.shapeseq;for(n=i.length;n--;)if(i[n]===t)return i.splice(n+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,n=this.shapeseq;for(e=n.length;e--;)if(n[e]===t){n.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,n){return this.targetX=e,this.targetY=n,this.render(),this.currentTargetShapeId},render:function(){var t,e,n,i=this.shapeseq,r=this.shapes,o=i.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),n=0;o>n;n++)t=i[n],e=r[t],this["_draw"+e.type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),I=o(L,{init:function(e,n,r){var o;I._super.init.call(this,e,n,r),r[0]&&(r=r[0]),i.data(r,"_jqs_vcanvas",this),this.canvas=t.createElement("span"),i(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:n,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,r),this._calculatePixelDims(e,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,o='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",o),this.group=i(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,i,r,o){var s,a,l,c,u,h,d=[];for(h=0,u=e.length;u>h;h++)d[h]=e[h][0]+","+e[h][1];return s=d.splice(0,1),o=o===n?1:o,a=i===n?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+i+'" ',l=r===n?' filled="false"':' fillColor="'+r+'" filled="true" ',c=d[0]===d[d.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+a+l+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+s+" l "+d.join(", ")+" "+c+'e"> </v:shape>'},_drawCircle:function(t,e,i,r,o,s,a){var l,c;return e-=r,i-=r,l=o===n?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+o+'" ',c=s===n?' filled="false"':' fillColor="'+s+'" filled="true" ','<v:oval  id="jqsshape'+t+'" '+l+c+' style="position:absolute;top:'+i+"px; left:"+e+"px; width:"+2*r+"px; height:"+2*r+'px"></v:oval>'},_drawPieSlice:function(t,i,r,o,s,a,l,c){var u,h,d,p,f,m,g;if(s===a)return"";if(a-s==2*e.PI&&(s=0,a=2*e.PI),h=i+e.round(e.cos(s)*o),d=r+e.round(e.sin(s)*o),p=i+e.round(e.cos(a)*o),f=r+e.round(e.sin(a)*o),h===p&&d===f){if(a-s<e.PI)return"";h=p=i+o,d=f=r}return h===p&&d===f&&a-s<e.PI?"":(u=[i-o,r-o,i+o,r+o,h,d,p,f],m=l===n?' stroked="false" ':' strokeWeight="1px" strokeColor="'+l+'" ',g=c===n?' filled="false"':' fillColor="'+c+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+m+g+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+i+","+r+" wa "+u.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,e,n,i,r,o,s){return this._drawShape(t,[[e,n],[e,n+r],[e+i,n+r],[e+i,n],[e,n]],o,s)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var n=i("#jqsshape"+t),r=this["_draw"+e.type].apply(this,e.args);n[0].outerHTML=r},replaceWithShapes:function(t,e){var n,r=i("#jqsshape"+t[0]),o="",s=e.length;for(n=0;s>n;n++)o+=this["_draw"+e[n].type].apply(this,e[n].args);for(r[0].outerHTML=o,n=1;n<t.length;n++)i("#jqsshape"+t[n]).remove()},insertAfterShape:function(t,e){var n=i("#jqsshape"+t),r=this["_draw"+e.type].apply(this,e.args);n[0].insertAdjacentHTML("afterEnd",r)},removeShapeId:function(t){var e=i("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t){return t.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),function(t){"use strict";function e(t,e,n,i){t.beginPath(),t.arc(e,n,i,0,g,!1),t.fill()}function n(t,e,n,i,r){t.beginPath(),t.moveTo(e,n),t.lineTo(i,r),t.stroke()}function i(t,n,i,r,o,s,a,l){var c=Math.cos(n*g);e(t,i-Math.sin(n*g)*o,r+c*s+.5*(l-=a),a+(1-.5*c)*l)}function r(t,e,n,r,o,s,a,l){var c;for(c=5;c--;)i(t,e+c/5,n,r,o,s,a,l)}function o(t,e,n,i,o,s,a){e/=3e4;var l=.21*o,c=.12*o,u=.24*o,h=.28*o;t.fillStyle=a,r(t,e,n,i,l,c,u,h),t.globalCompositeOperation="destination-out",r(t,e,n,i,l,c,u-s,h-s),t.globalCompositeOperation="source-over"}function s(t,e,i,r,o,s,a){e/=12e4;var l,c,u,h,d=.25*o-.5*s,p=.32*o+.5*s,f=.5*o-.5*s;for(t.strokeStyle=a,t.lineWidth=s,t.lineCap="round",t.lineJoin="round",t.beginPath(),t.arc(i,r,d,0,g,!1),t.stroke(),l=8;l--;)c=(e+l/8)*g,n(t,i+(u=Math.cos(c))*p,r+(h=Math.sin(c))*p,i+u*f,r+h*f)}function a(t,e,n,i,r,o,s){e/=15e3;var a=.29*r-.5*o,l=.05*r,c=Math.cos(e*g),u=c*g/-16;t.strokeStyle=s,t.lineWidth=o,t.lineCap="round",t.lineJoin="round",n+=c*l,t.beginPath(),t.arc(n,i,a,u+g/8,u+7*g/8,!1),t.arc(n+Math.cos(u)*a*v,i+Math.sin(u)*a*v,a,u+5*g/8,u+3*g/8,!0),t.closePath(),t.stroke()}function l(t,e,n,i,r,o,s){e/=1350;var a,l,c,u,h=.16*r,d=11*g/12,p=7*g/12;for(t.fillStyle=s,a=4;a--;)l=(e+a/4)%1,c=n+(a-1.5)/1.5*(1===a||2===a?-1:1)*h,u=i+l*l*r,t.beginPath(),t.moveTo(c,u-1.5*o),t.arc(c,u,.75*o,d,p,!1),t.fill()}function c(t,e,i,r,o,s,a){e/=750;var l,c,u,h,d=.1875*o;for(t.strokeStyle=a,t.lineWidth=.5*s,t.lineCap="round",t.lineJoin="round",l=4;l--;)c=(e+l/4)%1,n(t,u=Math.floor(i+(l-1.5)/1.5*(1===l||2===l?-1:1)*d)+.5,(h=r+c*o)-1.5*s,u,h+1.5*s)}function u(t,e,i,r,o,s,a){var l,c,u,h,d=.16*o,p=.75*s,f=(e/=3e3)*g*.7,m=Math.cos(f)*p,v=Math.sin(f)*p,y=f+g/3,_=Math.cos(y)*p,b=Math.sin(y)*p,w=f+2*g/3,x=Math.cos(w)*p,S=Math.sin(w)*p;for(t.strokeStyle=a,t.lineWidth=.5*s,t.lineCap="round",t.lineJoin="round",l=4;l--;)c=(e+l/4)%1,n(t,(u=i+Math.sin((c+l/4)*g)*d)-m,(h=r+c*o)-v,u+m,h+v),n(t,u-_,h-b,u+_,h+b),n(t,u-x,h-S,u+x,h+S)}function h(t,e,n,i,o,s,a){e/=3e4;var l=.21*o,c=.06*o,u=.21*o,h=.28*o;t.fillStyle=a,r(t,e,n,i,l,c,u,h),t.globalCompositeOperation="destination-out",r(t,e,n,i,l,c,u-s,h-s),t.globalCompositeOperation="source-over"}function d(t,e,n,i,r,o,s){var a=r/8,l=a/3,c=2*l,u=e%1*g,h=Math.cos(u),d=Math.sin(u);t.fillStyle=s,t.strokeStyle=s,t.lineWidth=o,t.lineCap="round",t.lineJoin="round",t.beginPath(),t.arc(n,i,a,u,u+Math.PI,!1),t.arc(n-l*h,i-l*d,c,u+Math.PI,u,!1),t.arc(n+c*h,i+c*d,l,u+Math.PI,u,!0),t.globalCompositeOperation="destination-out",t.fill(),t.globalCompositeOperation="source-over",t.stroke()}function p(t,e,n,i,r,o,s,a,l){e/=2500;var c,u,h,p,f=y[s],m=(e+s-_[s].start)%a,g=(e+s-_[s].end)%a,v=(e+s)%a;if(t.strokeStyle=l,t.lineWidth=o,t.lineCap="round",t.lineJoin="round",m<1){if(t.beginPath(),m*=f.length/2-1,c=Math.floor(m),m-=c,c*=2,c+=2,t.moveTo(n+(f[c-2]*(1-m)+f[c]*m)*r,i+(f[c-1]*(1-m)+f[c+1]*m)*r),g<1){for(g*=f.length/2-1,g-=u=Math.floor(g),u*=2,u+=2,p=c;p!==u;p+=2)t.lineTo(n+f[p]*r,i+f[p+1]*r);t.lineTo(n+(f[u-2]*(1-g)+f[u]*g)*r,i+(f[u-1]*(1-g)+f[u+1]*g)*r)}else for(p=c;p!==f.length;p+=2)t.lineTo(n+f[p]*r,i+f[p+1]*r);t.stroke()}else if(g<1){for(t.beginPath(),g*=f.length/2-1,g-=u=Math.floor(g),u*=2,u+=2,t.moveTo(n+f[0]*r,i+f[1]*r),p=2;p!==u;p+=2)t.lineTo(n+f[p]*r,i+f[p+1]*r);t.lineTo(n+(f[u-2]*(1-g)+f[u]*g)*r,i+(f[u-1]*(1-g)+f[u+1]*g)*r),t.stroke()}v<1&&(v*=f.length/2-1,v-=h=Math.floor(v),h*=2,d(t,e,n+(f[(h+=2)-2]*(1-v)+f[h]*v)*r,i+(f[h-1]*(1-v)+f[h+1]*v)*r,r,o,l))}var f,m;!function(){var e=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame,n=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame;e&&n?(f=function(t,n){function i(){r.value=e(i),t()}var r={value:null};return i(),r},m=function(t){n(t.value)}):(f=setInterval,m=clearInterval)}();var g=2*Math.PI,v=2/Math.sqrt(2),y=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]],_=[{start:.36,end:.11},{start:.56,end:.16}],b=function(t){this.list=[],this.interval=null,this.color=t&&t.color?t.color:"black",this.resizeClear=!(!t||!t.resizeClear)};b.CLEAR_DAY=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,o=Math.min(i,r);s(t,e,.5*i,.5*r,o,.08*o,n)},b.CLEAR_NIGHT=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,o=Math.min(i,r);a(t,e,.5*i,.5*r,o,.08*o,n)},b.PARTLY_CLOUDY_DAY=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,a=Math.min(i,r);s(t,e,.625*i,.375*r,.75*a,.08*a,n),o(t,e,.375*i,.625*r,.75*a,.08*a,n)},b.PARTLY_CLOUDY_NIGHT=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,s=Math.min(i,r);a(t,e,.667*i,.375*r,.75*s,.08*s,n),o(t,e,.375*i,.625*r,.75*s,.08*s,n)},b.CLOUDY=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,s=Math.min(i,r);o(t,e,.5*i,.5*r,s,.08*s,n)},b.RAIN=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,s=Math.min(i,r);l(t,e,.5*i,.37*r,.9*s,.08*s,n),o(t,e,.5*i,.37*r,.9*s,.08*s,n)},b.SLEET=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,s=Math.min(i,r);c(t,e,.5*i,.37*r,.9*s,.08*s,n),o(t,e,.5*i,.37*r,.9*s,.08*s,n)},b.SNOW=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,s=Math.min(i,r);u(t,e,.5*i,.37*r,.9*s,.08*s,n),o(t,e,.5*i,.37*r,.9*s,.08*s,n)},b.WIND=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,o=Math.min(i,r);p(t,e,.5*i,.5*r,o,.08*o,0,2,n),p(t,e,.5*i,.5*r,o,.08*o,1,2,n)},b.FOG=function(t,e,i){var r=t.canvas.width,o=t.canvas.height,s=Math.min(r,o),a=.08*s;h(t,e,.5*r,.32*o,.75*s,a,i),e/=5e3;var l=Math.cos(e*g)*s*.02,c=Math.cos((e+.25)*g)*s*.02,u=Math.cos((e+.5)*g)*s*.02,d=Math.cos((e+.75)*g)*s*.02,p=.936*o,f=Math.floor(p-.5*a)+.5,m=Math.floor(p-2.5*a)+.5;t.strokeStyle=i,t.lineWidth=a,t.lineCap="round",t.lineJoin="round",n(t,l+.2*r+.5*a,f,c+.8*r-.5*a,f),n(t,u+.2*r+.5*a,m,d+.8*r-.5*a,m)},b.prototype={_determineDrawingFunction:function(t){return"string"==typeof t&&(t=b[t.toUpperCase().replace(/-/g,"_")]||null),t},add:function(t,e){var n;"string"==typeof t&&(t=document.getElementById(t)),null!==t&&"function"==typeof(e=this._determineDrawingFunction(e))&&(n={element:t,context:t.getContext("2d"),drawing:e},this.list.push(n),this.draw(n,500))},set:function(t,e){var n;for("string"==typeof t&&(t=document.getElementById(t)),n=this.list.length;n--;)if(this.list[n].element===t)return this.list[n].drawing=this._determineDrawingFunction(e),void this.draw(this.list[n],500);this.add(t,e)},remove:function(t){var e;for("string"==typeof t&&(t=document.getElementById(t)),e=this.list.length;e--;)if(this.list[e].element===t)return void this.list.splice(e,1)},draw:function(t,e){var n=t.context.canvas;this.resizeClear?n.width=n.width:t.context.clearRect(0,0,n.width,n.height),t.drawing(t.context,e,this.color)},play:function(){var t=this;this.pause(),this.interval=f(function(){var e,n=Date.now();for(e=t.list.length;e--;)t.draw(t.list[e],n)},1e3/60)},pause:function(){this.interval&&(m(this.interval),this.interval=null)}},t.Skycons=b}(this),function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function r(t){return function(){return this[t].apply(this,arguments)}}function o(e,n){var i=t(e).data(),r={},o=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var s in i)n.test(s)&&(r[s.replace(o,function(t,e){return e.toLowerCase()})]=i[s]);return r}function s(e){var n={};if(f[e]||(e=e.split("-")[0],f[e])){var i=f[e];return t.each(p,function(t,e){e in i&&(n[e]=i[e])}),n}}var a=t(window),l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;n<i;n++)if(this[n].valueOf()===e)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new l;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),c=function(e,n){this.dates=new l,this.viewDate=i(),this.focusDate=null,this._process_options(n),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(e){this._o=t.extend({},this._o,e);var n=this.o=t.extend({},this._o),i=n.language;switch(f[i]||(i=i.split("-")[0],f[i]||(i=d.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),!0!==n.multidate&&(n.multidate=Number(n.multidate)||!1,!1!==n.multidate?n.multidate=Math.max(0,n.multidate):n.multidate=1),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var r=m.parseFormat(n.format);n.startDate!==-1/0&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=m.parseDate(n.startDate,r,n.language):n.startDate=-1/0),n.endDate!==1/0&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=m.parseDate(n.endDate,r,n.language):n.endDate=1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)});var o=String(n.orientation).toLowerCase().split(/\s+/g),s=n.orientation.toLowerCase();if(o=t.grep(o,function(t){return/^auto|left|right|top|bottom$/.test(t)}),n.orientation={x:"auto",y:"auto"},s&&"auto"!==s)if(1===o.length)switch(o[0]){case"top":case"bottom":n.orientation.y=o[0];break;case"left":case"right":n.orientation.x=o[0]}else s=t.grep(o,function(t){return/^left|right$/.test(t)}),n.orientation.x=s[0]||"auto",s=t.grep(o,function(t){return/^top|bottom$/.test(t)}),n.orientation.y=s[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,n,i,r=0;r<t.length;r++)e=t[r][0],2===t[r].length?(n=void 0,i=t[r][1]):3===t[r].length&&(n=t[r][1],i=t[r][2]),e.on(i,n)},_unapplyEvents:function(t){for(var e,n,i,r=0;r<t.length;r++)e=t[r][0],2===t[r].length?(i=void 0,n=t[r][1]):3===t[r].length&&(i=t[r][1],n=t[r][2]),e.off(n,i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),r=this._utc_to_local(i);this.element.trigger({type:e,date:r,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return m.formatDate(n,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:r("setDates"),setUTCDate:r("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(e){void 0===e&&(e=this.o.format);var n=this.o.language;return t.map(this.dates,function(t){return m.formatDate(t,e,n)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=a.width(),r=a.height(),o=a.scrollTop(),s=parseInt(this.element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"))+10,l=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=l.left,d=l.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=e-u)):(this.picker.addClass("datepicker-orient-left"),l.left<0?h-=l.left-10:l.left+e>i&&(h=i-e-10));var p,f,m=this.o.orientation.y;"auto"===m&&(p=-o+l.top-n,f=o+r-(l.top+c+n),m=Math.max(p,f)===f?"top":"bottom"),this.picker.addClass("datepicker-orient-"+m),"top"===m?d+=c:d-=n+parseInt(this.picker.css("padding-top")),this.picker.css({top:d,left:h,zIndex:s})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),n=[],i=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return m.parseDate(t,this.o.format,this.o.language)},this)),n=t.grep(n,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():n.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';e+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+f[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+f[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),o=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<r?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>r)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===o.getFullYear()&&e.getUTCMonth()===o.getMonth()&&e.getUTCDate()===o.getDate()&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var e,i=new Date(this.viewDate),r=i.getUTCFullYear(),o=i.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=f[this.o.language].today||f.en.today||"",h=f[this.o.language].clear||f.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(f[this.o.language].months[o]+" "+r),this.picker.find("tfoot th.today").text(u).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(h).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var d=n(r,o-1,28),p=m.getDaysInMonth(d.getUTCFullYear(),d.getUTCMonth());d.setUTCDate(p),d.setUTCDate(p-(d.getUTCDay()-this.o.weekStart+7)%7);var g=new Date(d);g.setUTCDate(g.getUTCDate()+42),g=g.valueOf();for(var v,y=[];d.valueOf()<g;){if(d.getUTCDay()===this.o.weekStart&&(y.push("<tr>"),this.o.calendarWeeks)){var _=new Date(+d+(this.o.weekStart-d.getUTCDay()-7)%7*864e5),b=new Date(Number(_)+(11-_.getUTCDay())%7*864e5),w=new Date(Number(w=n(b.getUTCFullYear(),0,1))+(11-w.getUTCDay())%7*864e5),x=(b-w)/864e5/7+1;y.push('<td class="cw">'+x+"</td>")}if((v=this.getClassNames(d)).push("day"),this.o.beforeShowDay!==t.noop){var S=this.o.beforeShowDay(this._utc_to_local(d));void 0===S?S={}:"boolean"==typeof S?S={enabled:S}:"string"==typeof S&&(S={classes:S}),!1===S.enabled&&v.push("disabled"),S.classes&&(v=v.concat(S.classes.split(/\s+/))),S.tooltip&&(e=S.tooltip)}v=t.unique(v),y.push('<td class="'+v.join(" ")+'"'+(e?' title="'+e+'"':"")+">"+d.getUTCDate()+"</td>"),d.getUTCDay()===this.o.weekEnd&&y.push("</tr>"),d.setUTCDate(d.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var k=this.picker.find(".datepicker-months").find("th:eq(1)").text(r).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===r&&k.eq(e.getUTCMonth()).addClass("active")}),(r<s||r>l)&&k.addClass("disabled"),r===s&&k.slice(0,a).addClass("disabled"),r===l&&k.slice(c+1).addClass("disabled"),y="",r=10*parseInt(r/10,10);var C=this.picker.find(".datepicker-years").find("th:eq(1)").text(r+"-"+(r+9)).end().find("td");r-=1;for(var T,D=t.map(this.dates,function(t){return t.getUTCFullYear()}),M=-1;M<11;M++)T=["year"],-1===M?T.push("old"):10===M&&T.push("new"),-1!==t.inArray(r,D)&&T.push("active"),(r<s||r>l)&&T.push("disabled"),y+='<span class="'+T.join(" ")+'">'+r+"</span>",r+=1;C.html(y)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var i,r,o,s=t(e.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var a=m.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,a),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,a),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=n(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":var u;this.isInput?u=this.element:this.component&&(u=this.element.find("input")),u&&u.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":s.is(".disabled")||(this.viewDate.setUTCDate(1),s.is(".month")?(o=1,r=s.parent().find("span").index(s),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(r),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(i,r,o))):(o=1,r=0,i=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,r,o))),this.showMode(-1),this.fill());break;case"td":s.is(".day")&&!s.is(".disabled")&&(o=parseInt(s.text(),10)||1,i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),s.is(".old")?0===r?(r=11,i-=1):r-=1:s.is(".new")&&(11===r?(r=0,i+=1):r+=1),this._setDate(n(i,r,o)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1!==e?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,e){if(t){if(!e)return t;var n,i,r=new Date(t.valueOf()),o=r.getUTCDate(),s=r.getUTCMonth(),a=Math.abs(e);if(e=e>0?1:-1,1===a)i=-1===e?function(){return r.getUTCMonth()===s}:function(){return r.getUTCMonth()!==n},n=s+e,r.setUTCMonth(n),(n<0||n>11)&&(n=(n+12)%12);else{for(var l=0;l<a;l++)r=this.moveMonth(r,e);n=r.getUTCMonth(),r.setUTCDate(o),i=function(){return n!==r.getUTCMonth()}}for(;i();)r.setUTCDate(--o),r.setUTCMonth(n);return r}},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))27===t.keyCode&&this.show();else{var e,n,r,o=!1,s=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),r=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),r=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):((n=new Date(this.dates.get(-1)||i())).setUTCDate(n.getUTCDate()+e),(r=new Date(s)).setUTCDate(s.getUTCDate()+e)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),r=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),r=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):((n=new Date(this.dates.get(-1)||i())).setUTCDate(n.getUTCDate()+7*e),(r=new Date(s)).setUTCDate(s.getUTCDate()+7*e)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:s=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(s),o=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(o){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change()}}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var u=function(e,n){this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,t(this.inputs).datepicker(n).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var n=t(e.target).data("datepicker").getUTCDate(),i=t.inArray(e.target,this.inputs),r=this.inputs.length;if(-1!==i){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(n)}),n<this.dates[i])for(;i>=0&&n<this.dates[i];)this.pickers[i--].setUTCDate(n);else if(n>this.dates[i])for(;i<r&&n>this.dates[i];)this.pickers[i++].setUTCDate(n);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var h=t.fn.datepicker;t.fn.datepicker=function(e){var n=Array.apply(null,arguments);n.shift();var i;return this.each(function(){var r=t(this),a=r.data("datepicker"),l="object"==typeof e&&e;if(!a){var h=o(this,"date"),p=s(t.extend({},d,h,l).language),f=t.extend({},d,p,h,l);if(r.is(".input-daterange")||f.inputs){var m={inputs:f.inputs||r.find("input").toArray()};r.data("datepicker",a=new u(this,t.extend(f,m)))}else r.data("datepicker",a=new c(this,f))}if("string"==typeof e&&"function"==typeof a[e]&&void 0!==(i=a[e].apply(a,n)))return!1}),void 0!==i?i:this};var d=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},p=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=c;var f=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,m.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(e,i,r){function o(){var t=this.slice(0,h[l].length);return t===h[l].slice(0,t.length)}if(e){if(e instanceof Date)return e;"string"==typeof i&&(i=m.parseFormat(i));var s,a,l,u=/([\-+]\d+)([dmwy])/,h=e.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,l=0;l<h.length;l++)switch(s=u.exec(h[l]),a=parseInt(s[1]),s[2]){case"d":e.setUTCDate(e.getUTCDate()+a);break;case"m":e=c.prototype.moveMonth.call(c.prototype,e,a);break;case"w":e.setUTCDate(e.getUTCDate()+7*a);break;case"y":e=c.prototype.moveYear.call(c.prototype,e,a)}return n(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),0,0,0)}h=e&&e.match(this.nonpunctuation)||[],e=new Date;var d,p,g={},v=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};y.M=y.MM=y.mm=y.m,y.dd=y.d,e=n(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);var _=i.parts.slice();if(h.length!==_.length&&(_=t(_).filter(function(e,n){return-1!==t.inArray(n,v)}).toArray()),h.length===_.length){var b;for(l=0,b=_.length;l<b;l++){if(d=parseInt(h[l],10),s=_[l],isNaN(d))switch(s){case"MM":p=t(f[r].months).filter(o),d=t.inArray(p[0],f[r].months)+1;break;case"M":p=t(f[r].monthsShort).filter(o),d=t.inArray(p[0],f[r].monthsShort)+1}g[s]=d}var w,x;for(l=0;l<v.length;l++)(x=v[l])in g&&!isNaN(g[x])&&(w=new Date(e),y[x](w,g[x]),isNaN(w)||(e=w))}return e}},formatDate:function(e,n,i){if(!e)return"";"string"==typeof n&&(n=m.parseFormat(n));var r={d:e.getUTCDate(),D:f[i].daysShort[e.getUTCDay()],DD:f[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:f[i].monthsShort[e.getUTCMonth()],MM:f[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,e=[];for(var o=t.extend([],n.separators),s=0,a=n.parts.length;s<=a;s++)o.length&&e.push(o.shift()),e.push(r[n.parts[s]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=m,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=h,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),n.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(t){function e(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function n(t,e){return wt.call(t,e)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(t){!1===gt.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function o(t,e){var n=!0;return h(function(){return n&&(r(t),n=!1),e.apply(this,arguments)},e)}function s(t,e){he[t]||(r(e),he[t]=!0)}function a(t,e){return function(n){return f(t.call(this,n),e)}}function l(){}function c(t,e){!1!==e&&E(t),d(this,t),this._d=new Date(+t._d)}function u(t){var e=S(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=gt.localeData(),this._bubble()}function h(t,e){for(var i in e)n(e,i)&&(t[i]=e[i]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e){var n,i,r;if(void 0!==e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),void 0!==e._i&&(t._i=e._i),void 0!==e._f&&(t._f=e._f),void 0!==e._l&&(t._l=e._l),void 0!==e._strict&&(t._strict=e._strict),void 0!==e._tzm&&(t._tzm=e._tzm),void 0!==e._isUTC&&(t._isUTC=e._isUTC),void 0!==e._offset&&(t._offset=e._offset),void 0!==e._pf&&(t._pf=e._pf),void 0!==e._locale&&(t._locale=e._locale),Lt.length>0)for(n in Lt)i=Lt[n],void 0!==(r=e[i])&&(t[i]=r);return t}function p(t){return 0>t?Math.ceil(t):Math.floor(t)}function f(t,e,n){for(var i=""+Math.abs(t),r=t>=0;i.length<e;)i="0"+i;return(r?n?"+":"":"-")+i}function m(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function g(t,e){var n;return e=P(e,t),t.isBefore(e)?n=m(t,e):(n=m(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function v(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(s(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=gt.duration(n,i),y(this,r,t),this}}function y(t,e,n,i){var r=e._milliseconds,o=e._days,s=e._months;i=null==i||i,r&&t._d.setTime(+t._d+r*n),o&&ht(t,"Date",ut(t,"Date")+o*n),s&&ct(t,ut(t,"Month")+s*n),i&&gt.updateOffset(t,o||s)}function _(t){return"[object Array]"===Object.prototype.toString.call(t)}function b(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function w(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&k(t[i])!==k(e[i]))&&s++;return s+o}function x(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=re[t]||oe[e]||e}return t}function S(t){var e,i,r={};for(i in t)n(t,i)&&(e=x(i))&&(r[e]=t[i]);return r}function k(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function C(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function T(t,e,n){return ot(gt([t,11,31+e-n]),e,n).week}function D(t){return M(t)?366:365}function M(t){return t%4==0&&t%100!=0||t%400==0}function E(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[St]<0||t._a[St]>11?St:t._a[kt]<1||t._a[kt]>C(t._a[xt],t._a[St])?kt:t._a[Ct]<0||t._a[Ct]>23?Ct:t._a[Tt]<0||t._a[Tt]>59?Tt:t._a[Dt]<0||t._a[Dt]>59?Dt:t._a[Mt]<0||t._a[Mt]>999?Mt:-1,t._pf._overflowDayOfYear&&(xt>e||e>kt)&&(e=kt),t._pf.overflow=e)}function L(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function A(t){return t?t.toLowerCase().replace("_","-"):t}function I(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=A(t[o]).split("-")).length,n=(n=A(t[o+1]))?n.split("-"):null;e>0;){if(i=N(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&w(r,n,!0)>=e-1)break;e--}o++}return null}function N(t){var e=null;if(!Et[t]&&At)try{e=gt.locale(),require("./locale/"+t),gt.locale(e)}catch(t){}return Et[t]}function P(t,e){return e._isUTC?gt(t).zone(e._offset||0):gt(t).local()}function O(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Y(t){var e,n,i=t.match(Ot);for(e=0,n=i.length;n>e;e++)i[e]=ue[i[e]]?ue[i[e]]:O(i[e]);return function(r){var o="";for(e=0;n>e;e++)o+=i[e]instanceof Function?i[e].call(r,t):i[e];return o}}function R(t,e){return t.isValid()?(e=F(e,t.localeData()),se[e]||(se[e]=Y(e)),se[e](t)):t.localeData().invalidDate()}function F(t,e){var n=5;for(Yt.lastIndex=0;n>=0&&Yt.test(t);)t=t.replace(Yt,function(t){return e.longDateFormat(t)||t}),Yt.lastIndex=0,n-=1;return t}function H(t,e){var n=e._strict;switch(t){case"Q":return Vt;case"DDDD":return Gt;case"YYYY":case"GGGG":case"gggg":return n?Kt:Ht;case"Y":case"G":case"g":return Jt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?Qt:zt;case"S":if(n)return Vt;case"SS":if(n)return Xt;case"SSS":if(n)return Gt;case"DDD":return Ft;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return $t;case"a":case"A":return e._locale._meridiemParse;case"X":return Ut;case"Z":case"ZZ":return Wt;case"T":return Bt;case"SSSS":return jt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?Xt:Rt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Rt;case"Do":return qt;default:return new RegExp(X(V(t.replace("\\",""))))}}function z(t){var e=(t=t||"").match(Wt)||[],n=((e[e.length-1]||[])+"").match(ne)||["-",0,0],i=60*n[1]+k(n[2]);return"+"===n[0]?-i:i}function j(t,e,n){var i,r=n._a;switch(t){case"Q":null!=e&&(r[St]=3*(k(e)-1));break;case"M":case"MM":null!=e&&(r[St]=k(e)-1);break;case"MMM":case"MMMM":null!=(i=n._locale.monthsParse(e))?r[St]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(r[kt]=k(e));break;case"Do":null!=e&&(r[kt]=k(parseInt(e,10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=k(e));break;case"YY":r[xt]=gt.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":r[xt]=k(e);break;case"a":case"A":n._isPm=n._locale.isPM(e);break;case"H":case"HH":case"h":case"hh":r[Ct]=k(e);break;case"m":case"mm":r[Tt]=k(e);break;case"s":case"ss":r[Dt]=k(e);break;case"S":case"SS":case"SSS":case"SSSS":r[Mt]=k(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=z(e);break;case"dd":case"ddd":case"dddd":null!=(i=n._locale.weekdaysParse(e))?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=k(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=gt.parseTwoDigitYear(e)}}function $(t){var n,i,r,o,s,a,l;null!=(n=t._w).GG||null!=n.W||null!=n.E?(s=1,a=4,i=e(n.GG,t._a[xt],ot(gt(),1,4).year),r=e(n.W,1),o=e(n.E,1)):(s=t._locale._week.dow,a=t._locale._week.doy,i=e(n.gg,t._a[xt],ot(gt(),s,a).year),r=e(n.w,1),null!=n.d?(o=n.d,s>o&&++r):o=null!=n.e?n.e+s:s),l=st(i,r,o,a,s),t._a[xt]=l.year,t._dayOfYear=l.dayOfYear}function W(t){var n,i,r,o,s=[];if(!t._d){for(r=U(t),t._w&&null==t._a[kt]&&null==t._a[St]&&$(t),t._dayOfYear&&(o=e(t._a[xt],r[xt]),t._dayOfYear>D(o)&&(t._pf._overflowDayOfYear=!0),i=et(o,0,t._dayOfYear),t._a[St]=i.getUTCMonth(),t._a[kt]=i.getUTCDate()),n=0;3>n&&null==t._a[n];++n)t._a[n]=s[n]=r[n];for(;7>n;n++)t._a[n]=s[n]=null==t._a[n]?2===n?1:0:t._a[n];t._d=(t._useUTC?et:tt).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()+t._tzm)}}function B(t){var e;t._d||(e=S(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],W(t))}function U(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function q(t){if(t._f!==gt.ISO_8601){t._a=[],t._pf.empty=!0;var e,n,i,r,o,s=""+t._i,a=s.length,l=0;for(i=F(t._f,t._locale).match(Ot)||[],e=0;e<i.length;e++)r=i[e],(n=(s.match(H(r,t))||[])[0])&&((o=s.substr(0,s.indexOf(n))).length>0&&t._pf.unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),l+=n.length),ue[r]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(r),j(r,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(r);t._pf.charsLeftOver=a-l,s.length>0&&t._pf.unusedInput.push(s),t._isPm&&t._a[Ct]<12&&(t._a[Ct]+=12),!1===t._isPm&&12===t._a[Ct]&&(t._a[Ct]=0),W(t),E(t)}else K(t)}function V(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})}function X(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function G(t){var e,n,r,o,s;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)s=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=i(),e._f=t._f[o],q(e),L(e)&&(s+=e._pf.charsLeftOver,s+=10*e._pf.unusedTokens.length,e._pf.score=s,(null==r||r>s)&&(r=s,n=e));h(t,n||e)}function K(t){var e,n,i=t._i,r=Zt.exec(i);if(r){for(t._pf.iso=!0,e=0,n=te.length;n>e;e++)if(te[e][1].exec(i)){t._f=te[e][0]+(r[6]||" ");break}for(e=0,n=ee.length;n>e;e++)if(ee[e][1].exec(i)){t._f+=ee[e][0];break}i.match(Wt)&&(t._f+="Z"),q(t)}else t._isValid=!1}function Q(t){K(t),!1===t._isValid&&(delete t._isValid,gt.createFromInputFallback(t))}function J(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function Z(e){var n,i=e._i;i===t?e._d=new Date:b(i)?e._d=new Date(+i):null!==(n=It.exec(i))?e._d=new Date(+n[1]):"string"==typeof i?Q(e):_(i)?(e._a=J(i.slice(0),function(t){return parseInt(t,10)}),W(e)):"object"==typeof i?B(e):"number"==typeof i?e._d=new Date(i):gt.createFromInputFallback(e)}function tt(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return 1970>t&&a.setFullYear(t),a}function et(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function nt(t,e){if("string"==typeof t)if(isNaN(t)){if("number"!=typeof(t=e.weekdaysParse(t)))return null}else t=parseInt(t,10);return t}function it(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function rt(t,e,n){var i=gt.duration(t).abs(),r=bt(i.as("s")),o=bt(i.as("m")),s=bt(i.as("h")),a=bt(i.as("d")),l=bt(i.as("M")),c=bt(i.as("y")),u=r<ae.s&&["s",r]||1===o&&["m"]||o<ae.m&&["mm",o]||1===s&&["h"]||s<ae.h&&["hh",s]||1===a&&["d"]||a<ae.d&&["dd",a]||1===l&&["M"]||l<ae.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=n,it.apply({},u)}function ot(t,e,n){var i,r=n-e,o=n-t.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=gt(t).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function st(t,e,n,i,r){var o,s,a=et(t,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:r,o=r-a+(a>i?7:0)-(r>a?7:0),s=7*(e-1)+(n-r)+o+1,{year:s>0?t:t-1,dayOfYear:s>0?s:D(t-1)+s}}function at(e){var n=e._i,i=e._f;return e._locale=e._locale||gt.localeData(e._l),null===n||i===t&&""===n?gt.invalid({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),gt.isMoment(n)?new c(n,!0):(i?_(i)?G(e):q(e):Z(e),new c(e)))}function lt(t,e){var n,i;if(1===e.length&&_(e[0])&&(e=e[0]),!e.length)return gt();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function ct(t,e){var n;return"string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))?t:(n=Math.min(t.date(),C(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function ut(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function ht(t,e,n){return"Month"===e?ct(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function dt(t,e){return function(n){return null!=n?(ht(this,t,n),gt.updateOffset(this,e),this):ut(this,t)}}function pt(t){return 400*t/146097}function ft(t){return 146097*t/400}function mt(t){"undefined"==typeof ender&&(vt=_t.moment,_t.moment=t?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",gt):gt)}for(var gt,vt,yt,_t="undefined"!=typeof global?global:this,bt=Math.round,wt=Object.prototype.hasOwnProperty,xt=0,St=1,kt=2,Ct=3,Tt=4,Dt=5,Mt=6,Et={},Lt=[],At="undefined"!=typeof module&&module.exports,It=/^\/?Date\((\-?\d+)/i,Nt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Pt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ot=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Yt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Rt=/\d\d?/,Ft=/\d{1,3}/,Ht=/\d{1,4}/,zt=/[+\-]?\d{1,6}/,jt=/\d+/,$t=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Wt=/Z|[\+\-]\d\d:?\d\d/gi,Bt=/T/i,Ut=/[\+\-]?\d+(\.\d{1,3})?/,qt=/\d{1,2}/,Vt=/\d/,Xt=/\d\d/,Gt=/\d{3}/,Kt=/\d{4}/,Qt=/[+-]?\d{6}/,Jt=/[+-]?\d+/,Zt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,te=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ee=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ne=/([\+\-]|\d\d)/gi,ie=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),re={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},oe={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},se={},ae={s:45,m:45,h:22,d:26,M:11},le="DDD w W M D d".split(" "),ce="M D H h m s w W".split(" "),ue={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return f(this.year()%100,2)},YYYY:function(){return f(this.year(),4)},YYYYY:function(){return f(this.year(),5)},YYYYYY:function(){var t=this.year();return(t>=0?"+":"-")+f(Math.abs(t),6)},gg:function(){return f(this.weekYear()%100,2)},gggg:function(){return f(this.weekYear(),4)},ggggg:function(){return f(this.weekYear(),5)},GG:function(){return f(this.isoWeekYear()%100,2)},GGGG:function(){return f(this.isoWeekYear(),4)},GGGGG:function(){return f(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return k(this.milliseconds()/100)},SS:function(){return f(k(this.milliseconds()/10),2)},SSS:function(){return f(this.milliseconds(),3)},SSSS:function(){return f(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+f(k(t/60),2)+":"+f(k(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+f(k(t/60),2)+f(k(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},he={},de=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];le.length;)yt=le.pop(),ue[yt+"o"]=function(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}(ue[yt],yt);for(;ce.length;)yt=ce.pop(),ue[yt+yt]=a(ue[yt],2);for(ue.DDDD=a(ue.DDD,3),h(l.prototype,{set:function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=gt.utc([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=gt([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return ot(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(gt=function(e,n,r,o){var s;return"boolean"==typeof r&&(o=r,r=t),s={},s._isAMomentObject=!0,s._i=e,s._f=n,s._l=r,s._strict=o,s._isUTC=!1,s._pf=i(),at(s)}).suppressDeprecationWarnings=!1,gt.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i)}),gt.min=function(){return lt("isBefore",[].slice.call(arguments,0))},gt.max=function(){return lt("isAfter",[].slice.call(arguments,0))},gt.utc=function(e,n,r,o){var s;return"boolean"==typeof r&&(o=r,r=t),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=r,s._i=e,s._f=n,s._strict=o,s._pf=i(),at(s).utc()},gt.unix=function(t){return gt(1e3*t)},gt.duration=function(t,e){var i,r,o,s,a=t,l=null;return gt.isDuration(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(l=Nt.exec(t))?(i="-"===l[1]?-1:1,a={y:0,d:k(l[kt])*i,h:k(l[Ct])*i,m:k(l[Tt])*i,s:k(l[Dt])*i,ms:k(l[Mt])*i}):(l=Pt.exec(t))?(i="-"===l[1]?-1:1,o=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*i},a={y:o(l[2]),M:o(l[3]),d:o(l[4]),h:o(l[5]),m:o(l[6]),s:o(l[7]),w:o(l[8])}):"object"==typeof a&&("from"in a||"to"in a)&&(s=g(gt(a.from),gt(a.to)),a={},a.ms=s.milliseconds,a.M=s.months),r=new u(a),gt.isDuration(t)&&n(t,"_locale")&&(r._locale=t._locale),r},gt.version="2.8.3",gt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",gt.ISO_8601=function(){},gt.momentProperties=Lt,gt.updateOffset=function(){},gt.relativeTimeThreshold=function(e,n){return ae[e]!==t&&(n===t?ae[e]:(ae[e]=n,!0))},gt.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return gt.locale(t,e)}),gt.locale=function(t,e){var n;return t&&(n=void 0!==e?gt.defineLocale(t,e):gt.localeData(t))&&(gt.duration._locale=gt._locale=n),gt._locale._abbr},gt.defineLocale=function(t,e){return null!==e?(e.abbr=t,Et[t]||(Et[t]=new l),Et[t].set(e),gt.locale(t),Et[t]):(delete Et[t],null)},gt.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(t){return gt.localeData(t)}),gt.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return gt._locale;if(!_(t)){if(e=N(t))return e;t=[t]}return I(t)},gt.isMoment=function(t){return t instanceof c||null!=t&&n(t,"_isAMomentObject")},gt.isDuration=function(t){return t instanceof u},yt=de.length-1;yt>=0;--yt)!function(e){var n,i;if(0===e.indexOf("week"))n=7,i="day";else{if(0!==e.indexOf("month"))return;n=12,i="month"}gt[e]=function(r,o){var s,a,l=gt._locale[e],c=[];if("number"==typeof r&&(o=r,r=t),a=function(t){var e=gt().utc().set(i,t);return l.call(gt._locale,e,r||"")},null!=o)return a(o);for(s=0;n>s;s++)c.push(a(s));return c}}(de[yt]);gt.normalizeUnits=function(t){return x(t)},gt.invalid=function(t){var e=gt.utc(NaN);return null!=t?h(e._pf,t):e._pf.userInvalidated=!0,e},gt.parseZone=function(){return gt.apply(null,arguments).parseZone()},gt.parseTwoDigitYear=function(t){return k(t)+(k(t)>68?1900:2e3)},h(gt.fn=c.prototype,{clone:function(){return gt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=gt(this).utc();return 0<t.year()&&t.year()<=9999?R(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):R(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return L(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&w(this._a,(this._isUTC?gt.utc(this._a):gt(this._a)).toArray())>0)},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.zone(0,t)},local:function(t){return this._isUTC&&(this.zone(0,t),this._isUTC=!1,t&&this.add(this._dateTzOffset(),"m")),this},format:function(t){var e=R(this,t||gt.defaultFormat);return this.localeData().postformat(e)},add:v(1,"add"),subtract:v(-1,"subtract"),diff:function(t,e,n){var i,r,o,s=P(t,this),a=6e4*(this.zone()-s.zone());return"year"===(e=x(e))||"month"===e?(i=432e5*(this.daysInMonth()+s.daysInMonth()),r=12*(this.year()-s.year())+(this.month()-s.month()),o=this-gt(this).startOf("month")-(s-gt(s).startOf("month")),o-=6e4*(this.zone()-gt(this).startOf("month").zone()-(s.zone()-gt(s).startOf("month").zone())),r+=o/i,"year"===e&&(r/=12)):(i=this-s,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-a)/864e5:"week"===e?(i-a)/6048e5:i),n?r:p(r)},from:function(t,e){return gt.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(gt(),t)},calendar:function(t){var e=P(t||gt(),this).startOf("day"),n=this.diff(e,"days",!0),i=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this))},isLeapYear:function(){return M(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=nt(t,this.localeData()),this.add(t-e,"d")):e},month:dt("Month",!0),startOf:function(t){switch(t=x(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=x(t),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(t,e){return"millisecond"===(e=x(void 0!==e?e:"millisecond"))?(t=gt.isMoment(t)?t:gt(t),+this>+t):+this.clone().startOf(e)>+gt(t).startOf(e)},isBefore:function(t,e){return"millisecond"===(e=x(void 0!==e?e:"millisecond"))?+(t=gt.isMoment(t)?t:gt(t))>+this:+this.clone().startOf(e)<+gt(t).startOf(e)},isSame:function(t,e){return"millisecond"===(e=x(e||"millisecond"))?(t=gt.isMoment(t)?t:gt(t),+this==+t):+this.clone().startOf(e)==+P(t,this).startOf(e)},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=gt.apply(null,arguments),this>t?this:t}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return(t=gt.apply(null,arguments))>this?this:t}),zone:function(t,e){var n,i=this._offset||0;return null==t?this._isUTC?i:this._dateTzOffset():("string"==typeof t&&(t=z(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(n=this._dateTzOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.subtract(n,"m"),i!==t&&(!e||this._changeInProgress?y(this,gt.duration(i-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,gt.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?gt(t).zone():0,(this.zone()-t)%60==0},daysInMonth:function(){return C(this.year(),this.month())},dayOfYear:function(t){var e=bt((gt(this).startOf("day")-gt(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=ot(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=ot(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=ot(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return T(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return T(this.year(),t.dow,t.doy)},get:function(t){return t=x(t),this[t]()},set:function(t,e){return t=x(t),"function"==typeof this[t]&&this[t](e),this},locale:function(e){var n;return e===t?this._locale._abbr:(null!=(n=gt.localeData(e))&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Use moment().localeData() instead.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),gt.fn.millisecond=gt.fn.milliseconds=dt("Milliseconds",!1),gt.fn.second=gt.fn.seconds=dt("Seconds",!1),gt.fn.minute=gt.fn.minutes=dt("Minutes",!1),gt.fn.hour=gt.fn.hours=dt("Hours",!0),gt.fn.date=dt("Date",!0),gt.fn.dates=o("dates accessor is deprecated. Use date instead.",dt("Date",!0)),gt.fn.year=dt("FullYear",!0),gt.fn.years=o("years accessor is deprecated. Use year instead.",dt("FullYear",!0)),gt.fn.days=gt.fn.day,gt.fn.months=gt.fn.month,gt.fn.weeks=gt.fn.week,gt.fn.isoWeeks=gt.fn.isoWeek,gt.fn.quarters=gt.fn.quarter,gt.fn.toJSON=gt.fn.toISOString,h(gt.duration.fn=u.prototype,{_bubble:function(){var t,e,n,i=this._milliseconds,r=this._days,o=this._months,s=this._data,a=0;s.milliseconds=i%1e3,t=p(i/1e3),s.seconds=t%60,e=p(t/60),s.minutes=e%60,n=p(e/60),s.hours=n%24,r+=p(n/24),o+=p((r-=p(ft(a=p(pt(r)))))/30),r%=30,a+=p(o/12),o%=12,s.days=r,s.months=o,s.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return p(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12)},humanize:function(t){var e=rt(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=gt.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=gt.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=x(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,n;if("month"===(t=x(t))||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*pt(e),"month"===t?n:n/12;switch(e=this._days+ft(this._months/12),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:gt.fn.lang,locale:gt.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale}}),gt.duration.fn.toString=gt.duration.fn.toISOString;for(yt in ie)n(ie,yt)&&function(t){gt.duration.fn[t]=function(){return this._data[t]}}(yt.toLowerCase());gt.duration.fn.asMilliseconds=function(){return this.as("ms")},gt.duration.fn.asSeconds=function(){return this.as("s")},gt.duration.fn.asMinutes=function(){return this.as("m")},gt.duration.fn.asHours=function(){return this.as("h")},gt.duration.fn.asDays=function(){return this.as("d")},gt.duration.fn.asWeeks=function(){return this.as("weeks")},gt.duration.fn.asMonths=function(){return this.as("M")},gt.duration.fn.asYears=function(){return this.as("y")},gt.locale("en",{ordinal:function(t){var e=t%10;return t+(1===k(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),At?module.exports=gt:"function"==typeof define&&define.amd?(define("moment",function(t,e,n){return n.config&&n.config()&&!0===n.config().noGlobal&&(_t.moment=vt),gt}),mt(!0)):mt()}.call(this),function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(n,i,r){t.daterangepicker=e(t,r,n,i)});else if("undefined"!=typeof exports){var n,i=require("moment");try{n=require("jquery")}catch(t){if(!(n=window.jQuery))throw new Error("jQuery dependency not found")}e(t,exports,i,n)}else t.daterangepicker=e(t,{},t.moment,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,n,i){var r=function(t,e,n){this.parentEl="body",this.element=i(t),this.isShowing=!1;"object"==typeof e&&null!==e||(e={}),this.parentEl=i("object"==typeof e&&e.parentEl&&i(e.parentEl).length?e.parentEl:this.parentEl),this.container=i('<div class="daterangepicker dropdown-menu"><div class="calendar first left"></div><div class="calendar second right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input form-group form-group-default "><label for="daterangepicker_start"></label><input class="form-control" type="text" name="daterangepicker_start" value="" /></div><div class="daterangepicker_end_input form-group form-group-default "><label for="daterangepicker_end"></label><input class="form-control" type="text" name="daterangepicker_end" value="" /></div><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div></div>').appendTo(this.parentEl),this.setOptions(e,n);var r=this.container;i.each(this.buttonClasses,function(t,e){r.find("button").addClass(e)}),this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel),this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",i.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",i.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",i.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",i.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",i.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",i.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",i.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",i.proxy(this.updateTime,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",i.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",i.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",i.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",i.proxy(this.inputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",i.proxy(this.inputsKeydown,this)).on("click.daterangepicker","li",i.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",i.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",i.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":i.proxy(this.show,this),"focus.daterangepicker":i.proxy(this.show,this),"keyup.daterangepicker":i.proxy(this.updateFromControl,this)}):this.element.on("click.daterangepicker",i.proxy(this.toggle,this))};r.prototype={constructor:r,setOptions:function(t,e){if(this.startDate=n().startOf("day"),this.endDate=n().endOf("day"),this.timeZone=n().zone(),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerSeconds=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.buttonClasses=["btn","btn-small btn-sm"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:n.weekdaysMin(),monthNames:n.monthsShort(),firstDay:n.localeData()._week.dow},this.cb=function(){},"string"==typeof t.format&&(this.format=t.format),"string"==typeof t.separator&&(this.separator=t.separator),"string"==typeof t.startDate&&(this.startDate=n(t.startDate,this.format)),"string"==typeof t.endDate&&(this.endDate=n(t.endDate,this.format)),"string"==typeof t.minDate&&(this.minDate=n(t.minDate,this.format)),"string"==typeof t.maxDate&&(this.maxDate=n(t.maxDate,this.format)),"object"==typeof t.startDate&&(this.startDate=n(t.startDate)),"object"==typeof t.endDate&&(this.endDate=n(t.endDate)),"object"==typeof t.minDate&&(this.minDate=n(t.minDate)),"object"==typeof t.maxDate&&(this.maxDate=n(t.maxDate)),"string"==typeof t.applyClass&&(this.applyClass=t.applyClass),"string"==typeof t.cancelClass&&(this.cancelClass=t.cancelClass),"object"==typeof t.dateLimit&&(this.dateLimit=t.dateLimit),"object"==typeof t.locale&&("object"==typeof t.locale.daysOfWeek&&(this.locale.daysOfWeek=t.locale.daysOfWeek.slice()),"object"==typeof t.locale.monthNames&&(this.locale.monthNames=t.locale.monthNames.slice()),"number"==typeof t.locale.firstDay&&(this.locale.firstDay=t.locale.firstDay),"string"==typeof t.locale.applyLabel&&(this.locale.applyLabel=t.locale.applyLabel),"string"==typeof t.locale.cancelLabel&&(this.locale.cancelLabel=t.locale.cancelLabel),"string"==typeof t.locale.fromLabel&&(this.locale.fromLabel=t.locale.fromLabel),"string"==typeof t.locale.toLabel&&(this.locale.toLabel=t.locale.toLabel),"string"==typeof t.locale.weekLabel&&(this.locale.weekLabel=t.locale.weekLabel),"string"==typeof t.locale.customRangeLabel&&(this.locale.customRangeLabel=t.locale.customRangeLabel)),"string"==typeof t.opens&&(this.opens=t.opens),"boolean"==typeof t.showWeekNumbers&&(this.showWeekNumbers=t.showWeekNumbers),"string"==typeof t.buttonClasses&&(this.buttonClasses=[t.buttonClasses]),"object"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses),"boolean"==typeof t.showDropdowns&&(this.showDropdowns=t.showDropdowns),"boolean"==typeof t.singleDatePicker&&(this.singleDatePicker=t.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof t.timePicker&&(this.timePicker=t.timePicker),"boolean"==typeof t.timePickerSeconds&&(this.timePickerSeconds=t.timePickerSeconds),"number"==typeof t.timePickerIncrement&&(this.timePickerIncrement=t.timePickerIncrement),"boolean"==typeof t.timePicker12Hour&&(this.timePicker12Hour=t.timePicker12Hour),0!=this.locale.firstDay)for(var r=this.locale.firstDay;r>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),r--;var o,s,a;if(void 0===t.startDate&&void 0===t.endDate&&i(this.element).is("input[type=text]")){var l=i(this.element).val(),c=l.split(this.separator);o=s=null,2==c.length?(o=n(c[0],this.format),s=n(c[1],this.format)):this.singleDatePicker&&""!==l&&(o=n(l,this.format),s=n(l,this.format)),null!==o&&null!==s&&(this.startDate=o,this.endDate=s)}if("string"==typeof t.timeZone||"number"==typeof t.timeZone?(this.timeZone=t.timeZone,this.startDate.zone(this.timeZone),this.endDate.zone(this.timeZone)):this.timeZone=n(this.startDate).zone(),"object"==typeof t.ranges){for(a in t.ranges)o="string"==typeof t.ranges[a][0]?n(t.ranges[a][0],this.format):n(t.ranges[a][0]),s="string"==typeof t.ranges[a][1]?n(t.ranges[a][1],this.format):n(t.ranges[a][1]),this.minDate&&o.isBefore(this.minDate)&&(o=n(this.minDate)),this.maxDate&&s.isAfter(this.maxDate)&&(s=n(this.maxDate)),this.minDate&&s.isBefore(this.minDate)||this.maxDate&&o.isAfter(this.maxDate)||(this.ranges[a]=[o,s]);var u="<ul>";for(a in this.ranges)u+="<li>"+a+"</li>";u+="<li>"+this.locale.customRangeLabel+"</li>",u+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(u)}if("function"==typeof e&&(this.cb=e),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.singleDatePicker?(this.opens="right",this.container.addClass("single"),this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.timePicker?this.container.find(".ranges .daterangepicker_start_input, .ranges .daterangepicker_end_input").hide():this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.removeClass("single"),this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldChosenLabel=this.chosenLabel,this.leftCalendar={month:n([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute(),this.startDate.second()]),calendar:[]},this.rightCalendar={month:n([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute(),this.endDate.second()]),calendar:[]},"right"==this.opens||"center"==this.opens){var h=this.container.find(".calendar.first"),d=this.container.find(".calendar.second");d.hasClass("single")&&(d.removeClass("single"),h.addClass("single")),h.removeClass("left").addClass("right"),d.removeClass("right").addClass("left"),this.singleDatePicker&&(h.show(),d.hide())}void 0!==t.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.updateView(),this.updateCalendars()},setStartDate:function(t){"string"==typeof t&&(this.startDate=n(t,this.format).zone(this.timeZone)),"object"==typeof t&&(this.startDate=n(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.oldStartDate=this.startDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},setEndDate:function(t){"string"==typeof t&&(this.endDate=n(t,this.format).zone(this.timeZone)),"object"==typeof t&&(this.endDate=n(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.oldEndDate=this.endDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.separator),e=null,i=null;2===t.length&&(e=n(t[0],this.format).zone(this.timeZone),i=n(t[1],this.format).zone(this.timeZone)),(this.singleDatePicker||null===e||null===i)&&(i=e=n(this.element.val(),this.format).zone(this.timeZone)),i.isBefore(e)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=e,this.endDate=i,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars())}},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var t={top:0,left:0},e=i(window).width();this.parentEl.is("body")||(t={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},e=this.parentEl[0].clientWidth+this.parentEl.offset().left),"left"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-t.top,right:e-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-t.top,left:this.element.offset().left-t.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight()-t.top,left:this.element.offset().left-t.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>i(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(t){this.element.hasClass("active")?this.hide():this.show()},show:function(t){this.isShowing||(this.element.addClass("active"),this.container.show(),this.move(),this._outsideClickProxy=i.proxy(function(t){this.outsideClick(t)},this),i(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),this.isShowing=!0,this.element.trigger("show.daterangepicker",this))},outsideClick:function(t){var e=i(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-date").length||this.hide()},hide:function(t){this.isShowing&&(i(document).off(".daterangepicker"),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.isShowing=!1,this.element.trigger("hide.daterangepicker",this))},enterRange:function(t){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.format))}},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},inputsChanged:function(t){var e=i(t.target),r=n(e.val(),this.format);if(r.isValid()){var o,s;"daterangepicker_start"===e.attr("name")?(o=r,s=this.endDate):(o=this.startDate,s=r),this.setCustomDates(o,s)}},inputsKeydown:function(t){13===t.keyCode&&(this.inputsChanged(t),this.notify())},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)):this.element.is("input")&&this.element.val(this.endDate.format(this.format))},clickRange:function(t){var e=t.target.innerHTML;if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this)}},clickPrev:function(t){i(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.subtract(1,"month"):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){i(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):this.rightCalendar.month.add(1,"month"),this.updateCalendars()},hoverDate:function(t){var e=i(t.target).attr("data-title"),n=e.substr(1,1),r=e.substr(3,1);i(t.target).parents(".calendar").hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[n][r].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[n][r].format(this.format))},setCustomDates:function(t,e){if(this.chosenLabel=this.locale.customRangeLabel,t.isAfter(e)){var i=this.endDate.diff(this.startDate);e=n(t).add(i,"ms"),this.maxDate&&e.isAfter(this.maxDate)&&(e=this.maxDate)}this.startDate=t,this.endDate=e,this.updateView(),this.updateCalendars()},clickDate:function(t){var e,r,o=i(t.target).attr("data-title"),s=o.substr(1,1),a=o.substr(3,1),l=i(t.target).parents(".calendar");if(l.hasClass("left")){if(e=this.leftCalendar.calendar[s][a],r=this.endDate,"object"==typeof this.dateLimit){var c=n(e).add(this.dateLimit).startOf("day");r.isAfter(c)&&(r=c)}}else if(e=this.startDate,r=this.rightCalendar.calendar[s][a],"object"==typeof this.dateLimit){var u=n(r).subtract(this.dateLimit).startOf("day");e.isBefore(u)&&(e=u)}this.singleDatePicker&&l.hasClass("left")?r=e.clone():this.singleDatePicker&&l.hasClass("right")&&(e=r.clone()),l.find("td").removeClass("active"),i(t.target).addClass("active"),this.setCustomDates(e,r),this.timePicker||r.endOf("day"),this.singleDatePicker&&!this.timePicker&&this.clickApply()},clickApply:function(t){this.updateInputText(),this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.chosenLabel=this.oldChosenLabel,this.updateView(),this.updateCalendars(),this.hide(),this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(t){var e=i(t.target).closest(".calendar").hasClass("left")?"left":"right",n=this.container.find(".calendar."+e),r=parseInt(n.find(".monthselect").val(),10),o=n.find(".yearselect").val();this[e+"Calendar"].month.month(r).year(o),this.updateCalendars()},updateTime:function(t){var e=i(t.target).closest(".calendar"),n=e.hasClass("left"),r=parseInt(e.find(".hourselect").val(),10),o=parseInt(e.find(".minuteselect").val(),10),s=0;if(this.timePickerSeconds&&(s=parseInt(e.find(".secondselect").val(),10)),this.timePicker12Hour){var a=e.find(".ampmselect").val();"PM"===a&&r<12&&(r+=12),"AM"===a&&12===r&&(r=0)}if(n){var l=this.startDate.clone();l.hour(r),l.minute(o),l.second(s),this.startDate=l,this.leftCalendar.month.hour(r).minute(o).second(s),this.singleDatePicker&&(this.endDate=l.clone())}else{var c=this.endDate.clone();c.hour(r),c.minute(o),c.second(s),this.endDate=c,this.singleDatePicker&&(this.startDate=c.clone()),this.rightCalendar.month.hour(r).minute(o).second(s)}this.updateView(),this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),this.leftCalendar.month.second(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),this.rightCalendar.month.second(),"right"),this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate,"left")),this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.singleDatePicker?this.minDate:this.startDate,this.maxDate,"right")),this.container.find(".ranges li").removeClass("active");var t=!0,e=0;for(var n in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()),e++;t&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},buildCalendar:function(t,e,i,r,o,s){var a,l=n([e,t]).daysInMonth(),c=n([e,t,1]),u=n([e,t,l]),h=n(c).subtract(1,"month").month(),d=n(c).subtract(1,"month").year(),p=n([d,h]).daysInMonth(),f=c.day(),m=[];for(m.firstDay=c,m.lastDay=u,a=0;a<6;a++)m[a]=[];var g=p-f+this.locale.firstDay+1;g>p&&(g-=7),f==this.locale.firstDay&&(g=p-6);var v,y,_=n([d,h,g,12,r,o]).zone(this.timeZone);for(a=0,v=0,y=0;a<42;a++,v++,_=n(_).add(24,"hour"))a>0&&v%7==0&&(v=0,y++),m[y][v]=_.clone().hour(i),_.hour(12),this.minDate&&m[y][v].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&m[y][v].isBefore(this.minDate)&&"left"==s&&(m[y][v]=this.minDate.clone()),this.maxDate&&m[y][v].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&m[y][v].isAfter(this.maxDate)&&"right"==s&&(m[y][v]=this.maxDate.clone());return m},renderDropdowns:function(t,e,n){for(var i=t.month(),r=t.year(),o=n&&n.year()||r+5,s=e&&e.year()||r-50,a='<select class="monthselect">',l=r==s,c=r==o,u=0;u<12;u++)(!l||u>=e.month())&&(!c||u<=n.month())&&(a+="<option value='"+u+"'"+(u===i?" selected='selected'":"")+">"+this.locale.monthNames[u]+"</option>");a+="</select>";for(var h='<select class="yearselect">',d=s;d<=o;d++)h+='<option value="'+d+'"'+(d===r?' selected="selected"':"")+">"+d+"</option>";return h+="</select>",a+h},renderCalendar:function(t,e,n,r,o){var s='<div class="calendar-date">';s+='<table class="table-condensed">',s+="<thead>",s+="<tr>",this.showWeekNumbers&&(s+="<th></th>"),!n||n.isBefore(t.firstDay)?s+='<th class="prev available"><i class="fa fa-chevron-left icon icon-arrow-left glyphicon glyphicon-arrow-left"></i></th>':s+="<th></th>";var a=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY");this.showDropdowns&&(a=this.renderDropdowns(t[1][1],n,r)),s+='<th colspan="5" class="month">'+a+"</th>",!r||r.isAfter(t.lastDay)?s+='<th class="next available"><i class="fa fa-chevron-right icon icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>':s+="<th></th>",s+="</tr>",s+="<tr>",this.showWeekNumbers&&(s+='<th class="week">'+this.locale.weekLabel+"</th>"),i.each(this.locale.daysOfWeek,function(t,e){s+="<th>"+e+"</th>"}),s+="</tr>",s+="</thead>",s+="<tbody>";for(var l=0;l<6;l++){s+="<tr>",this.showWeekNumbers&&(s+='<td class="week">'+t[l][0].week()+"</td>");for(var c=0;c<7;c++){var u="available ";u+=t[l][c].month()==t[1][1].month()?"":"off",n&&t[l][c].isBefore(n,"day")||r&&t[l][c].isAfter(r,"day")?u=" off disabled ":t[l][c].format("YYYY-MM-DD")==e.format("YYYY-MM-DD")?(u+=" active ",t[l][c].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(u+=" start-date "),t[l][c].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(u+=" end-date ")):t[l][c]>=this.startDate&&t[l][c]<=this.endDate&&(u+=" in-range ",t[l][c].isSame(this.startDate)&&(u+=" start-date "),t[l][c].isSame(this.endDate)&&(u+=" end-date "));var h="r"+l+"c"+c;s+='<td class="'+u.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+h+'">'+t[l][c].date()+"</td>"}s+="</tr>"}s+="</tbody>",s+="</table>",s+="</div>";var d;if(this.timePicker){s+='<div class="calendar-time">',s+='<select class="hourselect">';var p=0,f=23;n&&("left"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&(p=n.hour(),e.hour()<p&&e.hour(p),this.timePicker12Hour&&p>=12&&e.hour()>=12&&(p-=12),this.timePicker12Hour&&12==p&&(p=1)),r&&("right"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD")==r.format("YYYY-MM-DD")&&(f=r.hour(),e.hour()>f&&e.hour(f),this.timePicker12Hour&&f>=12&&e.hour()>=12&&(f-=12));var m=0,g=23,v=e.hour();for(this.timePicker12Hour&&(m=1,g=12,v>=12&&(v-=12),0===v&&(v=12)),d=m;d<=g;d++)s+=d==v?'<option value="'+d+'" selected="selected">'+d+"</option>":d<p||d>f?'<option value="'+d+'" disabled="disabled" class="disabled">'+d+"</option>":'<option value="'+d+'">'+d+"</option>";s+="</select> : ",s+='<select class="minuteselect">';var y=0,_=59;for(n&&("left"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD h A")==n.format("YYYY-MM-DD h A")&&(y=n.minute(),e.minute()<y&&e.minute(y)),r&&("right"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD h A")==r.format("YYYY-MM-DD h A")&&(_=r.minute(),e.minute()>_&&e.minute(_)),d=0;d<60;d+=this.timePickerIncrement)(b=d)<10&&(b="0"+b),d==e.minute()?s+='<option value="'+d+'" selected="selected">'+b+"</option>":s+=d<y||d>_?'<option value="'+d+'" disabled="disabled" class="disabled">'+b+"</option>":'<option value="'+d+'">'+b+"</option>";if(s+="</select> ",this.timePickerSeconds){for(s+=': <select class="secondselect">',d=0;d<60;d+=this.timePickerIncrement){var b=d;b<10&&(b="0"+b),d==e.second()?s+='<option value="'+d+'" selected="selected">'+b+"</option>":s+='<option value="'+d+'">'+b+"</option>"}s+="</select>"}if(this.timePicker12Hour){s+='<select class="ampmselect">';var w="",x="";n&&("left"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&n.hour()>=12&&(w=' disabled="disabled" class="disabled"'),r&&("right"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD")==r.format("YYYY-MM-DD")&&r.hour()<12&&(x=' disabled="disabled" class="disabled"'),e.hour()>=12?s+='<option value="AM"'+w+'>AM</option><option value="PM" selected="selected"'+x+">PM</option>":s+='<option value="AM" selected="selected"'+w+'>AM</option><option value="PM"'+x+">PM</option>",s+="</select>"}s+="</div>"}return s},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData("daterangepicker")}},i.fn.daterangepicker=function(t,e){return this.each(function(){var n=i(this);n.data("daterangepicker")&&n.data("daterangepicker").remove(),n.data("daterangepicker",new r(n,t,e))}),this}}),function(t,e,n){var i=function(i){function r(t){var e,n,o={};i.each(t,function(i){(e=i.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(e[1]+" ")&&(n=i.replace(e[0],e[2].toLowerCase()),o[n]=i,"o"===e[1]&&r(t[i]))}),t._hungarianMap=o}function o(t,e,s){t._hungarianMap||r(t);var a;i.each(e,function(r){(a=t._hungarianMap[r])===n||!s&&e[a]!==n||("o"===a.charAt(0)?(e[a]||(e[a]={}),i.extend(!0,e[a],e[r]),o(t[a],e[a],s)):e[a]=e[r])})}function s(t){var e=Bt.defaults.oLanguage,n=t.sZeroRecords;!t.sEmptyTable&&n&&"No data available in table"===e.sEmptyTable&&Nt(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&n&&"Loading..."===e.sLoadingRecords&&Nt(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands),(t=t.sDecimal)&&$t(t)}function a(t){if(de(t,"ordering","bSort"),de(t,"orderMulti","bSortMulti"),de(t,"orderClasses","bSortClasses"),de(t,"orderCellsTop","bSortCellsTop"),de(t,"order","aaSorting"),de(t,"orderFixed","aaSortingFixed"),de(t,"paging","bPaginate"),de(t,"pagingType","sPaginationType"),de(t,"pageLength","iDisplayLength"),de(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),t=t.aoSearchCols)for(var e=0,n=t.length;e<n;e++)t[e]&&o(Bt.models.oSearch,t[e])}function l(t){de(t,"orderable","bSortable"),de(t,"orderData","aDataSort"),de(t,"orderSequence","asSorting"),de(t,"orderDataType","sortDataType");var e=t.aDataSort;e&&!i.isArray(e)&&(t.aDataSort=[e])}function c(t){if(!Bt.__browser){var e={};Bt.__browser=e;var n=i("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(i("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(i("<div/>").css({width:"100%",height:10}))).appendTo("body"),r=n.children(),o=r.children();e.barWidth=r[0].offsetWidth-r[0].clientWidth,e.bScrollOversize=100===o[0].offsetWidth&&100!==r[0].clientWidth,e.bScrollbarLeft=1!==Math.round(o.offset().left),e.bBounding=!!n[0].getBoundingClientRect().width,n.remove()}i.extend(t.oBrowser,Bt.__browser),t.oScroll.iBarWidth=Bt.__browser.barWidth}function u(t,e,i,r,o,s){var a,l=!1;for(i!==n&&(a=i,l=!0);r!==o;)t.hasOwnProperty(r)&&(a=l?e(a,t[r],r,t):t[r],l=!0,r+=s);return a}function h(t,n){var r=Bt.defaults.column,o=t.aoColumns.length,r=i.extend({},Bt.models.oColumn,r,{nTh:n||e.createElement("th"),sTitle:r.sTitle?r.sTitle:n?n.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o});t.aoColumns.push(r),(r=t.aoPreSearchCols)[o]=i.extend({},Bt.models.oSearch,r[o]),d(t,o,i(n).data())}function d(t,e,r){var e=t.aoColumns[e],s=t.oClasses,a=i(e.nTh);if(!e.sWidthOrig){e.sWidthOrig=a.attr("width")||null;var c=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(e.sWidthOrig=c[1])}r!==n&&null!==r&&(l(r),o(Bt.defaults.column,r),r.mDataProp!==n&&!r.mData&&(r.mData=r.mDataProp),r.sType&&(e._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),i.extend(e,r),Nt(e,r,"sWidth","sWidthOrig"),r.iDataSort!==n&&(e.aDataSort=[r.iDataSort]),Nt(e,r,"aDataSort"));var u=e.mData,h=C(u),d=e.mRender?C(e.mRender):null,r=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};e._bAttrSrc=i.isPlainObject(u)&&(r(u.sort)||r(u.type)||r(u.filter)),e.fnGetData=function(t,e,i){var r=h(t,e,n,i);return d&&e?d(r,e,t,i):r},e.fnSetData=function(t,e,n){return T(u)(t,e,n)},"number"!=typeof u&&(t._rowReadObject=!0),t.oFeatures.bSort||(e.bSortable=!1,a.addClass(s.sSortableNone)),t=-1!==i.inArray("asc",e.asSorting),r=-1!==i.inArray("desc",e.asSorting),e.bSortable&&(t||r)?t&&!r?(e.sSortingClass=s.sSortableAsc,e.sSortingClassJUI=s.sSortJUIAscAllowed):!t&&r?(e.sSortingClass=s.sSortableDesc,e.sSortingClassJUI=s.sSortJUIDescAllowed):(e.sSortingClass=s.sSortable,e.sSortingClassJUI=s.sSortJUI):(e.sSortingClass=s.sSortableNone,e.sSortingClassJUI="")}function p(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;gt(t);for(var n=0,i=e.length;n<i;n++)e[n].nTh.style.width=e[n].sWidth}(""!==(e=t.oScroll).sY||""!==e.sX)&&ft(t),Rt(t,null,"column-sizing",[t])}function f(t,e){var n=v(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function m(t,e){var n=v(t,"bVisible");return-1!==(n=i.inArray(e,n))?n:null}function g(t){return v(t,"bVisible").length}function v(t,e){var n=[];return i.map(t.aoColumns,function(t,i){t[e]&&n.push(i)}),n}function y(t){var e,i,r,o,s,a,l,c,u,h=t.aoColumns,d=t.aoData,p=Bt.ext.type.detect;for(e=0,i=h.length;e<i;e++)if(l=h[e],u=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,o=p.length;r<o;r++){for(s=0,a=d.length;s<a&&(u[s]===n&&(u[s]=x(t,s,e,"type")),(c=p[r](u[s],t))||r===p.length-1)&&"html"!==c;s++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function _(t,e,r,o){var s,a,l,c,u,d,p=t.aoColumns;if(e)for(s=e.length-1;0<=s;s--){var f=(d=e[s]).targets!==n?d.targets:d.aTargets;for(i.isArray(f)||(f=[f]),a=0,l=f.length;a<l;a++)if("number"==typeof f[a]&&0<=f[a]){for(;p.length<=f[a];)h(t);o(f[a],d)}else if("number"==typeof f[a]&&0>f[a])o(p.length+f[a],d);else if("string"==typeof f[a])for(c=0,u=p.length;c<u;c++)("_all"==f[a]||i(p[c].nTh).hasClass(f[a]))&&o(c,d)}if(r)for(s=0,t=r.length;s<t;s++)o(s,r[s])}function b(t,e,r,o){var s=t.aoData.length,a=i.extend(!0,{},Bt.models.oRow,{src:r?"dom":"data",idx:s});a._aData=e,t.aoData.push(a);for(var l=t.aoColumns,c=0,u=l.length;c<u;c++)l[c].sType=null;return t.aiDisplayMaster.push(s),(e=t.rowIdFn(e))!==n&&(t.aIds[e]=a),(r||!t.oFeatures.bDeferRender)&&I(t,s,r,o),s}function w(t,e){var n;return e instanceof i||(e=i(e)),e.map(function(e,i){return n=A(t,i),b(t,n.data,i,n.cells)})}function x(t,e,i,r){var o=t.iDraw,s=t.aoColumns[i],a=t.aoData[e]._aData,l=s.sDefaultContent;if((i=s.fnGetData(a,r,{settings:t,row:e,col:i}))===n)return t.iDrawError!=o&&null===l&&(It(t,0,"Requested unknown parameter "+("function"==typeof s.mData?"{function}":"'"+s.mData+"'")+" for row "+e,4),t.iDrawError=o),l;if(i!==a&&null!==i||null===l){if("function"==typeof i)return i.call(a)}else i=l;return null===i&&"display"==r?"":i}function S(t,e,n,i){t.aoColumns[n].fnSetData(t.aoData[e]._aData,i,{settings:t,row:e,col:n})}function k(t){return i.map(t.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\./g,".")})}function C(t){if(i.isPlainObject(t)){var e={};return i.each(t,function(t,n){n&&(e[t]=C(n))}),function(t,i,r,o){var s=e[i]||e._;return s!==n?s(t,i,r,o):t}}if(null===t)return function(t){return t};if("function"==typeof t)return function(e,n,i,r){return t(e,n,i,r)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var r=function(t,e,o){var s,a;if(""!==o)for(var l=0,c=(a=k(o)).length;l<c;l++){if(o=a[l].match(pe),s=a[l].match(fe),o){if(a[l]=a[l].replace(pe,""),""!==a[l]&&(t=t[a[l]]),s=[],a.splice(0,l+1),a=a.join("."),i.isArray(t))for(l=0,c=t.length;l<c;l++)s.push(r(t[l],e,a));t=""===(t=o[0].substring(1,o[0].length-1))?s:s.join(t);break}if(s)a[l]=a[l].replace(fe,""),t=t[a[l]]();else{if(null===t||t[a[l]]===n)return n;t=t[a[l]]}}return t};return function(e,n){return r(e,n,t)}}return function(e){return e[t]}}function T(t){if(i.isPlainObject(t))return T(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,i){t(e,"set",n,i)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var e=function(t,r,o){var s;s=(o=k(o))[o.length-1];for(var a,l,c=0,u=o.length-1;c<u;c++){if(a=o[c].match(pe),l=o[c].match(fe),a){if(o[c]=o[c].replace(pe,""),t[o[c]]=[],(s=o.slice()).splice(0,c+1),a=s.join("."),i.isArray(r))for(l=0,u=r.length;l<u;l++)s={},e(s,r[l],a),t[o[c]].push(s);else t[o[c]]=r;return}l&&(o[c]=o[c].replace(fe,""),t=t[o[c]](r)),null!==t[o[c]]&&t[o[c]]!==n||(t[o[c]]={}),t=t[o[c]]}s.match(fe)?t[s.replace(fe,"")](r):t[s.replace(pe,"")]=r};return function(n,i){return e(n,i,t)}}return function(e,n){e[t]=n}}function D(t){return ae(t.aoData,"_aData")}function M(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function E(t,e,i){for(var r=-1,o=0,s=t.length;o<s;o++)t[o]==e?r=o:t[o]>e&&t[o]--;-1!=r&&i===n&&t.splice(r,1)}function L(t,e,i,r){var o,s=t.aoData[e],a=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=x(t,e,i,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==s.src)){var l=s.anCells;if(l)if(r!==n)a(l[r],r);else for(i=0,o=l.length;i<o;i++)a(l[i],i)}else s._aData=A(t,s,r,r===n?n:s._aData).data;if(s._aSortData=null,s._aFilterData=null,a=t.aoColumns,r!==n)a[r].sType=null;else{for(i=0,o=a.length;i<o;i++)a[i].sType=null;N(t,s)}}function A(t,e,r,o){var s,a,l,c=[],u=e.firstChild,h=0,d=t.aoColumns,p=t._rowReadObject,o=o!==n?o:p?{}:[],f=function(t,e){if("string"==typeof t){var n=t.indexOf("@");-1!==n&&(n=t.substring(n+1),T(t)(o,e.getAttribute(n)))}},m=function(t){r!==n&&r!==h||(a=d[h],l=i.trim(t.innerHTML),a&&a._bAttrSrc?(T(a.mData._)(o,l),f(a.mData.sort,t),f(a.mData.type,t),f(a.mData.filter,t)):p?(a._setter||(a._setter=T(a.mData)),a._setter(o,l)):o[h]=l),h++};if(u)for(;u;)"TD"!=(s=u.nodeName.toUpperCase())&&"TH"!=s||(m(u),c.push(u)),u=u.nextSibling;else{s=0;for(var g=(c=e.anCells).length;s<g;s++)m(c[s])}return(e=u?e:e.nTr)&&(e=e.getAttribute("id"))&&T(t.rowId)(o,e),{data:o,cells:c}}function I(t,n,i,r){var o,s,a,l,c,u=t.aoData[n],h=u._aData,d=[];if(null===u.nTr){for(o=i||e.createElement("tr"),u.nTr=o,u.anCells=d,o._DT_RowIndex=n,N(t,u),l=0,c=t.aoColumns.length;l<c;l++)a=t.aoColumns[l],s=i?r[l]:e.createElement(a.sCellType),d.push(s),i&&!a.mRender&&a.mData===l||(s.innerHTML=x(t,n,l,"display")),a.sClass&&(s.className+=" "+a.sClass),a.bVisible&&!i?o.appendChild(s):!a.bVisible&&i&&s.parentNode.removeChild(s),a.fnCreatedCell&&a.fnCreatedCell.call(t.oInstance,s,x(t,n,l),h,n,l);Rt(t,"aoRowCreatedCallback",null,[o,h,n])}u.nTr.setAttribute("role","row")}function N(t,e){var n=e.nTr,r=e._aData;if(n){var o=t.rowIdFn(r);o&&(n.id=o),r.DT_RowClass&&(o=r.DT_RowClass.split(" "),e.__rowc=e.__rowc?he(e.__rowc.concat(o)):o,i(n).removeClass(e.__rowc.join(" ")).addClass(r.DT_RowClass)),r.DT_RowAttr&&i(n).attr(r.DT_RowAttr),r.DT_RowData&&i(n).data(r.DT_RowData)}}function P(t){var e,n,r,o,s,a=t.nTHead,l=t.nTFoot,c=0===i("th, td",a).length,u=t.oClasses,h=t.aoColumns;for(c&&(o=i("<tr/>").appendTo(a)),e=0,n=h.length;e<n;e++)s=h[e],r=i(s.nTh).addClass(s.sClass),c&&r.appendTo(o),t.oFeatures.bSort&&(r.addClass(s.sSortingClass),!1!==s.bSortable&&(r.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),Tt(t,s.nTh,e))),s.sTitle!=r[0].innerHTML&&r.html(s.sTitle),Ht(t,"header")(t,r,s,u);if(c&&H(t.aoHeader,a),i(a).find(">tr").attr("role","row"),i(a).find(">tr>th, >tr>td").addClass(u.sHeaderTH),i(l).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==l)for(e=0,n=(t=t.aoFooter[0]).length;e<n;e++)s=h[e],s.nTf=t[e].cell,s.sClass&&i(s.nTf).addClass(s.sClass)}function O(t,e,r){var o,s,a,l,c=[],u=[],h=t.aoColumns.length;if(e){for(r===n&&(r=!1),o=0,s=e.length;o<s;o++){for(c[o]=e[o].slice(),c[o].nTr=e[o].nTr,a=h-1;0<=a;a--)!t.aoColumns[a].bVisible&&!r&&c[o].splice(a,1);u.push([])}for(o=0,s=c.length;o<s;o++){if(t=c[o].nTr)for(;a=t.firstChild;)t.removeChild(a);for(a=0,e=c[o].length;a<e;a++)if(l=h=1,u[o][a]===n){for(t.appendChild(c[o][a].cell),u[o][a]=1;c[o+h]!==n&&c[o][a].cell==c[o+h][a].cell;)u[o+h][a]=1,h++;for(;c[o][a+l]!==n&&c[o][a].cell==c[o][a+l].cell;){for(r=0;r<h;r++)u[o+r][a+l]=1;l++}i(c[o][a].cell).attr("rowspan",h).attr("colspan",l)}}}}function Y(t){e=Rt(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==i.inArray(!1,e))dt(t,!1);else{var e=[],r=0,o=t.asStripeClasses,s=o.length,a=t.oLanguage,l=t.iInitDisplayStart,c="ssp"==zt(t),u=t.aiDisplay;t.bDrawing=!0,l!==n&&-1!==l&&(t._iDisplayStart=c?l:l>=t.fnRecordsDisplay()?0:l,t.iInitDisplayStart=-1);var l=t._iDisplayStart,h=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,dt(t,!1);else if(c){if(!t.bDestroying&&!$(t))return}else t.iDraw++;if(0!==u.length)for(a=c?t.aoData.length:h,c=c?0:l;c<a;c++){var d=u[c],p=t.aoData[d];if(null===p.nTr&&I(t,d),d=p.nTr,0!==s){var f=o[r%s];p._sRowStripe!=f&&(i(d).removeClass(p._sRowStripe).addClass(f),p._sRowStripe=f)}Rt(t,"aoRowCallback",null,[d,p._aData,r,c]),e.push(d),r++}else r=a.sZeroRecords,1==t.iDraw&&"ajax"==zt(t)?r=a.sLoadingRecords:a.sEmptyTable&&0===t.fnRecordsTotal()&&(r=a.sEmptyTable),e[0]=i("<tr/>",{class:s?o[0]:""}).append(i("<td />",{valign:"top",colSpan:g(t),class:t.oClasses.sRowEmpty}).html(r))[0];Rt(t,"aoHeaderCallback","header",[i(t.nTHead).children("tr")[0],D(t),l,h,u]),Rt(t,"aoFooterCallback","footer",[i(t.nTFoot).children("tr")[0],D(t),l,h,u]),(o=i(t.nTBody)).children().detach(),o.append(i(e)),Rt(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function R(t,e){var n=t.oFeatures,i=n.bFilter;n.bSort&&St(t),i?V(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,Y(t),t._drawHold=!1}function F(t){var e=t.oClasses,n=i(t.nTable),n=i("<div/>").insertBefore(n),r=t.oFeatures,o=i("<div/>",{id:t.sTableId+"_wrapper",class:e.sWrapper+(t.nTFoot?"":" "+e.sNoFooter)});t.nHolding=n[0],t.nTableWrapper=o[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var s,a,l,c,u,h,d=t.sDom.split(""),p=0;p<d.length;p++){if(s=null,"<"==(a=d[p])){if(l=i("<div/>")[0],"'"==(c=d[p+1])||'"'==c){for(u="",h=2;d[p+h]!=c;)u+=d[p+h],h++;"H"==u?u=e.sJUIHeader:"F"==u&&(u=e.sJUIFooter),-1!=u.indexOf(".")?(c=u.split("."),l.id=c[0].substr(1,c[0].length-1),l.className=c[1]):"#"==u.charAt(0)?l.id=u.substr(1,u.length-1):l.className=u,p+=h}o.append(l),o=i(l)}else if(">"==a)o=o.parent();else if("l"==a&&r.bPaginate&&r.bLengthChange)s=lt(t);else if("f"==a&&r.bFilter)s=q(t);else if("r"==a&&r.bProcessing)s=ht(t);else if("t"==a)s=pt(t);else if("i"==a&&r.bInfo)s=nt(t);else if("p"==a&&r.bPaginate)s=ct(t);else if(0!==Bt.ext.feature.length)for(h=0,c=(l=Bt.ext.feature).length;h<c;h++)if(a==l[h].cFeature){s=l[h].fnInit(t);break}s&&((l=t.aanFeatures)[a]||(l[a]=[]),l[a].push(s),o.append(s))}n.replaceWith(o),t.nHolding=null}function H(t,e){var n,r,o,s,a,l,c,u,h,d,p=i(e).children("tr");for(t.splice(0,t.length),o=0,l=p.length;o<l;o++)t.push([]);for(o=0,l=p.length;o<l;o++)for(r=(n=p[o]).firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase()){for(u=1*r.getAttribute("colspan"),h=1*r.getAttribute("rowspan"),u=u&&0!==u&&1!==u?u:1,h=h&&0!==h&&1!==h?h:1,s=0,a=t[o];a[s];)s++;for(c=s,d=1===u,a=0;a<u;a++)for(s=0;s<h;s++)t[o+s][c+a]={cell:r,unique:d},t[o+s].nTr=n}r=r.nextSibling}}function z(t,e,n){var i=[];n||(n=t.aoHeader,e&&(n=[],H(n,e)));for(var e=0,r=n.length;e<r;e++)for(var o=0,s=n[e].length;o<s;o++)!n[e][o].unique||i[o]&&t.bSortCellsTop||(i[o]=n[e][o].cell);return i}function j(t,e,n){if(Rt(t,"aoServerParams","serverParams",[e]),e&&i.isArray(e)){var r={},o=/(.*?)\[\]$/;i.each(e,function(t,e){var n=e.name.match(o);n?(n=n[0],r[n]||(r[n]=[]),r[n].push(e.value)):r[e.name]=e.value}),e=r}var s,a=t.ajax,l=t.oInstance,c=function(e){Rt(t,null,"xhr",[t,e,t.jqXHR]),n(e)};if(i.isPlainObject(a)&&a.data){s=a.data;var u=i.isFunction(s)?s(e,t):s,e=i.isFunction(s)&&u?u:i.extend(!0,e,u);delete a.data}u={data:e,success:function(e){var n=e.error||e.sError;n&&It(t,0,n),t.json=e,c(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(e,n){var r=Rt(t,null,"xhr",[t,null,t.jqXHR]);-1===i.inArray(!0,r)&&("parsererror"==n?It(t,0,"Invalid JSON response",1):4===e.readyState&&It(t,0,"Ajax error",7)),dt(t,!1)}},t.oAjaxData=e,Rt(t,null,"preXhr",[t,e]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,i.map(e,function(t,e){return{name:e,value:t}}),c,t):t.sAjaxSource||"string"==typeof a?t.jqXHR=i.ajax(i.extend(u,{url:a||t.sAjaxSource})):i.isFunction(a)?t.jqXHR=a.call(l,e,c,t):(t.jqXHR=i.ajax(i.extend(u,a)),a.data=s)}function $(t){return!t.bAjaxDataGet||(t.iDraw++,dt(t,!0),j(t,W(t),function(e){B(t,e)}),!1)}function W(t){var e,n,r,o,s=t.aoColumns,a=s.length,l=t.oFeatures,c=t.oPreviousSearch,u=t.aoPreSearchCols,h=[],d=xt(t);e=t._iDisplayStart,n=!1!==l.bPaginate?t._iDisplayLength:-1;var p=function(t,e){h.push({name:t,value:e})};p("sEcho",t.iDraw),p("iColumns",a),p("sColumns",ae(s,"sName").join(",")),p("iDisplayStart",e),p("iDisplayLength",n);var f={draw:t.iDraw,columns:[],order:[],start:e,length:n,search:{value:c.sSearch,regex:c.bRegex}};for(e=0;e<a;e++)r=s[e],o=u[e],n="function"==typeof r.mData?"function":r.mData,f.columns.push({data:n,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),p("mDataProp_"+e,n),l.bFilter&&(p("sSearch_"+e,o.sSearch),p("bRegex_"+e,o.bRegex),p("bSearchable_"+e,r.bSearchable)),l.bSort&&p("bSortable_"+e,r.bSortable);return l.bFilter&&(p("sSearch",c.sSearch),p("bRegex",c.bRegex)),l.bSort&&(i.each(d,function(t,e){f.order.push({column:e.col,dir:e.dir}),p("iSortCol_"+t,e.col),p("sSortDir_"+t,e.dir)}),p("iSortingCols",d.length)),null===(s=Bt.ext.legacy.ajax)?t.sAjaxSource?h:f:s?h:f}function B(t,e){var i=U(t,e),r=e.sEcho!==n?e.sEcho:e.draw,o=e.iTotalRecords!==n?e.iTotalRecords:e.recordsTotal,s=e.iTotalDisplayRecords!==n?e.iTotalDisplayRecords:e.recordsFiltered;if(r){if(1*r<t.iDraw)return;t.iDraw=1*r}for(M(t),t._iRecordsTotal=parseInt(o,10),t._iRecordsDisplay=parseInt(s,10),r=0,o=i.length;r<o;r++)b(t,i[r]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,Y(t),t._bInitComplete||st(t,e),t.bAjaxDataGet=!0,dt(t,!1)}function U(t,e){var r=i.isPlainObject(t.ajax)&&t.ajax.dataSrc!==n?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===r?e.aaData||e[r]:""!==r?C(r)(e):e}function q(t){var n=t.oClasses,r=t.sTableId,o=t.oLanguage,s=t.oPreviousSearch,a=t.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',c=(c=o.sSearch).match(/_INPUT_/)?c.replace("_INPUT_",l):c+l,n=i("<div/>",{id:a.f?null:r+"_filter",class:n.sFilter}).append(i("<label/>").append(c)),a=function(){var e=this.value?this.value:"";e!=s.sSearch&&(V(t,{sSearch:e,bRegex:s.bRegex,bSmart:s.bSmart,bCaseInsensitive:s.bCaseInsensitive}),t._iDisplayStart=0,Y(t))},l=null!==t.searchDelay?t.searchDelay:"ssp"===zt(t)?400:0,u=i("input",n).val(s.sSearch).attr("placeholder",o.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",l?vt(a,l):a).bind("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",r);return i(t.nTable).on("search.dt.DT",function(n,i){if(t===i)try{u[0]!==e.activeElement&&u.val(s.sSearch)}catch(t){}}),n[0]}function V(t,e,i){var r=t.oPreviousSearch,o=t.aoPreSearchCols,s=function(t){r.sSearch=t.sSearch,r.bRegex=t.bRegex,r.bSmart=t.bSmart,r.bCaseInsensitive=t.bCaseInsensitive};if(y(t),"ssp"!=zt(t)){for(K(t,e.sSearch,i,e.bEscapeRegex!==n?!e.bEscapeRegex:e.bRegex,e.bSmart,e.bCaseInsensitive),s(e),e=0;e<o.length;e++)G(t,o[e].sSearch,e,o[e].bEscapeRegex!==n?!o[e].bEscapeRegex:o[e].bRegex,o[e].bSmart,o[e].bCaseInsensitive);X(t)}else s(e);t.bFiltered=!0,Rt(t,null,"search",[t])}function X(t){for(var e,n,r=Bt.ext.search,o=t.aiDisplay,s=0,a=r.length;s<a;s++){for(var l=[],c=0,u=o.length;c<u;c++)n=o[c],e=t.aoData[n],r[s](t,e._aFilterData,n,e._aData,c)&&l.push(n);o.length=0,i.merge(o,l)}}function G(t,e,n,i,r,o){if(""!==e)for(var s=t.aiDisplay,i=Q(e,i,r,o),r=s.length-1;0<=r;r--)e=t.aoData[s[r]]._aFilterData[n],i.test(e)||s.splice(r,1)}function K(t,e,n,i,r,o){var s,i=Q(e,i,r,o),r=t.oPreviousSearch.sSearch,o=t.aiDisplayMaster;if(0!==Bt.ext.search.length&&(n=!0),s=Z(t),0>=e.length)t.aiDisplay=o.slice();else for((s||n||r.length>e.length||0!==e.indexOf(r)||t.bSorted)&&(t.aiDisplay=o.slice()),n=(e=t.aiDisplay).length-1;0<=n;n--)i.test(t.aoData[e[n]]._sFilterRow)||e.splice(n,1)}function Q(t,e,n,r){return t=e?t:J(t),n&&(t="^(?=.*?"+i.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0))var e=t.match(/^"(.*)"$/),t=e?e[1]:t;return t.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,r?"i":"")}function J(t){return t.replace(te,"\\$1")}function Z(t){var e,n,i,r,o,s,a,l,c=t.aoColumns,u=Bt.ext.type.search;for(e=!1,n=0,r=t.aoData.length;n<r;n++)if(!(l=t.aoData[n])._aFilterData){for(s=[],i=0,o=c.length;i<o;i++)(e=c[i]).bSearchable?(a=x(t,n,i,"filter"),u[e.sType]&&(a=u[e.sType](a)),null===a&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(me.innerHTML=a,a=ge?me.textContent:me.innerText),a.replace&&(a=a.replace(/[\r\n]/g,"")),s.push(a);l._aFilterData=s,l._sFilterRow=s.join("  "),e=!0}return e}function tt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function et(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function nt(t){var e=t.sTableId,n=t.aanFeatures.i,r=i("<div/>",{class:t.oClasses.sInfo,id:n?null:e+"_info"});return n||(t.aoDrawCallback.push({fn:it,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),i(t.nTable).attr("aria-describedby",e+"_info")),r[0]}function it(t){var e=t.aanFeatures.i;if(0!==e.length){var n=t.oLanguage,r=t._iDisplayStart+1,o=t.fnDisplayEnd(),s=t.fnRecordsTotal(),a=t.fnRecordsDisplay(),l=a?n.sInfo:n.sInfoEmpty;a!==s&&(l+=" "+n.sInfoFiltered),l=rt(t,l+=n.sInfoPostFix),null!==(n=n.fnInfoCallback)&&(l=n.call(t.oInstance,t,r,o,s,a,l)),i(e).html(l)}}function rt(t,e){var n=t.fnFormatNumber,i=t._iDisplayStart+1,r=t._iDisplayLength,o=t.fnRecordsDisplay(),s=-1===r;return e.replace(/_START_/g,n.call(t,i)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,o)).replace(/_PAGE_/g,n.call(t,s?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(t,s?1:Math.ceil(o/r)))}function ot(t){var e,n,i,r=t.iInitDisplayStart,o=t.aoColumns;n=t.oFeatures;var s=t.bDeferLoading;if(t.bInitialised){for(F(t),P(t),O(t,t.aoHeader),O(t,t.aoFooter),dt(t,!0),n.bAutoWidth&&gt(t),e=0,n=o.length;e<n;e++)(i=o[e]).sWidth&&(i.nTh.style.width=wt(i.sWidth));Rt(t,null,"preInit",[t]),R(t),("ssp"!=(o=zt(t))||s)&&("ajax"==o?j(t,[],function(n){var i=U(t,n);for(e=0;e<i.length;e++)b(t,i[e]);t.iInitDisplayStart=r,R(t),dt(t,!1),st(t,n)},t):(dt(t,!1),st(t)))}else setTimeout(function(){ot(t)},200)}function st(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&p(t),Rt(t,"aoInitComplete","init",[t,e])}function at(t,e){var n=parseInt(e,10);t._iDisplayLength=n,Ft(t),Rt(t,null,"length",[t,n])}function lt(t){for(var e=t.oClasses,n=t.sTableId,r=t.aLengthMenu,o=(s=i.isArray(r[0]))?r[0]:r,r=s?r[1]:r,s=i("<select/>",{name:n+"_length","aria-controls":n,class:e.sLengthSelect}),a=0,l=o.length;a<l;a++)s[0][a]=new Option(r[a],o[a]);var c=i("<div><label/></div>").addClass(e.sLength);return t.aanFeatures.l||(c[0].id=n+"_length"),c.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",s[0].outerHTML)),i("select",c).val(t._iDisplayLength).bind("change.DT",function(){at(t,i(this).val()),Y(t)}),i(t.nTable).bind("length.dt.DT",function(e,n,r){t===n&&i("select",c).val(r)}),c[0]}function ct(t){var e=t.sPaginationType,n=Bt.ext.pager[e],r="function"==typeof n,o=function(t){Y(t)},e=i("<div/>").addClass(t.oClasses.sPaging+e)[0],s=t.aanFeatures;return r||n.fnInit(t,e,o),s.p||(e.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(t){if(r){var e,i=t._iDisplayStart,a=t._iDisplayLength,l=t.fnRecordsDisplay(),i=(c=-1===a)?0:Math.ceil(i/a),a=c?1:Math.ceil(l/a),l=n(i,a),c=0;for(e=s.p.length;c<e;c++)Ht(t,"pageButton")(t,s.p[c],c,l,i,a)}else n.fnUpdate(t,o)},sName:"pagination"})),e}function ut(t,e,n){var i=t._iDisplayStart,r=t._iDisplayLength,o=t.fnRecordsDisplay();return 0===o||-1===r?i=0:"number"==typeof e?(i=e*r)>o&&(i=0):"first"==e?i=0:"previous"==e?0>(i=0<=r?i-r:0)&&(i=0):"next"==e?i+r<o&&(i+=r):"last"==e?i=Math.floor((o-1)/r)*r:It(t,0,"Unknown paging action: "+e,5),e=t._iDisplayStart!==i,t._iDisplayStart=i,e&&(Rt(t,null,"page",[t]),n&&Y(t)),e}function ht(t){return i("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function dt(t,e){t.oFeatures.bProcessing&&i(t.aanFeatures.r).css("display",e?"block":"none"),Rt(t,null,"processing",[t,e])}function pt(t){var e=i(t.nTable);e.attr("role","grid");var n=t.oScroll;if(""===n.sX&&""===n.sY)return t.nTable;var r=n.sX,o=n.sY,s=t.oClasses,a=e.children("caption"),l=a.length?a[0]._captionSide:null,c=i(e[0].cloneNode(!1)),u=i(e[0].cloneNode(!1)),h=e.children("tfoot");n.sX&&"100%"===e.attr("width")&&e.removeAttr("width"),h.length||(h=null),c=i("<div/>",{class:s.sScrollWrapper}).append(i("<div/>",{class:s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?r?wt(r):null:"100%"}).append(i("<div/>",{class:s.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?a:null).append(e.children("thead"))))).append(i("<div/>",{class:s.sScrollBody}).css({position:"relative",overflow:"auto",width:r?wt(r):null}).append(e)),h&&c.append(i("<div/>",{class:s.sScrollFoot}).css({overflow:"hidden",border:0,width:r?r?wt(r):null:"100%"}).append(i("<div/>",{class:s.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?a:null).append(e.children("tfoot")))));var d=(e=c.children())[0],s=e[1],p=h?e[2]:null;return r&&i(s).on("scroll.DT",function(){var t=this.scrollLeft;d.scrollLeft=t,h&&(p.scrollLeft=t)}),i(s).css(o&&n.bCollapse?"max-height":"height",o),t.nScrollHead=d,t.nScrollBody=s,t.nScrollFoot=p,t.aoDrawCallback.push({fn:ft,sName:"scrolling"}),c[0]}function ft(t){var e,n,r,o,s,a=(u=t.oScroll).sX,l=u.sXInner,c=u.sY,u=u.iBarWidth,h=i(t.nScrollHead),d=h[0].style,p=(g=h.children("div"))[0].style,m=g.children("table"),g=t.nScrollBody,v=i(g),y=g.style,_=i(t.nScrollFoot).children("div"),b=_.children("table"),w=i(t.nTHead),x=i(t.nTable),S=x[0],k=S.style,C=t.nTFoot?i(t.nTFoot):null,T=t.oBrowser,D=T.bScrollOversize,M=[],E=[],L=[],A=function(t){(t=t.style).paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};x.children("thead, tfoot").remove(),o=w.clone().prependTo(x),w=w.find("tr"),n=o.find("tr"),o.find("th, td").removeAttr("tabindex"),C&&(r=C.clone().prependTo(x),e=C.find("tr"),r=r.find("tr")),a||(y.width="100%",h[0].style.width="100%"),i.each(z(t,o),function(e,n){s=f(t,e),n.style.width=t.aoColumns[s].sWidth}),C&&mt(function(t){t.style.width=""},r),h=x.outerWidth(),""===a?(k.width="100%",D&&(x.find("tbody").height()>g.offsetHeight||"scroll"==v.css("overflow-y"))&&(k.width=wt(x.outerWidth()-u)),h=x.outerWidth()):""!==l&&(k.width=wt(l),h=x.outerWidth()),mt(A,n),mt(function(t){L.push(t.innerHTML),M.push(wt(i(t).css("width")))},n),mt(function(t,e){t.style.width=M[e]},w),i(n).height(0),C&&(mt(A,r),mt(function(t){E.push(wt(i(t).css("width")))},r),mt(function(t,e){t.style.width=E[e]},e),i(r).height(0)),mt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+L[e]+"</div>",t.style.width=M[e]},n),C&&mt(function(t,e){t.innerHTML="",t.style.width=E[e]},r),x.outerWidth()<h?(e=g.scrollHeight>g.offsetHeight||"scroll"==v.css("overflow-y")?h+u:h,D&&(g.scrollHeight>g.offsetHeight||"scroll"==v.css("overflow-y"))&&(k.width=wt(e-u)),(""===a||""!==l)&&It(t,1,"Possible column misalignment",6)):e="100%",y.width=wt(e),d.width=wt(e),C&&(t.nScrollFoot.style.width=wt(e)),!c&&D&&(y.height=wt(S.offsetHeight+u)),a=x.outerWidth(),m[0].style.width=wt(a),p.width=wt(a),l=x.height()>g.clientHeight||"scroll"==v.css("overflow-y"),p[c="padding"+(T.bScrollbarLeft?"Left":"Right")]=l?u+"px":"0px",C&&(b[0].style.width=wt(a),_[0].style.width=wt(a),_[0].style[c]=l?u+"px":"0px"),v.scroll(),!t.bSorted&&!t.bFiltered||t._drawHold||(g.scrollTop=0)}function mt(t,e,n){for(var i,r,o=0,s=0,a=e.length;s<a;){for(i=e[s].firstChild,r=n?n[s].firstChild:null;i;)1===i.nodeType&&(n?t(i,r,o):t(i,o),o++),i=i.nextSibling,r=n?r.nextSibling:null;s++}}function gt(e){var n,r,o,s=e.nTable,a=e.aoColumns,l=e.oScroll,c=l.sY,u=l.sX,h=l.sXInner,d=a.length,m=v(e,"bVisible"),y=i("th",e.nTHead),_=s.getAttribute("width"),b=s.parentNode,w=!1;for(l=(o=e.oBrowser).bScrollOversize,(n=s.style.width)&&-1!==n.indexOf("%")&&(_=n),n=0;n<m.length;n++)null!==(r=a[m[n]]).sWidth&&(r.sWidth=yt(r.sWidthOrig,b),w=!0);if(l||!w&&!u&&!c&&d==g(e)&&d==y.length)for(n=0;n<d;n++)(m=f(e,n))&&(a[m].sWidth=wt(y.eq(n).width()));else{(d=i(s).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove();var x=i("<tr/>").appendTo(d.find("tbody"));for(d.find("thead, tfoot").remove(),d.append(i(e.nTHead).clone()).append(i(e.nTFoot).clone()),d.find("tfoot th, tfoot td").css("width",""),y=z(e,d.find("thead")[0]),n=0;n<m.length;n++)r=a[m[n]],y[n].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?wt(r.sWidthOrig):"";if(e.aoData.length)for(n=0;n<m.length;n++)w=m[n],r=a[w],i(_t(e,w)).clone(!1).append(r.sContentPadding).appendTo(x);if(w=i("<div/>").css(u||c?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(d).appendTo(b),u&&h?d.width(h):u?(d.css("width","auto"),d.width()<b.clientWidth&&d.width(b.clientWidth)):c?d.width(b.clientWidth):_&&d.width(_),u){for(n=h=0;n<m.length;n++)r=a[m[n]],c=o.bBounding?y[n].getBoundingClientRect().width:i(y[n]).outerWidth(),h+=null===r.sWidthOrig?c:parseInt(r.sWidth,10)+c-i(y[n]).width();d.width(wt(h)),s.style.width=wt(h)}for(n=0;n<m.length;n++)r=a[m[n]],(o=i(y[n]).width())&&(r.sWidth=wt(o));s.style.width=wt(d.css("width")),w.remove()}_&&(s.style.width=wt(_)),!_&&!u||e._reszEvt||(s=function(){i(t).bind("resize.DT-"+e.sInstance,vt(function(){p(e)}))},l?setTimeout(s,1e3):s(),e._reszEvt=!0)}function vt(t,e){var i,r,o=e!==n?e:200;return function(){var e=this,s=+new Date,a=arguments;i&&s<i+o?(clearTimeout(r),r=setTimeout(function(){i=n,t.apply(e,a)},o)):(i=s,t.apply(e,a))}}function yt(t,n){if(!t)return 0;var r=i("<div/>").css("width",wt(t)).appendTo(n||e.body),o=r[0].offsetWidth;return r.remove(),o}function _t(t,e){var n=bt(t,e);if(0>n)return null;var r=t.aoData[n];return r.nTr?r.anCells[e]:i("<td/>").html(x(t,n,e,"display"))[0]}function bt(t,e){for(var n,i=-1,r=-1,o=0,s=t.aoData.length;o<s;o++)n=x(t,o,e,"display")+"",(n=n.replace(ve,"")).length>i&&(i=n.length,r=o);return r}function wt(t){return null===t?"0px":"number"==typeof t?0>t?"0px":t+"px":t.match(/\d$/)?t+"px":t}function xt(t){var e,r,o,s,a,l,c=[],u=t.aoColumns;e=t.aaSortingFixed,r=i.isPlainObject(e);var h=[];for(o=function(t){t.length&&!i.isArray(t[0])?h.push(t):i.merge(h,t)},i.isArray(e)&&o(e),r&&e.pre&&o(e.pre),o(t.aaSorting),r&&e.post&&o(e.post),t=0;t<h.length;t++)for(e=0,r=(o=u[l=h[t][0]].aDataSort).length;e<r;e++)s=o[e],a=u[s].sType||"string",h[t]._idx===n&&(h[t]._idx=i.inArray(h[t][1],u[s].asSorting)),c.push({src:l,col:s,dir:h[t][1],index:h[t]._idx,type:a,formatter:Bt.ext.type.order[a+"-pre"]});return c}function St(t){var e,n,i,r,o=[],s=Bt.ext.type.order,a=t.aoData,l=0,c=t.aiDisplayMaster;for(y(t),e=0,n=(r=xt(t)).length;e<n;e++)(i=r[e]).formatter&&l++,Mt(t,i.col);if("ssp"!=zt(t)&&0!==r.length){for(e=0,n=c.length;e<n;e++)o[c[e]]=e;l===r.length?c.sort(function(t,e){var n,i,s,l,c=r.length,u=a[t]._aSortData,h=a[e]._aSortData;for(s=0;s<c;s++)if(l=r[s],n=u[l.col],i=h[l.col],0!==(n=n<i?-1:n>i?1:0))return"asc"===l.dir?n:-n;return n=o[t],i=o[e],n<i?-1:n>i?1:0}):c.sort(function(t,e){var n,i,l,c,u=r.length,h=a[t]._aSortData,d=a[e]._aSortData;for(l=0;l<u;l++)if(c=r[l],n=h[c.col],i=d[c.col],c=s[c.type+"-"+c.dir]||s["string-"+c.dir],0!==(n=c(n,i)))return n;return n=o[t],i=o[e],n<i?-1:n>i?1:0})}t.bSorted=!0}function kt(t){for(var e,n,i=t.aoColumns,r=xt(t),t=t.oLanguage.oAria,o=0,s=i.length;o<s;o++){var a=(n=i[o]).asSorting;e=n.sTitle.replace(/<.*?>/g,"");var l=n.nTh;l.removeAttribute("aria-sort"),n.bSortable&&(0<r.length&&r[0].col==o?(l.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),n=a[r[0].index+1]||a[0]):n=a[0],e+="asc"===n?t.sSortAscending:t.sSortDescending),l.setAttribute("aria-label",e)}}function Ct(t,e,r,o){var s=t.aaSorting,a=t.aoColumns[e].asSorting,l=function(t,e){var r=t._idx;return r===n&&(r=i.inArray(t[1],a)),r+1<a.length?r+1:e?null:0};"number"==typeof s[0]&&(s=t.aaSorting=[s]),r&&t.oFeatures.bSortMulti?-1!==(r=i.inArray(e,ae(s,"0")))?(null===(e=l(s[r],!0))&&1===s.length&&(e=0),null===e?s.splice(r,1):(s[r][1]=a[e],s[r]._idx=e)):(s.push([e,a[0],0]),s[s.length-1]._idx=0):s.length&&s[0][0]==e?(e=l(s[0]),s.length=1,s[0][1]=a[e],s[0]._idx=e):(s.length=0,s.push([e,a[0]]),s[0]._idx=0),R(t),"function"==typeof o&&o(t)}function Tt(t,e,n,i){var r=t.aoColumns[n];Ot(e,{},function(e){!1!==r.bSortable&&(t.oFeatures.bProcessing?(dt(t,!0),setTimeout(function(){Ct(t,n,e.shiftKey,i),"ssp"!==zt(t)&&dt(t,!1)},0)):Ct(t,n,e.shiftKey,i))})}function Dt(t){var e,n,r=t.aLastSort,o=t.oClasses.sSortColumn,s=xt(t),a=t.oFeatures;if(a.bSort&&a.bSortClasses){for(a=0,e=r.length;a<e;a++)n=r[a].src,i(ae(t.aoData,"anCells",n)).removeClass(o+(2>a?a+1:3));for(a=0,e=s.length;a<e;a++)n=s[a].src,i(ae(t.aoData,"anCells",n)).addClass(o+(2>a?a+1:3))}t.aLastSort=s}function Mt(t,e){var n,i=t.aoColumns[e],r=Bt.ext.order[i.sSortDataType];r&&(n=r.call(t.oInstance,t,e,m(t,e)));for(var o,s=Bt.ext.type.order[i.sType+"-pre"],a=0,l=t.aoData.length;a<l;a++)(i=t.aoData[a])._aSortData||(i._aSortData=[]),(!i._aSortData[e]||r)&&(o=r?n[a]:x(t,a,e,"sort"),i._aSortData[e]=s?s(o):o)}function Et(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var e={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:i.extend(!0,[],t.aaSorting),search:tt(t.oPreviousSearch),columns:i.map(t.aoColumns,function(e,n){return{visible:e.bVisible,search:tt(t.aoPreSearchCols[n])}})};Rt(t,"aoStateSaveParams","stateSaveParams",[t,e]),t.oSavedState=e,t.fnStateSaveCallback.call(t.oInstance,t,e)}}function Lt(t){var e,r,o=t.aoColumns;if(t.oFeatures.bStateSave){var s=t.fnStateLoadCallback.call(t.oInstance,t);if(s&&s.time&&(e=Rt(t,"aoStateLoadParams","stateLoadParams",[t,s]),-1===i.inArray(!1,e)&&!(0<(e=t.iStateDuration)&&s.time<+new Date-1e3*e)&&o.length===s.columns.length)){for(t.oLoadedState=i.extend(!0,{},s),s.start!==n&&(t._iDisplayStart=s.start,t.iInitDisplayStart=s.start),s.length!==n&&(t._iDisplayLength=s.length),s.order!==n&&(t.aaSorting=[],i.each(s.order,function(e,n){t.aaSorting.push(n[0]>=o.length?[0,n[1]]:n)})),s.search!==n&&i.extend(t.oPreviousSearch,et(s.search)),e=0,r=s.columns.length;e<r;e++){var a=s.columns[e];a.visible!==n&&(o[e].bVisible=a.visible),a.search!==n&&i.extend(t.aoPreSearchCols[e],et(a.search))}Rt(t,"aoStateLoaded","stateLoaded",[t,s])}}}function At(t){var e=Bt.settings;return-1!==(t=i.inArray(t,ae(e,"nTable")))?e[t]:null}function It(e,n,i,r){if(i="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+i,r&&(i+=". For more information about this error, please see http://datatables.net/tn/"+r),n)t.console&&console.log&&console.log(i);else if(n=Bt.ext,n=n.sErrMode||n.errMode,e&&Rt(e,null,"error",[e,r,i]),"alert"==n)alert(i);else{if("throw"==n)throw Error(i);"function"==typeof n&&n(e,r,i)}}function Nt(t,e,r,o){i.isArray(r)?i.each(r,function(n,r){i.isArray(r)?Nt(t,e,r[0],r[1]):Nt(t,e,r)}):(o===n&&(o=r),e[r]!==n&&(t[o]=e[r]))}function Pt(t,e,n){var r,o;for(o in e)e.hasOwnProperty(o)&&(r=e[o],i.isPlainObject(r)?(i.isPlainObject(t[o])||(t[o]={}),i.extend(!0,t[o],r)):t[o]=n&&"data"!==o&&"aaData"!==o&&i.isArray(r)?r.slice():r);return t}function Ot(t,e,n){i(t).bind("click.DT",e,function(e){t.blur(),n(e)}).bind("keypress.DT",e,function(t){13===t.which&&(t.preventDefault(),n(t))}).bind("selectstart.DT",function(){return!1})}function Yt(t,e,n,i){n&&t[e].push({fn:n,sName:i})}function Rt(t,e,n,r){var o=[];return e&&(o=i.map(t[e].slice().reverse(),function(e){return e.fn.apply(t.oInstance,r)})),null!==n&&(e=i.Event(n+".dt"),i(t.nTable).trigger(e,r),o.push(e.result)),o}function Ft(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),i=t._iDisplayLength;e>=n&&(e=n-i),e-=e%i,(-1===i||0>e)&&(e=0),t._iDisplayStart=e}function Ht(t,e){var n=t.renderer,r=Bt.ext.renderer[e];return i.isPlainObject(n)&&n[e]?r[n[e]]||r._:"string"==typeof n?r[n]||r._:r._}function zt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function jt(t,e){var n=[],n=Ne.numbers_length,i=Math.floor(n/2);return e<=n?n=ce(0,e):t<=i?((n=ce(0,n-2)).push("ellipsis"),n.push(e-1)):(t>=e-1-i?n=ce(e-(n-2),e):((n=ce(t-i+2,t+i-1)).push("ellipsis"),n.push(e-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function $t(t){i.each({num:function(e){return Pe(e,t)},"num-fmt":function(e){return Pe(e,t,ee)},"html-num":function(e){return Pe(e,t,Qt)},"html-num-fmt":function(e){return Pe(e,t,Qt,ee)}},function(e,n){Ut.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(Ut.type.search[e+t]=Ut.type.search.html)})}function Wt(t){return function(){var e=[At(this[Bt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Bt.ext.internal[t].apply(this,e)}}var Bt,Ut,qt,Vt,Xt,Gt={},Kt=/[\r\n]/g,Qt=/<.*?>/g,Jt=/^[\w\+\-]/,Zt=/[\w\+\-]$/,te=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),ee=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,ne=function(t){return!t||!0===t||"-"===t},ie=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},re=function(t,e){return Gt[e]||(Gt[e]=RegExp(J(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Gt[e],"."):t},oe=function(t,e,n){var i="string"==typeof t;return!!ne(t)||(e&&i&&(t=re(t,e)),n&&i&&(t=t.replace(ee,"")),!isNaN(parseFloat(t))&&isFinite(t))},se=function(t,e,n){return!!ne(t)||(ne(t)||"string"==typeof t?!!oe(t.replace(Qt,""),e,n)||null:null)},ae=function(t,e,i){var r=[],o=0,s=t.length;if(i!==n)for(;o<s;o++)t[o]&&t[o][e]&&r.push(t[o][e][i]);else for(;o<s;o++)t[o]&&r.push(t[o][e]);return r},le=function(t,e,i,r){var o=[],s=0,a=e.length;if(r!==n)for(;s<a;s++)t[e[s]][i]&&o.push(t[e[s]][i][r]);else for(;s<a;s++)o.push(t[e[s]][i]);return o},ce=function(t,e){var i,r=[];e===n?(e=0,i=t):(i=e,e=t);for(var o=e;o<i;o++)r.push(o);return r},ue=function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e},he=function(t){var e,n,i,r=[],o=t.length,s=0;n=0;t:for(;n<o;n++){for(e=t[n],i=0;i<s;i++)if(r[i]===e)continue t;r.push(e),s++}return r},de=function(t,e,i){t[e]!==n&&(t[i]=t[e])},pe=/\[.*?\]$/,fe=/\(\)$/,me=i("<div>")[0],ge=me.textContent!==n,ve=/<.*?>/g;Bt=function(t){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new qt(t?At(this[Ut.iApiIndex]):this)},this.fnAddData=function(t,e){var r=this.api(!0),o=i.isArray(t)&&(i.isArray(t[0])||i.isPlainObject(t[0]))?r.rows.add(t):r.row.add(t);return(e===n||e)&&r.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),i=e.settings()[0],r=i.oScroll;t===n||t?e.draw(!1):(""!==r.sX||""!==r.sY)&&ft(i)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===n||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,i){var r=this.api(!0),o=(t=r.rows(t)).settings()[0],s=o.aoData[t[0][0]];return t.remove(),e&&e.call(this,o,s),(i===n||i)&&r.draw(),s},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,i,r,o,s){o=this.api(!0),null===e||e===n?o.search(t,i,r,s):o.column(e).search(t,i,r,s),o.draw()},this.fnGetData=function(t,e){var i=this.api(!0);if(t!==n){var r=t.nodeName?t.nodeName.toLowerCase():"";return e!==n||"td"==r||"th"==r?i.cell(t,e).data():i.row(t).data()||null}return i.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==n?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();return"TR"==n?e.row(t).index():"TD"==n||"TH"==n?(t=e.cell(t).index(),[t.row,t.columnVisible,t.column]):null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){var i=this.api(!0).page(t);(e===n||e)&&i.draw(!1)},this.fnSetColumnVis=function(t,e,i){t=this.api(!0).column(t).visible(e),(i===n||i)&&t.columns.adjust().draw()},this.fnSettings=function(){return At(this[Ut.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,i,r,o){var s=this.api(!0);return i===n||null===i?s.row(e).data(t):s.cell(e,i).data(t),(o===n||o)&&s.columns.adjust(),(r===n||r)&&s.draw(),0},this.fnVersionCheck=Ut.fnVersionCheck;var e=this,r=t===n,u=this.length;r&&(t={}),this.oApi=this.internal=Ut.internal;for(var p in Bt.ext.internal)p&&(this[p]=Wt(p));return this.each(function(){var p,f={},f=1<u?Pt(f,t,!0):t,m=0,g=this.getAttribute("id"),v=!1,y=Bt.defaults,x=i(this);if("table"!=this.nodeName.toLowerCase())It(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{a(y),l(y.column),o(y,y,!0),o(y.column,y.column,!0),o(y,i.extend(f,x.data()));var S=Bt.settings,m=0;for(p=S.length;m<p;m++){var k=S[m];if(k.nTable==this||k.nTHead.parentNode==this||k.nTFoot&&k.nTFoot.parentNode==this){if(m=f.bRetrieve!==n?f.bRetrieve:y.bRetrieve,r||m)return k.oInstance;if(f.bDestroy!==n?f.bDestroy:y.bDestroy){k.oInstance.fnDestroy();break}return void It(k,0,"Cannot reinitialise DataTable",3)}if(k.sTableId==this.id){S.splice(m,1);break}}null!==g&&""!==g||(this.id=g="DataTables_Table_"+Bt.ext._unique++);var T=i.extend(!0,{},Bt.models.oSettings,{sDestroyWidth:x[0].style.width,sInstance:g,sTableId:g});T.nTable=this,T.oApi=e.internal,T.oInit=f,S.push(T),T.oInstance=1===e.length?e:x.dataTable(),a(f),f.oLanguage&&s(f.oLanguage),f.aLengthMenu&&!f.iDisplayLength&&(f.iDisplayLength=i.isArray(f.aLengthMenu[0])?f.aLengthMenu[0][0]:f.aLengthMenu[0]),f=Pt(i.extend(!0,{},y),f),Nt(T.oFeatures,f,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Nt(T,f,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Nt(T.oScroll,f,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Nt(T.oLanguage,f,"fnInfoCallback"),Yt(T,"aoDrawCallback",f.fnDrawCallback,"user"),Yt(T,"aoServerParams",f.fnServerParams,"user"),Yt(T,"aoStateSaveParams",f.fnStateSaveParams,"user"),Yt(T,"aoStateLoadParams",f.fnStateLoadParams,"user"),Yt(T,"aoStateLoaded",f.fnStateLoaded,"user"),Yt(T,"aoRowCallback",f.fnRowCallback,"user"),Yt(T,"aoRowCreatedCallback",f.fnCreatedRow,"user"),Yt(T,"aoHeaderCallback",f.fnHeaderCallback,"user"),Yt(T,"aoFooterCallback",f.fnFooterCallback,"user"),Yt(T,"aoInitComplete",f.fnInitComplete,"user"),Yt(T,"aoPreDrawCallback",f.fnPreDrawCallback,"user"),T.rowIdFn=C(f.rowId),c(T),g=T.oClasses,f.bJQueryUI?(i.extend(g,Bt.ext.oJUIClasses,f.oClasses),f.sDom===y.sDom&&"lfrtip"===y.sDom&&(T.sDom='<"H"lfr>t<"F"ip>'),T.renderer?i.isPlainObject(T.renderer)&&!T.renderer.header&&(T.renderer.header="jqueryui"):T.renderer="jqueryui"):i.extend(g,Bt.ext.classes,f.oClasses),x.addClass(g.sTable),T.iInitDisplayStart===n&&(T.iInitDisplayStart=f.iDisplayStart,T._iDisplayStart=f.iDisplayStart),null!==f.iDeferLoading&&(T.bDeferLoading=!0,m=i.isArray(f.iDeferLoading),T._iRecordsDisplay=m?f.iDeferLoading[0]:f.iDeferLoading,T._iRecordsTotal=m?f.iDeferLoading[1]:f.iDeferLoading);var D=T.oLanguage;i.extend(!0,D,f.oLanguage),""!==D.sUrl&&(i.ajax({dataType:"json",url:D.sUrl,success:function(t){s(t),o(y.oLanguage,t),i.extend(!0,D,t),ot(T)},error:function(){ot(T)}}),v=!0),null===f.asStripeClasses&&(T.asStripeClasses=[g.sStripeOdd,g.sStripeEven]);var m=T.asStripeClasses,M=x.children("tbody").find("tr").eq(0);if(-1!==i.inArray(!0,i.map(m,function(t){return M.hasClass(t)}))&&(i("tbody tr",this).removeClass(m.join(" ")),T.asDestroyStripes=m.slice()),S=[],0!==(m=this.getElementsByTagName("thead")).length&&(H(T.aoHeader,m[0]),S=z(T)),null===f.aoColumns)for(k=[],m=0,p=S.length;m<p;m++)k.push(null);else k=f.aoColumns;for(m=0,p=k.length;m<p;m++)h(T,S?S[m]:null);if(_(T,f.aoColumnDefs,k,function(t,e){d(T,t,e)}),M.length){var E=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};i(M[0]).children("th, td").each(function(t,e){var i=T.aoColumns[t];if(i.mData===t){var r=E(e,"sort")||E(e,"order"),o=E(e,"filter")||E(e,"search");null===r&&null===o||(i.mData={_:t+".display",sort:null!==r?t+".@data-"+r:n,type:null!==r?t+".@data-"+r:n,filter:null!==o?t+".@data-"+o:n},d(T,t))}})}var L=T.oFeatures;if(f.bStateSave&&(L.bStateSave=!0,Lt(T),Yt(T,"aoDrawCallback",Et,"state_save")),f.aaSorting===n)for(m=0,p=(S=T.aaSorting).length;m<p;m++)S[m][1]=T.aoColumns[m].asSorting[0];if(Dt(T),L.bSort&&Yt(T,"aoDrawCallback",function(){if(T.bSorted){var t=xt(T),e={};i.each(t,function(t,n){e[n.src]=n.dir}),Rt(T,null,"order",[T,t,e]),kt(T)}}),Yt(T,"aoDrawCallback",function(){(T.bSorted||"ssp"===zt(T)||L.bDeferRender)&&Dt(T)},"sc"),m=x.children("caption").each(function(){this._captionSide=x.css("caption-side")}),0===(p=x.children("thead")).length&&(p=i("<thead/>").appendTo(this)),T.nTHead=p[0],0===(p=x.children("tbody")).length&&(p=i("<tbody/>").appendTo(this)),T.nTBody=p[0],0===(p=x.children("tfoot")).length&&0<m.length&&(""!==T.oScroll.sX||""!==T.oScroll.sY)&&(p=i("<tfoot/>").appendTo(this)),0===p.length||0===p.children().length?x.addClass(g.sNoFooter):0<p.length&&(T.nTFoot=p[0],H(T.aoFooter,T.nTFoot)),f.aaData)for(m=0;m<f.aaData.length;m++)b(T,f.aaData[m]);else(T.bDeferLoading||"dom"==zt(T))&&w(T,i(T.nTBody).children("tr"));T.aiDisplay=T.aiDisplayMaster.slice(),T.bInitialised=!0,!1===v&&ot(T)}}),e=null,this};var ye=[],_e=Array.prototype,be=function(t){var e,n,r=Bt.settings,o=i.map(r,function(t){return t.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(e=i.inArray(t,o))?[r[e]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?n=i(t):t instanceof i&&(n=t),n?n.map(function(){return-1!==(e=i.inArray(this,o))?r[e]:null}).toArray():void 0):[]};qt=function(t,e){if(!(this instanceof qt))return new qt(t,e);var n=[],r=function(t){(t=be(t))&&(n=n.concat(t))};if(i.isArray(t))for(var o=0,s=t.length;o<s;o++)r(t[o]);else r(t);this.context=he(n),e&&i.merge(this,e),this.selector={rows:null,cols:null,opts:null},qt.extend(this,this,ye)},Bt.Api=qt,i.extend(qt.prototype,{any:function(){return 0!==this.count()},concat:_e.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new qt(e[t],this[t]):null},filter:function(t){var e=[];if(_e.filter)e=_e.filter.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new qt(this.context,e)},flatten:function(){var t=[];return new qt(this.context,t.concat.apply(t,this.toArray()))},join:_e.join,indexOf:_e.indexOf||function(t,e){for(var n=e||0,i=this.length;n<i;n++)if(this[n]===t)return n;return-1},iterator:function(t,e,i,r){var o,s,a,l,c,u,h,d=[],p=this.context,f=this.selector;for("string"==typeof t&&(r=i,i=e,e=t,t=!1),s=0,a=p.length;s<a;s++){var m=new qt(p[s]);if("table"===e)(o=i.call(m,p[s],s))!==n&&d.push(o);else if("columns"===e||"rows"===e)(o=i.call(m,p[s],this[s],s))!==n&&d.push(o);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(h=this[s],"column-rows"===e&&(u=Ce(p[s],f.opts)),l=0,c=h.length;l<c;l++)o=h[l],(o="cell"===e?i.call(m,p[s],o.row,o.column,s,l):i.call(m,p[s],o,s,l,u))!==n&&d.push(o)}return d.length||r?(t=new qt(p,t?d.concat.apply([],d):d),e=t.selector,e.rows=f.rows,e.cols=f.cols,e.opts=f.opts,t):this},lastIndexOf:_e.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(_e.map)e=_e.map.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)e.push(t.call(this,this[n],n));return new qt(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:_e.pop,push:_e.push,reduce:_e.reduce||function(t,e){return u(this,t,e,0,this.length,1)},reduceRight:_e.reduceRight||function(t,e){return u(this,t,e,this.length-1,-1,-1)},reverse:_e.reverse,selector:null,shift:_e.shift,sort:_e.sort,splice:_e.splice,toArray:function(){return _e.slice.call(this)},to$:function(){return i(this)},toJQuery:function(){return i(this)},unique:function(){return new qt(this.context,he(this))},unshift:_e.unshift}),qt.extend=function(t,e,n){if(n.length&&e&&(e instanceof qt||e.__dt_wrapper)){var r,o,s;for(r=0,o=n.length;r<o;r++)s=n[r],e[s.name]="function"==typeof s.val?function(t,e,n){return function(){var i=e.apply(t,arguments);return qt.extend(i,i,n.methodExt),i}}(t,s.val,s):i.isPlainObject(s.val)?{}:s.val,e[s.name].__dt_wrapper=!0,qt.extend(t,e[s.name],s.propExt)}},qt.register=Vt=function(t,e){if(i.isArray(t))for(var n=0,r=t.length;n<r;n++)qt.register(t[n],e);else for(var o,s,a=t.split("."),l=ye,n=0,r=a.length;n<r;n++){o=(s=-1!==a[n].indexOf("()"))?a[n].replace("()",""):a[n];var c;t:{c=0;for(var u=l.length;c<u;c++)if(l[c].name===o){c=l[c];break t}c=null}c||(c={name:o,val:{},methodExt:[],propExt:[]},l.push(c)),n===r-1?c.val=e:l=s?c.methodExt:c.propExt}},qt.registerPlural=Xt=function(t,e,r){qt.register(t,r),qt.register(e,function(){var t=r.apply(this,arguments);return t===this?this:t instanceof qt?t.length?i.isArray(t[0])?new qt(t.context,t[0]):t[0]:n:t})},Vt("tables()",function(t){var e;if(t){e=qt;var n=this.context;if("number"==typeof t)t=[n[t]];else var r=i.map(n,function(t){return t.nTable}),t=i(r).filter(t).map(function(){var t=i.inArray(this,r);return n[t]}).toArray();e=new e(t)}else e=this;return e}),Vt("table()",function(t){var e=(t=this.tables(t)).context;return e.length?new qt(e[0]):t}),Xt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Xt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Xt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Xt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Xt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),Vt("draw()",function(t){return this.iterator("table",function(e){"page"===t?Y(e):("string"==typeof t&&(t="full-hold"!==t),R(e,!1===t))})}),Vt("pages()",function(t){return t===n?this.page.info().page:this.iterator("table",function(e){ut(e,t)})}),Vt("page.info()",function(){if(0===this.context.length)return n;var t=this.context[0],e=t._iDisplayStart,i=t._iDisplayLength,r=t.fnRecordsDisplay(),o=-1===i;return{page:o?0:Math.floor(e/i),pages:o?1:Math.ceil(r/i),start:e,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:r,serverSide:"ssp"===zt(t)}}),Vt("page.len()",function(t){return t===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",function(e){at(e,t)})});var we=function(t,e,n){if(n){var i=new qt(t);i.one("draw",function(){n(i.ajax.json())})}if("ssp"==zt(t))R(t,e);else{dt(t,!0);var r=t.jqXHR;r&&4!==r.readyState&&r.abort(),j(t,[],function(n){M(t);for(var i=0,r=(n=U(t,n)).length;i<r;i++)b(t,n[i]);R(t,e),dt(t,!1)})}};Vt("ajax.json()",function(){var t=this.context;if(0<t.length)return t[0].json}),Vt("ajax.params()",function(){var t=this.context;if(0<t.length)return t[0].oAjaxData}),Vt("ajax.reload()",function(t,e){return this.iterator("table",function(n){we(n,!1===e,t)})}),Vt("ajax.url()",function(t){var e=this.context;return t===n?0===e.length?n:(e=e[0]).ajax?i.isPlainObject(e.ajax)?e.ajax.url:e.ajax:e.sAjaxSource:this.iterator("table",function(e){i.isPlainObject(e.ajax)?e.ajax.url=t:e.ajax=t})}),Vt("ajax.url().load()",function(t,e){return this.iterator("table",function(n){we(n,!1===e,t)})});var xe=function(t,e,r,o,s){var a,l,c,u,h,d,p=[];for(c=typeof e,e&&"string"!==c&&"function"!==c&&e.length!==n||(e=[e]),c=0,u=e.length;c<u;c++)for(h=0,d=(l=e[c]&&e[c].split?e[c].split(","):[e[c]]).length;h<d;h++)(a=r("string"==typeof l[h]?i.trim(l[h]):l[h]))&&a.length&&(p=p.concat(a));if((t=Ut.selector[t]).length)for(c=0,u=t.length;c<u;c++)p=t[c](o,s,p);return he(p)},Se=function(t){return t||(t={}),t.filter&&t.search===n&&(t.search=t.filter),i.extend({search:"none",order:"current",page:"all"},t)},ke=function(t){for(var e=0,n=t.length;e<n;e++)if(0<t[e].length)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Ce=function(t,e){var n,r,o,s=[],a=t.aiDisplay;n=t.aiDisplayMaster;var l=e.search;if(r=e.order,o=e.page,"ssp"==zt(t))return"removed"===l?[]:ce(0,n.length);if("current"==o)for(n=t._iDisplayStart,r=t.fnDisplayEnd();n<r;n++)s.push(a[n]);else if("current"==r||"applied"==r)s="none"==l?n.slice():"applied"==l?a.slice():i.map(n,function(t){return-1===i.inArray(t,a)?t:null});else if("index"==r||"original"==r)for(n=0,r=t.aoData.length;n<r;n++)"none"==l?s.push(n):(-1===(o=i.inArray(n,a))&&"removed"==l||0<=o&&"applied"==l)&&s.push(n);return s};Vt("rows()",function(t,e){t===n?t="":i.isPlainObject(t)&&(e=t,t="");var e=Se(e),r=this.iterator("table",function(r){var o=e;return xe("row",t,function(t){var e=ie(t);if(null!==e&&!o)return[e];var s=Ce(r,o);return null!==e&&-1!==i.inArray(e,s)?[e]:t?"function"==typeof t?i.map(s,function(e){var n=r.aoData[e];return t(e,n._aData,n.nTr)?e:null}):(e=ue(le(r.aoData,s,"nTr")),t.nodeName&&-1!==i.inArray(t,e)?[t._DT_RowIndex]:"string"==typeof t&&"#"===t.charAt(0)&&(s=r.aIds[t.replace(/^#/,"")])!==n?[s.idx]:i(e).filter(t).map(function(){return this._DT_RowIndex}).toArray()):s},r,o)},1);return r.selector.rows=t,r.selector.opts=e,r}),Vt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||n},1)}),Vt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return le(t.aoData,e,"_aData")},1)}),Xt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,n){var i=e.aoData[n];return"search"===t?i._aFilterData:i._aSortData},1)}),Xt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,n){L(e,n,t)})}),Xt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Xt("rows().ids()","row().id()",function(t){for(var e=[],n=this.context,i=0,r=n.length;i<r;i++)for(var o=0,s=this[i].length;o<s;o++){var a=n[i].rowIdFn(n[i].aoData[this[i][o]]._aData);e.push((!0===t?"#":"")+a)}return new qt(n,e)}),Xt("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,i,r){var o=e.aoData,s=o[i];o.splice(i,1);for(var a=0,l=o.length;a<l;a++)null!==o[a].nTr&&(o[a].nTr._DT_RowIndex=a);E(e.aiDisplayMaster,i),E(e.aiDisplay,i),E(t[r],i,!1),Ft(e),(i=e.rowIdFn(s._aData))!==n&&delete e.aIds[i]}),this.iterator("table",function(t){for(var e=0,n=t.aoData.length;e<n;e++)t.aoData[e].idx=e}),this}),Vt("rows.add()",function(t){var e=this.iterator("table",function(e){var n,i,r,o=[];for(i=0,r=t.length;i<r;i++)(n=t[i]).nodeName&&"TR"===n.nodeName.toUpperCase()?o.push(w(e,n)[0]):o.push(b(e,n));return o},1),n=this.rows(-1);return n.pop(),i.merge(n,e),n}),Vt("row()",function(t,e){return ke(this.rows(t,e))}),Vt("row().data()",function(t){var e=this.context;return t===n?e.length&&this.length?e[0].aoData[this[0]]._aData:n:(e[0].aoData[this[0]]._aData=t,L(e[0],this[0],"data"),this)}),Vt("row().node()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]].nTr||null:null}),Vt("row.add()",function(t){t instanceof i&&t.length&&(t=t[0]);var e=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?w(e,t)[0]:b(e,t)});return this.row(e[0])});var Te=function(t,e){var i=t.context;i.length&&(i=i[0].aoData[e!==n?e:t[0]])&&i._details&&(i._details.remove(),i._detailsShow=n,i._details=n)},De=function(t,e){var n=t.context;if(n.length&&t.length){var i=n[0].aoData[t[0]];if(i._details){(i._detailsShow=e)?i._details.insertAfter(i.nTr):i._details.detach();var r=n[0],o=new qt(r),s=r.aoData;o.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<ae(s,"_details").length&&(o.on("draw.dt.DT_details",function(t,e){r===e&&o.rows({page:"current"}).eq(0).each(function(t){(t=s[t])._detailsShow&&t._details.insertAfter(t.nTr)})}),o.on("column-visibility.dt.DT_details",function(t,e){if(r===e)for(var n,i=g(e),o=0,a=s.length;o<a;o++)(n=s[o])._details&&n._details.children("td[colspan]").attr("colspan",i)}),o.on("destroy.dt.DT_details",function(t,e){if(r===e)for(var n=0,i=s.length;n<i;n++)s[n]._details&&Te(o,n)}))}}};Vt("row().child()",function(t,e){o=this.context;if(t===n)return o.length&&this.length?o[0].aoData[this[0]]._details:n;if(!0===t)this.child.show();else if(!1===t)Te(this);else if(o.length&&this.length){var r=o[0],o=o[0].aoData[this[0]],s=[],a=function(t,e){if(i.isArray(t)||t instanceof i)for(var n=0,o=t.length;n<o;n++)a(t[n],e);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?s.push(t):(n=i("<tr><td/></tr>").addClass(e),i("td",n).addClass(e).html(t)[0].colSpan=g(r),s.push(n[0]))};a(t,e),o._details&&o._details.remove(),o._details=i(s),o._detailsShow&&o._details.insertAfter(o.nTr)}return this}),Vt(["row().child.show()","row().child().show()"],function(){return De(this,!0),this}),Vt(["row().child.hide()","row().child().hide()"],function(){return De(this,!1),this}),Vt(["row().child.remove()","row().child().remove()"],function(){return Te(this),this}),Vt("row().child.isShown()",function(){var t=this.context;return!(!t.length||!this.length)&&(t[0].aoData[this[0]]._detailsShow||!1)});var Me=/^(.+):(name|visIdx|visible)$/,Ee=function(t,e,n,i,r){for(var n=[],i=0,o=r.length;i<o;i++)n.push(x(t,r[i],e));return n};Vt("columns()",function(t,e){t===n?t="":i.isPlainObject(t)&&(e=t,t="");var e=Se(e),r=this.iterator("table",function(n){var r=t,o=e,s=n.aoColumns,a=ae(s,"sName"),l=ae(s,"nTh");return xe("column",r,function(t){var e=ie(t);if(""===t)return ce(s.length);if(null!==e)return[e>=0?e:s.length+e];if("function"==typeof t){var r=Ce(n,o);return i.map(s,function(e,i){return t(i,Ee(n,i,0,0,r),l[i])?i:null})}var c="string"==typeof t?t.match(Me):"";if(!c)return i(l).filter(t).map(function(){return i.inArray(this,l)}).toArray();switch(c[2]){case"visIdx":case"visible":if((e=parseInt(c[1],10))<0){var u=i.map(s,function(t,e){return t.bVisible?e:null});return[u[u.length+e]]}return[f(n,e)];case"name":return i.map(a,function(t,e){return t===c[1]?e:null})}},n,o)},1);return r.selector.cols=t,r.selector.opts=e,r}),Xt("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Xt("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Xt("columns().data()","column().data()",function(){return this.iterator("column-rows",Ee,1)}),Xt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Xt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,n,i,r,o){return le(e.aoData,o,"search"===t?"_aFilterData":"_aSortData",n)},1)}),Xt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,i,r){return le(t.aoData,r,"anCells",e)},1)}),Xt("columns().visible()","column().visible()",function(t,e){return this.iterator("column",function(r,o){if(t===n)return r.aoColumns[o].bVisible;var s,a,l,c=r.aoColumns,u=c[o],h=r.aoData;if(t!==n&&u.bVisible!==t){if(t){var d=i.inArray(!0,ae(c,"bVisible"),o+1);for(s=0,a=h.length;s<a;s++)l=h[s].nTr,c=h[s].anCells,l&&l.insertBefore(c[o],c[d]||null)}else i(ae(r.aoData,"anCells",o)).detach();u.bVisible=t,O(r,r.aoHeader),O(r,r.aoFooter),(e===n||e)&&(p(r),(r.oScroll.sX||r.oScroll.sY)&&ft(r)),Rt(r,null,"column-visibility",[r,o,t]),Et(r)}})}),Xt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,n){return"visible"===t?m(e,n):n},1)}),Vt("columns.adjust()",function(){return this.iterator("table",function(t){p(t)},1)}),Vt("column.index()",function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return f(n,e);if("fromData"===t||"toVisible"===t)return m(n,e)}}),Vt("column()",function(t,e){return ke(this.columns(t,e))}),Vt("cells()",function(t,e,r){if(i.isPlainObject(t)&&(t.row===n?(r=t,t=null):(r=e,e=null)),i.isPlainObject(e)&&(r=e,e=null),null===e||e===n)return this.iterator("table",function(e){var o,s,a,l,c,u,h,d=t,p=Se(r),f=e.aoData,m=Ce(e,p),g=ue(le(f,m,"anCells")),v=i([].concat.apply([],g)),y=e.aoColumns.length;return xe("cell",d,function(t){var r="function"==typeof t;if(null===t||t===n||r){for(s=[],a=0,l=m.length;a<l;a++)for(o=m[a],c=0;c<y;c++)u={row:o,column:c},r?(h=f[o],t(u,x(e,o,c),h.anCells?h.anCells[c]:null)&&s.push(u)):s.push(u);return s}return i.isPlainObject(t)?[t]:v.filter(t).map(function(t,e){if(e.parentNode)o=e.parentNode._DT_RowIndex;else for(t=0,l=f.length;t<l;t++)if(-1!==i.inArray(e,f[t].anCells)){o=t;break}return{row:o,column:i.inArray(e,f[o].anCells)}}).toArray()},e,p)});var o,s,a,l,c,u=this.columns(e,r),h=this.rows(t,r),d=this.iterator("table",function(t,e){for(o=[],s=0,a=h[e].length;s<a;s++)for(l=0,c=u[e].length;l<c;l++)o.push({row:h[e][s],column:u[e][l]});return o},1);return i.extend(d.selector,{cols:e,rows:t,opts:r}),d}),Xt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,i){return(t=t.aoData[e].anCells)?t[i]:n},1)}),Vt("cells().data()",function(){return this.iterator("cell",function(t,e,n){return x(t,e,n)},1)}),Xt("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,n,i){return e.aoData[n][t][i]},1)}),Xt("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,n,i){return x(e,n,i,t)},1)}),Xt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:m(t,n)}},1)}),Xt("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,n,i){L(e,n,t,i)})}),Vt("cell()",function(t,e,n){return ke(this.cells(t,e,n))}),Vt("cell().data()",function(t){var e=this.context,i=this[0];return t===n?e.length&&i.length?x(e[0],i[0].row,i[0].column):n:(S(e[0],i[0].row,i[0].column,t),L(e[0],i[0].row,"data",i[0].column),this)}),Vt("order()",function(t,e){var r=this.context;return t===n?0!==r.length?r[0].aaSorting:n:("number"==typeof t?t=[[t,e]]:i.isArray(t[0])||(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),Vt("order.listener()",function(t,e,n){return this.iterator("table",function(i){Tt(i,t,e,n)})}),Vt(["columns().order()","column().order()"],function(t){var e=this;return this.iterator("table",function(n,r){var o=[];i.each(e[r],function(e,n){o.push([n,t])}),n.aaSorting=o})}),Vt("search()",function(t,e,r,o){var s=this.context;return t===n?0!==s.length?s[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){n.oFeatures.bFilter&&V(n,i.extend({},n.oPreviousSearch,{sSearch:t+"",bRegex:null!==e&&e,bSmart:null===r||r,bCaseInsensitive:null===o||o}),1)})}),Xt("columns().search()","column().search()",function(t,e,r,o){return this.iterator("column",function(s,a){var l=s.aoPreSearchCols;if(t===n)return l[a].sSearch;s.oFeatures.bFilter&&(i.extend(l[a],{sSearch:t+"",bRegex:null!==e&&e,bSmart:null===r||r,bCaseInsensitive:null===o||o}),V(s,s.oPreviousSearch,1))})}),Vt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Vt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),Vt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Vt("state.save()",function(){return this.iterator("table",function(t){Et(t)})}),Bt.versionCheck=Bt.fnVersionCheck=function(t){for(var e,n,i=Bt.version.split("."),r=0,o=(t=t.split(".")).length;r<o;r++)if(e=parseInt(i[r],10)||0,n=parseInt(t[r],10)||0,e!==n)return e>n;return!0},Bt.isDataTable=Bt.fnIsDataTable=function(t){var e=i(t).get(0),n=!1;return i.each(Bt.settings,function(t,r){var o=r.nScrollHead?i("table",r.nScrollHead)[0]:null,s=r.nScrollFoot?i("table",r.nScrollFoot)[0]:null;r.nTable!==e&&o!==e&&s!==e||(n=!0)}),n},Bt.tables=Bt.fnTables=function(t){var e=!1;i.isPlainObject(t)&&(e=t.api,t=t.visible);var n=i.map(Bt.settings,function(e){if(!t||t&&i(e.nTable).is(":visible"))return e.nTable});return e?new qt(n):n},Bt.util={throttle:vt,escapeRegex:J},Bt.camelToHungarian=o,Vt("$()",function(t,e){var n=this.rows(e).nodes(),n=i(n);return i([].concat(n.filter(t).toArray(),n.find(t).toArray()))}),i.each(["on","one","off"],function(t,e){Vt(e+"()",function(){var t=Array.prototype.slice.call(arguments);t[0].match(/\.dt\b/)||(t[0]+=".dt");var n=i(this.tables().nodes());return n[e].apply(n,t),this})}),Vt("clear()",function(){return this.iterator("table",function(t){M(t)})}),Vt("settings()",function(){return new qt(this.context,this.context)}),Vt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),Vt("data()",function(){return this.iterator("table",function(t){return ae(t.aoData,"_aData")}).flatten()}),Vt("destroy()",function(e){return e=e||!1,this.iterator("table",function(n){var r,o=n.nTableWrapper.parentNode,s=n.oClasses,a=n.nTable,l=n.nTBody,c=n.nTHead,u=n.nTFoot,h=i(a),l=i(l),d=i(n.nTableWrapper),p=i.map(n.aoData,function(t){return t.nTr});n.bDestroying=!0,Rt(n,"aoDestroyCallback","destroy",[n]),e||new qt(n).columns().visible(!0),d.unbind(".DT").find(":not(tbody *)").unbind(".DT"),i(t).unbind(".DT-"+n.sInstance),a!=c.parentNode&&(h.children("thead").detach(),h.append(c)),u&&a!=u.parentNode&&(h.children("tfoot").detach(),h.append(u)),n.aaSorting=[],n.aaSortingFixed=[],Dt(n),i(p).removeClass(n.asStripeClasses.join(" ")),i("th, td",c).removeClass(s.sSortable+" "+s.sSortableAsc+" "+s.sSortableDesc+" "+s.sSortableNone),n.bJUI&&(i("th span."+s.sSortIcon+", td span."+s.sSortIcon,c).detach(),i("th, td",c).each(function(){var t=i("div."+s.sSortJUIWrapper,this);i(this).append(t.contents()),t.detach()})),l.children().detach(),l.append(p),h[c=e?"remove":"detach"](),d[c](),!e&&o&&(o.insertBefore(a,n.nTableReinsertBefore),h.css("width",n.sDestroyWidth).removeClass(s.sTable),(r=n.asDestroyStripes.length)&&l.children().each(function(t){i(this).addClass(n.asDestroyStripes[t%r])})),-1!==(o=i.inArray(n,Bt.settings))&&Bt.settings.splice(o,1)})}),i.each(["column","row","cell"],function(t,e){Vt(e+"s().every()",function(t){return this.iterator(e,function(i,r,o,s,a){t.call(new qt(i)[e](r,"cell"===e?o:n),r,o,s,a)})})}),Vt("i18n()",function(t,e,r){var o=this.context[0];return(t=C(t)(o.oLanguage))===n&&(t=e),r!==n&&i.isPlainObject(t)&&(t=t[r]!==n?t[r]:t._),t.replace("%d",r)}),Bt.version="1.10.9",Bt.settings=[],Bt.models={},Bt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Bt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Bt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Bt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:i.extend({},Bt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},r(Bt.defaults),Bt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(Bt.defaults.column),Bt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==zt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==zt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,i=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?!1===o||-1===t?e+i:Math.min(e+t,this._iRecordsDisplay):!o||n>i||-1===t?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Bt.ext=Ut={buttons:{},classes:{},errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Bt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Bt.version},i.extend(Ut,{afnFiltering:Ut.search,aTypes:Ut.type.detect,ofnSearch:Ut.type.search,oSort:Ut.type.order,afnSortData:Ut.order,aoFeatures:Ut.feature,oApi:Ut.internal,oStdClasses:Ut.classes,oPagination:Ut.pager}),i.extend(Bt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Le="ui-state-default",Ae="css_right ui-icon ui-icon-",Ie="fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";i.extend(Bt.ext.oJUIClasses,Bt.ext.classes,{sPageButton:"fg-button ui-button "+Le,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:Le+" sorting_asc",sSortDesc:Le+" sorting_desc",sSortable:Le+" sorting",sSortableAsc:Le+" sorting_asc_disabled",sSortableDesc:Le+" sorting_desc_disabled",sSortableNone:Le+" sorting_disabled",sSortJUIAsc:Ae+"triangle-1-n",sSortJUIDesc:Ae+"triangle-1-s",sSortJUI:Ae+"carat-2-n-s",sSortJUIAscAllowed:Ae+"carat-1-n",sSortJUIDescAllowed:Ae+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+Le,sScrollFoot:"dataTables_scrollFoot "+Le,sHeaderTH:Le,sFooterTH:Le,sJUIHeader:Ie+" ui-corner-tl ui-corner-tr",sJUIFooter:Ie+" ui-corner-bl ui-corner-br"});var Ne=Bt.ext.pager;i.extend(Ne,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(t,e){return[jt(t,e)]},simple_numbers:function(t,e){return["previous",jt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",jt(t,e),"next","last"]},_numbers:jt,numbers_length:7}),i.extend(!0,Bt.ext.renderer,{pageButton:{_:function(t,n,r,o,s,a){var l,c,u,h=t.oClasses,d=t.oLanguage.oPaginate,p=0,f=function(e,n){var o,u,m,g;for(o=0,u=n.length;o<u;o++)if(g=n[o],i.isArray(g))m=i("<"+(g.DT_el||"div")+"/>").appendTo(e),f(m,g);else{switch(l=null,c="",g){case"ellipsis":e.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=d.sFirst,c=g+(s>0?"":" "+h.sPageButtonDisabled);break;case"previous":l=d.sPrevious,c=g+(s>0?"":" "+h.sPageButtonDisabled);break;case"next":l=d.sNext,c=g+(s<a-1?"":" "+h.sPageButtonDisabled);break;case"last":l=d.sLast,c=g+(s<a-1?"":" "+h.sPageButtonDisabled);break;default:l=g+1,c=s===g?h.sPageButtonActive:""}null!==l&&(Ot(m=i("<a>",{class:h.sPageButton+" "+c,"aria-controls":t.sTableId,"data-dt-idx":p,tabindex:t.iTabIndex,id:0===r&&"string"==typeof g?t.sTableId+"_"+g:null}).html(l).appendTo(e),{action:g},function(e){ut(t,e.data.action,!0)}),p++)}};try{u=i(n).find(e.activeElement).data("dt-idx")}catch(t){}f(i(n).empty(),o),u&&i(n).find("[data-dt-idx="+u+"]").focus()}}}),i.extend(Bt.ext.type.detect,[function(t,e){var n=e.oLanguage.sDecimal;return oe(t,n)?"num"+n:null},function(t){if(t&&!(t instanceof Date)&&(!Jt.test(t)||!Zt.test(t)))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||ne(t)?"date":null},function(t,e){var n=e.oLanguage.sDecimal;return oe(t,n,!0)?"num-fmt"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return se(t,n)?"html-num"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return se(t,n,!0)?"html-num-fmt"+n:null},function(t){return ne(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),i.extend(Bt.ext.type.search,{html:function(t){return ne(t)?t:"string"==typeof t?t.replace(Kt," ").replace(Qt,""):""},string:function(t){return ne(t)?t:"string"==typeof t?t.replace(Kt," "):t}});var Pe=function(t,e,n,i){return 0===t||t&&"-"!==t?(e&&(t=re(t,e)),t.replace&&(n&&(t=t.replace(n,"")),i&&(t=t.replace(i,""))),1*t):-1/0};return i.extend(Ut.type.order,{"date-pre":function(t){return Date.parse(t)||0},"html-pre":function(t){return ne(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return ne(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),$t(""),i.extend(!0,Bt.ext.renderer,{header:{_:function(t,e,n,r){i(t.nTable).on("order.dt.DT",function(i,o,s,a){t===o&&(i=n.idx,e.removeClass(n.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==a[i]?r.sSortAsc:"desc"==a[i]?r.sSortDesc:n.sSortingClass))})},jqueryui:function(t,e,n,r){i("<div/>").addClass(r.sSortJUIWrapper).append(e.contents()).append(i("<span/>").addClass(r.sSortIcon+" "+n.sSortingClassJUI)).appendTo(e),i(t.nTable).on("order.dt.DT",function(i,o,s,a){t===o&&(i=n.idx,e.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==a[i]?r.sSortAsc:"desc"==a[i]?r.sSortDesc:n.sSortingClass),e.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==a[i]?r.sSortJUIAsc:"desc"==a[i]?r.sSortJUIDesc:n.sSortingClassJUI))})}}}),Bt.render={number:function(t,e,n,i,r){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var s=0>o?"-":"",o=Math.abs(parseFloat(o)),a=parseInt(o,10),o=n?e+(o-a).toFixed(n).substring(2):"";return s+(i||"")+a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+o+(r||"")}}}},i.extend(Bt.ext.internal,{_fnExternApiFunc:Wt,_fnBuildAjax:j,_fnAjaxUpdate:$,_fnAjaxParameters:W,_fnAjaxUpdateDraw:B,_fnAjaxDataSrc:U,_fnAddColumn:h,_fnColumnOptions:d,_fnAdjustColumnSizing:p,_fnVisibleToColumnIndex:f,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:_,_fnHungarianMap:r,_fnCamelToHungarian:o,_fnLanguageCompat:s,_fnBrowserDetect:c,_fnAddData:b,_fnAddTr:w,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==n?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,e,n){return i.inArray(n,t.aoData[e].anCells)},_fnGetCellData:x,_fnSetCellData:S,_fnSplitObjNotation:k,_fnGetObjectDataFn:C,_fnSetObjectDataFn:T,_fnGetDataMaster:D,_fnClearTable:M,_fnDeleteIndex:E,_fnInvalidate:L,_fnGetRowElements:A,_fnCreateTr:I,_fnBuildHead:P,_fnDrawHead:O,_fnDraw:Y,_fnReDraw:R,_fnAddOptionsHtml:F,_fnDetectHeader:H,_fnGetUniqueThs:z,_fnFeatureHtmlFilter:q,_fnFilterComplete:V,_fnFilterCustom:X,_fnFilterColumn:G,_fnFilter:K,_fnFilterCreateSearch:Q,_fnEscapeRegex:J,_fnFilterData:Z,_fnFeatureHtmlInfo:nt,_fnUpdateInfo:it,_fnInfoMacros:rt,_fnInitialise:ot,_fnInitComplete:st,_fnLengthChange:at,_fnFeatureHtmlLength:lt,_fnFeatureHtmlPaginate:ct,_fnPageChange:ut,_fnFeatureHtmlProcessing:ht,_fnProcessingDisplay:dt,_fnFeatureHtmlTable:pt,_fnScrollDraw:ft,_fnApplyToChildren:mt,_fnCalculateColumnWidths:gt,_fnThrottle:vt,_fnConvertToWidth:yt,_fnGetWidestNode:_t,_fnGetMaxLenString:bt,_fnStringToCss:wt,_fnSortFlatten:xt,_fnSort:St,_fnSortAria:kt,_fnSortListener:Ct,_fnSortAttachListener:Tt,_fnSortingClasses:Dt,_fnSortData:Mt,_fnSaveState:Et,_fnLoadState:Lt,_fnSettingsFromNode:At,_fnLog:It,_fnMap:Nt,_fnBindAction:Ot,_fnCallbackReg:Yt,_fnCallbackFire:Rt,_fnLengthOverflow:Ft,_fnRenderer:Ht,_fnDataSource:zt,_fnRowAttributes:N,_fnCalculateEnd:function(){}}),i.fn.dataTable=Bt,i.fn.dataTableSettings=Bt.settings,i.fn.dataTableExt=Bt.ext,i.fn.DataTable=function(t){return i(this).dataTable(t).api()},i.each(Bt,function(t,e){i.fn.DataTable[t]=e}),i.fn.dataTable};"function"==typeof define&&define.amd?define("datatables",["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):jQuery&&!jQuery.fn.dataTable&&i(jQuery)}(window,document);var TableTools;!function(t,e,n){var i=function(i,r){var o={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(t){return"string"==typeof t&&(t=e.getElementById(t)),t.addClass||(t.hide=function(){this.style.display="none"},t.show=function(){this.style.display=""},t.addClass=function(t){this.removeClass(t),this.className+=" "+t},t.removeClass=function(t){this.className=this.className.replace(RegExp("\\s*"+t+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")},t.hasClass=function(t){return!!this.className.match(RegExp("\\s*"+t+"\\s*"))}),t},setMoviePath:function(t){this.moviePath=t},dispatch:function(t,e,n){(t=this.clients[t])&&t.receiveEvent(e,n)},register:function(t,e){this.clients[t]=e},getDOMObjectPosition:function(t){var e={left:0,top:0,width:t.width?t.width:t.offsetWidth,height:t.height?t.height:t.offsetHeight};for(""!==t.style.width&&(e.width=t.style.width.replace("px","")),""!==t.style.height&&(e.height=t.style.height.replace("px",""));t;)e.left+=t.offsetLeft,e.top+=t.offsetTop,t=t.offsetParent;return e},Client:function(t){this.handlers={},this.id=o.nextId++,this.movieId="ZeroClipboard_TableToolsMovie_"+this.id,o.register(this.id,this),t&&this.glue(t)}};o.Client.prototype={id:0,ready:!1,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:!0,cssEffects:!0,handlers:null,sized:!1,glue:function(t,n){this.domElement=o.$(t);var i=99;this.domElement.style.zIndex&&(i=parseInt(this.domElement.style.zIndex,10)+1);var r=o.getDOMObjectPosition(this.domElement);this.div=e.createElement("div");var s=this.div.style;s.position="absolute",s.left="0px",s.top="0px",s.width=r.width+"px",s.height=r.height+"px",s.zIndex=i,void 0!==n&&""!==n&&(this.div.title=n),0!==r.width&&0!==r.height&&(this.sized=!0),this.domElement&&(this.domElement.appendChild(this.div),this.div.innerHTML=this.getHTML(r.width,r.height).replace(/&/g,"&amp;"))},positionElement:function(){var t=o.getDOMObjectPosition(this.domElement),e=this.div.style;e.position="absolute",e.width=t.width+"px",e.height=t.height+"px",0!==t.width&&0!==t.height&&(this.sized=!0,e=this.div.childNodes[0],e.width=t.width,e.height=t.height)},getHTML:function(t,e){var n="",i="id="+this.id+"&width="+t+"&height="+e;if(navigator.userAgent.match(/MSIE/))var r=location.href.match(/^https/i)?"https://":"http://",n=n+'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+r+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+t+'" height="'+e+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+o.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+i+'"/><param name="wmode" value="transparent"/></object>';else n+='<embed id="'+this.movieId+'" src="'+o.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+t+'" height="'+e+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+i+'" wmode="transparent" />';return n},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var t=e.getElementsByTagName("body")[0];try{t.removeChild(this.div)}catch(t){}this.div=this.domElement=null}},reposition:function(t){if(t&&((this.domElement=o.$(t))||this.hide()),this.domElement&&this.div){var t=o.getDOMObjectPosition(this.domElement),e=this.div.style;e.left=t.left+"px",e.top=t.top+"px"}},clearText:function(){this.clipText="",this.ready&&this.movie.clearText()},appendText:function(t){this.clipText+=t,this.ready&&this.movie.appendText(t)},setText:function(t){this.clipText=t,this.ready&&this.movie.setText(t)},setCharSet:function(t){this.charSet=t,this.ready&&this.movie.setCharSet(t)},setBomInc:function(t){this.incBom=t,this.ready&&this.movie.setBomInc(t)},setFileName:function(t){this.fileName=t,this.ready&&this.movie.setFileName(t)},setAction:function(t){this.action=t,this.ready&&this.movie.setAction(t)},addEventListener:function(t,e){t=t.toString().toLowerCase().replace(/^on/,""),this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push(e)},setHandCursor:function(t){this.handCursorEnabled=t,this.ready&&this.movie.setHandCursor(t)},setCSSEffects:function(t){this.cssEffects=!!t},receiveEvent:function(n,i){var r;switch(n=n.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=e.getElementById(this.movieId),!this.movie)return r=this,void setTimeout(function(){r.receiveEvent("load",null)},1);if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/))return r=this,setTimeout(function(){r.receiveEvent("load",null)},100),void(this.ready=!0);this.ready=!0,this.movie.clearText(),this.movie.appendText(this.clipText),this.movie.setFileName(this.fileName),this.movie.setAction(this.action),this.movie.setCharSet(this.charSet),this.movie.setBomInc(this.incBom),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&this.recoverActive&&this.domElement.addClass("active");break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[n])for(var o=0,s=this.handlers[n].length;o<s;o++){var a=this.handlers[n][o];"function"==typeof a?a(this,i):"object"==typeof a&&2==a.length?a[0][a[1]](this,i):"string"==typeof a&&t[a](this,i)}}},t.ZeroClipboard_TableTools=o;var s=jQuery;return TableTools=function(t,e){return!this instanceof TableTools&&alert("Warning: TableTools must be initialised with the keyword 'new'"),this.s={that:this,dt:s.fn.dataTable.Api?new s.fn.dataTable.Api(t).settings()[0]:t.fnSettings(),print:{saveStart:-1,saveLength:-1,saveScroll:-1,funcEnd:function(){}},buttonCounter:0,select:{type:"",selected:[],preRowSelect:null,postSelected:null,postDeselected:null,all:!1,selectedClass:""},custom:{},swfPath:"",buttonSet:[],master:!1,tags:{}},this.dom={container:null,table:null,print:{hidden:[],message:null},collection:{collection:null,background:null}},this.classes=s.extend(!0,{},TableTools.classes),this.s.dt.bJUI&&s.extend(!0,this.classes,TableTools.classes_themeroller),this.fnSettings=function(){return this.s},void 0===e&&(e={}),TableTools._aInstances.push(this),this._fnConstruct(e),this},TableTools.prototype={fnGetSelected:function(t){var e,n=[],i=this.s.dt.aoData,r=this.s.dt.aiDisplay;if(t)for(t=0,e=r.length;t<e;t++)i[r[t]]._DTTT_selected&&n.push(i[r[t]].nTr);else for(t=0,e=i.length;t<e;t++)i[t]._DTTT_selected&&n.push(i[t].nTr);return n},fnGetSelectedData:function(){var t,e,n=[],i=this.s.dt.aoData;for(t=0,e=i.length;t<e;t++)i[t]._DTTT_selected&&n.push(this.s.dt.oInstance.fnGetData(t));return n},fnGetSelectedIndexes:function(t){var e,n=[],i=this.s.dt.aoData,r=this.s.dt.aiDisplay;if(t)for(t=0,e=r.length;t<e;t++)i[r[t]]._DTTT_selected&&n.push(r[t]);else for(t=0,e=i.length;t<e;t++)i[t]._DTTT_selected&&n.push(t);return n},fnIsSelected:function(t){return t=this.s.dt.oInstance.fnGetPosition(t),!0===this.s.dt.aoData[t]._DTTT_selected},fnSelectAll:function(t){this._fnRowSelect(t?this.s.dt.aiDisplay:this.s.dt.aoData)},fnSelectNone:function(t){this._fnRowDeselect(this.fnGetSelectedIndexes(t))},fnSelect:function(t){"single"==this.s.select.type&&this.fnSelectNone(),this._fnRowSelect(t)},fnDeselect:function(t){this._fnRowDeselect(t)},fnGetTitle:function(t){var n="";return void 0!==t.sTitle&&""!==t.sTitle?n=t.sTitle:0<(t=e.getElementsByTagName("title")).length&&(n=t[0].innerHTML),4>"¡".toString().length?n.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""):n.replace(/[^a-zA-Z0-9_\.,\-_ !\(\)]/g,"")},fnCalcColRatios:function(t){var e,n,i=this.s.dt.aoColumns,r=[],o=0,s=0;for(e=0,n=(t=this._fnColumnTargets(t.mColumns)).length;e<n;e++)t[e]&&(o=i[e].nTh.offsetWidth,s+=o,r.push(o));for(e=0,n=r.length;e<n;e++)r[e]/=s;return r.join("\t")},fnGetTableData:function(t){if(this.s.dt)return this._fnGetDataTablesData(t)},fnSetText:function(t,e){this._fnFlashSetText(t,e)},fnResizeButtons:function(){for(var t in o.clients)if(t){var e=o.clients[t];void 0!==e.domElement&&e.domElement.parentNode&&e.positionElement()}},fnResizeRequired:function(){for(var t in o.clients)if(t){var e=o.clients[t];if(void 0!==e.domElement&&e.domElement.parentNode==this.dom.container&&!1===e.sized)return!0}return!1},fnPrint:function(t,e){e===n&&(e={}),t===n||t?this._fnPrintStart(e):this._fnPrintEnd()},fnInfo:function(t,e){var n=s("<div/>").addClass(this.classes.print.info).html(t).appendTo("body");setTimeout(function(){n.fadeOut("normal",function(){n.remove()})},e)},fnContainer:function(){return this.dom.container},_fnConstruct:function(t){var n=this;this._fnCustomiseSettings(t),this.dom.container=e.createElement(this.s.tags.container),this.dom.container.className=this.classes.container,"none"!=this.s.select.type&&this._fnRowSelectConfig(),this._fnButtonDefinations(this.s.buttonSet,this.dom.container),this.s.dt.aoDestroyCallback.push({sName:"TableTools",fn:function(){s(n.s.dt.nTBody).off("click.DTTT_Select",n.s.custom.sRowSelector).off("mousedown.DTTT_Select","tr").off("mouseup.DTTT_Select","tr"),s(n.dom.container).empty();var t=s.inArray(n,TableTools._aInstances);-1!==t&&TableTools._aInstances.splice(t,1)}})},_fnCustomiseSettings:function(t){void 0===this.s.dt._TableToolsInit&&(this.s.master=!0,this.s.dt._TableToolsInit=!0),this.dom.table=this.s.dt.nTable,this.s.custom=s.extend({},TableTools.DEFAULTS,t),this.s.swfPath=this.s.custom.sSwfPath,void 0!==o&&(o.moviePath=this.s.swfPath),this.s.select.type=this.s.custom.sRowSelect,this.s.select.preRowSelect=this.s.custom.fnPreRowSelect,this.s.select.postSelected=this.s.custom.fnRowSelected,this.s.select.postDeselected=this.s.custom.fnRowDeselected,this.s.custom.sSelectedClass&&(this.classes.select.row=this.s.custom.sSelectedClass),this.s.tags=this.s.custom.oTags,this.s.buttonSet=this.s.custom.aButtons},_fnButtonDefinations:function(t,e){for(var n,i=0,r=t.length;i<r;i++){if("string"==typeof t[i]){if(void 0===TableTools.BUTTONS[t[i]]){alert("TableTools: Warning - unknown button type: "+t[i]);continue}n=s.extend({},TableTools.BUTTONS[t[i]],!0)}else{if(void 0===TableTools.BUTTONS[t[i].sExtends]){alert("TableTools: Warning - unknown button type: "+t[i].sExtends);continue}n=s.extend({},TableTools.BUTTONS[t[i].sExtends],!0),n=s.extend(n,t[i],!0)}(n=this._fnCreateButton(n,s(e).hasClass(this.classes.collection.container)))&&e.appendChild(n)}},_fnCreateButton:function(t,e){var n=this._fnButtonBase(t,e);if(t.sAction.match(/flash/)){if(!this._fnHasFlash())return!1;this._fnFlashConfig(n,t)}else"text"==t.sAction?this._fnTextConfig(n,t):"div"==t.sAction?this._fnTextConfig(n,t):"collection"==t.sAction&&(this._fnTextConfig(n,t),this._fnCollectionConfig(n,t));return-1!==this.s.dt.iTabIndex&&s(n).attr("tabindex",this.s.dt.iTabIndex).attr("aria-controls",this.s.dt.sTableId).on("keyup.DTTT",function(t){13===t.keyCode&&(t.stopPropagation(),s(this).trigger("click"))}).on("mousedown.DTTT",function(e){t.sAction.match(/flash/)||e.preventDefault()}),n},_fnButtonBase:function(t,n){var i,r,o;n?(i=t.sTag&&"default"!==t.sTag?t.sTag:this.s.tags.collection.button,r=t.sLinerTag&&"default"!==t.sLinerTag?t.sLiner:this.s.tags.collection.liner,o=this.classes.collection.buttons.normal):(i=t.sTag&&"default"!==t.sTag?t.sTag:this.s.tags.button,r=t.sLinerTag&&"default"!==t.sLinerTag?t.sLiner:this.s.tags.liner,o=this.classes.buttons.normal),i=e.createElement(i),r=e.createElement(r);var s=this._fnGetMasterSettings();return i.className=o+" "+t.sButtonClass,i.setAttribute("id","ToolTables_"+this.s.dt.sInstance+"_"+s.buttonCounter),i.appendChild(r),r.innerHTML=t.sButtonText,s.buttonCounter++,i},_fnGetMasterSettings:function(){if(this.s.master)return this.s;for(var t=TableTools._aInstances,e=0,n=t.length;e<n;e++)if(this.dom.table==t[e].s.dt.nTable)return t[e].s},_fnCollectionConfig:function(t,n){var i=e.createElement(this.s.tags.collection.container);i.style.display="none",i.className=this.classes.collection.container,n._collection=i,e.body.appendChild(i),this._fnButtonDefinations(n.aButtons,i)},_fnCollectionShow:function(n,i){var r=this,o=s(n).offset(),a=i._collection,l=o.left,o=o.top+s(n).outerHeight(),c=s(t).height(),u=s(e).height(),h=s(t).width(),d=s(e).width();a.style.position="absolute",a.style.left=l+"px",a.style.top=o+"px",a.style.display="block",s(a).css("opacity",0);var p=e.createElement("div");p.style.position="absolute",p.style.left="0px",p.style.top="0px",p.style.height=(c>u?c:u)+"px",p.style.width=(h>d?h:d)+"px",p.className=this.classes.collection.background,s(p).css("opacity",0),e.body.appendChild(p),e.body.appendChild(a),c=s(a).outerWidth(),h=s(a).outerHeight(),l+c>d&&(a.style.left=d-c+"px"),o+h>u&&(a.style.top=o-h-s(n).outerHeight()+"px"),this.dom.collection.collection=a,this.dom.collection.background=p,setTimeout(function(){s(a).animate({opacity:1},500),s(p).animate({opacity:.25},500)},10),this.fnResizeButtons(),s(p).click(function(){r._fnCollectionHide.call(r,null,null)})},_fnCollectionHide:function(t,e){!(null!==e&&"collection"==e.sExtends)&&null!==this.dom.collection.collection&&(s(this.dom.collection.collection).animate({opacity:0},500,function(){this.style.display="none"}),s(this.dom.collection.background).animate({opacity:0},500,function(){this.parentNode.removeChild(this)}),this.dom.collection.collection=null,this.dom.collection.background=null)},_fnRowSelectConfig:function(){if(this.s.master){var t=this,e=this.s.dt;s(e.nTable).addClass(this.classes.select.table),"os"===this.s.select.type&&(s(e.nTBody).on("mousedown.DTTT_Select","tr",function(t){t.shiftKey&&s(e.nTBody).css("-moz-user-select","none").one("selectstart.DTTT_Select","tr",function(){return!1})}),s(e.nTBody).on("mouseup.DTTT_Select","tr",function(){s(e.nTBody).css("-moz-user-select","")})),s(e.nTBody).on("click.DTTT_Select",this.s.custom.sRowSelector,function(n){var i="tr"===this.nodeName.toLowerCase()?this:s(this).parents("tr")[0],r=t.s.select,o=t.s.dt.oInstance.fnGetPosition(i);if(i.parentNode==e.nTBody&&null!==e.oInstance.fnGetData(i)){if("os"==r.type)if(n.ctrlKey||n.metaKey)t.fnIsSelected(i)?t._fnRowDeselect(i,n):t._fnRowSelect(i,n);else if(n.shiftKey){var a=t.s.dt.aiDisplay.slice(),l=s.inArray(r.lastRow,a),c=s.inArray(o,a);if(0===t.fnGetSelected().length||-1===l)a.splice(s.inArray(o,a)+1,a.length);else{if(l>c)var u=c,c=l,l=u;a.splice(c+1,a.length),a.splice(0,l)}t.fnIsSelected(i)?(a.splice(s.inArray(o,a),1),t._fnRowDeselect(a,n)):t._fnRowSelect(a,n)}else t.fnIsSelected(i)&&1===t.fnGetSelected().length?t._fnRowDeselect(i,n):(t.fnSelectNone(),t._fnRowSelect(i,n));else t.fnIsSelected(i)?t._fnRowDeselect(i,n):"single"==r.type?(t.fnSelectNone(),t._fnRowSelect(i,n)):"multi"==r.type&&t._fnRowSelect(i,n);r.lastRow=o}}),e.oApi._fnCallbackReg(e,"aoRowCreatedCallback",function(n,i,r){e.aoData[r]._DTTT_selected&&s(n).addClass(t.classes.select.row)},"TableTools-SelectAll")}},_fnRowSelect:function(t,e){var n,i,r=this._fnSelectData(t),o=[];for(n=0,i=r.length;n<i;n++)r[n].nTr&&o.push(r[n].nTr);if(null===this.s.select.preRowSelect||this.s.select.preRowSelect.call(this,e,o,!0)){for(n=0,i=r.length;n<i;n++)r[n]._DTTT_selected=!0,r[n].nTr&&s(r[n].nTr).addClass(this.classes.select.row);null!==this.s.select.postSelected&&this.s.select.postSelected.call(this,o),TableTools._fnEventDispatch(this,"select",o,!0)}},_fnRowDeselect:function(t,e){var n,i,r=this._fnSelectData(t),o=[];for(n=0,i=r.length;n<i;n++)r[n].nTr&&o.push(r[n].nTr);if(null===this.s.select.preRowSelect||this.s.select.preRowSelect.call(this,e,o,!1)){for(n=0,i=r.length;n<i;n++)r[n]._DTTT_selected=!1,r[n].nTr&&s(r[n].nTr).removeClass(this.classes.select.row);null!==this.s.select.postDeselected&&this.s.select.postDeselected.call(this,o),TableTools._fnEventDispatch(this,"select",o,!1)}},_fnSelectData:function(t){var e,n,i,r=[];if(t.nodeName)e=this.s.dt.oInstance.fnGetPosition(t),r.push(this.s.dt.aoData[e]);else if(void 0!==t.length)for(n=0,i=t.length;n<i;n++)t[n].nodeName?(e=this.s.dt.oInstance.fnGetPosition(t[n]),r.push(this.s.dt.aoData[e])):"number"==typeof t[n]?r.push(this.s.dt.aoData[t[n]]):r.push(t[n]);else"number"==typeof t?r.push(this.s.dt.aoData[t]):r.push(t);return r},_fnTextConfig:function(t,e){var n=this;null!==e.fnInit&&e.fnInit.call(this,t,e),""!==e.sToolTip&&(t.title=e.sToolTip),s(t).hover(function(){null!==e.fnMouseover&&e.fnMouseover.call(this,t,e,null)},function(){null!==e.fnMouseout&&e.fnMouseout.call(this,t,e,null)}),null!==e.fnSelect&&TableTools._fnEventListen(this,"select",function(i){e.fnSelect.call(n,t,e,i)}),s(t).click(function(i){null!==e.fnClick&&e.fnClick.call(n,t,e,null,i),null!==e.fnComplete&&e.fnComplete.call(n,t,e,null,null),n._fnCollectionHide(t,e)})},_fnHasFlash:function(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(t){if(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]!==n&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0}return!1},_fnFlashConfig:function(t,e){var n=this,i=new o.Client;null!==e.fnInit&&e.fnInit.call(this,t,e),i.setHandCursor(!0),"flash_save"==e.sAction?(i.setAction("save"),i.setCharSet("utf16le"==e.sCharSet?"UTF16LE":"UTF8"),i.setBomInc(e.bBomInc),i.setFileName(e.sFileName.replace("*",this.fnGetTitle(e)))):"flash_pdf"==e.sAction?(i.setAction("pdf"),i.setFileName(e.sFileName.replace("*",this.fnGetTitle(e)))):i.setAction("copy"),i.addEventListener("mouseOver",function(){null!==e.fnMouseover&&e.fnMouseover.call(n,t,e,i)}),i.addEventListener("mouseOut",function(){null!==e.fnMouseout&&e.fnMouseout.call(n,t,e,i)}),i.addEventListener("mouseDown",function(){null!==e.fnClick&&e.fnClick.call(n,t,e,i)}),i.addEventListener("complete",function(r,o){null!==e.fnComplete&&e.fnComplete.call(n,t,e,i,o),n._fnCollectionHide(t,e)}),null!==e.fnSelect&&TableTools._fnEventListen(this,"select",function(i){e.fnSelect.call(n,t,e,i)}),this._fnFlashGlue(i,t,e.sToolTip)},_fnFlashGlue:function(t,n,i){var r=this,o=n.getAttribute("id");e.getElementById(o)?t.glue(n,i):setTimeout(function(){r._fnFlashGlue(t,n,i)},100)},_fnFlashSetText:function(t,e){var n=this._fnChunkData(e,8192);t.clearText();for(var i=0,r=n.length;i<r;i++)t.appendText(n[i])},_fnColumnTargets:function(t){var e,n=[],i=this.s.dt,r=i.aoColumns;if(e=r.length,"function"==typeof t)for(t=t.call(this,i),i=0;i<e;i++)n.push(-1!==s.inArray(i,t));else if("object"==typeof t){for(i=0;i<e;i++)n.push(!1);for(i=0,e=t.length;i<e;i++)n[t[i]]=!0}else if("visible"==t)for(i=0;i<e;i++)n.push(!!r[i].bVisible);else if("hidden"==t)for(i=0;i<e;i++)n.push(!r[i].bVisible);else if("sortable"==t)for(i=0;i<e;i++)n.push(!!r[i].bSortable);else for(i=0;i<e;i++)n.push(!0);return n},_fnNewline:function(t){return"auto"==t.sNewLine?navigator.userAgent.match(/Windows/)?"\r\n":"\n":t.sNewLine},_fnGetDataTablesData:function(t){var e,n,i,o,a,l,c=[],u="",h=this.s.dt,d=RegExp(t.sFieldBoundary,"g"),p=this._fnColumnTargets(t.mColumns);if(i=void 0!==t.bSelectedOnly&&t.bSelectedOnly,t.bHeader){for(a=[],e=0,n=h.aoColumns.length;e<n;e++)p[e]&&(u=h.aoColumns[e].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,""),u=this._fnHtmlDecode(u),a.push(this._fnBoundData(u,t.sFieldBoundary,d)));c.push(a.join(t.sFieldSeperator))}i=!0;var f;for(o=this.fnGetSelectedIndexes(),f=(i="none"!==this.s.select.type&&i&&0!==o.length)?o:r.Api?new r.Api(h).rows(t.oSelectorOpts).indexes().flatten().toArray():h.oInstance.$("tr",t.oSelectorOpts).map(function(t,e){return h.oInstance.fnGetPosition(e)}).get(),i=0,o=f.length;i<o;i++){for(l=h.aoData[f[i]].nTr,a=[],e=0,n=h.aoColumns.length;e<n;e++)p[e]&&(u=h.oApi._fnGetCellData(h,f[i],e,"display"),t.fnCellRender?u=t.fnCellRender(u,e,l,f[i])+"":"string"==typeof u?(u=u.replace(/\n/g," "),u=u.replace(/<img.*?\s+alt\s*=\s*(?:"([^"]+)"|'([^']+)'|([^\s>]+)).*?>/gi,"$1$2$3"),u=u.replace(/<.*?>/g,"")):u+="",u=u.replace(/^\s+/,"").replace(/\s+$/,""),u=this._fnHtmlDecode(u),a.push(this._fnBoundData(u,t.sFieldBoundary,d)));c.push(a.join(t.sFieldSeperator)),t.bOpenRows&&1===(e=s.grep(h.aoOpenRows,function(t){return t.nParent===l})).length&&(u=this._fnBoundData(s("td",e[0].nTr).html(),t.sFieldBoundary,d),c.push(u))}if(t.bFooter&&null!==h.nTFoot){for(a=[],e=0,n=h.aoColumns.length;e<n;e++)p[e]&&null!==h.aoColumns[e].nTf&&(u=h.aoColumns[e].nTf.innerHTML.replace(/\n/g," ").replace(/<.*?>/g,""),u=this._fnHtmlDecode(u),a.push(this._fnBoundData(u,t.sFieldBoundary,d)));c.push(a.join(t.sFieldSeperator))}return c.join(this._fnNewline(t))},_fnBoundData:function(t,e,n){return""===e?t:e+t.replace(n,e+e)+e},_fnChunkData:function(t,e){for(var n=[],i=t.length,r=0;r<i;r+=e)r+e<i?n.push(t.substring(r,r+e)):n.push(t.substring(r,i));return n},_fnHtmlDecode:function(t){if(-1===t.indexOf("&"))return t;var n=e.createElement("div");return t.replace(/&([^\s]*?);/g,function(t,e){return"#"===t.substr(1,1)?String.fromCharCode(Number(e.substr(1))):(n.innerHTML=t,n.childNodes[0].nodeValue)})},_fnPrintStart:function(n){var i=this,r=this.s.dt;this._fnPrintHideNodes(r.nTable),this.s.print.saveStart=r._iDisplayStart,this.s.print.saveLength=r._iDisplayLength,n.bShowAll&&(r._iDisplayStart=0,r._iDisplayLength=-1,r.oApi._fnCalculateEnd&&r.oApi._fnCalculateEnd(r),r.oApi._fnDraw(r)),""===r.oScroll.sX&&""===r.oScroll.sY||(this._fnPrintScrollStart(r),s(this.s.dt.nTable).bind("draw.DTTT_Print",function(){i._fnPrintScrollStart(r)}));var o,a=r.aanFeatures;for(o in a)if("i"!=o&&"t"!=o&&1==o.length)for(var l=0,c=a[o].length;l<c;l++)this.dom.print.hidden.push({node:a[o][l],display:"block"}),a[o][l].style.display="none";s(e.body).addClass(this.classes.print.body),""!==n.sInfo&&this.fnInfo(n.sInfo,3e3),n.sMessage&&s("<div/>").addClass(this.classes.print.message).html(n.sMessage).prependTo("body"),this.s.print.saveScroll=s(t).scrollTop(),t.scrollTo(0,0),s(e).bind("keydown.DTTT",function(t){27==t.keyCode&&(t.preventDefault(),i._fnPrintEnd.call(i,t))})},_fnPrintEnd:function(){var n=this.s.dt,i=this.s.print;this._fnPrintShowNodes(),""===n.oScroll.sX&&""===n.oScroll.sY||(s(this.s.dt.nTable).unbind("draw.DTTT_Print"),this._fnPrintScrollEnd()),t.scrollTo(0,i.saveScroll),s("div."+this.classes.print.message).remove(),s(e.body).removeClass("DTTT_Print"),n._iDisplayStart=i.saveStart,n._iDisplayLength=i.saveLength,n.oApi._fnCalculateEnd&&n.oApi._fnCalculateEnd(n),n.oApi._fnDraw(n),s(e).unbind("keydown.DTTT")},_fnPrintScrollStart:function(){var t=this.s.dt;t.nScrollHead.getElementsByTagName("div")[0].getElementsByTagName("table");var e,n=t.nTable.parentNode;0<(e=t.nTable.getElementsByTagName("thead")).length&&t.nTable.removeChild(e[0]),null!==t.nTFoot&&0<(e=t.nTable.getElementsByTagName("tfoot")).length&&t.nTable.removeChild(e[0]),e=t.nTHead.cloneNode(!0),t.nTable.insertBefore(e,t.nTable.childNodes[0]),null!==t.nTFoot&&(e=t.nTFoot.cloneNode(!0),t.nTable.insertBefore(e,t.nTable.childNodes[1])),""!==t.oScroll.sX&&(t.nTable.style.width=s(t.nTable).outerWidth()+"px",n.style.width=s(t.nTable).outerWidth()+"px",n.style.overflow="visible"),""!==t.oScroll.sY&&(n.style.height=s(t.nTable).outerHeight()+"px",n.style.overflow="visible")},_fnPrintScrollEnd:function(){var t=this.s.dt,e=t.nTable.parentNode;""!==t.oScroll.sX&&(e.style.width=t.oApi._fnStringToCss(t.oScroll.sX),e.style.overflow="auto"),""!==t.oScroll.sY&&(e.style.height=t.oApi._fnStringToCss(t.oScroll.sY),e.style.overflow="auto")},_fnPrintShowNodes:function(){for(var t=this.dom.print.hidden,e=0,n=t.length;e<n;e++)t[e].node.style.display=t[e].display;t.splice(0,t.length)},_fnPrintHideNodes:function(t){for(var e=this.dom.print.hidden,n=t.parentNode,i=n.childNodes,r=0,o=i.length;r<o;r++)if(i[r]!=t&&1==i[r].nodeType){var a=s(i[r]).css("display");"none"!=a&&(e.push({node:i[r],display:a}),i[r].style.display="none")}"BODY"!=n.nodeName.toUpperCase()&&this._fnPrintHideNodes(n)}},TableTools._aInstances=[],TableTools._aListeners=[],TableTools.fnGetMasters=function(){for(var t=[],e=0,n=TableTools._aInstances.length;e<n;e++)TableTools._aInstances[e].s.master&&t.push(TableTools._aInstances[e]);return t},TableTools.fnGetInstance=function(t){"object"!=typeof t&&(t=e.getElementById(t));for(var n=0,i=TableTools._aInstances.length;n<i;n++)if(TableTools._aInstances[n].s.master&&TableTools._aInstances[n].dom.table==t)return TableTools._aInstances[n];return null},TableTools._fnEventListen=function(t,e,n){TableTools._aListeners.push({that:t,type:e,fn:n})},TableTools._fnEventDispatch=function(t,e,n,i){for(var r=TableTools._aListeners,o=0,s=r.length;o<s;o++)t.dom.table==r[o].that.dom.table&&r[o].type==e&&r[o].fn(n,i)},TableTools.buttonBase={sAction:"text",sTag:"default",sLinerTag:"default",sButtonClass:"DTTT_button_text",sButtonText:"Button text",sTitle:"",sToolTip:"",sCharSet:"utf8",bBomInc:!1,sFileName:"*.csv",sFieldBoundary:"",sFieldSeperator:"\t",sNewLine:"auto",mColumns:"all",bHeader:!0,bFooter:!0,bOpenRows:!1,bSelectedOnly:!1,oSelectorOpts:n,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null},TableTools.BUTTONS={csv:s.extend({},TableTools.buttonBase,{sAction:"flash_save",sButtonClass:"DTTT_button_csv",sButtonText:"CSV",sFieldBoundary:'"',sFieldSeperator:",",fnClick:function(t,e,n){this.fnSetText(n,this.fnGetTableData(e))}}),xls:s.extend({},TableTools.buttonBase,{sAction:"flash_save",sCharSet:"utf16le",bBomInc:!0,sButtonClass:"DTTT_button_xls",sButtonText:"Excel",fnClick:function(t,e,n){this.fnSetText(n,this.fnGetTableData(e))}}),copy:s.extend({},TableTools.buttonBase,{sAction:"flash_copy",sButtonClass:"DTTT_button_copy",sButtonText:"Copy",fnClick:function(t,e,n){this.fnSetText(n,this.fnGetTableData(e))},fnComplete:function(t,e,n,i){t=i.split("\n").length,e.bHeader&&t--,null!==this.s.dt.nTFoot&&e.bFooter&&t--,this.fnInfo("<h6>Table copied</h6><p>Copied "+t+" row"+(1==t?"":"s")+" to the clipboard.</p>",1500)}}),pdf:s.extend({},TableTools.buttonBase,{sAction:"flash_pdf",sNewLine:"\n",sFileName:"*.pdf",sButtonClass:"DTTT_button_pdf",sButtonText:"PDF",sPdfOrientation:"portrait",sPdfSize:"A4",sPdfMessage:"",fnClick:function(t,e,n){this.fnSetText(n,"title:"+this.fnGetTitle(e)+"\nmessage:"+e.sPdfMessage+"\ncolWidth:"+this.fnCalcColRatios(e)+"\norientation:"+e.sPdfOrientation+"\nsize:"+e.sPdfSize+"\n--/TableToolsOpts--\n"+this.fnGetTableData(e))}}),print:s.extend({},TableTools.buttonBase,{sInfo:"<h6>Print view</h6><p>Please use your browser's print function to print this table. Press escape when finished.</p>",sMessage:null,bShowAll:!0,sToolTip:"View print view",sButtonClass:"DTTT_button_print",sButtonText:"Print",fnClick:function(t,e){this.fnPrint(!0,e)}}),text:s.extend({},TableTools.buttonBase),select:s.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(t){0!==this.fnGetSelected().length?s(t).removeClass(this.classes.buttons.disabled):s(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){s(t).addClass(this.classes.buttons.disabled)}}),select_single:s.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(t){1==this.fnGetSelected().length?s(t).removeClass(this.classes.buttons.disabled):s(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){s(t).addClass(this.classes.buttons.disabled)}}),select_all:s.extend({},TableTools.buttonBase,{sButtonText:"Select all",fnClick:function(){this.fnSelectAll()},fnSelect:function(t){this.fnGetSelected().length==this.s.dt.fnRecordsDisplay()?s(t).addClass(this.classes.buttons.disabled):s(t).removeClass(this.classes.buttons.disabled)}}),select_none:s.extend({},TableTools.buttonBase,{sButtonText:"Deselect all",fnClick:function(){this.fnSelectNone()},fnSelect:function(t){0!==this.fnGetSelected().length?s(t).removeClass(this.classes.buttons.disabled):s(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){s(t).addClass(this.classes.buttons.disabled)}}),ajax:s.extend({},TableTools.buttonBase,{sAjaxUrl:"/xhr.php",sButtonText:"Ajax button",fnClick:function(t,e){var n=this.fnGetTableData(e);s.ajax({url:e.sAjaxUrl,data:[{name:"tableData",value:n}],success:e.fnAjaxComplete,dataType:"json",type:"POST",cache:!1,error:function(){alert("Error detected when sending table data to server")}})},fnAjaxComplete:function(){alert("Ajax complete")}}),div:s.extend({},TableTools.buttonBase,{sAction:"div",sTag:"div",sButtonClass:"DTTT_nonbutton",sButtonText:"Text button"}),collection:s.extend({},TableTools.buttonBase,{sAction:"collection",sButtonClass:"DTTT_button_collection",sButtonText:"Collection",fnClick:function(t,e){this._fnCollectionShow(t,e)}})},TableTools.buttons=TableTools.BUTTONS,TableTools.classes={container:"DTTT_container",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"},collection:{container:"DTTT_collection",background:"DTTT_collection_background",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"}},select:{table:"DTTT_selectable",row:"DTTT_selected selected"},print:{body:"DTTT_Print",info:"DTTT_print_info",message:"DTTT_PrintMessage"}},TableTools.classes_themeroller={container:"DTTT_container ui-buttonset ui-buttonset-multi",buttons:{normal:"DTTT_button ui-button ui-state-default"},collection:{container:"DTTT_collection ui-buttonset ui-buttonset-multi"}},TableTools.DEFAULTS={sSwfPath:"../swf/copy_csv_xls_pdf.swf",sRowSelect:"none",sRowSelector:"tr",sSelectedClass:null,fnPreRowSelect:null,fnRowSelected:null,fnRowDeselected:null,aButtons:["copy","csv","xls","pdf","print"],oTags:{container:"div",button:"a",liner:"span",collection:{container:"div",button:"a",liner:"span"}}},TableTools.defaults=TableTools.DEFAULTS,TableTools.prototype.CLASS="TableTools",TableTools.version="2.2.4",s.fn.dataTable.Api&&s.fn.dataTable.Api.register("tabletools()",function(){var t=null;return 0<this.context.length&&(t=TableTools.fnGetInstance(this.context[0].nTable)),t}),"function"==typeof s.fn.dataTable&&"function"==typeof s.fn.dataTableExt.fnVersionCheck&&s.fn.dataTableExt.fnVersionCheck("1.9.0")?s.fn.dataTableExt.aoFeatures.push({fnInit:function(t){var e=t.oInit;return new TableTools(t.oInstance,e?e.tableTools||e.oTableTools||{}:{}).dom.container},cFeature:"T",sFeature:"TableTools"}):alert("Warning: TableTools requires DataTables 1.9.0 or newer - www.datatables.net/download"),s.fn.DataTable.TableTools=TableTools,"function"==typeof i.fn.dataTable&&"function"==typeof i.fn.dataTableExt.fnVersionCheck&&i.fn.dataTableExt.fnVersionCheck("1.9.0")?i.fn.dataTableExt.aoFeatures.push({fnInit:function(t){return t=new TableTools(t.oInstance,void 0!==t.oInit.oTableTools?t.oInit.oTableTools:{}),TableTools._aInstances.push(t),t.dom.container},cFeature:"T",sFeature:"TableTools"}):alert("Warning: TableTools 2 requires DataTables 1.9.0 or newer - www.datatables.net/download"),i.fn.dataTable.TableTools=TableTools,i.fn.DataTable.TableTools=TableTools};"function"==typeof define&&define.amd?define(["jquery","datatables"],i):"object"==typeof exports?i(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.TableTools&&i(jQuery,jQuery.fn.dataTable)}(window,document),function(t,e,n){var i=function(t,n){"use strict";t.extend(!0,n.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),t.extend(n.ext.classes,{sWrapper:"dataTables_wrapper dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),n.ext.renderer.pageButton.bootstrap=function(i,r,o,s,a,l){var c,u,h,d=new n.Api(i),p=i.oClasses,f=i.oLanguage.oPaginate,m=0,g=function(e,n){var r,s,h,v;for(r=0,s=n.length;s>r;r++)if(v=n[r],t.isArray(v))g(e,v);else{switch(c="",u="",v){case"ellipsis":c="&hellip;",u="disabled";break;case"first":c=f.sFirst,u=v+(a>0?"":" disabled");break;case"previous":c='<i class="pg-arrow_left"></i>',u=v+(a>0?"":" disabled");break;case"next":c='<i class="pg-arrow_right"></i>',u=v+(l-1>a?"":" disabled");break;case"last":c=f.sLast,u=v+(l-1>a?"":" disabled");break;default:c=v+1,u=a===v?"active":""}c&&(h=t("<li>",{class:p.sPageButton+" "+u,id:0===o&&"string"==typeof v?i.sTableId+"_"+v:null}).append(t("<a>",{href:"#","aria-controls":i.sTableId,"data-dt-idx":m,tabindex:i.iTabIndex}).html(c)).appendTo(e),i.oApi._fnBindAction(h,{action:v},function(e){e.preventDefault(),t(e.currentTarget).hasClass("disabled")||d.page(e.data.action).draw("page")}),m++)}};try{h=t(r).find(e.activeElement).data("dt-idx")}catch(t){}g(t(r).empty().html('<ul class=""/>').children("ul"),s),h&&t(r).find("[data-dt-idx="+h+"]").focus()},n.TableTools&&(t.extend(!0,n.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info"},select:{row:"active"}}),t.extend(!0,n.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}))};"function"==typeof define&&define.amd?define(["jquery","datatables"],i):"object"==typeof exports?i(require("jquery"),require("datatables")):jQuery&&i(jQuery,jQuery.fn.dataTable)}(window,document),$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper"}),$.fn.dataTableExt.oApi.fnPagingInfo=function(t){return{iStart:t._iDisplayStart,iEnd:t.fnDisplayEnd(),iLength:t._iDisplayLength,iTotal:t.fnRecordsTotal(),iFilteredTotal:t.fnRecordsDisplay(),iPage:-1===t._iDisplayLength?0:Math.ceil(t._iDisplayStart/t._iDisplayLength),iTotalPages:-1===t._iDisplayLength?0:Math.ceil(t.fnRecordsDisplay()/t._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(t,e,n){t.oLanguage.oPaginate;var i=function(e){e.preventDefault(),t.oApi._fnPageChange(t,e.data.action)&&n(t)};$(e).addClass("pagination").append('<ul><li class="prev disabled"><a href="#"><i class="pg-arrow_left"></i></a></li><li class="next disabled"><a href="#"><i class="pg-arrow_right"></i></a></li></ul>');var r=$("a",e);$(r[0]).bind("click.DT",{action:"previous"},i),$(r[1]).bind("click.DT",{action:"next"},i)},fnUpdate:function(t,e){var n,i,r,o,s,a,l=t.oInstance.fnPagingInfo(),c=t.aanFeatures.p,u=Math.floor(2.5);for(l.iTotalPages<5?(s=1,a=l.iTotalPages):l.iPage<=u?(s=1,a=5):l.iPage>=l.iTotalPages-u?(s=l.iTotalPages-5+1,a=l.iTotalPages):a=(s=l.iPage-u+1)+5-1,n=0,i=c.length;n<i;n++){for($("li:gt(0)",c[n]).filter(":not(:last)").remove(),r=s;r<=a;r++)o=r==l.iPage+1?'class="active"':"",$("<li "+o+'><a href="#">'+r+"</a></li>").insertBefore($("li:last",c[n])[0]).bind("click",function(n){n.preventDefault(),t._iDisplayStart=(parseInt($("a",this).text(),10)-1)*l.iLength,e(t)});0===l.iPage?$("li:first",c[n]).addClass("disabled"):$("li:first",c[n]).removeClass("disabled"),l.iPage===l.iTotalPages-1||0===l.iTotalPages?$("li:last",c[n]).addClass("disabled"):$("li:last",c[n]).removeClass("disabled")}}}}),$(".select2-wrapper").length&&$.fn.select2&&$(".select2-wrapper").select2({minimumResultsForSearch:-1}),function(){function t(t,e){if(t!==e){var n=t===t,i=e===e;if(t>e||!n||void 0===t&&i)return 1;if(t<e||!i||void 0===e&&n)return-1}return 0}function e(t,e,n){for(var i=t.length,r=n?i:-1;n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function n(t,e,n){if(e!==e)return d(t,n);n-=1;for(var i=t.length;++n<i;)if(t[n]===e)return n;return-1}function i(t){return"function"==typeof t||!1}function r(t){return"string"==typeof t?t:null==t?"":t+""}function o(t){return t.charCodeAt(0)}function s(t,e){for(var n=-1,i=t.length;++n<i&&-1<e.indexOf(t.charAt(n)););return n}function a(t,e){for(var n=t.length;n--&&-1<e.indexOf(t.charAt(n)););return n}function l(e,n){return t(e.a,n.a)||e.b-n.b}function c(t){return It[t]}function u(t){return Nt[t]}function h(t){return"\\"+Ot[t]}function d(t,e,n){var i=t.length;for(e+=n?0:-1;n?e--:++e<i;){var r=t[e];if(r!==r)return e}return-1}function p(t){return!!t&&"object"==typeof t}function f(t){return 160>=t&&9<=t&&13>=t||32==t||160==t||5760==t||6158==t||8192<=t&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function m(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;)t[n]===e&&(t[n]=H,o[++r]=n);return o}function g(t){for(var e=-1,n=t.length;++e<n&&f(t.charCodeAt(e)););return e}function v(t){for(var e=t.length;e--&&f(t.charCodeAt(e)););return e}function y(t){return Pt[t]}function _(f){function It(t){if(p(t)&&!(po(t)||t instanceof Ot)){if(t instanceof Pt)return t;if(Ri.call(t,"__chain__")&&Ri.call(t,"__wrapped__"))return Dn(t)}return new Pt(t)}function Nt(){}function Pt(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function Ot(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=pr,this.__views__=null}function Yt(){this.__data__={}}function Rt(t){var e=t?t.length:0;for(this.data={hash:ir(null),set:new Ki};e--;)this.push(t[e])}function Ft(t,e){var n=t.data;return("string"==typeof e||Zn(e)?n.set.has(e):n.hash[e])?0:-1}function Ht(t,e){var n=-1,i=t.length;for(e||(e=wi(i));++n<i;)e[n]=t[n];return e}function zt(t,e){for(var n=-1,i=t.length;++n<i&&!1!==e(t[n],n,t););return t}function Wt(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Bt(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[++r]=s)}return o}function Ut(t,e){for(var n=-1,i=t.length,r=wi(i);++n<i;)r[n]=e(t[n],n,t);return r}function qt(t){for(var e=-1,n=t.length,i=dr;++e<n;){var r=t[e];r>i&&(i=r)}return i}function Vt(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function Xt(t,e){return void 0===t?e:t}function Gt(t,e,n,i){return void 0!==t&&Ri.call(i,n)?t:e}function Kt(t,e,n){var i=Co(e);if(!n)return Jt(e,t,i);for(var r=-1,o=i.length;++r<o;){var s=i[r],a=t[s],l=n(a,e[s],s,t,e);(l===l?l===a:a!==a)&&(void 0!==a||s in t)||(t[s]=l)}return t}function Qt(t,e){for(var n=-1,i=t.length,r=_n(i),o=e.length,s=wi(o);++n<o;){var a=e[n];r?(a=parseFloat(a),s[n]=gn(a,i)?t[a]:b):s[n]=t[a]}return s}function Jt(t,e,n){n||(n=e,e={});for(var i=-1,r=n.length;++i<r;){var o=n[i];e[o]=t[o]}return e}function Zt(t,e,n){var i=typeof t;return"function"==i?void 0===e?t:Ie(t,e,n):null==t?vi:"object"==i?me(t):void 0===e?ye(t+""):ge(t+"",e)}function te(t,e,n,i,r,o,s){var a;if(n&&(a=r?n(t,i,r):n(t)),void 0!==a)return a;if(!Zn(t))return t;if(i=po(t)){if(a=pn(t),!e)return Ht(t,a)}else{var l=Hi.call(t),c=l==U;if(l!=V&&l!=z&&(!c||r))return Lt[l]?mn(t,l,e):r?t:{};if(a=fn(c?{}:t),!e)return Jt(t,a,Co(t))}for(o||(o=[]),s||(s=[]),r=o.length;r--;)if(o[r]==t)return s[r];return o.push(t),s.push(a),(i?zt:le)(t,function(i,r){a[r]=te(i,e,n,r,t,o,s)}),a}function ee(t,e,n){if("function"!=typeof t)throw new Li(F);return Qi(function(){t.apply(b,n)},e)}function ne(t,e){var i=t?t.length:0,r=[];if(!i)return r;var o=-1,s=dn(),a=s==n,l=a&&200<=e.length?Mr(e):null,c=e.length;l&&(s=Ft,a=!1,e=l);t:for(;++o<i;)if(l=t[o],a&&l===l){for(var u=c;u--;)if(e[u]===l)continue t;r.push(l)}else 0>s(e,l,0)&&r.push(l);return r}function ie(t,e){var n=!0;return Sr(t,function(t,i,r){return n=!!e(t,i,r)}),n}function re(t,e){var n=[];return Sr(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function oe(t,e,n,i){var r;return n(t,function(t,n,o){return e(t,n,o)?(r=i?n:t,!1):void 0}),r}function se(t,e,n){for(var i=-1,r=t.length,o=-1,s=[];++i<r;){var a=t[i];if(p(a)&&_n(a.length)&&(po(a)||Kn(a))){e&&(a=se(a,e,n));var l=-1,c=a.length;for(s.length+=c;++l<c;)s[++o]=a[l]}else n||(s[++o]=a)}return s}function ae(t,e){Cr(t,e,ai)}function le(t,e){return Cr(t,e,Co)}function ce(t,e){return Tr(t,e,Co)}function ue(t,e){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var s=e[n];mo(t[s])&&(o[++r]=s)}return o}function he(t,e,n,i,r,o){if(t===e)return 0!==t||1/t==1/e;var s=typeof t,a=typeof e;return"function"!=s&&"object"!=s&&"function"!=a&&"object"!=a||null==t||null==e?t!==t&&e!==e:de(t,e,he,n,i,r,o)}function de(t,e,n,i,r,o,s){var a=po(t),l=po(e),c=j,u=j;a||((c=Hi.call(t))==z?c=V:c!=V&&(a=ri(t))),l||((u=Hi.call(e))==z?u=V:u!=V&&ri(e));var h=c==V||r&&c==U,l=u==V||r&&u==U;if((u=c==u)&&!a&&!h)return ln(t,e,c);if(r){if(!(u||h&&l))return!1}else{if(c=h&&Ri.call(t,"__wrapped__"),l=l&&Ri.call(e,"__wrapped__"),c||l)return n(c?t.value():t,l?e.value():e,i,r,o,s);if(!u)return!1}for(o||(o=[]),s||(s=[]),c=o.length;c--;)if(o[c]==t)return s[c]==e;return o.push(t),s.push(e),t=(a?an:cn)(t,e,n,i,r,o,s),o.pop(),s.pop(),t}function pe(t,e,n,i,r){for(var o=-1,s=e.length,a=!r;++o<s;)if(a&&i[o]?n[o]!==t[e[o]]:!(e[o]in t))return!1;for(o=-1;++o<s;){var l=e[o],c=t[l],u=n[o];if(a&&i[o]?l=void 0!==c||l in t:void 0===(l=r?r(c,u,l):b)&&(l=he(u,c,r,!0)),!l)return!1}return!0}function fe(t,e){var n=[];return Sr(t,function(t,i,r){n.push(e(t,i,r))}),n}function me(t){var e=Co(t),n=e.length;if(!n)return gi(!0);if(1==n){var i=e[0],r=t[i];if(bn(r))return function(t){return null!=t&&t[i]===r&&(void 0!==r||i in Tn(t))}}for(var o=wi(n),s=wi(n);n--;)r=t[e[n]],o[n]=r,s[n]=bn(r);return function(t){return null!=t&&pe(Tn(t),e,o,s)}}function ge(t,e){return bn(e)?function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Tn(n))}:function(n){return null!=n&&he(e,n[t],null,!0)}}function ve(t,e,n,i,r){if(!Zn(t))return t;var o=_n(e.length)&&(po(e)||ri(e));return(o?zt:le)(e,function(e,s,a){if(p(e)){i||(i=[]),r||(r=[]);t:{for(var l=r,c=(e=i).length,u=a[s];c--;)if(e[c]==u){t[s]=l[c],s=void 0;break t}c=t[s];var h=void 0===(a=n?n(c,u,s,t,a):b);h&&(a=u,_n(u.length)&&(po(u)||ri(u))?a=po(c)?c:c&&c.length?Ht(c):[]:go(u)||Kn(u)?a=Kn(c)?oi(c):go(c)?c:{}:h=!1),e.push(u),l.push(a),h?t[s]=ve(a,u,n,e,l):(a===a?a!==c:c===c)&&(t[s]=a),s=void 0}return s}l=t[s],(u=void 0===(a=n?n(l,e,s,t,a):b))&&(a=e),!o&&void 0===a||!u&&(a===a?a===l:l!==l)||(t[s]=a)}),t}function ye(t){return function(e){return null==e?b:e[t]}}function _e(t,e){return t+qi(hr()*(e-t+1))}function be(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function we(t,e,n){var i=-1,r=t.length;for(0>(e=null==e?0:+e||0)&&(e=-e>r?0:r+e),0>(n=void 0===n||n>r?r:+n||0)&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0,n=wi(r);++i<r;)n[i]=t[i+e];return n}function xe(t,e){var n;return Sr(t,function(t,i,r){return!(n=e(t,i,r))}),!!n}function Se(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].c;return t}function ke(e,n,i){var r=-1,o=e.length,s=_n(o)?wi(o):[];return Sr(e,function(t){for(var e=n.length,i=wi(e);e--;)i[e]=null==t?b:t[n[e]];s[++r]={a:i,b:r,c:t}}),Se(s,function(e,n){var r;t:{r=-1;for(var o=e.a,s=n.a,a=o.length,l=i.length;++r<a;){var c=t(o[r],s[r]);if(c){r=r<l?c*(i[r]?1:-1):c;break t}}r=e.b-n.b}return r})}function Ce(t,e){var n=0;return Sr(t,function(t,i,r){n+=+e(t,i,r)||0}),n}function Te(t,e){var i=-1,r=dn(),o=t.length,s=r==n,a=s&&200<=o,l=a?Mr():null,c=[];l?(r=Ft,s=!1):(a=!1,l=e?[]:c);t:for(;++i<o;){var u=t[i],h=e?e(u,i,t):u;if(s&&u===u){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),c.push(u)}else 0>r(l,h,0)&&((e||a)&&l.push(h),c.push(u))}return c}function De(t,e){for(var n=-1,i=e.length,r=wi(i);++n<i;)r[n]=t[e[n]];return r}function Me(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?we(t,i?0:o,i?o+1:r):we(t,i?o+1:0,i?r:o)}function Ee(t,e){(r=t)instanceof Ot&&(r=r.value());for(var n=-1,i=e.length;++n<i;){var r=[r],o=e[n];Xi.apply(r,o.args),r=o.func.apply(o.thisArg,r)}return r}function Le(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e===e&&r<=gr){for(;i<r;){var o=i+r>>>1,s=t[o];(n?s<=e:s<e)?i=o+1:r=o}return r}return Ae(t,e,vi,n)}function Ae(t,e,n,i){e=n(e);for(var r=0,o=t?t.length:0,s=e!==e,a=void 0===e;r<o;){var l=qi((r+o)/2),c=n(t[l]),u=c===c;(s?u||i:a?u&&(i||void 0!==c):i?c<=e:c<e)?r=l+1:o=l}return ar(o,mr)}function Ie(t,e,n){if("function"!=typeof t)return vi;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)};case 5:return function(n,i,r,o,s){return t.call(e,n,i,r,o,s)}}return function(){return t.apply(e,arguments)}}function Ne(t){return Wi.call(t,0)}function Pe(t,e,n){for(var i=n.length,r=-1,o=sr(t.length-i,0),s=-1,a=e.length,l=wi(o+a);++s<a;)l[s]=e[s];for(;++r<i;)l[n[r]]=t[r];for(;o--;)l[s++]=t[r++];return l}function Oe(t,e,n){for(var i=-1,r=n.length,o=-1,s=sr(t.length-r,0),a=-1,l=e.length,c=wi(s+l);++o<s;)c[o]=t[o];for(s=o;++a<l;)c[s+a]=e[a];for(;++i<r;)c[s+n[i]]=t[o++];return c}function Ye(t,e){return function(n,i,r){var o=e?e():{};if(i=hn(i,r,3),po(n)){r=-1;for(var s=n.length;++r<s;){var a=n[r];t(o,a,i(a,r,n),n)}}else Sr(n,function(e,n,r){t(o,e,i(e,n,r),r)});return o}}function Re(t){return function(){var e=arguments,n=e.length,i=e[0];if(2>n||null==i)return i;var r=e[n-2],o=e[n-1],s=e[3];for(3<n&&"function"==typeof r?(r=Ie(r,o,5),n-=2):(r=2<n&&"function"==typeof o?o:null,n-=r?1:0),s&&vn(e[1],e[2],s)&&(r=3==n?null:r,n=2),o=0;++o<n;)(s=e[o])&&t(i,s,r);return i}}function Fe(t,e){return function(n,i){var r=n?n.length:0;if(!_n(r))return t(n,i);for(var o=e?r:-1,s=Tn(n);(e?o--:++o<r)&&!1!==i(s[o],o,s););return n}}function He(t){return function(e,n,i){for(var r=Tn(e),o=(i=i(e)).length,s=t?o:-1;t?s--:++s<o;){var a=i[s];if(!1===n(r[a],a,r))break}return e}}function ze(t,e){function n(){return(this&&this!==jt&&this instanceof n?i:t).apply(e,arguments)}var i=$e(t);return n}function je(t){return function(e){for(var n=-1,i=(e=fi(ci(e))).length,r="";++n<i;)r=t(r,e[n],n);return r}}function $e(t){return function(){var e=xr(t.prototype),n=t.apply(e,arguments);return Zn(n)?n:e}}function We(t){function e(n,i,r){return r&&vn(n,i,r)&&(i=null),n=sn(n,t,null,null,null,null,null,i),n.placeholder=e.placeholder,n}return e}function Be(t,e){return function(n,i,r){r&&vn(n,i,r)&&(i=null);var s=hn(),a=null==i;if(s===Zt&&a||(a=!1,i=s(i,r,3)),a){if((i=po(n))||!ii(n))return t(i?n:Cn(n));i=o}return un(n,i,e)}}function Ue(t,n){return function(i,r,o){return r=hn(r,o,3),po(i)?-1<(r=e(i,r,n))?i[r]:b:oe(i,r,t)}}function qe(t){return function(n,i,r){return n&&n.length?(i=hn(i,r,3),e(n,i,t)):-1}}function Ve(t){return function(e,n,i){return n=hn(n,i,3),oe(e,n,t,!0)}}function Xe(t){return function(){var e=arguments.length;if(!e)return function(){return arguments[0]};for(var n,i=t?e:-1,r=0,o=wi(e);t?i--:++i<e;){var s=o[r++]=arguments[i];if("function"!=typeof s)throw new Li(F);var a=n?"":Lr(s);n="wrapper"==a?new Pt([]):n}for(i=n?-1:e;++i<e;)s=o[i],a=Lr(s),n=(r="wrapper"==a?Er(s):null)&&yn(r[0])?n[Lr(r[0])].apply(n,r[3]):1==s.length&&yn(s)?n[a]():n.thru(s);return function(){i=arguments;if(n&&1==i.length&&po(i[0]))return n.plant(i[0]).value();for(var t=0,i=o[t].apply(this,i);++t<e;)i=o[t].call(this,i);return i}}}function Ge(t,e){return function(n,i,r){return"function"==typeof i&&void 0===r&&po(n)?t(n,i):e(n,Ie(i,r,3))}}function Ke(t){return function(e,n,i){return("function"!=typeof n||void 0!==i)&&(n=Ie(n,i,3)),t(e,n,ai)}}function Qe(t){return function(e,n,i){return("function"!=typeof n||void 0!==i)&&(n=Ie(n,i,3)),t(e,n)}}function Je(t){return function(e,n,i){return(e=r(e))&&(t?e:"")+nn(e,n,i)+(t?"":e)}}function Ze(t){var e=Gn(function(n,i){var r=m(i,e.placeholder);return sn(n,t,null,i,r)});return e}function tn(t,e){return function(n,i,r,o){var s=3>arguments.length;return"function"==typeof i&&void 0===o&&po(n)?t(n,i,r,s):be(n,hn(i,o,4),r,s,e)}}function en(t,e,n,i,r,o,s,a,l,c){function u(){for(var w=T=arguments.length,k=wi(T);w--;)k[w]=arguments[w];if(i&&(k=Pe(k,i,r)),o&&(k=Oe(k,o,s)),(f||v)&&(T=T-(L=m(k,w=u.placeholder)).length)<c){var C=a?Ht(a):null,T=sr(c-T,0),E=f?L:null,L=f?null:L,A=f?k:null,k=f?null:k;return e|=f?D:M,e&=~(f?M:D),g||(e&=~(x|S)),k=[t,e,n,A,E,k,L,C,l,T],C=en.apply(b,k),yn(t)&&Ar(C,k),C.placeholder=w,C}if(w=d?n:this,p&&(t=w[_]),a)for(C=k.length,T=ar(a.length,C),E=Ht(k);T--;)L=a[T],k[T]=gn(L,C)?E[L]:b;return h&&l<k.length&&(k.length=l),(this&&this!==jt&&this instanceof u?y||$e(t):t).apply(w,k)}var h=e&E,d=e&x,p=e&S,f=e&C,g=e&k,v=e&T,y=!p&&$e(t),_=t;return u}function nn(t,e,n){return t=t.length,e=+e,t<e&&rr(e)?(e-=t,n=null==n?" ":n+"",di(n,Bi(e/n.length)).slice(0,e)):""}function rn(t,e,n,i){function r(){for(var e=-1,a=arguments.length,l=-1,c=i.length,u=wi(a+c);++l<c;)u[l]=i[l];for(;a--;)u[l++]=arguments[++e];return(this&&this!==jt&&this instanceof r?s:t).apply(o?n:this,u)}var o=e&x,s=$e(t);return r}function on(t){return function(e,n,i,r){var o=hn(i);return o===Zt&&null==i?Le(e,n,t):Ae(e,n,o(i,r,1),t)}}function sn(t,e,n,i,r,o,s,a){var l=e&S;if(!l&&"function"!=typeof t)throw new Li(F);var c=i?i.length:0;if(c||(e&=~(D|M),i=r=null),c-=r?r.length:0,e&M){var u=i,h=r;i=r=null}var d=l?null:Er(t);return n=[t,e,n,i,r,u,h,o,s,a],d&&(i=n[1],e=d[1],a=i|e,r=e==E&&i==C||e==E&&i==L&&n[7].length<=d[8]||e==(E|L)&&i==C,(a<E||r)&&(e&x&&(n[2]=d[2],a|=i&x?0:k),(i=d[3])&&(r=n[3],n[3]=r?Pe(r,i,d[4]):Ht(i),n[4]=r?m(n[3],H):Ht(d[4])),(i=d[5])&&(r=n[5],n[5]=r?Oe(r,i,d[6]):Ht(i),n[6]=r?m(n[5],H):Ht(d[6])),(i=d[7])&&(n[7]=Ht(i)),e&E&&(n[8]=null==n[8]?d[8]:ar(n[8],d[8])),null==n[9]&&(n[9]=d[9]),n[0]=d[0],n[1]=a),e=n[1],a=n[9]),n[9]=null==a?l?0:t.length:sr(a-c,0)||0,(d?Dr:Ar)(e==x?ze(n[0],n[2]):e!=D&&e!=(x|D)||n[4].length?en.apply(b,n):rn.apply(b,n),n)}function an(t,e,n,i,r,o,s){var a=-1,l=t.length,c=e.length,u=!0;if(l!=c&&(!r||c<=l))return!1;for(;u&&++a<l;){var h=t[a],d=e[a],u=b;if(i&&(u=r?i(d,h,a):i(h,d,a)),void 0===u)if(r)for(var p=c;p--&&(d=e[p],!(u=h&&h===d||n(h,d,i,r,o,s))););else u=h&&h===d||n(h,d,i,r,o,s)}return!!u}function ln(t,e,n){switch(n){case $:case W:return+t==+e;case B:return t.name==e.name&&t.message==e.message;case q:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case X:case G:return t==e+""}return!1}function cn(t,e,n,i,r,o,s){var a=Co(t),l=a.length;if(l!=(c=Co(e).length)&&!r)return!1;for(var c=r,u=-1;++u<l;){var h=a[u];if(f=r?h in e:Ri.call(e,h)){var d=t[h],p=e[h],f=b;i&&(f=r?i(p,d,h):i(d,p,h)),void 0===f&&(f=d&&d===p||n(d,p,i,r,o,s))}if(!f)return!1;c||(c="constructor"==h)}return!(!c&&(n=t.constructor,i=e.constructor,n!=i&&"constructor"in t&&"constructor"in e&&!("function"==typeof n&&n instanceof n&&"function"==typeof i&&i instanceof i)))}function un(t,e,n){var i=n?pr:dr,r=i,o=r;return Sr(t,function(t,s,a){s=e(t,s,a),((n?s<r:s>r)||s===i&&s===o)&&(r=s,o=t)}),o}function hn(t,e,n){var i=(i=It.callback||mi)===mi?Zt:i;return n?i(t,e,n):i}function dn(t,e,i){var r=(r=It.indexOf||An)===An?n:r;return t?r(t,e,i):r}function pn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ri.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function fn(t){return"function"==typeof(t=t.constructor)&&t instanceof t||(t=Di),new t}function mn(t,e,n){var i=t.constructor;switch(e){case K:return Ne(t);case $:case W:return new i(+t);case Q:case J:case Z:case tt:case et:case nt:case it:case rt:case ot:return e=t.buffer,new i(n?Ne(e):e,t.byteOffset,t.length);case q:case G:return new i(t);case X:var r=new i(t.source,yt.exec(t));r.lastIndex=t.lastIndex}return r}function gn(t,e){return t=+t,e=null==e?yr:e,-1<t&&0==t%1&&t<e}function vn(t,e,n){if(!Zn(n))return!1;var i=typeof e;return"number"==i?(i=n.length,i=_n(i)&&gn(e,i)):i="string"==i&&e in n,!!i&&(e=n[e],t===t?t===e:e!==e)}function yn(t){var e=Lr(t);return!!e&&t===It[e]&&e in Ot.prototype}function _n(t){return"number"==typeof t&&-1<t&&0==t%1&&t<=yr}function bn(t){return t===t&&(0===t?0<1/t:!Zn(t))}function wn(t,e){t=Tn(t);for(var n=-1,i=e.length,r={};++n<i;){var o=e[n];o in t&&(r[o]=t[o])}return r}function xn(t,e){var n={};return ae(t,function(t,i,r){e(t,i,r)&&(n[i]=t)}),n}function Sn(t){var e;if(!p(t)||Hi.call(t)!=V||!(Ri.call(t,"constructor")||"function"!=typeof(e=t.constructor)||e instanceof e))return!1;var n;return ae(t,function(t,e){n=e}),void 0===n||Ri.call(t,n)}function kn(t){for(var e=ai(t),n=e.length,i=n&&t.length,r=It.support,r=i&&_n(i)&&(po(t)||r.nonEnumArgs&&Kn(t)),o=-1,s=[];++o<n;){var a=e[o];(r&&gn(a,i)||Ri.call(t,a))&&s.push(a)}return s}function Cn(t){return null==t?[]:_n(t.length)?Zn(t)?t:Di(t):li(t)}function Tn(t){return Zn(t)?t:Di(t)}function Dn(t){return t instanceof Ot?t.clone():new Pt(t.__wrapped__,t.__chain__,Ht(t.__actions__))}function Mn(t,e,n){return t&&t.length?((n?vn(t,e,n):null==e)&&(e=1),we(t,0>e?0:e)):[]}function En(t,e,n){var i=t?t.length:0;return i?((n?vn(t,e,n):null==e)&&(e=1),e=i-(+e||0),we(t,0,0>e?0:e)):[]}function Ln(t){return t?t[0]:b}function An(t,e,i){var r=t?t.length:0;if(!r)return-1;if("number"==typeof i)i=0>i?sr(r+i,0):i;else if(i)return i=Le(t,e),t=t[i],(e===e?e===t:t!==t)?i:-1;return n(t,e,i||0)}function In(t){var e=t?t.length:0;return e?t[e-1]:b}function Nn(t){return Mn(t,1)}function Pn(t,e,i,r){if(!t||!t.length)return[];if(null!=e&&"boolean"!=typeof e&&(r=i,i=vn(t,e,r)?null:e,e=!1),((s=hn())!==Zt||null!=i)&&(i=s(i,r,3)),e&&dn()==n){e=i;var o;i=-1,r=t.length;for(var s=-1,a=[];++i<r;){var l=t[i],c=e?e(l,i,t):l;i&&o===c||(o=c,a[++s]=l)}t=a}else t=Te(t,i);return t}function On(t){for(var e=-1,n=(t&&t.length&&qt(Ut(t,Yi)))>>>0,i=wi(n);++e<n;)i[e]=Ut(t,ye(e));return i}function Yn(t,e){var n=-1,i=t?t.length:0,r={};for(!i||e||po(t[0])||(e=[]);++n<i;){var o=t[n];e?r[o]=e[n]:o&&(r[o[0]]=o[1])}return r}function Rn(t){return t=It(t),t.__chain__=!0,t}function Fn(t,e,n){return e.call(n,t)}function Hn(t,e,n){var i=po(t)?Wt:ie;return n&&vn(t,e,n)&&(e=null),("function"!=typeof e||void 0!==n)&&(e=hn(e,n,3)),i(t,e)}function zn(t,e,n){var i=po(t)?Bt:re;return e=hn(e,n,3),i(t,e)}function jn(t,e,n,i){var r=t?t.length:0;return _n(r)||(t=li(t),r=t.length),!!r&&(n="number"!=typeof n||i&&vn(e,n,i)?0:0>n?sr(r+n,0):n||0,"string"==typeof t||!po(t)&&ii(t)?n<r&&-1<t.indexOf(e,n):-1<dn(t,e,n))}function $n(t,e,n){var i=po(t)?Ut:fe;return e=hn(e,n,3),i(t,e)}function Wn(t,e,n){return(n?vn(t,e,n):null==e)?(t=Cn(t),0<(e=t.length)?t[_e(0,e-1)]:b):(t=Bn(t),t.length=ar(0>e?0:+e||0,t.length),t)}function Bn(t){for(var e=-1,n=(t=Cn(t)).length,i=wi(n);++e<n;){var r=_e(0,e);e!=r&&(i[e]=i[r]),i[r]=t[e]}return i}function Un(t,e,n){var i=po(t)?Vt:xe;return n&&vn(t,e,n)&&(e=null),("function"!=typeof e||void 0!==n)&&(e=hn(e,n,3)),i(t,e)}function qn(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Li(F);var i=t;t=e,e=i}return function(){return 0<--t?n=e.apply(this,arguments):e=null,n}}function Vn(t,e,n){function i(){var n=e-(Zr()-c);0>=n||n>e?(a&&Ui(a),n=d,a=h=d=b,n&&(p=Zr(),l=t.apply(u,s),h||a||(s=u=null))):h=Qi(i,n)}function r(){h&&Ui(h),a=h=d=b,(m||f!==e)&&(p=Zr(),l=t.apply(u,s),h||a||(s=u=null))}function o(){if(s=arguments,c=Zr(),u=this,d=m&&(h||!g),!1===f)var n=g&&!h;else{a||g||(p=c);var o=f-(c-p),v=0>=o||o>f;v?(a&&(a=Ui(a)),p=c,l=t.apply(u,s)):a||(a=Qi(r,o))}return v&&h?h=Ui(h):h||e===f||(h=Qi(i,e)),n&&(v=!0,l=t.apply(u,s)),!v||h||a||(s=u=null),l}var s,a,l,c,u,h,d,p=0,f=!1,m=!0;if("function"!=typeof t)throw new Li(F);if(e=0>e?0:+e||0,!0===n)var g=!0,m=!1;else Zn(n)&&(g=n.leading,f="maxWait"in n&&sr(+n.maxWait||0,e),m="trailing"in n?n.trailing:m);return o.cancel=function(){h&&Ui(h),a&&Ui(a),a=h=d=b},o}function Xn(t,e){function n(){var i=arguments,r=n.cache,o=e?e.apply(this,i):i[0];return r.has(o)?r.get(o):(i=t.apply(this,i),r.set(o,i),i)}if("function"!=typeof t||e&&"function"!=typeof e)throw new Li(F);return n.cache=new Xn.Cache,n}function Gn(t,e){if("function"!=typeof t)throw new Li(F);return e=sr(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,r=sr(n.length-e,0),o=wi(r);++i<r;)o[i]=n[e+i];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}for(r=wi(e+1),i=-1;++i<e;)r[i]=n[i];return r[e]=o,t.apply(this,r)}}function Kn(t){return _n(p(t)?t.length:b)&&Hi.call(t)==z}function Qn(t){return!!t&&1===t.nodeType&&p(t)&&-1<Hi.call(t).indexOf("Element")}function Jn(t){return p(t)&&"string"==typeof t.message&&Hi.call(t)==B}function Zn(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function ti(t){return null!=t&&(Hi.call(t)==U?ji.test(Oi.call(t)):p(t)&&bt.test(t))}function ei(t){return"number"==typeof t||p(t)&&Hi.call(t)==q}function ni(t){return p(t)&&Hi.call(t)==X||!1}function ii(t){return"string"==typeof t||p(t)&&Hi.call(t)==G}function ri(t){return p(t)&&_n(t.length)&&!!Et[Hi.call(t)]}function oi(t){return Jt(t,ai(t))}function si(t){return ue(t,ai(t))}function ai(t){if(null==t)return[];Zn(t)||(t=Di(t));for(var e=(e=t.length)&&_n(e)&&(po(t)||wr.nonEnumArgs&&Kn(t))&&e||0,n=-1,i="function"==typeof(i=t.constructor)&&i.prototype===t,r=wi(e),o=0<e;++n<e;)r[n]=n+"";for(var s in t)o&&gn(s,e)||"constructor"==s&&(i||!Ri.call(t,s))||r.push(s);return r}function li(t){return De(t,Co(t))}function ci(t){return(t=r(t))&&t.replace(wt,c).replace(gt,"")}function ui(t){return(t=r(t))&&kt.test(t)?t.replace(St,"\\$&"):t}function hi(t,e,n){return n&&vn(t,e,n)&&(e=0),ur(t,e)}function di(t,e){var n="";if(t=r(t),1>(e=+e)||!t||!rr(e))return n;do{e%2&&(n+=t),e=qi(e/2),t+=t}while(e);return n}function pi(t,e,n){var i=t;return(t=r(t))?(n?vn(i,e,n):null==e)?t.slice(g(t),v(t)+1):(e+="",t.slice(s(t,e),a(t,e)+1)):t}function fi(t,e,n){return n&&vn(t,e,n)&&(e=null),(t=r(t)).match(e||Tt)||[]}function mi(t,e,n){return n&&vn(t,e,n)&&(e=null),p(t)?yi(t):Zt(t,e)}function gi(t){return function(){return t}}function vi(t){return t}function yi(t){return me(te(t,!0))}function _i(t,e,n){if(null==n){var i=(o=Zn(e))&&Co(e);((i=i&&i.length&&ue(e,i))?i.length:o)||(i=!1,n=e,e=t,t=this)}i||(i=ue(e,Co(e)));var r=!0,o=-1,s=mo(t),a=i.length;!1===n?r=!1:Zn(n)&&"chain"in n&&(r=n.chain);for(;++o<a;){var l=e[n=i[o]];t[n]=l,s&&(t.prototype[n]=function(e){return function(){var n=this.__chain__;if(r||n){var i=t(this.__wrapped__);return(i.__actions__=Ht(this.__actions__)).push({func:e,args:arguments,thisArg:t}),i.__chain__=n,i}return n=[this.value()],Xi.apply(n,arguments),e.apply(t,n)}}(l))}return t}function bi(){}var wi=(f=f?$t.defaults(jt.Object(),f,$t.pick(jt,Mt)):jt).Array,xi=f.Date,Si=f.Error,ki=f.Function,Ci=f.Math,Ti=f.Number,Di=f.Object,Mi=f.RegExp,Ei=f.String,Li=f.TypeError,Ai=wi.prototype,Ii=Di.prototype,Ni=Ei.prototype,Pi=(Pi=f.window)&&Pi.document,Oi=ki.prototype.toString,Yi=ye("length"),Ri=Ii.hasOwnProperty,Fi=0,Hi=Ii.toString,zi=f._,ji=Mi("^"+ui(Hi).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$i=ti($i=f.ArrayBuffer)&&$i,Wi=ti(Wi=$i&&new $i(0).slice)&&Wi,Bi=Ci.ceil,Ui=f.clearTimeout,qi=Ci.floor,Vi=ti(Vi=Di.getPrototypeOf)&&Vi,Xi=Ai.push,Gi=Ii.propertyIsEnumerable,Ki=ti(Ki=f.Set)&&Ki,Qi=f.setTimeout,Ji=Ai.splice,Zi=ti(Zi=f.Uint8Array)&&Zi,tr=ti(tr=f.WeakMap)&&tr,er=function(){try{var t=ti(t=f.Float64Array)&&t,e=new t(new $i(10),0,1)&&t}catch(t){}return e}(),nr=ti(nr=wi.isArray)&&nr,ir=ti(ir=Di.create)&&ir,rr=f.isFinite,or=ti(or=Di.keys)&&or,sr=Ci.max,ar=Ci.min,lr=ti(lr=xi.now)&&lr,cr=ti(cr=Ti.isFinite)&&cr,ur=f.parseInt,hr=Ci.random,dr=Ti.NEGATIVE_INFINITY,pr=Ti.POSITIVE_INFINITY,fr=Ci.pow(2,32)-1,mr=fr-1,gr=fr>>>1,vr=er?er.BYTES_PER_ELEMENT:0,yr=Ci.pow(2,53)-1,_r=tr&&new tr,br={},wr=It.support={};!function(t){wr.funcDecomp=/\bthis\b/.test(function(){return this}),wr.funcNames="string"==typeof ki.name;try{wr.dom=11===Pi.createDocumentFragment().nodeType}catch(t){wr.dom=!1}try{wr.nonEnumArgs=!Gi.call(arguments,1)}catch(t){wr.nonEnumArgs=!0}}(0,0),It.templateSettings={escape:pt,evaluate:ft,interpolate:mt,variable:"",imports:{_:It}};var xr=function(){function t(){}return function(e){if(Zn(e)){t.prototype=e;var n=new t;t.prototype=null}return n||f.Object()}}(),Sr=Fe(le),kr=Fe(ce,!0),Cr=He(),Tr=He(!0),Dr=_r?function(t,e){return _r.set(t,e),t}:vi;Wi||(Ne=$i&&Zi?function(t){var e=t.byteLength,n=er?qi(e/vr):0,i=n*vr,r=new $i(e);if(n){var o=new er(r,0,n);o.set(new er(t,0,n))}return e!=i&&(o=new Zi(r,i)).set(new Zi(t,i)),r}:gi(null));var Mr=ir&&Ki?function(t){return new Rt(t)}:gi(null),Er=_r?function(t){return _r.get(t)}:bi,Lr=wr.funcNames?"constant"==gi.name?ye("name"):function(t){for(var e=t.name,n=br[e],i=n?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}:gi(""),Ar=function(){var t=0,e=0;return function(n,i){var r=Zr(),o=P-(r-e);if(e=r,0<o){if(++t>=N)return n}else t=0;return Dr(n,i)}}(),Ir=Gn(function(t,e){return po(t)||Kn(t)?ne(t,se(e,!1,!0)):[]}),Nr=qe(),Pr=qe(!0),Or=Gn(function(e,n){e||(e=[]);var i=(n=se(n)).length,r=Qt(e,n);for(n.sort(t);i--;){var o=parseFloat(n[i]);if(o!=s&&gn(o)){var s=o;Ji.call(e,o,1)}}return r}),Yr=on(),Rr=on(!0),Fr=Gn(function(t){return Te(se(t,!1,!0))}),Hr=Gn(function(t,e){return po(t)||Kn(t)?ne(t,e):[]}),zr=Gn(On),jr=Gn(function(t,e){return _n(t?t.length:0)&&(t=Cn(t)),Qt(t,se(e))}),$r=Ye(function(t,e,n){Ri.call(t,n)?++t[n]:t[n]=1}),Wr=Ue(Sr),Br=Ue(kr,!0),Ur=Ge(zt,Sr),qr=Ge(function(t,e){for(var n=t.length;n--&&!1!==e(t[n],n,t););return t},kr),Vr=Ye(function(t,e,n){Ri.call(t,n)?t[n].push(e):t[n]=[e]}),Xr=Ye(function(t,e,n){t[n]=e}),Gr=Gn(function(t,e,n){var i=-1,r="function"==typeof e,o=t?t.length:0,s=_n(o)?wi(o):[];return Sr(t,function(t){var o=r?e:null!=t&&t[e];s[++i]=o?o.apply(t,n):b}),s}),Kr=Ye(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Qr=tn(function(t,e,n,i){var r=-1,o=t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n},Sr),Jr=tn(function(t,e,n,i){var r=t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n},kr),Zr=lr||function(){return(new xi).getTime()},to=Gn(function(t,e,n){r=x;if(n.length)var i=m(n,to.placeholder),r=r|D;return sn(t,r,e,n,i)}),eo=Gn(function(t,e){for(var n=-1,i=(e=e.length?se(e):si(t)).length;++n<i;){var r=e[n];t[r]=sn(t[r],x,t)}return t}),no=Gn(function(t,e,n){r=x|S;if(n.length)var i=m(n,no.placeholder),r=r|D;return sn(e,r,t,n,i)}),io=We(C),ro=We(T),oo=Gn(function(t,e){return ee(t,1,e)}),so=Gn(function(t,e,n){return ee(t,e,n)}),ao=Xe(),lo=Xe(!0),co=Ze(D),uo=Ze(M),ho=Gn(function(t,e){return sn(t,L,null,null,null,se(e))}),po=nr||function(t){return p(t)&&_n(t.length)&&Hi.call(t)==j};wr.dom||(Qn=function(t){return!!t&&1===t.nodeType&&p(t)&&!go(t)});var fo=cr||function(t){return"number"==typeof t&&rr(t)},mo=i(/x/)||Zi&&!i(Zi)?function(t){return Hi.call(t)==U}:i,go=Vi?function(t){if(!t||Hi.call(t)!=V)return!1;var e=t.valueOf,n=ti(e)&&(n=Vi(e))&&Vi(n);return n?t==n||Vi(t)==n:Sn(t)}:Sn,vo=Re(Kt),yo=Gn(function(t){var e=t[0];return null==e?e:(t.push(Xt),vo.apply(b,t))}),_o=Ve(le),bo=Ve(ce),wo=Ke(Cr),xo=Ke(Tr),So=Qe(le),ko=Qe(ce),Co=or?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&n&&_n(n)?kn(t):Zn(t)?or(t):[]}:kn,To=Re(ve),Do=Gn(function(t,e){if(null==t)return{};if("function"!=typeof e[0])return e=Ut(se(e),Ei),wn(t,ne(ai(t),e));var n=Ie(e[0],e[1],3);return xn(t,function(t,e,i){return!n(t,e,i)})}),Mo=Gn(function(t,e){return null==t?{}:"function"==typeof e[0]?xn(t,Ie(e[0],e[1],3)):wn(t,se(e))}),Eo=je(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Lo=je(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ao=Je(),Io=Je(!0);8!=ur(Dt+"08")&&(hi=function(t,e,n){return(n?vn(t,e,n):null==e)?e=0:e&&(e=+e),t=pi(t),ur(t,e||(_t.test(t)?16:10))});var No=je(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Po=je(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Oo=Gn(function(t,e){try{return t.apply(b,e)}catch(t){return Jn(t)?t:new Si(t)}}),Yo=Be(qt),Ro=Be(function(t){for(var e=-1,n=t.length,i=pr;++e<n;){var r=t[e];r<i&&(i=r)}return i},!0);return It.prototype=Nt.prototype,Pt.prototype=xr(Nt.prototype),Pt.prototype.constructor=Pt,Ot.prototype=xr(Nt.prototype),Ot.prototype.constructor=Ot,Yt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Yt.prototype.get=function(t){return"__proto__"==t?b:this.__data__[t]},Yt.prototype.has=function(t){return"__proto__"!=t&&Ri.call(this.__data__,t)},Yt.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},Rt.prototype.push=function(t){var e=this.data;"string"==typeof t||Zn(t)?e.set.add(t):e.hash[t]=!0},Xn.Cache=Yt,It.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Li(F);var n=t;t=e,e=n}return t=rr(t=+t)?t:0,function(){return 1>--t?e.apply(this,arguments):void 0}},It.ary=function(t,e,n){return n&&vn(t,e,n)&&(e=null),e=t&&null==e?t.length:sr(+e||0,0),sn(t,E,null,null,null,null,e)},It.assign=vo,It.at=jr,It.before=qn,It.bind=to,It.bindAll=eo,It.bindKey=no,It.callback=mi,It.chain=Rn,It.chunk=function(t,e,n){e=(n?vn(t,e,n):null==e)?1:sr(+e||1,1),n=0;for(var i=t?t.length:0,r=-1,o=wi(Bi(i/e));n<i;)o[++r]=we(t,n,n+=e);return o},It.compact=function(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var o=t[e];o&&(r[++i]=o)}return r},It.constant=gi,It.countBy=$r,It.create=function(t,e,n){var i=xr(t);return n&&vn(t,e,n)&&(e=null),e?Jt(e,i,Co(e)):i},It.curry=io,It.curryRight=ro,It.debounce=Vn,It.defaults=yo,It.defer=oo,It.delay=so,It.difference=Ir,It.drop=Mn,It.dropRight=En,It.dropRightWhile=function(t,e,n){return t&&t.length?Me(t,hn(e,n,3),!0,!0):[]},It.dropWhile=function(t,e,n){return t&&t.length?Me(t,hn(e,n,3),!0):[]},It.fill=function(t,e,n,i){var r=t?t.length:0;if(!r)return[];for(n&&"number"!=typeof n&&vn(t,e,n)&&(n=0,i=r),r=t.length,0>(n=null==n?0:+n||0)&&(n=-n>r?0:r+n),0>(i=void 0===i||i>r?r:+i||0)&&(i+=r),r=n>i?0:i>>>0,n>>>=0;n<r;)t[n++]=e;return t},It.filter=zn,It.flatten=function(t,e,n){var i=t?t.length:0;return n&&vn(t,e,n)&&(e=!1),i?se(t,e):[]},It.flattenDeep=function(t){return t&&t.length?se(t,!0):[]},It.flow=ao,It.flowRight=lo,It.forEach=Ur,It.forEachRight=qr,It.forIn=wo,It.forInRight=xo,It.forOwn=So,It.forOwnRight=ko,It.functions=si,It.groupBy=Vr,It.indexBy=Xr,It.initial=function(t){return En(t,1)},It.intersection=function(){for(var t=[],e=-1,i=arguments.length,r=[],o=dn(),s=o==n;++e<i;){var a=arguments[e];(po(a)||Kn(a))&&(t.push(a),r.push(s&&120<=a.length?Mr(e&&a):null))}var i=t.length,l=-1,c=(s=t[0])?s.length:0,u=[],h=r[0];t:for(;++l<c;)if(a=s[l],0>(h?Ft(h,a):o(u,a,0))){for(e=i;--e;){var d=r[e];if(0>(d?Ft(d,a):o(t[e],a,0)))continue t}h&&h.push(a),u.push(a)}return u},It.invert=function(t,e,n){n&&vn(t,e,n)&&(e=null),n=-1;for(var i=Co(t),r=i.length,o={};++n<r;){var s=i[n],a=t[s];e?Ri.call(o,a)?o[a].push(s):o[a]=[s]:o[a]=s}return o},It.invoke=Gr,It.keys=Co,It.keysIn=ai,It.map=$n,It.mapValues=function(t,e,n){var i={};return e=hn(e,n,3),le(t,function(t,n,r){i[n]=e(t,n,r)}),i},It.matches=yi,It.matchesProperty=function(t,e){return ge(t+"",te(e,!0))},It.memoize=Xn,It.merge=To,It.mixin=_i,It.negate=function(t){if("function"!=typeof t)throw new Li(F);return function(){return!t.apply(this,arguments)}},It.omit=Do,It.once=function(t){return qn(t,2)},It.pairs=function(t){for(var e=-1,n=Co(t),i=n.length,r=wi(i);++e<i;){var o=n[e];r[e]=[o,t[o]]}return r},It.partial=co,It.partialRight=uo,It.partition=Kr,It.pick=Mo,It.pluck=function(t,e){return $n(t,ye(e))},It.property=function(t){return ye(t+"")},It.propertyOf=function(t){return function(e){return null==t?b:t[e]}},It.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,i=dn(),r=t.length;++n<r;)for(var o=0,s=t[n];-1<(o=i(e,s,o));)Ji.call(e,o,1);return e},It.pullAt=Or,It.range=function(t,e,n){n&&vn(t,e,n)&&(e=n=null),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;var i=-1;e=sr(Bi((e-t)/(n||1)),0);for(var r=wi(e);++i<e;)r[i]=t,t+=n;return r},It.rearg=ho,It.reject=function(t,e,n){var i=po(t)?Bt:re;return e=hn(e,n,3),i(t,function(t,n,i){return!e(t,n,i)})},It.remove=function(t,e,n){var i=-1,r=t?t.length:0,o=[];for(e=hn(e,n,3);++i<r;)n=t[i],e(n,i,t)&&(o.push(n),Ji.call(t,i--,1),r--);return o},It.rest=Nn,It.restParam=Gn,It.shuffle=Bn,It.slice=function(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&vn(t,e,n)&&(e=0,n=i),we(t,e,n)):[]},It.sortBy=function(t,e,n){if(null==t)return[];var i=-1,r=t.length,o=_n(r)?wi(r):[];return n&&vn(t,e,n)&&(e=null),e=hn(e,n,3),Sr(t,function(t,n,r){o[++i]={a:e(t,n,r),b:i,c:t}}),Se(o,l)},It.sortByAll=function(){var t=arguments,e=t[0],n=t[3],i=0,r=t.length-1;if(null==e)return[];for(var o=wi(r);i<r;)o[i]=t[++i];return n&&vn(t[1],t[2],n)&&(o=t[1]),ke(e,se(o),[])},It.sortByOrder=function(t,e,n,i){return null==t?[]:(i&&vn(e,n,i)&&(n=null),po(e)||(e=null==e?[]:[e]),po(n)||(n=null==n?[]:[n]),ke(t,e,n))},It.spread=function(t){if("function"!=typeof t)throw new Li(F);return function(e){return t.apply(this,e)}},It.take=function(t,e,n){return t&&t.length?((n?vn(t,e,n):null==e)&&(e=1),we(t,0,0>e?0:e)):[]},It.takeRight=function(t,e,n){var i=t?t.length:0;return i?((n?vn(t,e,n):null==e)&&(e=1),e=i-(+e||0),we(t,0>e?0:e)):[]},It.takeRightWhile=function(t,e,n){return t&&t.length?Me(t,hn(e,n,3),!1,!0):[]},It.takeWhile=function(t,e,n){return t&&t.length?Me(t,hn(e,n,3)):[]},It.tap=function(t,e,n){return e.call(n,t),t},It.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Li(F);return!1===n?i=!1:Zn(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),At.leading=i,At.maxWait=+e,At.trailing=r,Vn(t,e,At)},It.thru=Fn,It.times=function(t,e,n){if(1>(t=+t)||!rr(t))return[];var i=-1,r=wi(ar(t,fr));for(e=Ie(e,n,1);++i<t;)i<fr?r[i]=e(i):e(i);return r},It.toArray=function(t){var e=t?t.length:0;return _n(e)?e?Ht(t):[]:li(t)},It.toPlainObject=oi,It.transform=function(t,e,n,i){var r=po(t)||ri(t);return e=hn(e,i,4),null==n&&(r||Zn(t)?(i=t.constructor,n=r?po(t)?new i:[]:xr(mo(i)&&i.prototype)):n={}),(r?zt:le)(t,function(t,i,r){return e(n,t,i,r)}),n},It.union=Fr,It.uniq=Pn,It.unzip=On,It.values=li,It.valuesIn=function(t){return De(t,ai(t))},It.where=function(t,e){return zn(t,me(e))},It.without=Hr,It.wrap=function(t,e){return e=null==e?vi:e,sn(e,D,null,[t],[])},It.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(po(n)||Kn(n))var i=i?ne(i,n).concat(ne(n,i)):n}return i?Te(i):[]},It.zip=zr,It.zipObject=Yn,It.backflow=lo,It.collect=$n,It.compose=lo,It.each=Ur,It.eachRight=qr,It.extend=vo,It.iteratee=mi,It.methods=si,It.object=Yn,It.select=zn,It.tail=Nn,It.unique=Pn,_i(It,It),It.add=function(t,e){return t+e},It.attempt=Oo,It.camelCase=Eo,It.capitalize=function(t){return(t=r(t))&&t.charAt(0).toUpperCase()+t.slice(1)},It.clone=function(t,e,n,i){return e&&"boolean"!=typeof e&&vn(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),n="function"==typeof n&&Ie(n,i,1),te(t,e,n)},It.cloneDeep=function(t,e,n){return e="function"==typeof e&&Ie(e,n,1),te(t,!0,e)},It.deburr=ci,It.endsWith=function(t,e,n){e+="";var i=(t=r(t)).length;return n=void 0===n?i:ar(0>n?0:+n||0,i),0<=(n-=e.length)&&t.indexOf(e,n)==n},It.escape=function(t){return(t=r(t))&&dt.test(t)?t.replace(ut,u):t},It.escapeRegExp=ui,It.every=Hn,It.find=Wr,It.findIndex=Nr,It.findKey=_o,It.findLast=Br,It.findLastIndex=Pr,It.findLastKey=bo,It.findWhere=function(t,e){return Wr(t,me(e))},It.first=Ln,It.has=function(t,e){return!!t&&Ri.call(t,e)},It.identity=vi,It.includes=jn,It.indexOf=An,It.inRange=function(t,e,n){return e=+e||0,void 0===n?(n=e,e=0):n=+n||0,t>=e&&t<n},It.isArguments=Kn,It.isArray=po,It.isBoolean=function(t){return!0===t||!1===t||p(t)&&Hi.call(t)==$},It.isDate=function(t){return p(t)&&Hi.call(t)==W},It.isElement=Qn,It.isEmpty=function(t){if(null==t)return!0;var e=t.length;return _n(e)&&(po(t)||ii(t)||Kn(t)||p(t)&&mo(t.splice))?!e:!Co(t).length},It.isEqual=function(t,e,n,i){return!(n="function"==typeof n&&Ie(n,i,3))&&bn(t)&&bn(e)?t===e:void 0===(i=n?n(t,e):b)?he(t,e,n):!!i},It.isError=Jn,It.isFinite=fo,It.isFunction=mo,It.isMatch=function(t,e,n,i){var r=Co(e),o=r.length;if(!o)return!0;if(null==t)return!1;if(!(n="function"==typeof n&&Ie(n,i,3))&&1==o&&(i=e[s=r[0]],bn(i)))return i===t[s]&&(void 0!==i||s in Tn(t));for(var s=wi(o),a=wi(o);o--;)i=s[o]=e[r[o]],a[o]=bn(i);return pe(Tn(t),r,s,a,n)},It.isNaN=function(t){return ei(t)&&t!=+t},It.isNative=ti,It.isNull=function(t){return null===t},It.isNumber=ei,It.isObject=Zn,It.isPlainObject=go,It.isRegExp=ni,It.isString=ii,It.isTypedArray=ri,It.isUndefined=function(t){return void 0===t},It.kebabCase=Lo,It.last=In,It.lastIndexOf=function(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(0>n?sr(i+n,0):ar(n||0,i-1))+1;else if(n)return r=Le(t,e,!0)-1,t=t[r],(e===e?e===t:t!==t)?r:-1;if(e!==e)return d(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1},It.max=Yo,It.min=Ro,It.noConflict=function(){return f._=zi,this},It.noop=bi,It.now=Zr,It.pad=function(t,e,n){e=+e;var i=(t=r(t)).length;return i<e&&rr(e)?(i=(e-i)/2,e=qi(i),i=Bi(i),(n=nn("",i,n)).slice(0,e)+t+n):t},It.padLeft=Ao,It.padRight=Io,It.parseInt=hi,It.random=function(t,e,n){n&&vn(t,e,n)&&(e=n=null);var i=null==t,r=null==e;return null==n&&(r&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,r=!0)),i&&r&&(e=1,r=!1),t=+t||0,r?(e=t,t=0):e=+e||0,n||t%1||e%1?(n=hr(),ar(t+n*(e-t+parseFloat("1e-"+((n+"").length-1))),e)):_e(t,e)},It.reduce=Qr,It.reduceRight=Jr,It.repeat=di,It.result=function(t,e,n){return void 0===(e=null==t?b:t[e])&&(e=n),mo(e)?e.call(t):e},It.runInContext=_,It.size=function(t){var e=t?t.length:0;return _n(e)?e:Co(t).length},It.snakeCase=No,It.some=Un,It.sortedIndex=Yr,It.sortedLastIndex=Rr,It.startCase=Po,It.startsWith=function(t,e,n){return t=r(t),n=null==n?0:ar(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n},It.sum=function(t,e,n){n&&vn(t,e,n)&&(e=null);var i=hn(),r=null==e;if(i===Zt&&r||(r=!1,e=i(e,n,3)),r){for(e=(t=po(t)?t:Cn(t)).length,n=0;e--;)n+=+t[e]||0;t=n}else t=Ce(t,e);return t},It.template=function(t,e,n){var i=It.templateSettings;n&&vn(t,e,n)&&(e=n=null),t=r(t),n=Kt(Kt({},(e=Kt(Kt({},n||e),i,Gt)).imports),i.imports,Gt);var o,s,a=Co(n),l=De(n,a),c=0;n=e.interpolate||xt;var u="__p+='";n=Mi((e.escape||xt).source+"|"+n.source+"|"+(n===mt?vt:xt).source+"|"+(e.evaluate||xt).source+"|$","g");var d="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";if(t.replace(n,function(e,n,i,r,a,l){return i||(i=r),u+=t.slice(c,l).replace(Ct,h),n&&(o=!0,u+="'+__e("+n+")+'"),a&&(s=!0,u+="';"+a+";\n__p+='"),i&&(u+="'+((__t=("+i+"))==null?'':__t)+'"),c=l+e.length,e}),u+="';",(e=e.variable)||(u="with(obj){"+u+"}"),u=(s?u.replace(st,""):u).replace(at,"$1").replace(lt,"$1;"),u="function("+(e||"obj")+"){"+(e?"":"obj||(obj={});")+"var __t,__p=''"+(o?",__e=_.escape":"")+(s?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+u+"return __p}",e=Oo(function(){return ki(a,d+"return "+u).apply(b,l)}),e.source=u,Jn(e))throw e;return e},It.trim=pi,It.trimLeft=function(t,e,n){var i=t;return(t=r(t))?t.slice((n?vn(i,e,n):null==e)?g(t):s(t,e+"")):t},It.trimRight=function(t,e,n){var i=t;return(t=r(t))?(n?vn(i,e,n):null==e)?t.slice(0,v(t)+1):t.slice(0,a(t,e+"")+1):t},It.trunc=function(t,e,n){n&&vn(t,e,n)&&(e=null);o=A;if(n=I,null!=e)if(Zn(e)){var i="separator"in e?e.separator:i,o="length"in e?+e.length||0:o;n="omission"in e?r(e.omission):n}else o=+e||0;if(t=r(t),o>=t.length)return t;if(1>(o-=n.length))return n;if(e=t.slice(0,o),null==i)return e+n;if(ni(i)){if(t.slice(o).search(i)){var s,a=t.slice(0,o);for(i.global||(i=Mi(i.source,(yt.exec(i)||"")+"g")),i.lastIndex=0;t=i.exec(a);)s=t.index;e=e.slice(0,null==s?o:s)}}else t.indexOf(i,o)!=o&&-1<(i=e.lastIndexOf(i))&&(e=e.slice(0,i));return e+n},It.unescape=function(t){return(t=r(t))&&ht.test(t)?t.replace(ct,y):t},It.uniqueId=function(t){var e=++Fi;return r(t)+e},It.words=fi,It.all=Hn,It.any=Un,It.contains=jn,It.detect=Wr,It.foldl=Qr,It.foldr=Jr,It.head=Ln,It.include=jn,It.inject=Qr,_i(It,function(){var t={};return le(It,function(e,n){It.prototype[n]||(t[n]=e)}),t}(),!1),It.sample=Wn,It.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Wn(e,t)}):Wn(this.value())},It.VERSION=w,zt("bind bindKey curry curryRight partial partialRight".split(" "),function(t){It[t].placeholder=It}),zt(["dropWhile","filter","map","takeWhile"],function(t,e){var n=e!=R,i=e==O;Ot.prototype[t]=function(t,r){var o=this.__filtered__,s=o&&i?new Ot(this):this.clone();return(s.__iteratees__||(s.__iteratees__=[])).push({done:!1,count:0,index:0,iteratee:hn(t,r,1),limit:-1,type:e}),s.__filtered__=o||n,s}}),zt(["drop","take"],function(t,e){var n=t+"While";Ot.prototype[t]=function(n){var i=this.__filtered__,r=i&&!e?this.dropWhile():this.clone();return n=null==n?1:sr(qi(n)||0,0),i?e?r.__takeCount__=ar(r.__takeCount__,n):In(r.__iteratees__).limit=n:(r.__views__||(r.__views__=[])).push({size:n,type:t+(0>r.__dir__?"Right":"")}),r},Ot.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()},Ot.prototype[t+"RightWhile"]=function(t,e){return this.reverse()[n](t,e).reverse()}}),zt(["first","last"],function(t,e){var n="take"+(e?"Right":"");Ot.prototype[t]=function(){return this[n](1).value()[0]}}),zt(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");Ot.prototype[t]=function(){return this[n](1)}}),zt(["pluck","where"],function(t,e){var n=e?"filter":"map",i=e?me:ye;Ot.prototype[t]=function(t){return this[n](i(t))}}),Ot.prototype.compact=function(){return this.filter(vi)},Ot.prototype.reject=function(t,e){return t=hn(t,e,1),this.filter(function(e){return!t(e)})},Ot.prototype.slice=function(t,e){var n=0>(t=null==t?0:+t||0)?this.takeRight(-t):this.drop(t);return void 0!==e&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n},Ot.prototype.toArray=function(){return this.drop(0)},le(Ot.prototype,function(t,e){var n=It[e];if(n){var i=/^(?:filter|map|reject)|While$/.test(e),r=/^(?:first|last)$/.test(e);It.prototype[e]=function(){function e(t){return t=[t],Xi.apply(t,o),n.apply(It,t)}var o=arguments,s=this.__chain__,a=this.__wrapped__,l=!!this.__actions__.length,c=a instanceof Ot,u=o[0],h=c||po(a);return h&&i&&"function"==typeof u&&1!=u.length&&(c=h=!1),c=c&&!l,r&&!s?c?t.call(a):n.call(It,this.value()):h?(a=t.apply(c?a:new Ot(this),o),r||!l&&!a.__actions__||(a.__actions__||(a.__actions__=[])).push({func:Fn,args:[e],thisArg:It}),new Pt(a,s)):this.thru(e)}}}),zt("concat join pop push replace shift sort splice split unshift".split(" "),function(t){var e=(/^(?:replace|split)$/.test(t)?Ni:Ai)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);It.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?e.apply(this.value(),t):this[n](function(n){return e.apply(n,t)})}}),le(Ot.prototype,function(t,e){var n=It[e];if(n){var i=n.name;(br[i]||(br[i]=[])).push({name:e,func:n})}}),br[en(null,S).name]=[{name:"wrapper",func:null}],Ot.prototype.clone=function(){var t=this.__actions__,e=this.__iteratees__,n=this.__views__,i=new Ot(this.__wrapped__);return i.__actions__=t?Ht(t):null,i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=e?Ht(e):null,i.__takeCount__=this.__takeCount__,i.__views__=n?Ht(n):null,i},Ot.prototype.reverse=function(){if(this.__filtered__){var t=new Ot(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},Ot.prototype.value=function(){var t=this.__wrapped__.value();if(!po(t))return Ee(t,this.__actions__);var e,n=this.__dir__,i=0>n;e=t.length;for(var r=this.__views__,o=0,s=-1,a=r?r.length:0;++s<a;){var l=r[s],c=l.size;switch(l.type){case"drop":o+=c;break;case"dropRight":e-=c;break;case"take":e=ar(e,o+c);break;case"takeRight":o=sr(o,e-c)}}r=(e={start:o,end:e}).start,e=(o=e.end)-r,r=i?o:r-1,o=ar(e,this.__takeCount__),a=(s=this.__iteratees__)?s.length:0,l=0,c=[];t:for(;e--&&l<o;){for(var u=-1,h=t[r=r+n];++u<a;){var d=s[u],p=d.iteratee,f=d.type;if(f==O){if(d.done&&(i?r>d.index:r<d.index)&&(d.count=0,d.done=!1),d.index=r,!(d.done||(f=d.limit,d.done=-1<f?d.count++>=f:!p(h))))continue t}else if(d=p(h),f==R)h=d;else if(!d){if(f==Y)continue t;break t}}c[l++]=h}return c},It.prototype.chain=function(){return Rn(this)},It.prototype.commit=function(){return new Pt(this.value(),this.__chain__)},It.prototype.plant=function(t){for(var e,n=this;n instanceof Nt;){var i=Dn(n);e?r.__wrapped__=i:e=i;var r=i,n=n.__wrapped__}return r.__wrapped__=t,e},It.prototype.reverse=function(){var t=this.__wrapped__;return t instanceof Ot?(this.__actions__.length&&(t=new Ot(this)),new Pt(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})},It.prototype.toString=function(){return this.value()+""},It.prototype.run=It.prototype.toJSON=It.prototype.valueOf=It.prototype.value=function(){return Ee(this.__wrapped__,this.__actions__)},It.prototype.collect=It.prototype.map,It.prototype.head=It.prototype.first,It.prototype.select=It.prototype.filter,It.prototype.tail=It.prototype.rest,It}var b,w="3.6.0",x=1,S=2,k=4,C=8,T=16,D=32,M=64,E=128,L=256,A=30,I="...",N=150,P=16,O=0,Y=1,R=2,F="Expected a function",H="__lodash_placeholder__",z="[object Arguments]",j="[object Array]",$="[object Boolean]",W="[object Date]",B="[object Error]",U="[object Function]",q="[object Number]",V="[object Object]",X="[object RegExp]",G="[object String]",K="[object ArrayBuffer]",Q="[object Float32Array]",J="[object Float64Array]",Z="[object Int8Array]",tt="[object Int16Array]",et="[object Int32Array]",nt="[object Uint8Array]",it="[object Uint8ClampedArray]",rt="[object Uint16Array]",ot="[object Uint32Array]",st=/\b__p\+='';/g,at=/\b(__p\+=)''\+/g,lt=/(__e\(.*?\)|\b__t\))\+'';/g,ct=/&(?:amp|lt|gt|quot|#39|#96);/g,ut=/[&<>"'`]/g,ht=RegExp(ct.source),dt=RegExp(ut.source),pt=/<%-([\s\S]+?)%>/g,ft=/<%([\s\S]+?)%>/g,mt=/<%=([\s\S]+?)%>/g,gt=/[\u0300-\u036f\ufe20-\ufe23]/g,vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yt=/\w*$/,_t=/^0[xX]/,bt=/^\[object .+?Constructor\]$/,wt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,xt=/($^)/,St=/[.*+?^${}()|[\]\/\\]/g,kt=RegExp(St.source),Ct=/['\n\r\u2028\u2029\\]/g,Tt=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),Dt=" \t\v\f \ufeff\n\r\u2028\u2029 ᠎             　",Mt="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout document isFinite parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap window".split(" "),Et={};Et[Q]=Et[J]=Et[Z]=Et[tt]=Et[et]=Et[nt]=Et[it]=Et[rt]=Et[ot]=!0,Et[z]=Et[j]=Et[K]=Et[$]=Et[W]=Et[B]=Et[U]=Et["[object Map]"]=Et[q]=Et[V]=Et[X]=Et["[object Set]"]=Et[G]=Et["[object WeakMap]"]=!1;var Lt={};Lt[z]=Lt[j]=Lt[K]=Lt[$]=Lt[W]=Lt[Q]=Lt[J]=Lt[Z]=Lt[tt]=Lt[et]=Lt[q]=Lt[V]=Lt[X]=Lt[G]=Lt[nt]=Lt[it]=Lt[rt]=Lt[ot]=!0,Lt[B]=Lt[U]=Lt["[object Map]"]=Lt["[object Set]"]=Lt["[object WeakMap]"]=!1;var At={leading:!1,maxWait:0,trailing:!1},It={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Nt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Pt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ot={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yt=(Ht={function:!0,object:!0})[typeof exports]&&exports&&!exports.nodeType&&exports,Rt=Ht[typeof module]&&module&&!module.nodeType&&module,Ft=Ht[typeof self]&&self&&self.Object&&self,Ht=Ht[typeof window]&&window&&window.Object&&window,zt=Rt&&Rt.exports===Yt&&Yt,jt=Yt&&Rt&&"object"==typeof global&&global||Ht!==(this&&this.window)&&Ht||Ft||this,$t=_();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(jt._=$t,define(function(){return $t})):Yt&&Rt?zt?(Rt.exports=$t)._=$t:Yt._=$t:jt._=$t}.call(this),function(t){"use strict";function e(){}function n(t){if(!t||"object"!=typeof t)return!1;var e=k(t)||gt;return/object|function/.test(typeof e.Element)?t instanceof e.Element:1===t.nodeType&&"string"==typeof t.nodeName}function i(t){return t===gt||!(!t||!t.Window)&&t instanceof t.Window}function r(t){return!!t&&t instanceof yt}function o(t){return s(t)&&void 0!==typeof t.length&&a(t.splice)}function s(t){return!!t&&"object"==typeof t}function a(t){return"function"==typeof t}function l(t){return"number"==typeof t}function c(t){return"boolean"==typeof t}function u(t){return"string"==typeof t}function h(t){return!!u(t)&&(vt.querySelector(t),!0)}function d(t,e){for(var n in e)t[n]=e[n];return t}function p(t,e){for(var n in e){var i=!1;for(var r in Kt)if(0===n.indexOf(r)&&Kt[r].test(n)){i=!0;break}i||(t[n]=e[n])}return t}function f(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp}function m(t,e,n){var i=e.length>1?M(e):e[0];_(i,Ct),t.page.x=Ct.x,t.page.y=Ct.y,b(i,Ct),t.client.x=Ct.x,t.client.y=Ct.y,t.timeStamp=(new Date).getTime()}function g(t,e,n){t.page.x=n.page.x-e.page.x,t.page.y=n.page.y-e.page.y,t.client.x=n.client.x-e.client.x,t.client.y=n.client.y-e.client.y,t.timeStamp=(new Date).getTime()-e.timeStamp;var i=Math.max(t.timeStamp/1e3,.001);t.page.speed=kt(t.page.x,t.page.y)/i,t.page.vx=t.page.x/i,t.page.vy=t.page.y/i,t.client.speed=kt(t.client.x,t.page.y)/i,t.client.vx=t.client.x/i,t.client.vy=t.client.y/i}function v(t){return t instanceof gt.Event||Nt&&gt.Touch&&t instanceof gt.Touch}function y(t,e,n){return n=n||{},t=t||"page",n.x=e[t+"X"],n.y=e[t+"Y"],n}function _(t,e){return e=e||{},Bt&&v(t)?(y("screen",t,e),e.x+=gt.scrollX,e.y+=gt.scrollY):y("page",t,e),e}function b(t,e){return e=e||{},Bt&&v(t)?y("screen",t,e):y("client",t,e),e}function w(t){return t=t||gt,{x:t.scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}}function x(t){return l(t.pointerId)?t.pointerId:t.identifier}function S(t){return t instanceof wt?t.correspondingUseElement:t}function k(t){if(i(t))return t;var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||gt}function C(t){var e=t instanceof _t?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}function T(t){var e=C(t);if(!Ut&&e){var n=w(k(t));e.left+=n.x,e.right+=n.x,e.top+=n.y,e.bottom+=n.y}return e}function D(t){var e=[];return o(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function M(t){for(var e,n={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},i=0;i<t.length;i++)for(e in n)n[e]+=t[i][e];for(e in n)n[e]/=t.length;return n}function E(t){if(t.length||t.touches&&t.touches.length>1){var e=D(t),n=Math.min(e[0].pageX,e[1].pageX),i=Math.min(e[0].pageY,e[1].pageY);return{x:n,y:i,left:n,top:i,width:Math.max(e[0].pageX,e[1].pageX)-n,height:Math.max(e[0].pageY,e[1].pageY)-i}}}function L(t,e){var n=(e=e||At.deltaSource)+"X",i=e+"Y",r=D(t),o=r[0][n]-r[1][n],s=r[0][i]-r[1][i];return kt(o,s)}function A(t,e,n){var i=(n=n||At.deltaSource)+"X",r=n+"Y",o=D(t),s=o[0][i]-o[1][i],a=o[0][r]-o[1][r],c=180*Math.atan(a/s)/Math.PI;if(l(e)){var u=(c-e)%360;u>315?c-=360+c/360|0:u>135?c-=180+c/360|0:u<-315?c+=360+c/360|0:u<-135&&(c+=180+c/360|0)}return c}function I(t,e){var i=t?t.options.origin:At.origin;return"parent"===i?i=F(e):"self"===i?i=t.getRect(e):h(i)&&(i=R(e,i)||{x:0,y:0}),a(i)&&(i=i(t&&e)),n(i)&&(i=T(i)),i.x="x"in i?i.x:i.left,i.y="y"in i?i.y:i.top,i}function N(t,e,n,i){var r=1-t;return r*r*e+2*r*t*n+t*t*i}function P(t,e,n,i,r,o,s){return{x:N(s,t,n,r),y:N(s,e,i,o)}}function O(t,e,n,i){return t/=i,-n*t*(t-2)+e}function Y(t,e){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function R(t,e){for(var i=F(t);n(i);){if(dt(i,e))return i;i=F(i)}return null}function F(t){var e=t.parentNode;if(r(e)){for(;(e=e.host)&&r(e););return e}return e}function H(t,e){return t._context===e.ownerDocument||Y(t._context,e)}function z(t,e,i){var r=t.options.ignoreFrom;return!(!r||!n(i))&&(u(r)?pt(i,r,e):!!n(r)&&Y(r,i))}function j(t,e,i){var r=t.options.allowFrom;return!r||!!n(i)&&(u(r)?pt(i,r,e):!!n(r)&&Y(r,i))}function $(t,e){if(!e)return!1;var n=e.options.drag.axis;return"xy"===t||"xy"===n||n===t}function W(t,e){var n=t.options;return/^resize/.test(e)&&(e="resize"),n[e].snap&&n[e].snap.enabled}function B(t,e){var n=t.options;return/^resize/.test(e)&&(e="resize"),n[e].restrict&&n[e].restrict.enabled}function U(t,e){var n=t.options;return/^resize/.test(e)&&(e="resize"),n[e].autoScroll&&n[e].autoScroll.enabled}function q(t,e,n){for(var i=t.options,r=i[n.name].max,o=i[n.name].maxPerElement,s=0,a=0,l=0,c=0,u=Mt.length;c<u;c++){var h=Mt[c],d=h.prepared.name;if(h.interacting()){if(++s>=Ft)return!1;if(h.target===t){if((a+=d===n.name|0)>=r)return!1;if(h.element===e&&(l++,d!==n.name||l>=o))return!1}}}return Ft>0}function V(t){var e,n,i,r,o,s=t[0],a=s?0:-1,l=[],c=[];for(r=1;r<t.length;r++)if((e=t[r])&&e!==s)if(s){if(e.parentNode!==e.ownerDocument)if(s.parentNode!==e.ownerDocument){if(!l.length)for(n=s;n.parentNode&&n.parentNode!==n.ownerDocument;)l.unshift(n),n=n.parentNode;if(s instanceof xt&&e instanceof _t&&!(e instanceof bt)){if(e===s.parentNode)continue;n=e.ownerSVGElement}else n=e;for(c=[];n.parentNode!==n.ownerDocument;)c.unshift(n),n=n.parentNode;for(o=0;c[o]&&c[o]===l[o];)o++;var u=[c[o-1],c[o],l[o]];for(i=u[0].lastChild;i;){if(i===u[1]){s=e,a=r,l=[];break}if(i===u[2])break;i=i.previousSibling}}else s=e,a=r}else s=e,a=r;return a}function X(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},a(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var t=this;this.boundInertiaFrame=function(){return t.inertiaFrame()},this.boundSmoothEndFrame=function(){return t.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,Mt.push(this)}function G(t,e,n){var i,r=0,o=Mt.length,s=/mouse/i.test(t.pointerType||e)||4===t.pointerType,a=x(t);if(/down|start/i.test(e))for(r=0;r<o;r++){var l=n;if((i=Mt[r]).inertiaStatus.active&&i.target.options[i.prepared.name].inertia.allowResume&&i.mouse===s)for(;l;){if(l===i.element)return i;l=F(l)}}if(s||!Nt&&!Pt){for(r=0;r<o;r++)if(Mt[r].mouse&&!Mt[r].inertiaStatus.active)return Mt[r];for(r=0;r<o;r++)if(Mt[r].mouse&&(!/down/.test(e)||!Mt[r].inertiaStatus.active))return i;return i=new X,i.mouse=!0,i}for(r=0;r<o;r++)if(ht(Mt[r].pointerIds,a))return Mt[r];if(/up|end|out/i.test(e))return null;for(r=0;r<o;r++)if((!(i=Mt[r]).prepared.name||i.target.options.gesture.enabled)&&!i.interacting()&&(s||!i.mouse))return i;return new X}function K(t){return function(e){var n,i,r=S(e.path?e.path[0]:e.target),o=S(e.currentTarget);if(Nt&&/touch/.test(e.type))for(Rt=(new Date).getTime(),i=0;i<e.changedTouches.length;i++){var s=e.changedTouches[i];(n=G(s,e.type,r))&&(n._updateEventTargets(r,o),n[t](s,e,r,o))}else{if(!Pt&&/mouse/.test(e.type)){for(i=0;i<Mt.length;i++)if(!Mt[i].mouse&&Mt[i].pointerIsDown)return;if((new Date).getTime()-Rt<500)return}if(!(n=G(e,e.type,r)))return;n._updateEventTargets(r,o),n[t](e,e,r,o)}}}function Q(t,e,n,i,r,o){var s,a,l=t.target,c=t.snapStatus,u=t.restrictStatus,h=t.pointers,p=(l&&l.options||At).deltaSource,f=p+"X",m=p+"Y",g=l?l.options:At,v=I(l,r),y="start"===i,_="end"===i,b=y?t.startCoords:t.curCoords;r=r||t.element,a=d({},b.page),s=d({},b.client),a.x-=v.x,a.y-=v.y,s.x-=v.x,s.y-=v.y;var w=g[n].snap&&g[n].snap.relativePoints;!W(l,n)||y&&w&&w.length||(this.snap={range:c.range,locked:c.locked,x:c.snappedX,y:c.snappedY,realX:c.realX,realY:c.realY,dx:c.dx,dy:c.dy},c.locked&&(a.x+=c.dx,a.y+=c.dy,s.x+=c.dx,s.y+=c.dy)),!B(l,n)||y&&g[n].restrict.elementRect||!u.restricted||(a.x+=u.dx,a.y+=u.dy,s.x+=u.dx,s.y+=u.dy,this.restrict={dx:u.dx,dy:u.dy}),this.pageX=a.x,this.pageY=a.y,this.clientX=s.x,this.clientY=s.y,this.x0=t.startCoords.page.x-v.x,this.y0=t.startCoords.page.y-v.y,this.clientX0=t.startCoords.client.x-v.x,this.clientY0=t.startCoords.client.y-v.y,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.button=e.button,this.buttons=e.buttons,this.target=r,this.t0=t.downTimes[0],this.type=n+(i||""),this.interaction=t,this.interactable=l;var x=t.inertiaStatus;if(x.active&&(this.detail="inertia"),o&&(this.relatedTarget=o),_?"client"===p?(this.dx=s.x-t.startCoords.client.x,this.dy=s.y-t.startCoords.client.y):(this.dx=a.x-t.startCoords.page.x,this.dy=a.y-t.startCoords.page.y):y?(this.dx=0,this.dy=0):"inertiastart"===i?(this.dx=t.prevEvent.dx,this.dy=t.prevEvent.dy):"client"===p?(this.dx=s.x-t.prevEvent.clientX,this.dy=s.y-t.prevEvent.clientY):(this.dx=a.x-t.prevEvent.pageX,this.dy=a.y-t.prevEvent.pageY),t.prevEvent&&"inertia"===t.prevEvent.detail&&!x.active&&g[n].inertia&&g[n].inertia.zeroResumeDelta&&(x.resumeDx+=this.dx,x.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===n&&t.resizeAxes?g.resize.square?("y"===t.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=t.resizeAxes,"x"===t.resizeAxes?this.dy=0:"y"===t.resizeAxes&&(this.dx=0)):"gesture"===n&&(this.touches=[h[0],h[1]],y?(this.distance=L(h,p),this.box=E(h),this.scale=1,this.ds=0,this.angle=A(h,void 0,p),this.da=0):_||e instanceof Q?(this.distance=t.prevEvent.distance,this.box=t.prevEvent.box,this.scale=t.prevEvent.scale,this.ds=this.scale-1,this.angle=t.prevEvent.angle,this.da=this.angle-t.gesture.startAngle):(this.distance=L(h,p),this.box=E(h),this.scale=this.distance/t.gesture.startDistance,this.angle=A(h,t.gesture.prevAngle,p),this.ds=this.scale-t.gesture.prevScale,this.da=this.angle-t.gesture.prevAngle)),y)this.timeStamp=t.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===i)this.timeStamp=t.prevEvent.timeStamp,this.dt=t.prevEvent.dt,this.duration=t.prevEvent.duration,this.speed=t.prevEvent.speed,this.velocityX=t.prevEvent.velocityX,this.velocityY=t.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-t.prevEvent.timeStamp,this.duration=this.timeStamp-t.downTimes[0],e instanceof Q){var S=this[f]-t.prevEvent[f],k=this[m]-t.prevEvent[m],C=this.dt/1e3;this.speed=kt(S,k)/C,this.velocityX=S/C,this.velocityY=k/C}else this.speed=t.pointerDelta[p].speed,this.velocityX=t.pointerDelta[p].vx,this.velocityY=t.pointerDelta[p].vy;if((_||"inertiastart"===i)&&t.prevEvent.speed>600&&this.timeStamp-t.prevEvent.timeStamp<150){var T=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;T<0&&(T+=360);var D=112.5<=T&&T<247.5,M=202.5<=T&&T<337.5,N=!D&&(292.5<=T||T<67.5),P=!M&&22.5<=T&&T<157.5;this.swipe={up:M,down:P,left:D,right:N,angle:T,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}}function J(){this.originalEvent.preventDefault()}function Z(t){var e="";if("drag"===t.name&&(e=Ht.drag),"resize"===t.name)if(t.axis)e=Ht[t.name+t.axis];else if(t.edges){for(var n="resize",i=["top","bottom","left","right"],r=0;r<4;r++)t.edges[i[r]]&&(n+=i[r]);e=Ht[n]}return e}function tt(t,e,i,r,o,s,a){if(!e)return!1;if(!0===e){var c=l(s.width)?s.width:s.right-s.left,u=l(s.height)?s.height:s.bottom-s.top;if(c<0&&("left"===t?t="right":"right"===t&&(t="left")),u<0&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t)return i.x<(c>=0?s.left:s.right)+a;if("top"===t)return i.y<(u>=0?s.top:s.bottom)+a;if("right"===t)return i.x>(c>=0?s.right:s.left)-a;if("bottom"===t)return i.y>(u>=0?s.bottom:s.top)-a}return!!n(r)&&(n(e)?e===r:pt(r,e,o))}function et(t,e,n){var i,r=this.getRect(n),o=!1,a=null,l=null,c=d({},e.curCoords.page),u=this.options;if(!r)return null;if(zt.resize&&u.resize.enabled){var h=u.resize;if(i={left:!1,right:!1,top:!1,bottom:!1},s(h.edges)){for(var p in i)i[p]=tt(p,h.edges[p],c,e._eventTarget,n,r,h.margin||Ot);i.left=i.left&&!i.right,i.top=i.top&&!i.bottom,o=i.left||i.right||i.top||i.bottom}else{var f="y"!==u.resize.axis&&c.x>r.right-Ot,m="x"!==u.resize.axis&&c.y>r.bottom-Ot;o=f||m,l=(f?"x":"")+(m?"y":"")}}return a=o?"resize":zt.drag&&u.drag.enabled?"drag":null,zt.gesture&&e.pointerIds.length>=2&&!e.dragging&&!e.resizing&&(a="gesture"),a?{name:a,axis:l,edges:i}:null}function nt(t,e){if(!s(t))return null;var n=t.name,i=e.options;return("resize"===n&&i.resize.enabled||"drag"===n&&i.drag.enabled||"gesture"===n&&i.gesture.enabled)&&zt[n]?("resize"!==n&&"resizeyx"!==n||(n="resizexy"),t):null}function it(t,e){var i={},r=Lt[t.type],o=S(t.path?t.path[0]:t.target),s=o;e=!!e;for(var a in t)i[a]=t[a];for(i.originalEvent=t,i.preventDefault=J;n(s);){for(var l=0;l<r.selectors.length;l++){var c=r.selectors[l],u=r.contexts[l];if(dt(s,c)&&Y(u,o)&&Y(u,s)){var h=r.listeners[l];i.currentTarget=s;for(var d=0;d<h.length;d++)h[d][1]===e&&h[d][0](i)}}s=F(s)}}function rt(t){return it.call(this,t,!0)}function ot(t,e){return Dt.get(t,e)||new st(t,e)}function st(t,e){this._element=t,this._iEvents=this._iEvents||{};var i;if(h(t)){this.selector=t;var r=e&&e.context;i=r?k(r):gt,r&&(i.Node?r instanceof i.Node:n(r)||r===i.document)&&(this._context=r)}else n(t,i=k(t))&&(Pt?(Gt.add(this._element,ft.down,Qt.pointerDown),Gt.add(this._element,ft.move,Qt.pointerHover)):(Gt.add(this._element,"mousedown",Qt.pointerDown),Gt.add(this._element,"mousemove",Qt.pointerHover),Gt.add(this._element,"touchstart",Qt.pointerDown),Gt.add(this._element,"touchmove",Qt.pointerHover)));this._doc=i.document,ht(Tt,this._doc)||ct(this._doc),Dt.push(this),this.set(e)}function at(t,e){var n=!1;return function(){return n||(gt.console.warn(e),n=!0),t.apply(this,arguments)}}function lt(t){for(var e=0;e<Mt.length;e++)Mt[e].pointerEnd(t,t)}function ct(t){if(!ht(Tt,t)){var e=t.defaultView||t.parentWindow;for(var n in Lt)Gt.add(t,n,it),Gt.add(t,n,rt,!0);Pt?(ft=St===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},Gt.add(t,ft.down,Qt.selectorDown),Gt.add(t,ft.move,Qt.pointerMove),Gt.add(t,ft.over,Qt.pointerOver),Gt.add(t,ft.out,Qt.pointerOut),Gt.add(t,ft.up,Qt.pointerUp),Gt.add(t,ft.cancel,Qt.pointerCancel),Gt.add(t,ft.move,Qt.autoScrollMove)):(Gt.add(t,"mousedown",Qt.selectorDown),Gt.add(t,"mousemove",Qt.pointerMove),Gt.add(t,"mouseup",Qt.pointerUp),Gt.add(t,"mouseover",Qt.pointerOver),Gt.add(t,"mouseout",Qt.pointerOut),Gt.add(t,"touchstart",Qt.selectorDown),Gt.add(t,"touchmove",Qt.pointerMove),Gt.add(t,"touchend",Qt.pointerUp),Gt.add(t,"touchcancel",Qt.pointerCancel),Gt.add(t,"mousemove",Qt.autoScrollMove),Gt.add(t,"touchmove",Qt.autoScrollMove)),Gt.add(e,"blur",lt);try{if(e.frameElement){var i=e.frameElement.ownerDocument,r=i.defaultView;Gt.add(i,"mouseup",Qt.pointerEnd),Gt.add(i,"touchend",Qt.pointerEnd),Gt.add(i,"touchcancel",Qt.pointerEnd),Gt.add(i,"pointerup",Qt.pointerEnd),Gt.add(i,"MSPointerUp",Qt.pointerEnd),Gt.add(r,"blur",lt)}}catch(t){ot.windowParentError=t}Gt.add(t,"dragstart",function(t){for(var e=0;e<Mt.length;e++){var n=Mt[e];if(n.element&&(n.element===t.target||Y(n.element,t.target)))return void n.checkAndPreventDefault(t,n.target,n.element)}}),Gt.useAttachEvent&&(Gt.add(t,"selectstart",function(t){var e=Mt[0];e.currentAction()&&e.checkAndPreventDefault(t)}),Gt.add(t,"dblclick",K("ie8Dblclick"))),Tt.push(t)}}function ut(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}function ht(t,e){return-1!==ut(t,e)}function dt(e,n,i){return mt?mt(e,n,i):(gt!==t&&(n=n.replace(/\/deep\//g," ")),e[qt](n))}function pt(t,e,i){for(;n(t);){if(dt(t,e))return!0;if((t=F(t))===i)return dt(t,e)}return!1}if(t){var ft,mt,gt=function(){var e=t.document.createTextNode("");return e.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(e)===e?t.wrap(t):t}(),vt=gt.document,yt=gt.DocumentFragment||e,_t=gt.SVGElement||e,bt=gt.SVGSVGElement||e,wt=gt.SVGElementInstance||e,xt=gt.HTMLElement||gt.Element,St=gt.PointerEvent||gt.MSPointerEvent,kt=Math.hypot||function(t,e){return Math.sqrt(t*t+e*e)},Ct={},Tt=[],Dt=[],Mt=[],Et=!1,Lt={},At={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:vt,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},It={interaction:null,i:null,x:0,y:0,scroll:function(){var t,e,n,r,o=It.interaction.target.options[It.interaction.prepared.name].autoScroll,s=o.container||k(It.interaction.element),a=(new Date).getTime(),l=(a-It.prevTimeX)/1e3,c=(a-It.prevTimeY)/1e3;o.velocity?(t=o.velocity.x,e=o.velocity.y):t=e=o.speed,r=e*c,((n=t*l)>=1||r>=1)&&(i(s)?s.scrollBy(It.x*n,It.y*r):s&&(s.scrollLeft+=It.x*n,s.scrollTop+=It.y*r),n>=1&&(It.prevTimeX=a),r>=1&&(It.prevTimeY=a)),It.isScrolling&&(Xt(It.i),It.i=Vt(It.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(t){It.isScrolling=!0,Xt(It.i),It.interaction=t,It.prevTimeX=(new Date).getTime(),It.prevTimeY=(new Date).getTime(),It.i=Vt(It.scroll)},stop:function(){It.isScrolling=!1,Xt(It.i)}},Nt="ontouchstart"in gt||gt.DocumentTouch&&vt instanceof gt.DocumentTouch,Pt=St&&!/Chrome/.test(navigator.userAgent),Ot=Nt||Pt?20:10,Yt=1,Rt=0,Ft=1/0,Ht=vt.all&&!gt.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},zt={drag:!0,resize:!0,gesture:!0},jt="onmousewheel"in vt?"mousewheel":"wheel",$t=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],Wt={},Bt="Opera"==navigator.appName&&Nt&&navigator.userAgent.match("Presto"),Ut=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),qt="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",Vt=t.requestAnimationFrame,Xt=t.cancelAnimationFrame,Gt=function(){function t(e,n,i,o){var h,d,p,f=ut(l,e),m=c[f],g=i;if(m&&m.events)if(r&&(p=ut((d=u[f]).supplied,i),g=d.wrapped[p]),"all"!==n){if(m.events[n]){var v=m.events[n].length;if("all"===i){for(h=0;h<v;h++)t(e,n,m.events[n][h],Boolean(o));return}for(h=0;h<v;h++)if(m.events[n][h]===i){e[s](a+n,g,o||!1),m.events[n].splice(h,1),r&&d&&(d.useCount[p]--,0===d.useCount[p]&&(d.supplied.splice(p,1),d.wrapped.splice(p,1),d.useCount.splice(p,1)));break}m.events[n]&&0===m.events[n].length&&(m.events[n]=null,m.typeCount--)}m.typeCount||(c.splice(f,1),l.splice(f,1),u.splice(f,1))}else for(n in m.events)m.events.hasOwnProperty(n)&&t(e,n,"all")}function e(){this.returnValue=!1}function n(){this.cancelBubble=!0}function i(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}var r="attachEvent"in gt&&!("addEventListener"in gt),o=r?"attachEvent":"addEventListener",s=r?"detachEvent":"removeEventListener",a=r?"on":"",l=[],c=[],u=[];return{add:function(t,s,h,d){var p=ut(l,t),f=c[p];if(f||(f={events:{},typeCount:0},p=l.push(t)-1,c.push(f),u.push(r?{supplied:[],wrapped:[],useCount:[]}:null)),f.events[s]||(f.events[s]=[],f.typeCount++),!ht(f.events[s],h)){var m;if(r){var g=u[p],v=ut(g.supplied,h),y=g.wrapped[v]||function(r){r.immediatePropagationStopped||(r.target=r.srcElement,r.currentTarget=t,r.preventDefault=r.preventDefault||e,r.stopPropagation=r.stopPropagation||n,r.stopImmediatePropagation=r.stopImmediatePropagation||i,/mouse|click/.test(r.type)&&(r.pageX=r.clientX+k(t).document.documentElement.scrollLeft,r.pageY=r.clientY+k(t).document.documentElement.scrollTop),h(r))};m=t[o](a+s,y,Boolean(d)),-1===v?(g.supplied.push(h),g.wrapped.push(y),g.useCount.push(1)):g.useCount[v]++}else m=t[o](s,h,d||!1);return f.events[s].push(h),m}},remove:t,useAttachEvent:r,_elements:l,_targets:c,_attachedListeners:u}}(),Kt={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/};X.prototype={getPageXY:function(t,e){return _(t,e)},getClientXY:function(t,e){return b(t,e)},setEventXY:function(t,e){return m(t,e)},pointerOver:function(t,e,n){if(!this.prepared.name&&this.mouse){var i=[],r=[],o=this.element;this.addPointer(t),!this.target||!z(this.target,this.element,n)&&j(this.target,this.element,n)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var s=Dt.get(n),a=s&&!z(s,n,n)&&j(s,n,n)&&nt(s.getAction(t,e,this,n),s);a&&!q(s,n,a)&&(a=null),a?(this.target=s,this.element=n,this.matches=[],this.matchElements=[]):(Dt.forEachSelector(function(t,e){t&&H(t,n)&&!z(t,n,n)&&j(t,n,n)&&dt(n,e)&&(i.push(t),r.push(n))}),this.validateSelector(t,e,i,r)?(this.matches=i,this.matchElements=r,this.pointerHover(t,e,this.matches,this.matchElements),Gt.add(n,Pt?ft.move:"mousemove",Qt.pointerHover)):this.target&&(Y(o,n)?(this.pointerHover(t,e,this.matches,this.matchElements),Gt.add(this.element,Pt?ft.move:"mousemove",Qt.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(t,e,n,i,r,o){var s=this.target;if(!this.prepared.name&&this.mouse){var a;this.setEventXY(this.curCoords,[t]),r?a=this.validateSelector(t,e,r,o):s&&(a=nt(s.getAction(this.pointers[0],e,this,this.element),this.target)),s&&s.options.styleCursor&&(s._doc.documentElement.style.cursor=a?Z(a):"")}else this.prepared.name&&this.checkAndPreventDefault(e,s,this.element)},pointerOut:function(t,e,n){this.prepared.name||(Dt.get(n)||Gt.remove(n,Pt?ft.move:"mousemove",Qt.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(t,e,i,r){var o,s=this,a=Gt.useAttachEvent?d({},e):e,l=i,c=this.addPointer(t);if(this.holdTimers[c]=setTimeout(function(){s.pointerHold(Gt.useAttachEvent?a:t,a,i,r)},At._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;n(l);){if(l===this.element&&nt(this.target.getAction(t,e,this,this.element),this.target).name===this.prepared.name)return Xt(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(t,e,i,"down");l=F(l)}if(this.interacting())this.collectEventTargets(t,e,i,"down");else{for(this.setEventXY(this.curCoords,[t]),this.downEvent=e;n(l)&&!o;)this.matches=[],this.matchElements=[],Dt.forEachSelector(function(t,e,n){var r=mt?n.querySelectorAll(e):void 0;H(t,l)&&!z(t,l,i)&&j(t,l,i)&&dt(l,e,r)&&(s.matches.push(t),s.matchElements.push(l))}),o=this.validateSelector(t,e,this.matches,this.matchElements),l=F(l);if(o)return this.prepared.name=o.name,this.prepared.axis=o.axis,this.prepared.edges=o.edges,this.collectEventTargets(t,e,i,"down"),this.pointerDown(t,e,i,r,o);this.downTimes[c]=(new Date).getTime(),this.downTargets[c]=i,p(this.downPointer,t),f(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,this.collectEventTargets(t,e,i,"down")}},pointerDown:function(t,e,n,i,r){if(r||this.inertiaStatus.active||!this.pointerWasMoved||!this.prepared.name){this.pointerIsDown=!0,this.downEvent=e;var o,s=this.addPointer(t);if(this.pointerIds.length>1&&this.target._element===this.element){var a=nt(r||this.target.getAction(t,e,this,this.element),this.target);q(this.target,this.element,a)&&(o=a),this.prepared.name=null}else if(!this.prepared.name){var l=Dt.get(i);l&&!z(l,i,n)&&j(l,i,n)&&(o=nt(r||l.getAction(t,e,this,i),l))&&q(l,i,o)&&(this.target=l,this.element=i)}var c=this.target,u=c&&c.options;if(!c||!r&&this.prepared.name)this.inertiaStatus.active&&i===this.element&&nt(c.getAction(t,e,this,this.element),c).name===this.prepared.name&&(Xt(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(e,c,this.element));else{if(o=o||nt(r||c.getAction(t,e,this,i),c,this.element),this.setEventXY(this.startCoords,this.pointers),!o)return;u.styleCursor&&(c._doc.documentElement.style.cursor=Z(o)),this.resizeAxes="resize"===o.name?o.axis:null,"gesture"===o&&this.pointerIds.length<2&&(o=null),this.prepared.name=o.name,this.prepared.axis=o.axis,this.prepared.edges=o.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[s]=(new Date).getTime(),this.downTargets[s]=n,p(this.downPointer,t),f(this.prevCoords,this.startCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(e,c,this.element)}}else this.checkAndPreventDefault(e,this.target,this.element)},setModifications:function(t,e){var n=this.target,i=!0,r=W(n,this.prepared.name)&&(!n.options[this.prepared.name].snap.endOnly||e),o=B(n,this.prepared.name)&&(!n.options[this.prepared.name].restrict.endOnly||e);return r?this.setSnapping(t):this.snapStatus.locked=!1,o?this.setRestriction(t):this.restrictStatus.restricted=!1,r&&this.snapStatus.locked&&!this.snapStatus.changed?i=o&&this.restrictStatus.restricted&&this.restrictStatus.changed:o&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(i=!1),i},setStartOffsets:function(t,e,n){var i,r,o=e.getRect(n),s=I(e,n),a=e.options[this.prepared.name].snap,l=e.options[this.prepared.name].restrict;o?(this.startOffset.left=this.startCoords.page.x-o.left,this.startOffset.top=this.startCoords.page.y-o.top,this.startOffset.right=o.right-this.startCoords.page.x,this.startOffset.bottom=o.bottom-this.startCoords.page.y,i="width"in o?o.width:o.right-o.left,r="height"in o?o.height:o.bottom-o.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var c=a&&"startCoords"===a.offset?{x:this.startCoords.page.x-s.x,y:this.startCoords.page.y-s.y}:a&&a.offset||{x:0,y:0};if(o&&a&&a.relativePoints&&a.relativePoints.length)for(var u=0;u<a.relativePoints.length;u++)this.snapOffsets.push({x:this.startOffset.left-i*a.relativePoints[u].x+c.x,y:this.startOffset.top-r*a.relativePoints[u].y+c.y});else this.snapOffsets.push(c);o&&l.elementRect?(this.restrictOffset.left=this.startOffset.left-i*l.elementRect.left,this.restrictOffset.top=this.startOffset.top-r*l.elementRect.top,this.restrictOffset.right=this.startOffset.right-i*(1-l.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-r*(1-l.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(t,e,n){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===t.name?2:1)||(-1===ut(Mt,this)&&Mt.push(this),this.prepared.name||this.setEventXY(this.startCoords,this.pointers),this.prepared.name=t.name,this.prepared.axis=t.axis,this.prepared.edges=t.edges,this.target=e,this.element=n,this.setStartOffsets(t.name,e,n),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(t,e,i,r,o){if(this.inertiaStatus.active){var s=this.inertiaStatus.upCoords.page,a=this.inertiaStatus.upCoords.client,l={pageX:s.x+this.inertiaStatus.sx,pageY:s.y+this.inertiaStatus.sy,clientX:a.x+this.inertiaStatus.sx,clientY:a.y+this.inertiaStatus.sy};this.setEventXY(this.curCoords,[l])}else this.recordPointer(t),this.setEventXY(this.curCoords,this.pointers);var c,u,h=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,d=this.mouse?0:ut(this.pointerIds,x(t));if(this.pointerIsDown&&!this.pointerWasMoved&&(c=this.curCoords.client.x-this.startCoords.client.x,u=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=kt(c,u)>Yt),h||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[d]),this.collectEventTargets(t,e,i,"move")),this.pointerIsDown)if(h&&this.pointerWasMoved&&!o)this.checkAndPreventDefault(e,this.target,this.element);else if(g(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||t instanceof Q&&/inertiastart/.test(t.type))){if(!this.interacting()&&(g(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){var p=Math.abs(c),m=Math.abs(u),v=this.target.options.drag.axis,y=p>m?"x":p<m?"y":"xy";if("xy"!==y&&"xy"!==v&&v!==y){this.prepared.name=null;for(var _=i;n(_);){var b=Dt.get(_);if(b&&b!==this.target&&!b.options.drag.manualStart&&"drag"===b.getAction(this.downPointer,this.downEvent,this,_).name&&$(y,b)){this.prepared.name="drag",this.target=b,this.element=_;break}_=F(_)}if(!this.prepared.name){var w=this;for(_=i;n(_);){var S=Dt.forEachSelector(function(t,e,n){var r=mt?n.querySelectorAll(e):void 0;if(t!==w.target)return H(t,i)&&!t.options.drag.manualStart&&!z(t,_,i)&&j(t,_,i)&&dt(_,e,r)&&"drag"===t.getAction(w.downPointer,w.downEvent,w,_).name&&$(y,t)&&q(t,_,"drag")?t:void 0});if(S){this.prepared.name="drag",this.target=S,this.element=_;break}_=F(_)}}}}var k=!!this.prepared.name&&!this.interacting();if(k&&(this.target.options[this.prepared.name].manualStart||!q(this.target,this.element,this.prepared)))return void this.stop(e);this.prepared.name&&this.target&&(k&&this.start(this.prepared,this.target,this.element),(this.setModifications(this.curCoords.page,o)||k)&&(this.prevEvent=this[this.prepared.name+"Move"](e)),this.checkAndPreventDefault(e,this.target,this.element))}f(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&this.autoScrollMove(t)}},dragStart:function(t){var e=new Q(this,t,"drag","start",this.element);this.dragging=!0,this.target.fire(e),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var n=this.getDropEvents(t,e);return n.activate&&this.fireActiveDrops(n.activate),e},dragMove:function(t){var e=this.target,n=new Q(this,t,"drag","move",this.element),i=this.element,r=this.getDrop(n,t,i);this.dropTarget=r.dropzone,this.dropElement=r.element;var o=this.getDropEvents(t,n);return e.fire(n),o.leave&&this.prevDropTarget.fire(o.leave),o.enter&&this.dropTarget.fire(o.enter),o.move&&this.dropTarget.fire(o.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,n},resizeStart:function(t){var e=new Q(this,t,"resize","start",this.element);if(this.prepared.edges){var n=this.target.getRect(this.element);if(this.target.options.resize.square||this.target.options.resize.preserveAspectRatio){var i=d({},this.prepared.edges);i.top=i.top||i.left&&!i.bottom,i.left=i.left||i.top&&!i.right,i.bottom=i.bottom||i.right&&!i.top,i.right=i.right||i.bottom&&!i.left,this.prepared._linkedEdges=i}else this.prepared._linkedEdges=null;this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=n.width/n.height),this.resizeRects={start:n,current:d({},n),restricted:d({},n),previous:d({},n),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},e.rect=this.resizeRects.restricted,e.deltaRect=this.resizeRects.delta}return this.target.fire(e),this.resizing=!0,e},resizeMove:function(t){var e=new Q(this,t,"resize","move",this.element),n=this.prepared.edges,i=this.target.options.resize.invert,r="reposition"===i||"negate"===i;if(n){var o=e.dx,s=e.dy,a=this.resizeRects.start,l=this.resizeRects.current,c=this.resizeRects.restricted,u=this.resizeRects.delta,h=d(this.resizeRects.previous,c),p=n;if(this.target.options.resize.preserveAspectRatio){var f=this.resizeStartAspectRatio;n=this.prepared._linkedEdges,p.left&&p.bottom||p.right&&p.top?s=-o/f:p.left||p.right?s=o/f:(p.top||p.bottom)&&(o=s*f)}else this.target.options.resize.square&&(n=this.prepared._linkedEdges,p.left&&p.bottom||p.right&&p.top?s=-o:p.left||p.right?s=o:(p.top||p.bottom)&&(o=s));if(n.top&&(l.top+=s),n.bottom&&(l.bottom+=s),n.left&&(l.left+=o),n.right&&(l.right+=o),r){if(d(c,l),"reposition"===i){var m;c.top>c.bottom&&(m=c.top,c.top=c.bottom,c.bottom=m),c.left>c.right&&(m=c.left,c.left=c.right,c.right=m)}}else c.top=Math.min(l.top,a.bottom),c.bottom=Math.max(l.bottom,a.top),c.left=Math.min(l.left,a.right),c.right=Math.max(l.right,a.left);c.width=c.right-c.left,c.height=c.bottom-c.top;for(var g in c)u[g]=c[g]-h[g];e.edges=this.prepared.edges,e.rect=c,e.deltaRect=u}return this.target.fire(e),e},gestureStart:function(t){var e=new Q(this,t,"gesture","start",this.element);return e.ds=0,this.gesture.startDistance=this.gesture.prevDistance=e.distance,this.gesture.startAngle=this.gesture.prevAngle=e.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(e),e},gestureMove:function(t){if(!this.pointerIds.length)return this.prevEvent;var e;return e=new Q(this,t,"gesture","move",this.element),e.ds=e.scale-this.gesture.scale,this.target.fire(e),this.gesture.prevAngle=e.angle,this.gesture.prevDistance=e.distance,e.scale===1/0||null===e.scale||void 0===e.scale||isNaN(e.scale)||(this.gesture.scale=e.scale),e},pointerHold:function(t,e,n){this.collectEventTargets(t,e,n,"hold")},pointerUp:function(t,e,n,i){var r=this.mouse?0:ut(this.pointerIds,x(t));clearTimeout(this.holdTimers[r]),this.collectEventTargets(t,e,n,"up"),this.collectEventTargets(t,e,n,"tap"),this.pointerEnd(t,e,n,i),this.removePointer(t)},pointerCancel:function(t,e,n,i){var r=this.mouse?0:ut(this.pointerIds,x(t));clearTimeout(this.holdTimers[r]),this.collectEventTargets(t,e,n,"cancel"),this.pointerEnd(t,e,n,i),this.removePointer(t)},ie8Dblclick:function(t,e,n){this.prevTap&&e.clientX===this.prevTap.clientX&&e.clientY===this.prevTap.clientY&&n===this.prevTap.target&&(this.downTargets[0]=n,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(t,e,n,"tap"))},pointerEnd:function(t,e,n,i){var r,o=this.target,s=o&&o.options,a=s&&this.prepared.name&&s[this.prepared.name].inertia,l=this.inertiaStatus;if(this.interacting()){if(l.active&&!l.ending)return;var c,u=(new Date).getTime(),h=!1,p=!1,m=!1,g=W(o,this.prepared.name)&&s[this.prepared.name].snap.endOnly,v=B(o,this.prepared.name)&&s[this.prepared.name].restrict.endOnly,y=0,_=0;if(c=this.dragging?"x"===s.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===s.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,h=a&&a.enabled&&"gesture"!==this.prepared.name&&e!==l.startEvent,p=h&&u-this.curCoords.timeStamp<50&&c>a.minSpeed&&c>a.endSpeed,h&&!p&&(g||v)){var b={};b.snap=b.restrict=b,g&&(this.setSnapping(this.curCoords.page,b),b.locked&&(y+=b.dx,_+=b.dy)),v&&(this.setRestriction(this.curCoords.page,b),b.restricted&&(y+=b.dx,_+=b.dy)),(y||_)&&(m=!0)}if(p||m){if(f(l.upCoords,this.curCoords),this.pointers[0]=l.startEvent=new Q(this,e,this.prepared.name,"inertiastart",this.element),l.t0=u,o.fire(l.startEvent),p){l.vx0=this.pointerDelta.client.vx,l.vy0=this.pointerDelta.client.vy,l.v0=c,this.calcInertia(l);var w,x=d({},this.curCoords.page),S=I(o,this.element);if(x.x=x.x+l.xe-S.x,x.y=x.y+l.ye-S.y,w={useStatusXY:!0,x:x.x,y:x.y,dx:0,dy:0,snap:null},w.snap=w,y=_=0,g){var k=this.setSnapping(this.curCoords.page,w);k.locked&&(y+=k.dx,_+=k.dy)}if(v){var C=this.setRestriction(this.curCoords.page,w);C.restricted&&(y+=C.dx,_+=C.dy)}l.modifiedXe+=y,l.modifiedYe+=_,l.i=Vt(this.boundInertiaFrame)}else l.smoothEnd=!0,l.xe=y,l.ye=_,l.sx=l.sy=0,l.i=Vt(this.boundSmoothEndFrame);return void(l.active=!0)}(g||v)&&this.pointerMove(t,e,n,i,!0)}if(this.dragging){r=new Q(this,e,"drag","end",this.element);var T=this.element,D=this.getDrop(r,e,T);this.dropTarget=D.dropzone,this.dropElement=D.element;var M=this.getDropEvents(e,r);M.leave&&this.prevDropTarget.fire(M.leave),M.enter&&this.dropTarget.fire(M.enter),M.drop&&this.dropTarget.fire(M.drop),M.deactivate&&this.fireActiveDrops(M.deactivate),o.fire(r)}else this.resizing?(r=new Q(this,e,"resize","end",this.element),o.fire(r)):this.gesturing&&(r=new Q(this,e,"gesture","end",this.element),o.fire(r));this.stop(e)},collectDrops:function(t){var e,i=[],r=[];for(t=t||this.element,e=0;e<Dt.length;e++)if(Dt[e].options.drop.enabled){var o=Dt[e],s=o.options.drop.accept;if(!(n(s)&&s!==t||u(s)&&!dt(t,s)))for(var a=o.selector?o._context.querySelectorAll(o.selector):[o._element],l=0,c=a.length;l<c;l++){var h=a[l];h!==t&&(i.push(o),r.push(h))}}return{dropzones:i,elements:r}},fireActiveDrops:function(t){var e,n,i,r;for(e=0;e<this.activeDrops.dropzones.length;e++)n=this.activeDrops.dropzones[e],(i=this.activeDrops.elements[e])!==r&&(t.target=i,n.fire(t)),r=i},setActiveDrops:function(t){var e=this.collectDrops(t,!0);this.activeDrops.dropzones=e.dropzones,this.activeDrops.elements=e.elements,this.activeDrops.rects=[];for(var n=0;n<this.activeDrops.dropzones.length;n++)this.activeDrops.rects[n]=this.activeDrops.dropzones[n].getRect(this.activeDrops.elements[n])},getDrop:function(t,e,n){var i=[];Et&&this.setActiveDrops(n);for(var r=0;r<this.activeDrops.dropzones.length;r++){var o=this.activeDrops.dropzones[r],s=this.activeDrops.elements[r],a=this.activeDrops.rects[r];i.push(o.dropCheck(t,e,this.target,n,s,a)?s:null)}var l=V(i);return{dropzone:this.activeDrops.dropzones[l]||null,element:this.activeDrops.elements[l]||null}},getDropEvents:function(t,e){var n={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(n.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dragleave"},e.dragLeave=this.prevDropElement,e.prevDropzone=this.prevDropTarget),this.dropTarget&&(n.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dragenter"},e.dragEnter=this.dropElement,e.dropzone=this.dropTarget)),"dragend"===e.type&&this.dropTarget&&(n.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"drop"},e.dropzone=this.dropTarget),"dragstart"===e.type&&(n.activate={target:null,dropzone:null,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dropactivate"}),"dragend"===e.type&&(n.deactivate={target:null,dropzone:null,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dropdeactivate"}),"dragmove"===e.type&&this.dropTarget&&(n.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,dragmove:e,timeStamp:e.timeStamp,type:"dropmove"},e.dropzone=this.dropTarget),n},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target=this.element=null,this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(t){if(this.interacting()){It.stop(),this.matches=[],this.matchElements=[];var e=this.target;e.options.styleCursor&&(e._doc.documentElement.style.cursor=""),t&&a(t.preventDefault)&&this.checkAndPreventDefault(t,e,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}this.clearTargets(),this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;for(var n=0;n<this.pointers.length;n++)-1===ut(this.pointerIds,x(this.pointers[n]))&&this.pointers.splice(n,1)},inertiaFrame:function(){var t=this.inertiaStatus,e=this.target.options[this.prepared.name].inertia.resistance,n=(new Date).getTime()/1e3-t.t0;if(n<t.te){var i=1-(Math.exp(-e*n)-t.lambda_v0)/t.one_ve_v0;if(t.modifiedXe===t.xe&&t.modifiedYe===t.ye)t.sx=t.xe*i,t.sy=t.ye*i;else{var r=P(0,0,t.xe,t.ye,t.modifiedXe,t.modifiedYe,i);t.sx=r.x,t.sy=r.y}this.pointerMove(t.startEvent,t.startEvent),t.i=Vt(this.boundInertiaFrame)}else t.ending=!0,t.sx=t.modifiedXe,t.sy=t.modifiedYe,this.pointerMove(t.startEvent,t.startEvent),this.pointerEnd(t.startEvent,t.startEvent),t.active=t.ending=!1},smoothEndFrame:function(){var t=this.inertiaStatus,e=(new Date).getTime()-t.t0,n=this.target.options[this.prepared.name].inertia.smoothEndDuration;e<n?(t.sx=O(e,0,t.xe,n),t.sy=O(e,0,t.ye,n),this.pointerMove(t.startEvent,t.startEvent),t.i=Vt(this.boundSmoothEndFrame)):(t.ending=!0,t.sx=t.xe,t.sy=t.ye,this.pointerMove(t.startEvent,t.startEvent),this.pointerEnd(t.startEvent,t.startEvent),t.smoothEnd=t.active=t.ending=!1)},addPointer:function(t){var e=x(t),n=this.mouse?0:ut(this.pointerIds,e);return-1===n&&(n=this.pointerIds.length),this.pointerIds[n]=e,this.pointers[n]=t,n},removePointer:function(t){var e=x(t),n=this.mouse?0:ut(this.pointerIds,e);-1!==n&&(this.pointers.splice(n,1),this.pointerIds.splice(n,1),this.downTargets.splice(n,1),this.downTimes.splice(n,1),this.holdTimers.splice(n,1))},recordPointer:function(t){var e=this.mouse?0:ut(this.pointerIds,x(t));-1!==e&&(this.pointers[e]=t)},collectEventTargets:function(t,e,i,r){var o=this.mouse?0:ut(this.pointerIds,x(t));if("tap"!==r||!this.pointerWasMoved&&this.downTargets[o]&&this.downTargets[o]===i){for(var s=[],a=[],l=i;l;)ot.isSet(l)&&ot(l)._iEvents[r]&&(s.push(ot(l)),a.push(l)),Dt.forEachSelector(function(t,e,o){var c=mt?o.querySelectorAll(e):void 0;t._iEvents[r]&&n(l)&&H(t,l)&&!z(t,l,i)&&j(t,l,i)&&dt(l,e,c)&&(s.push(t),a.push(l))}),l=F(l);(s.length||"tap"===r)&&this.firePointers(t,e,i,s,a,r)}},firePointers:function(t,e,n,i,r,o){var s,a,l,c=this.mouse?0:ut(this.pointerIds,x(t)),h={};for("doubletap"===o?h=t:(p(h,e),e!==t&&p(h,t),h.preventDefault=J,h.stopPropagation=Q.prototype.stopPropagation,h.stopImmediatePropagation=Q.prototype.stopImmediatePropagation,h.interaction=this,h.timeStamp=(new Date).getTime(),h.originalEvent=e,h.originalPointer=t,h.type=o,h.pointerId=x(t),h.pointerType=this.mouse?"mouse":Pt?u(t.pointerType)?t.pointerType:[,,"touch","pen","mouse"][t.pointerType]:"touch"),"tap"===o&&(h.dt=h.timeStamp-this.downTimes[c],a=h.timeStamp-this.tapTime,l=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===h.target&&a<500),h.double=l,this.tapTime=h.timeStamp),s=0;s<i.length&&(h.currentTarget=r[s],h.interactable=i[s],i[s].fire(h),!(h.immediatePropagationStopped||h.propagationStopped&&r[s+1]!==h.currentTarget));s++);if(l){var f={};d(f,h),f.dt=a,f.type="doubletap",this.collectEventTargets(f,e,n,"doubletap"),this.prevTap=f}else"tap"===o&&(this.prevTap=h)},validateSelector:function(t,e,n,i){for(var r=0,o=n.length;r<o;r++){var s=n[r],a=i[r],l=nt(s.getAction(t,e,this,a),s);if(l&&q(s,a,l))return this.target=s,this.element=a,l}},setSnapping:function(t,e){var n,i,r,o=this.target.options[this.prepared.name].snap,s=[];if((e=e||this.snapStatus).useStatusXY)i={x:e.x,y:e.y};else{var c=I(this.target,this.element);(i=d({},t)).x-=c.x,i.y-=c.y}e.realX=i.x,e.realY=i.y,i.x=i.x-this.inertiaStatus.resumeDx,i.y=i.y-this.inertiaStatus.resumeDy;for(var u=o.targets?o.targets.length:0,h=0;h<this.snapOffsets.length;h++){var p={x:i.x-this.snapOffsets[h].x,y:i.y-this.snapOffsets[h].y};for(r=0;r<u;r++)(n=a(o.targets[r])?o.targets[r](p.x,p.y,this):o.targets[r])&&s.push({x:l(n.x)?n.x+this.snapOffsets[h].x:p.x,y:l(n.y)?n.y+this.snapOffsets[h].y:p.y,range:l(n.range)?n.range:o.range})}var f={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(r=0,u=s.length;r<u;r++){var m=(n=s[r]).range,g=n.x-i.x,v=n.y-i.y,y=kt(g,v),_=y<=m;m===1/0&&f.inRange&&f.range!==1/0&&(_=!1),f.target&&!(_?f.inRange&&m!==1/0?y/m<f.distance/f.range:m===1/0&&f.range!==1/0||y<f.distance:!f.inRange&&y<f.distance)||(m===1/0&&(_=!0),f.target=n,f.distance=y,f.range=m,f.inRange=_,f.dx=g,f.dy=v,e.range=m)}var b;return f.target?(b=e.snappedX!==f.target.x||e.snappedY!==f.target.y,e.snappedX=f.target.x,e.snappedY=f.target.y):(b=!0,e.snappedX=NaN,e.snappedY=NaN),e.dx=f.dx,e.dy=f.dy,e.changed=b||f.inRange&&!e.locked,e.locked=f.inRange,e},setRestriction:function(t,e){var i,r=this.target,o=r&&r.options[this.prepared.name].restrict,s=o&&o.restriction;if(!s)return e;i=i=(e=e||this.restrictStatus).useStatusXY?{x:e.x,y:e.y}:d({},t),e.snap&&e.snap.locked&&(i.x+=e.snap.dx||0,i.y+=e.snap.dy||0),i.x-=this.inertiaStatus.resumeDx,i.y-=this.inertiaStatus.resumeDy,e.dx=0,e.dy=0,e.restricted=!1;var l,c,h;return u(s)&&!(s="parent"===s?F(this.element):"self"===s?r.getRect(this.element):R(this.element,s))?e:(a(s)&&(s=s(i.x,i.y,this.element)),n(s)&&(s=T(s)),l=s,s?"x"in s&&"y"in s?(c=Math.max(Math.min(l.x+l.width-this.restrictOffset.right,i.x),l.x+this.restrictOffset.left),h=Math.max(Math.min(l.y+l.height-this.restrictOffset.bottom,i.y),l.y+this.restrictOffset.top)):(c=Math.max(Math.min(l.right-this.restrictOffset.right,i.x),l.left+this.restrictOffset.left),h=Math.max(Math.min(l.bottom-this.restrictOffset.bottom,i.y),l.top+this.restrictOffset.top)):(c=i.x,h=i.y),e.dx=c-i.x,e.dy=h-i.y,e.changed=e.restrictedX!==c||e.restrictedY!==h,e.restricted=!(!e.dx&&!e.dy),e.restrictedX=c,e.restrictedY=h,e)},checkAndPreventDefault:function(t,e,n){if(e=e||this.target){var i=e.options,r=i.preventDefault;if("auto"!==r||!n||/^(input|select|textarea)$/i.test(t.target.nodeName))"always"!==r||t.preventDefault();else{if(/down|start/i.test(t.type)&&"drag"===this.prepared.name&&"xy"!==i.drag.axis)return;if(i[this.prepared.name]&&i[this.prepared.name].manualStart&&!this.interacting())return;t.preventDefault()}}},calcInertia:function(t){var e=this.target.options[this.prepared.name].inertia,n=e.resistance,i=-Math.log(e.endSpeed/t.v0)/n;t.x0=this.prevEvent.pageX,t.y0=this.prevEvent.pageY,t.t0=t.startEvent.timeStamp/1e3,t.sx=t.sy=0,t.modifiedXe=t.xe=(t.vx0-i)/n,t.modifiedYe=t.ye=(t.vy0-i)/n,t.te=i,t.lambda_v0=n/t.v0,t.one_ve_v0=1-e.endSpeed/t.v0},autoScrollMove:function(t){if(this.interacting()&&U(this.target,this.prepared.name))if(this.inertiaStatus.active)It.x=It.y=0;else{var e,n,r,o,s=this.target.options[this.prepared.name].autoScroll,a=s.container||k(this.element);if(i(a))o=t.clientX<It.margin,e=t.clientY<It.margin,n=t.clientX>a.innerWidth-It.margin,r=t.clientY>a.innerHeight-It.margin;else{var l=C(a);o=t.clientX<l.left+It.margin,e=t.clientY<l.top+It.margin,n=t.clientX>l.right-It.margin,r=t.clientY>l.bottom-It.margin}It.x=n?1:o?-1:0,It.y=r?1:e?-1:0,It.isScrolling||(It.margin=s.margin,It.speed=s.speed,It.start(this))}},_updateEventTargets:function(t,e){this._eventTarget=t,this._curEventTarget=e}},Q.prototype={preventDefault:e,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var Qt={},Jt=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer","autoScrollMove"],Zt=0,te=Jt.length;Zt<te;Zt++){var ee=Jt[Zt];Qt[ee]=K(ee)}Dt.indexOfElement=function(t,e){e=e||vt;for(var n=0;n<this.length;n++){var i=this[n];if(i.selector===t&&i._context===e||!i.selector&&i._element===t)return n}return-1},Dt.get=function(t,e){return this[this.indexOfElement(t,e&&e.context)]},Dt.forEachSelector=function(t){for(var e=0;e<this.length;e++){var n=this[e];if(n.selector){var i=t(n,n.selector,n._context,e,this);if(void 0!==i)return i}}},(st.prototype={setOnEvents:function(t,e){return"drop"===t?(a(e.ondrop)&&(this.ondrop=e.ondrop),a(e.ondropactivate)&&(this.ondropactivate=e.ondropactivate),a(e.ondropdeactivate)&&(this.ondropdeactivate=e.ondropdeactivate),a(e.ondragenter)&&(this.ondragenter=e.ondragenter),a(e.ondragleave)&&(this.ondragleave=e.ondragleave),a(e.ondropmove)&&(this.ondropmove=e.ondropmove)):(t="on"+t,a(e.onstart)&&(this[t+"start"]=e.onstart),a(e.onmove)&&(this[t+"move"]=e.onmove),a(e.onend)&&(this[t+"end"]=e.onend),a(e.oninertiastart)&&(this[t+"inertiastart"]=e.oninertiastart)),this},draggable:function(t){return s(t)?(this.options.drag.enabled=!1!==t.enabled,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.drag.axis=t.axis:null===t.axis&&delete this.options.drag.axis,this):c(t)?(this.options.drag.enabled=t,this):this.options.drag},setPerAction:function(t,e){for(var n in e)n in At[t]&&(s(e[n])?(this.options[t][n]=d(this.options[t][n]||{},e[n]),s(At.perAction[n])&&"enabled"in At.perAction[n]&&(this.options[t][n].enabled=!1!==e[n].enabled)):c(e[n])&&s(At.perAction[n])?this.options[t][n].enabled=e[n]:void 0!==e[n]&&(this.options[t][n]=e[n]))},dropzone:function(t){return s(t)?(this.options.drop.enabled=!1!==t.enabled,this.setOnEvents("drop",t),/^(pointer|center)$/.test(t.overlap)?this.options.drop.overlap=t.overlap:l(t.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(this.options.drop.accept=t.accept),"checker"in t&&(this.options.drop.checker=t.checker),this):c(t)?(this.options.drop.enabled=t,this):this.options.drop},dropCheck:function(t,e,n,i,r,o){var s=!1;if(!(o=o||this.getRect(r)))return!!this.options.drop.checker&&this.options.drop.checker(t,e,s,this,r,n,i);var a=this.options.drop.overlap;if("pointer"===a){var c,u,h=_(t),d=I(n,i);h.x+=d.x,h.y+=d.y,c=h.x>o.left&&h.x<o.right,u=h.y>o.top&&h.y<o.bottom,s=c&&u}var p=n.getRect(i);if("center"===a){var f=p.left+p.width/2,m=p.top+p.height/2;s=f>=o.left&&f<=o.right&&m>=o.top&&m<=o.bottom}return l(a)&&(s=Math.max(0,Math.min(o.right,p.right)-Math.max(o.left,p.left))*Math.max(0,Math.min(o.bottom,p.bottom)-Math.max(o.top,p.top))/(p.width*p.height)>=a),this.options.drop.checker&&(s=this.options.drop.checker(t,e,s,this,r,n,i)),s},dropChecker:function(t){return a(t)?(this.options.drop.checker=t,this):null===t?(delete this.options.getRect,this):this.options.drop.checker},accept:function(t){return n(t)?(this.options.drop.accept=t,this):h(t)?(this.options.drop.accept=t,this):null===t?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(t){return s(t)?(this.options.resize.enabled=!1!==t.enabled,this.setPerAction("resize",t),this.setOnEvents("resize",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.resize.axis=t.axis:null===t.axis&&(this.options.resize.axis=At.resize.axis),c(t.preserveAspectRatio)?this.options.resize.preserveAspectRatio=t.preserveAspectRatio:c(t.square)&&(this.options.resize.square=t.square),this):c(t)?(this.options.resize.enabled=t,this):this.options.resize},squareResize:function(t){return c(t)?(this.options.resize.square=t,this):null===t?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(t){return s(t)?(this.options.gesture.enabled=!1!==t.enabled,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):c(t)?(this.options.gesture.enabled=t,this):this.options.gesture},autoScroll:function(t){return s(t)?t=d({actions:["drag","resize"]},t):c(t)&&(t={actions:["drag","resize"],enabled:t}),this.setOptions("autoScroll",t)},snap:function(t){var e=this.setOptions("snap",t);return e===this?this:e.drag},setOptions:function(t,e){var n,i=e&&o(e.actions)?e.actions:["drag"];if(s(e)||c(e)){for(n=0;n<i.length;n++){var r=/resize/.test(i[n])?"resize":i[n];if(s(this.options[r])){var a=this.options[r][t];s(e)?(d(a,e),a.enabled=!1!==e.enabled,"snap"===t&&("grid"===a.mode?a.targets=[ot.createSnapGrid(d({offset:a.gridOffset||{x:0,y:0}},a.grid||{}))]:"anchor"===a.mode?a.targets=a.anchors:"path"===a.mode&&(a.targets=a.paths),"elementOrigin"in e&&(a.relativePoints=[e.elementOrigin]))):c(e)&&(a.enabled=e)}}return this}var l={},u=["drag","resize","gesture"];for(n=0;n<u.length;n++)t in At[u[n]]&&(l[u[n]]=this.options[u[n]][t]);return l},inertia:function(t){var e=this.setOptions("inertia",t);return e===this?this:e.drag},getAction:function(t,e,n,i){var r=this.defaultActionChecker(t,n,i);return this.options.actionChecker?this.options.actionChecker(t,e,r,this,i,n):r},defaultActionChecker:et,actionChecker:function(t){return a(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(t){return t=t||this._element,this.selector&&!n(t)&&(t=this._context.querySelector(this.selector)),T(t)},rectChecker:function(t){return a(t)?(this.getRect=t,this):null===t?(delete this.options.getRect,this):this.getRect},styleCursor:function(t){return c(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):c(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault},origin:function(t){return h(t)?(this.options.origin=t,this):s(t)?(this.options.origin=t,this):this.options.origin},deltaSource:function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource},restrict:function(t){if(!s(t))return this.setOptions("restrict",t);for(var e,n=["drag","resize","gesture"],i=0;i<n.length;i++){var r=n[i];if(r in t){var o=d({actions:[r],restriction:t[r]},t);e=this.setOptions("restrict",o)}}return e},context:function(){return this._context},_context:vt,ignoreFrom:function(t){return h(t)?(this.options.ignoreFrom=t,this):n(t)?(this.options.ignoreFrom=t,this):this.options.ignoreFrom},allowFrom:function(t){return h(t)?(this.options.allowFrom=t,this):n(t)?(this.options.allowFrom=t,this):this.options.allowFrom},element:function(){return this._element},fire:function(t){if(!t||!t.type||!ht($t,t.type))return this;var e,n,i,r="on"+t.type;if(t.type in this._iEvents)for(n=0,i=(e=this._iEvents[t.type]).length;n<i&&!t.immediatePropagationStopped;n++)e[n].name,e[n](t);if(a(this[r])&&(this[r].name,this[r](t)),t.type in Wt&&(e=Wt[t.type]))for(n=0,i=e.length;n<i&&!t.immediatePropagationStopped;n++)e[n].name,e[n](t);return this},on:function(t,e,n){var i;if(u(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),o(t)){for(i=0;i<t.length;i++)this.on(t[i],e,n);return this}if(s(t)){for(var r in t)this.on(r,t[r],e);return this}if("wheel"===t&&(t=jt),n=!!n,ht($t,t))t in this._iEvents?this._iEvents[t].push(e):this._iEvents[t]=[e];else if(this.selector){if(!Lt[t])for(Lt[t]={selectors:[],contexts:[],listeners:[]},i=0;i<Tt.length;i++)Gt.add(Tt[i],t,it),Gt.add(Tt[i],t,rt,!0);var a,l=Lt[t];for(a=l.selectors.length-1;a>=0&&(l.selectors[a]!==this.selector||l.contexts[a]!==this._context);a--);-1===a&&(a=l.selectors.length,l.selectors.push(this.selector),l.contexts.push(this._context),l.listeners.push([])),l.listeners[a].push([e,n])}else Gt.add(this._element,t,e,n);return this},off:function(t,e,n){var i;if(u(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),o(t)){for(i=0;i<t.length;i++)this.off(t[i],e,n);return this}if(s(t)){for(var r in t)this.off(r,t[r],e);return this}var a,l=-1;if(n=!!n,"wheel"===t&&(t=jt),ht($t,t))(a=this._iEvents[t])&&-1!==(l=ut(a,e))&&this._iEvents[t].splice(l,1);else if(this.selector){var c=Lt[t],h=!1;if(!c)return this;for(l=c.selectors.length-1;l>=0;l--)if(c.selectors[l]===this.selector&&c.contexts[l]===this._context){var d=c.listeners[l];for(i=d.length-1;i>=0;i--){var p=d[i][0],f=d[i][1];if(p===e&&f===n){d.splice(i,1),d.length||(c.selectors.splice(l,1),c.contexts.splice(l,1),c.listeners.splice(l,1),Gt.remove(this._context,t,it),Gt.remove(this._context,t,rt,!0),c.selectors.length||(Lt[t]=null)),h=!0;break}}if(h)break}}else Gt.remove(this._element,t,e,n);return this},set:function(t){s(t)||(t={}),this.options=d({},At.base);var e,n=["drag","drop","resize","gesture"],i=["draggable","dropzone","resizable","gesturable"],r=d(d({},At.perAction),t[o]||{});for(e=0;e<n.length;e++){var o=n[e];this.options[o]=d({},At[o]),this.setPerAction(o,r),this[i[e]](t[o])}var a=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker","styleCursor"];for(e=0,te=a.length;e<te;e++){var l=a[e];this.options[l]=At.base[l],l in t&&this[l](t[l])}return this},unset:function(){if(Gt.remove(this._element,"all"),u(this.selector))for(var t in Lt)for(var e=Lt[t],n=0;n<e.selectors.length;n++){e.selectors[n]===this.selector&&e.contexts[n]===this._context&&(e.selectors.splice(n,1),e.contexts.splice(n,1),e.listeners.splice(n,1),e.selectors.length||(Lt[t]=null)),Gt.remove(this._context,t,it),Gt.remove(this._context,t,rt,!0);break}else Gt.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),Dt.splice(ut(Dt,this),1),ot}}).snap=at(st.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),st.prototype.restrict=at(st.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),st.prototype.inertia=at(st.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),st.prototype.autoScroll=at(st.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),st.prototype.squareResize=at(st.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square"),st.prototype.accept=at(st.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead"),st.prototype.dropChecker=at(st.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead"),st.prototype.context=at(st.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead"),ot.isSet=function(t,e){return-1!==Dt.indexOfElement(t,e&&e.context)},ot.on=function(t,e,n){if(u(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),o(t)){for(var i=0;i<t.length;i++)ot.on(t[i],e,n);return ot}if(s(t)){for(var r in t)ot.on(r,t[r],e);return ot}return ht($t,t)?Wt[t]?Wt[t].push(e):Wt[t]=[e]:Gt.add(vt,t,e,n),ot},ot.off=function(t,e,n){if(u(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),o(t)){for(var i=0;i<t.length;i++)ot.off(t[i],e,n);return ot}if(s(t)){for(var r in t)ot.off(r,t[r],e);return ot}if(ht($t,t)){var a;t in Wt&&-1!==(a=ut(Wt[t],e))&&Wt[t].splice(a,1)}else Gt.remove(vt,t,e,n);return ot},ot.enableDragging=at(function(t){return null!==t&&void 0!==t?(zt.drag=t,ot):zt.drag},"interact.enableDragging is deprecated and will soon be removed."),ot.enableResizing=at(function(t){return null!==t&&void 0!==t?(zt.resize=t,ot):zt.resize},"interact.enableResizing is deprecated and will soon be removed."),ot.enableGesturing=at(function(t){return null!==t&&void 0!==t?(zt.gesture=t,ot):zt.gesture},"interact.enableGesturing is deprecated and will soon be removed."),ot.eventTypes=$t,ot.debug=function(){var t=Mt[0]||new X;return{interactions:Mt,target:t.target,dragging:t.dragging,resizing:t.resizing,gesturing:t.gesturing,prepared:t.prepared,matches:t.matches,matchElements:t.matchElements,prevCoords:t.prevCoords,startCoords:t.startCoords,pointerIds:t.pointerIds,pointers:t.pointers,addPointer:Qt.addPointer,removePointer:Qt.removePointer,recordPointer:Qt.recordPointer,snap:t.snapStatus,restrict:t.restrictStatus,inertia:t.inertiaStatus,downTime:t.downTimes[0],downEvent:t.downEvent,downPointer:t.downPointer,prevEvent:t.prevEvent,Interactable:st,interactables:Dt,pointerIsDown:t.pointerIsDown,defaultOptions:At,defaultActionChecker:et,actionCursors:Ht,dragMove:Qt.dragMove,resizeMove:Qt.resizeMove,gestureMove:Qt.gestureMove,pointerUp:Qt.pointerUp,pointerDown:Qt.pointerDown,pointerMove:Qt.pointerMove,pointerHover:Qt.pointerHover,eventTypes:$t,events:Gt,globalEvents:Wt,delegatedEvents:Lt,prefixedPropREs:Kt}},ot.getPointerAverage=M,ot.getTouchBBox=E,ot.getTouchDistance=L,ot.getTouchAngle=A,ot.getElementRect=T,ot.getElementClientRect=C,ot.matchesSelector=dt,ot.closest=R,ot.margin=at(function(t){return l(t)?(Ot=t,ot):Ot},"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead."),ot.supportsTouch=function(){return Nt},ot.supportsPointerEvent=function(){return Pt},ot.stop=function(t){for(var e=Mt.length-1;e>=0;e--)Mt[e].stop(t);return ot},ot.dynamicDrop=function(t){return c(t)?(Et=t,ot):Et},ot.pointerMoveTolerance=function(t){return l(t)?(Yt=t,this):Yt},ot.maxInteractions=function(t){return l(t)?(Ft=t,this):Ft},ot.createSnapGrid=function(t){return function(e,n){var i=0,r=0;s(t.offset)&&(i=t.offset.x,r=t.offset.y);var o=Math.round((e-i)/t.x),a=Math.round((n-r)/t.y);return{x:o*t.x+i,y:a*t.y+r,range:t.range}}},ct(vt),qt in Element.prototype&&a(Element.prototype[qt])||(mt=function(t,e,n){for(var i=0,r=(n=n||t.parentNode.querySelectorAll(e)).length;i<r;i++)if(n[i]===t)return!0;return!1}),function(){for(var e=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i)Vt=t[n[i]+"RequestAnimationFrame"],Xt=t[n[i]+"CancelAnimationFrame"]||t[n[i]+"CancelRequestAnimationFrame"];Vt||(Vt=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),r=setTimeout(function(){t(n+i)},i);return e=n+i,r}),Xt||(Xt=function(t){clearTimeout(t)})}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=ot),exports.interact=ot):"function"==typeof define&&define.amd?define("interact",function(){return ot}):t.interact=ot}}("undefined"==typeof window?void 0:window),function(t){function e(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function n(t,e){return wt.call(t,e)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(t){!1===gt.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function o(t,e){var n=!0;return h(function(){return n&&(r(t),n=!1),e.apply(this,arguments)},e)}function s(t,e){he[t]||(r(e),he[t]=!0)}function a(t,e){return function(n){return f(t.call(this,n),e)}}function l(){}function c(t,e){!1!==e&&E(t),d(this,t),this._d=new Date(+t._d)}function u(t){var e=S(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=gt.localeData(),this._bubble()}function h(t,e){for(var i in e)n(e,i)&&(t[i]=e[i]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e){var n,i,r;if(void 0!==e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),void 0!==e._i&&(t._i=e._i),void 0!==e._f&&(t._f=e._f),void 0!==e._l&&(t._l=e._l),void 0!==e._strict&&(t._strict=e._strict),void 0!==e._tzm&&(t._tzm=e._tzm),void 0!==e._isUTC&&(t._isUTC=e._isUTC),void 0!==e._offset&&(t._offset=e._offset),void 0!==e._pf&&(t._pf=e._pf),void 0!==e._locale&&(t._locale=e._locale),Lt.length>0)for(n in Lt)i=Lt[n],void 0!==(r=e[i])&&(t[i]=r);return t}function p(t){return 0>t?Math.ceil(t):Math.floor(t)}function f(t,e,n){for(var i=""+Math.abs(t),r=t>=0;i.length<e;)i="0"+i;return(r?n?"+":"":"-")+i}function m(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function g(t,e){var n;return e=P(e,t),t.isBefore(e)?n=m(t,e):(n=m(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function v(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(s(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=gt.duration(n,i),y(this,r,t),this}}function y(t,e,n,i){var r=e._milliseconds,o=e._days,s=e._months;i=null==i||i,r&&t._d.setTime(+t._d+r*n),o&&ht(t,"Date",ut(t,"Date")+o*n),s&&ct(t,ut(t,"Month")+s*n),i&&gt.updateOffset(t,o||s)}function _(t){return"[object Array]"===Object.prototype.toString.call(t)}function b(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function w(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&k(t[i])!==k(e[i]))&&s++;return s+o}function x(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=re[t]||oe[e]||e}return t}function S(t){var e,i,r={};for(i in t)n(t,i)&&(e=x(i))&&(r[e]=t[i]);return r}function k(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function C(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function T(t,e,n){return ot(gt([t,11,31+e-n]),e,n).week}function D(t){return M(t)?366:365}function M(t){return t%4==0&&t%100!=0||t%400==0}function E(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[St]<0||t._a[St]>11?St:t._a[kt]<1||t._a[kt]>C(t._a[xt],t._a[St])?kt:t._a[Ct]<0||t._a[Ct]>23?Ct:t._a[Tt]<0||t._a[Tt]>59?Tt:t._a[Dt]<0||t._a[Dt]>59?Dt:t._a[Mt]<0||t._a[Mt]>999?Mt:-1,t._pf._overflowDayOfYear&&(xt>e||e>kt)&&(e=kt),t._pf.overflow=e)}function L(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function A(t){return t?t.toLowerCase().replace("_","-"):t}function I(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=A(t[o]).split("-")).length,n=(n=A(t[o+1]))?n.split("-"):null;e>0;){if(i=N(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&w(r,n,!0)>=e-1)break;e--}o++}return null}function N(t){var e=null;if(!Et[t]&&At)try{e=gt.locale(),require("./locale/"+t),gt.locale(e)}catch(t){}return Et[t]}function P(t,e){return e._isUTC?gt(t).zone(e._offset||0):gt(t).local()}function O(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Y(t){var e,n,i=t.match(Ot);for(e=0,n=i.length;n>e;e++)i[e]=ue[i[e]]?ue[i[e]]:O(i[e]);return function(r){var o="";for(e=0;n>e;e++)o+=i[e]instanceof Function?i[e].call(r,t):i[e];return o}}function R(t,e){return t.isValid()?(e=F(e,t.localeData()),se[e]||(se[e]=Y(e)),se[e](t)):t.localeData().invalidDate()}function F(t,e){var n=5;for(Yt.lastIndex=0;n>=0&&Yt.test(t);)t=t.replace(Yt,function(t){return e.longDateFormat(t)||t}),Yt.lastIndex=0,n-=1;return t}function H(t,e){var n=e._strict;switch(t){case"Q":return Vt;case"DDDD":return Gt;case"YYYY":case"GGGG":case"gggg":return n?Kt:Ht;case"Y":case"G":case"g":return Jt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?Qt:zt;case"S":if(n)return Vt;case"SS":if(n)return Xt;case"SSS":if(n)return Gt;case"DDD":return Ft;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return $t;case"a":case"A":return e._locale._meridiemParse;case"X":return Ut;case"Z":case"ZZ":return Wt;case"T":return Bt;case"SSSS":return jt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?Xt:Rt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Rt;case"Do":return qt;default:return new RegExp(X(V(t.replace("\\",""))))}}function z(t){var e=(t=t||"").match(Wt)||[],n=((e[e.length-1]||[])+"").match(ne)||["-",0,0],i=60*n[1]+k(n[2]);return"+"===n[0]?-i:i}function j(t,e,n){var i,r=n._a;switch(t){case"Q":null!=e&&(r[St]=3*(k(e)-1));break;case"M":case"MM":null!=e&&(r[St]=k(e)-1);break;case"MMM":case"MMMM":null!=(i=n._locale.monthsParse(e))?r[St]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(r[kt]=k(e));break;case"Do":null!=e&&(r[kt]=k(parseInt(e,10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=k(e));break;case"YY":r[xt]=gt.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":r[xt]=k(e);break;case"a":case"A":n._isPm=n._locale.isPM(e);break;case"H":case"HH":case"h":case"hh":r[Ct]=k(e);break;case"m":case"mm":r[Tt]=k(e);break;case"s":case"ss":r[Dt]=k(e);break;case"S":case"SS":case"SSS":case"SSSS":r[Mt]=k(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=z(e);break;case"dd":case"ddd":case"dddd":null!=(i=n._locale.weekdaysParse(e))?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=k(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=gt.parseTwoDigitYear(e)}}function $(t){var n,i,r,o,s,a,l;null!=(n=t._w).GG||null!=n.W||null!=n.E?(s=1,a=4,i=e(n.GG,t._a[xt],ot(gt(),1,4).year),r=e(n.W,1),o=e(n.E,1)):(s=t._locale._week.dow,a=t._locale._week.doy,i=e(n.gg,t._a[xt],ot(gt(),s,a).year),r=e(n.w,1),null!=n.d?(o=n.d,s>o&&++r):o=null!=n.e?n.e+s:s),l=st(i,r,o,a,s),t._a[xt]=l.year,t._dayOfYear=l.dayOfYear}function W(t){var n,i,r,o,s=[];if(!t._d){for(r=U(t),t._w&&null==t._a[kt]&&null==t._a[St]&&$(t),t._dayOfYear&&(o=e(t._a[xt],r[xt]),t._dayOfYear>D(o)&&(t._pf._overflowDayOfYear=!0),i=et(o,0,t._dayOfYear),t._a[St]=i.getUTCMonth(),t._a[kt]=i.getUTCDate()),n=0;3>n&&null==t._a[n];++n)t._a[n]=s[n]=r[n];for(;7>n;n++)t._a[n]=s[n]=null==t._a[n]?2===n?1:0:t._a[n];t._d=(t._useUTC?et:tt).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()+t._tzm)}}function B(t){var e;t._d||(e=S(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],W(t))}function U(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function q(t){if(t._f!==gt.ISO_8601){t._a=[],t._pf.empty=!0;var e,n,i,r,o,s=""+t._i,a=s.length,l=0;for(i=F(t._f,t._locale).match(Ot)||[],e=0;e<i.length;e++)r=i[e],(n=(s.match(H(r,t))||[])[0])&&((o=s.substr(0,s.indexOf(n))).length>0&&t._pf.unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),l+=n.length),ue[r]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(r),j(r,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(r);t._pf.charsLeftOver=a-l,s.length>0&&t._pf.unusedInput.push(s),t._isPm&&t._a[Ct]<12&&(t._a[Ct]+=12),!1===t._isPm&&12===t._a[Ct]&&(t._a[Ct]=0),W(t),E(t)}else K(t)}function V(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})}function X(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function G(t){var e,n,r,o,s;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)s=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=i(),e._f=t._f[o],q(e),L(e)&&(s+=e._pf.charsLeftOver,s+=10*e._pf.unusedTokens.length,e._pf.score=s,(null==r||r>s)&&(r=s,n=e));h(t,n||e)}function K(t){var e,n,i=t._i,r=Zt.exec(i);if(r){for(t._pf.iso=!0,e=0,n=te.length;n>e;e++)if(te[e][1].exec(i)){t._f=te[e][0]+(r[6]||" ");break}for(e=0,n=ee.length;n>e;e++)if(ee[e][1].exec(i)){t._f+=ee[e][0];break}i.match(Wt)&&(t._f+="Z"),q(t)}else t._isValid=!1}function Q(t){K(t),!1===t._isValid&&(delete t._isValid,gt.createFromInputFallback(t))}function J(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function Z(e){var n,i=e._i;i===t?e._d=new Date:b(i)?e._d=new Date(+i):null!==(n=It.exec(i))?e._d=new Date(+n[1]):"string"==typeof i?Q(e):_(i)?(e._a=J(i.slice(0),function(t){return parseInt(t,10)}),W(e)):"object"==typeof i?B(e):"number"==typeof i?e._d=new Date(i):gt.createFromInputFallback(e)}function tt(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return 1970>t&&a.setFullYear(t),a}function et(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function nt(t,e){if("string"==typeof t)if(isNaN(t)){if("number"!=typeof(t=e.weekdaysParse(t)))return null}else t=parseInt(t,10);return t}function it(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function rt(t,e,n){var i=gt.duration(t).abs(),r=bt(i.as("s")),o=bt(i.as("m")),s=bt(i.as("h")),a=bt(i.as("d")),l=bt(i.as("M")),c=bt(i.as("y")),u=r<ae.s&&["s",r]||1===o&&["m"]||o<ae.m&&["mm",o]||1===s&&["h"]||s<ae.h&&["hh",s]||1===a&&["d"]||a<ae.d&&["dd",a]||1===l&&["M"]||l<ae.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=n,it.apply({},u)}function ot(t,e,n){var i,r=n-e,o=n-t.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=gt(t).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function st(t,e,n,i,r){var o,s,a=et(t,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:r,o=r-a+(a>i?7:0)-(r>a?7:0),s=7*(e-1)+(n-r)+o+1,{year:s>0?t:t-1,dayOfYear:s>0?s:D(t-1)+s}}function at(e){var n=e._i,i=e._f;return e._locale=e._locale||gt.localeData(e._l),null===n||i===t&&""===n?gt.invalid({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),gt.isMoment(n)?new c(n,!0):(i?_(i)?G(e):q(e):Z(e),new c(e)))}function lt(t,e){var n,i;if(1===e.length&&_(e[0])&&(e=e[0]),!e.length)return gt();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function ct(t,e){var n;return"string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))?t:(n=Math.min(t.date(),C(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function ut(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function ht(t,e,n){return"Month"===e?ct(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function dt(t,e){return function(n){return null!=n?(ht(this,t,n),gt.updateOffset(this,e),this):ut(this,t)}}function pt(t){return 400*t/146097}function ft(t){return 146097*t/400}function mt(t){"undefined"==typeof ender&&(vt=_t.moment,_t.moment=t?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",gt):gt)}for(var gt,vt,yt,_t="undefined"!=typeof global?global:this,bt=Math.round,wt=Object.prototype.hasOwnProperty,xt=0,St=1,kt=2,Ct=3,Tt=4,Dt=5,Mt=6,Et={},Lt=[],At="undefined"!=typeof module&&module.exports,It=/^\/?Date\((\-?\d+)/i,Nt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Pt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ot=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Yt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Rt=/\d\d?/,Ft=/\d{1,3}/,Ht=/\d{1,4}/,zt=/[+\-]?\d{1,6}/,jt=/\d+/,$t=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Wt=/Z|[\+\-]\d\d:?\d\d/gi,Bt=/T/i,Ut=/[\+\-]?\d+(\.\d{1,3})?/,qt=/\d{1,2}/,Vt=/\d/,Xt=/\d\d/,Gt=/\d{3}/,Kt=/\d{4}/,Qt=/[+-]?\d{6}/,Jt=/[+-]?\d+/,Zt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,te=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ee=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ne=/([\+\-]|\d\d)/gi,ie=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),re={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},oe={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},se={},ae={s:45,m:45,h:22,d:26,M:11},le="DDD w W M D d".split(" "),ce="M D H h m s w W".split(" "),ue={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return f(this.year()%100,2)},YYYY:function(){return f(this.year(),4)},YYYYY:function(){return f(this.year(),5)},YYYYYY:function(){var t=this.year();return(t>=0?"+":"-")+f(Math.abs(t),6)},gg:function(){return f(this.weekYear()%100,2)},gggg:function(){return f(this.weekYear(),4)},ggggg:function(){return f(this.weekYear(),5)},GG:function(){return f(this.isoWeekYear()%100,2)},GGGG:function(){return f(this.isoWeekYear(),4)},GGGGG:function(){return f(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return k(this.milliseconds()/100)},SS:function(){return f(k(this.milliseconds()/10),2)},SSS:function(){return f(this.milliseconds(),3)},SSSS:function(){return f(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+f(k(t/60),2)+":"+f(k(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+f(k(t/60),2)+f(k(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},he={},de=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];le.length;)yt=le.pop(),ue[yt+"o"]=function(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}(ue[yt],yt);for(;ce.length;)yt=ce.pop(),ue[yt+yt]=a(ue[yt],2);for(ue.DDDD=a(ue.DDD,3),h(l.prototype,{set:function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=gt.utc([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=gt([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return ot(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(gt=function(e,n,r,o){var s;return"boolean"==typeof r&&(o=r,r=t),s={},s._isAMomentObject=!0,s._i=e,s._f=n,s._l=r,s._strict=o,s._isUTC=!1,s._pf=i(),at(s)}).suppressDeprecationWarnings=!1,gt.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i)}),gt.min=function(){return lt("isBefore",[].slice.call(arguments,0))},gt.max=function(){return lt("isAfter",[].slice.call(arguments,0))},gt.utc=function(e,n,r,o){var s;return"boolean"==typeof r&&(o=r,r=t),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=r,s._i=e,s._f=n,s._strict=o,s._pf=i(),at(s).utc()},gt.unix=function(t){return gt(1e3*t)},gt.duration=function(t,e){var i,r,o,s,a=t,l=null;return gt.isDuration(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(l=Nt.exec(t))?(i="-"===l[1]?-1:1,a={y:0,d:k(l[kt])*i,h:k(l[Ct])*i,m:k(l[Tt])*i,s:k(l[Dt])*i,ms:k(l[Mt])*i}):(l=Pt.exec(t))?(i="-"===l[1]?-1:1,o=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*i},a={y:o(l[2]),M:o(l[3]),d:o(l[4]),h:o(l[5]),m:o(l[6]),s:o(l[7]),w:o(l[8])}):"object"==typeof a&&("from"in a||"to"in a)&&(s=g(gt(a.from),gt(a.to)),a={},a.ms=s.milliseconds,a.M=s.months),r=new u(a),gt.isDuration(t)&&n(t,"_locale")&&(r._locale=t._locale),r},gt.version="2.8.3",gt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",gt.ISO_8601=function(){},gt.momentProperties=Lt,gt.updateOffset=function(){},gt.relativeTimeThreshold=function(e,n){return ae[e]!==t&&(n===t?ae[e]:(ae[e]=n,!0))},gt.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return gt.locale(t,e)}),gt.locale=function(t,e){var n;return t&&(n=void 0!==e?gt.defineLocale(t,e):gt.localeData(t))&&(gt.duration._locale=gt._locale=n),gt._locale._abbr},gt.defineLocale=function(t,e){return null!==e?(e.abbr=t,Et[t]||(Et[t]=new l),Et[t].set(e),gt.locale(t),Et[t]):(delete Et[t],null)},gt.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(t){return gt.localeData(t)}),gt.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return gt._locale;if(!_(t)){if(e=N(t))return e;t=[t]}return I(t)},gt.isMoment=function(t){return t instanceof c||null!=t&&n(t,"_isAMomentObject")},gt.isDuration=function(t){return t instanceof u},yt=de.length-1;yt>=0;--yt)!function(e){var n,i;if(0===e.indexOf("week"))n=7,i="day";else{if(0!==e.indexOf("month"))return;n=12,i="month"}gt[e]=function(r,o){var s,a,l=gt._locale[e],c=[];if("number"==typeof r&&(o=r,r=t),a=function(t){var e=gt().utc().set(i,t);return l.call(gt._locale,e,r||"")},null!=o)return a(o);for(s=0;n>s;s++)c.push(a(s));return c}}(de[yt]);gt.normalizeUnits=function(t){return x(t)},gt.invalid=function(t){var e=gt.utc(NaN);return null!=t?h(e._pf,t):e._pf.userInvalidated=!0,e},gt.parseZone=function(){return gt.apply(null,arguments).parseZone()},gt.parseTwoDigitYear=function(t){return k(t)+(k(t)>68?1900:2e3)},h(gt.fn=c.prototype,{clone:function(){return gt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=gt(this).utc();return 0<t.year()&&t.year()<=9999?R(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):R(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return L(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&w(this._a,(this._isUTC?gt.utc(this._a):gt(this._a)).toArray())>0)},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.zone(0,t)},local:function(t){return this._isUTC&&(this.zone(0,t),this._isUTC=!1,t&&this.add(this._dateTzOffset(),"m")),this},format:function(t){var e=R(this,t||gt.defaultFormat);return this.localeData().postformat(e)},add:v(1,"add"),subtract:v(-1,"subtract"),diff:function(t,e,n){var i,r,o,s=P(t,this),a=6e4*(this.zone()-s.zone());return"year"===(e=x(e))||"month"===e?(i=432e5*(this.daysInMonth()+s.daysInMonth()),r=12*(this.year()-s.year())+(this.month()-s.month()),o=this-gt(this).startOf("month")-(s-gt(s).startOf("month")),o-=6e4*(this.zone()-gt(this).startOf("month").zone()-(s.zone()-gt(s).startOf("month").zone())),r+=o/i,"year"===e&&(r/=12)):(i=this-s,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-a)/864e5:"week"===e?(i-a)/6048e5:i),n?r:p(r)},from:function(t,e){return gt.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(gt(),t)},calendar:function(t){var e=P(t||gt(),this).startOf("day"),n=this.diff(e,"days",!0),i=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this))},isLeapYear:function(){return M(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=nt(t,this.localeData()),this.add(t-e,"d")):e},month:dt("Month",!0),startOf:function(t){switch(t=x(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=x(t),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(t,e){return"millisecond"===(e=x(void 0!==e?e:"millisecond"))?(t=gt.isMoment(t)?t:gt(t),+this>+t):+this.clone().startOf(e)>+gt(t).startOf(e)},isBefore:function(t,e){return"millisecond"===(e=x(void 0!==e?e:"millisecond"))?+(t=gt.isMoment(t)?t:gt(t))>+this:+this.clone().startOf(e)<+gt(t).startOf(e)},isSame:function(t,e){return"millisecond"===(e=x(e||"millisecond"))?(t=gt.isMoment(t)?t:gt(t),+this==+t):+this.clone().startOf(e)==+P(t,this).startOf(e)},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=gt.apply(null,arguments),this>t?this:t}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return(t=gt.apply(null,arguments))>this?this:t}),zone:function(t,e){var n,i=this._offset||0;return null==t?this._isUTC?i:this._dateTzOffset():("string"==typeof t&&(t=z(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(n=this._dateTzOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.subtract(n,"m"),i!==t&&(!e||this._changeInProgress?y(this,gt.duration(i-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,gt.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?gt(t).zone():0,(this.zone()-t)%60==0},daysInMonth:function(){return C(this.year(),this.month())},dayOfYear:function(t){var e=bt((gt(this).startOf("day")-gt(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=ot(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=ot(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=ot(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return T(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return T(this.year(),t.dow,t.doy)},get:function(t){return t=x(t),this[t]()},set:function(t,e){return t=x(t),"function"==typeof this[t]&&this[t](e),this},locale:function(e){var n;return e===t?this._locale._abbr:(null!=(n=gt.localeData(e))&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Use moment().localeData() instead.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),gt.fn.millisecond=gt.fn.milliseconds=dt("Milliseconds",!1),gt.fn.second=gt.fn.seconds=dt("Seconds",!1),gt.fn.minute=gt.fn.minutes=dt("Minutes",!1),gt.fn.hour=gt.fn.hours=dt("Hours",!0),gt.fn.date=dt("Date",!0),gt.fn.dates=o("dates accessor is deprecated. Use date instead.",dt("Date",!0)),gt.fn.year=dt("FullYear",!0),gt.fn.years=o("years accessor is deprecated. Use year instead.",dt("FullYear",!0)),gt.fn.days=gt.fn.day,gt.fn.months=gt.fn.month,gt.fn.weeks=gt.fn.week,gt.fn.isoWeeks=gt.fn.isoWeek,gt.fn.quarters=gt.fn.quarter,gt.fn.toJSON=gt.fn.toISOString,h(gt.duration.fn=u.prototype,{_bubble:function(){var t,e,n,i=this._milliseconds,r=this._days,o=this._months,s=this._data,a=0;s.milliseconds=i%1e3,t=p(i/1e3),s.seconds=t%60,e=p(t/60),s.minutes=e%60,n=p(e/60),s.hours=n%24,r+=p(n/24),o+=p((r-=p(ft(a=p(pt(r)))))/30),r%=30,a+=p(o/12),o%=12,s.days=r,s.months=o,s.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return p(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12)},humanize:function(t){var e=rt(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=gt.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=gt.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=x(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,n;if("month"===(t=x(t))||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*pt(e),"month"===t?n:n/12;switch(e=this._days+ft(this._months/12),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:gt.fn.lang,locale:gt.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale}}),gt.duration.fn.toString=gt.duration.fn.toISOString;for(yt in ie)n(ie,yt)&&function(t){gt.duration.fn[t]=function(){return this._data[t]}}(yt.toLowerCase());gt.duration.fn.asMilliseconds=function(){return this.as("ms")},gt.duration.fn.asSeconds=function(){return this.as("s")},gt.duration.fn.asMinutes=function(){return this.as("m")},gt.duration.fn.asHours=function(){return this.as("h")},gt.duration.fn.asDays=function(){return this.as("d")},gt.duration.fn.asWeeks=function(){return this.as("weeks")},gt.duration.fn.asMonths=function(){return this.as("M")},gt.duration.fn.asYears=function(){return this.as("y")},gt.locale("en",{ordinal:function(t){var e=t%10;return t+(1===k(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),function(t){t(gt)}(function(t){return t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiem:function(t,e,n){return 12>t?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}),function(t){t(gt)}(function(t){var e={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};return t.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiem:function(t){return 12>t?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(t){return t.replace(/[۰-۹]/g,function(t){return n[t]}).replace(/،/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}),function(t){t(gt)}(function(t){var e={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},i=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&10>=t%100?3:t%100>=11?4:5},r={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},o=function(t){return function(e,n){var o=i(e),s=r[t][i(e)];return 2===o&&(s=s[n?0:1]),s.replace(/%d/i,e)}},s=["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"];return t.defineLocale("ar",{months:s,monthsShort:s,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiem:function(t){return 12>t?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(t){return t.replace(/[۰-۹]/g,function(t){return n[t]}).replace(/،/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}),function(t){t(gt)}(function(t){var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};return t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiem:function(t){return 4>t?"gecə":12>t?"səhər":17>t?"gündüz":"axşam"},ordinal:function(t){if(0===t)return t+"-ıncı";var n=t%10,i=t%100-n,r=t>=100?100:null;return t+(e[n]||e[i]||e[r])},week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){function e(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?n[1]:n[2]}function n(t,n,i){var r={mm:n?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:n?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"};return"m"===i?n?"хвіліна":"хвіліну":"h"===i?n?"гадзіна":"гадзіну":t+" "+e(r[i],+t)}return t.defineLocale("be",{months:function(t,e){return{nominative:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_"),accusative:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(e)?"accusative":"nominative"][t.month()]},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:function(t,e){return{nominative:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),accusative:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_")}[/\[ ?[Вв] ?(?:мінулую|наступную)? ?\] ?dddd/.test(e)?"accusative":"nominative"][t.day()]},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:n,mm:n,h:n,hh:n,d:"дзень",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiem:function(t){return 4>t?"ночы":12>t?"раніцы":17>t?"дня":"вечара"},ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-ы":t+"-і";case"D":return t+"-га";default:return t}},week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){return t.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-ев":0===n?t+"-ен":n>10&&20>n?t+"-ти":1===e?t+"-ви":2===e?t+"-ри":7===e||8===e?t+"-ми":t+"-ти"},week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){var e={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};return t.defineLocale("bn",{months:"জানুয়ারী_ফেবুয়ারী_মার্চ_এপ্রিল_মে_জুন_জুলাই_অগাস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপর_মে_জুন_জুল_অগ_সেপ্ট_অক্টো_নভ_ডিসেম্".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পত্তিবার_শুক্রুবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পত্তি_শুক্রু_শনি".split("_"),weekdaysMin:"রব_সম_মঙ্গ_বু_ব্রিহ_শু_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কএক সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(t){return t.replace(/[১২৩৪৫৬৭৮৯০]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiem:function(t){return 4>t?"রাত":10>t?"শকাল":17>t?"দুপুর":20>t?"বিকেল":"রাত"},week:{dow:0,doy:6}})}),function(t){t(gt)}(function(t){var e={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},n={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};return t.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(t){return t.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiem:function(t){return 4>t?"མཚན་མོ":10>t?"ཞོགས་ཀས":17>t?"ཉིན་གུང":20>t?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}})}),function(t){t(gt)}(function(e){function n(t,e,n){return t+" "+r({mm:"munutenn",MM:"miz",dd:"devezh"}[n],t)}function i(t){return t>9?i(t%10):t}function r(t,e){return 2===e?o(t):t}function o(e){var n={m:"v",b:"v",d:"z"};return n[e.charAt(0)]===t?e:n[e.charAt(0)]+e.substring(1)}return e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:n,h:"un eur",hh:"%d eur",d:"un devezh",dd:n,M:"ur miz",MM:n,y:"ur bloaz",yy:function(t){switch(i(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}},ordinal:function(t){return t+(1===t?"añ":"vet")},week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){function e(t,e,n){var i=t+" ";switch(n){case"m":return e?"jedna minuta":"jedne minute";case"mm":return i+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return i+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return i+=1===t?"dan":"dana";case"MM":return i+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return i+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}return t.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},ordinal:"%d.",week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){return t.defineLocale("ca",{months:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){function e(t){return t>1&&5>t&&1!=~~(t/10)}function n(t,n,i,r){var o=t+" ";switch(i){case"s":return n||r?"pár sekund":"pár sekundami";case"m":return n?"minuta":r?"minutu":"minutou";case"mm":return n||r?o+(e(t)?"minuty":"minut"):o+"minutami";case"h":return n?"hodina":r?"hodinu":"hodinou";case"hh":return n||r?o+(e(t)?"hodiny":"hodin"):o+"hodinami";case"d":return n||r?"den":"dnem";case"dd":return n||r?o+(e(t)?"dny":"dní"):o+"dny";case"M":return n||r?"měsíc":"měsícem";case"MM":return n||r?o+(e(t)?"měsíce":"měsíců"):o+"měsíci";case"y":return n||r?"rok":"rokem";case"yy":return n||r?o+(e(t)?"roky":"let"):o+"lety"}}var i="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),r="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");return t.defineLocale("cs",{months:i,monthsShort:r,monthsParse:function(t,e){var n,i=[];for(n=0;12>n;n++)i[n]=new RegExp("^"+t[n]+"$|^"+e[n]+"$","i");return i}(i,r),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinal:"%d.",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("cv",{months:"кăрлач_нарăс_пуш_ака_май_çĕртме_утă_çурла_авăн_юпа_чӳк_раштав".split("_"),monthsShort:"кăр_нар_пуш_ака_май_çĕр_утă_çур_ав_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кĕçнерникун_эрнекун_шăматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кĕç_эрн_шăм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кç_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ]",LLL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT",LLLL:"dddd, YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ĕнер] LT [сехетре]",nextWeek:"[Çитес] dddd LT [сехетре]",lastWeek:"[Иртнĕ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(t){return t+(/сехет$/i.exec(t)?"рен":/çул$/i.exec(t)?"тан":"ран")},past:"%s каялла",s:"пĕр-ик çеккунт",m:"пĕр минут",mm:"%d минут",h:"пĕр сехет",hh:"%d сехет",d:"пĕр кун",dd:"%d кун",M:"пĕр уйăх",MM:"%d уйăх",y:"пĕр çул",yy:"%d çул"},ordinal:"%d-мĕш",week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){return t.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinal:function(t){var e=t,n="",i=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return e>20?n=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(n=i[e]),t+n},week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){function e(t,e,n){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}return t.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},ordinal:"%d.",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){function e(t,e,n){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}return t.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},ordinal:"%d.",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(t,e){return/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(t,e,n){return t>11?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},isPM:function(t){return"μ"===(t+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,e){var n=this._calendarEl[t],i=e&&e.hours();return"function"==typeof n&&(n=n.apply(e)),n.replace("{}",i%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinal:function(t){return t+"η"},week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}),function(t){t(gt)}(function(t){return t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiem:function(t,e,n){return t>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinal:"%da",week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return/-MMM-/.test(i)?n[t.month()]:e[t.month()]},weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){function e(t,e,n,i){var r={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[t+" minuti",t+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[t+" tunni",t+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[t+" kuu",t+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[t+" aasta",t+" aastat"]};return e?r[n][2]?r[n][2]:r[n][1]:i?r[n][0]:r[n][1]}return t.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d päeva",M:e,MM:e,y:e,yy:e},ordinal:"%d.",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinal:"%d.",week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){var e={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},n={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};return t.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiem:function(t){return 12>t?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چندین ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(t){return t.replace(/[۰-۹]/g,function(t){return n[t]}).replace(/،/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"،")},ordinal:"%dم",week:{dow:6,doy:12}})}),function(t){t(gt)}(function(t){function e(t,e,i,r){var o="";switch(i){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"m":return r?"minuutin":"minuutti";case"mm":o=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":o=r?"tunnin":"tuntia";break;case"d":return r?"päivän":"päivä";case"dd":o=r?"päivän":"päivää";break;case"M":return r?"kuukauden":"kuukausi";case"MM":o=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":o=r?"vuoden":"vuotta"}return o=n(t,r)+" "+o}function n(t,e){return 10>t?e?r[t]:i[t]:t}var i="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),r=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",i[7],i[8],i[9]];return t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},ordinal:"%d.",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(t){return t+(1===t?"er":"")}})}),function(t){t(gt)}(function(t){return t.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(t){return t+(1===t?"er":"")},week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return"uns segundos"===t?"nuns segundos":"en "+t},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){return t.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY LT",LLLL:"dddd, D [ב]MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(t){return 2===t?"שעתיים":t+" שעות"},d:"יום",dd:function(t){return 2===t?"יומיים":t+" ימים"},M:"חודש",MM:function(t){return 2===t?"חודשיים":t+" חודשים"},y:"שנה",yy:function(t){return 2===t?"שנתיים":t+" שנים"}}})}),function(t){t(gt)}(function(t){var e={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return t.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(t){return t.replace(/[१२३४५६७८९०]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiem:function(t){return 4>t?"रात":10>t?"सुबह":17>t?"दोपहर":20>t?"शाम":"रात"},week:{dow:0,doy:6}})}),function(t){t(gt)}(function(t){function e(t,e,n){var i=t+" ";switch(n){case"m":return e?"jedna minuta":"jedne minute";case"mm":return i+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return i+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return i+=1===t?"dan":"dana";case"MM":return i+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return i+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}return t.defineLocale("hr",{months:"sječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},ordinal:"%d.",week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){function e(t,e,n,i){var r=t;switch(n){case"s":return i||e?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(i||e?" perc":" perce");case"mm":return r+(i||e?" perc":" perce");case"h":return"egy"+(i||e?" óra":" órája");case"hh":return r+(i||e?" óra":" órája");case"d":return"egy"+(i||e?" nap":" napja");case"dd":return r+(i||e?" nap":" napja");case"M":return"egy"+(i||e?" hónap":" hónapja");case"MM":return r+(i||e?" hónap":" hónapja");case"y":return"egy"+(i||e?" év":" éve");case"yy":return r+(i||e?" év":" éve")}return""}function n(t){return(t?"":"[múlt] ")+"["+i[this.day()]+"] LT[-kor]"}var i="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");return t.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiem:function(t,e,n){return 12>t?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},ordinal:"%d.",week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){return t.defineLocale("hy-am",{months:function(t,e){return{nominative:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_"),accusative:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(e)?"accusative":"nominative"][t.month()]},monthsShort:function(t){return"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_")[t.month()]},weekdays:function(t){return"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_")[t.day()]},weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., LT",LLLL:"dddd, D MMMM YYYY թ., LT"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiem:function(t){return 4>t?"գիշերվա":12>t?"առավոտվա":17>t?"ցերեկվա":"երեկոյան"},ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-ին":t+"-րդ";default:return t}},week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){return t.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(t){return 11>t?"pagi":15>t?"siang":19>t?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){function e(t){return t%100==11||t%10!=1}function n(t,n,i,r){var o=t+" ";switch(i){case"s":return n||r?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return n?"mínúta":"mínútu";case"mm":return e(t)?o+(n||r?"mínútur":"mínútum"):n?o+"mínúta":o+"mínútu";case"hh":return e(t)?o+(n||r?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":r?"dag":"degi";case"dd":return e(t)?n?o+"dagar":o+(r?"daga":"dögum"):n?o+"dagur":o+(r?"dag":"degi");case"M":return n?"mánuður":r?"mánuð":"mánuði";case"MM":return e(t)?n?o+"mánuðir":o+(r?"mánuði":"mánuðum"):n?o+"mánuður":o+(r?"mánuð":"mánuði");case"y":return n||r?"ár":"ári";case"yy":return e(t)?o+(n||r?"ár":"árum"):o+(n||r?"ár":"ári")}}return t.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinal:"%d.",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:"[lo scorso] dddd [alle] LT",sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日LT",LLLL:"YYYY年M月D日LT dddd"},meridiem:function(t){return 12>t?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}),function(t){t(gt)}(function(t){return t.defineLocale("ka",{months:function(t,e){return{nominative:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),accusative:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")}[/D[oD] *MMMM?/.test(e)?"accusative":"nominative"][t.month()]},monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:function(t,e){return{nominative:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),accusative:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_")}[/(წინა|შემდეგ)/.test(e)?"accusative":"nominative"][t.day()]},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(t){return/(წამი|წუთი|საათი|წელი)/.test(t)?t.replace(/ი$/,"ში"):t+"ში"},past:function(t){return/(წამი|წუთი|საათი|დღე|თვე)/.test(t)?t.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(t)?t.replace(/წელი$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinal:function(t){return 0===t?t:1===t?t+"-ლი":20>t||100>=t&&t%20==0||t%100==0?"მე-"+t:t+"-ე"},week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){return t.defineLocale("km",{months:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ថ្ងៃនៈ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 m분",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 LT",LLLL:"YYYY년 MMMM D일 dddd LT"},meridiem:function(t){return 12>t?"오전":"오후"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinal:"%d일",meridiemParse:/(오전|오후)/,isPM:function(t){return"오후"===t}})}),function(t){t(gt)}(function(t){function e(t,e,n){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?i[n][0]:i[n][1]}function n(t){if(t=parseInt(t,10),isNaN(t))return!1;if(0>t)return!0;if(10>t)return t>=4&&7>=t;if(100>t){var e=t%10,i=t/10;return n(0===e?i:e)}if(1e4>t){for(;t>=10;)t/=10;return n(t)}return t/=1e3,n(t)}return t.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(t){return n(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t},past:function(t){return n(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t},s:"e puer Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d Méint",y:e,yy:"%d Joer"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){function e(t,e,n,r){return e?i(n)[0]:r?i(n)[1]:i(n)[2]}function n(t){return t%10==0||t>10&&20>t}function i(t){return o[t].split("_")}function r(t,r,o,s){var a=t+" ";return 1===t?a+e(t,r,o[0],s):r?a+(n(t)?i(o)[1]:i(o)[0]):s?a+i(o)[1]:a+(n(t)?i(o)[1]:i(o)[2])}var o={m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"},s="sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_");return t.defineLocale("lt",{months:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:function(t,e){var n=-1===e.indexOf("dddd HH:mm"),i=s[t.day()];return n?i:i.substring(0,i.length-2)+"į"},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:function(t,e,n,i){return e?"kelios sekundės":i?"kelių sekundžių":"kelias sekundes"},m:e,mm:r,h:e,hh:r,d:e,dd:r,M:e,MM:r,y:e,yy:r},ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){function e(t,e,n){var i=t.split("_");return n?e%10==1&&11!==e?i[2]:i[3]:e%10==1&&11!==e?i[0]:i[1]}function n(t,n,r){return t+" "+e(i[r],t,n)}var i={mm:"minūti_minūtes_minūte_minūtes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mēnesi_mēnešus_mēnesis_mēneši",yy:"gadu_gadus_gads_gadi"};return t.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vēlāk",past:"%s agrāk",s:"dažas sekundes",m:"minūti",mm:n,h:"stundu",hh:n,d:"dienu",dd:n,M:"mēnesi",MM:n,y:"gadu",yy:n},ordinal:"%d.",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Во изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Во изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-ев":0===n?t+"-ен":n>10&&20>n?t+"-ти":1===e?t+"-ви":2===e?t+"-ри":7===e||8===e?t+"-ми":t+"-ти"},week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){return t.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiem:function(t){return 4>t?"രാത്രി":12>t?"രാവിലെ":17>t?"ഉച്ച കഴിഞ്ഞ്":20>t?"വൈകുന്നേരം":"രാത്രി"}})}),function(t){t(gt)}(function(t){var e={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return t.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%s नंतर",past:"%s पूर्वी",s:"सेकंद",m:"एक मिनिट",mm:"%d मिनिटे",h:"एक तास",hh:"%d तास",d:"एक दिवस",dd:"%d दिवस",M:"एक महिना",MM:"%d महिने",y:"एक वर्ष",yy:"%d वर्षे"},preparse:function(t){return t.replace(/[१२३४५६७८९०]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiem:function(t){return 4>t?"रात्री":10>t?"सकाळी":17>t?"दुपारी":20>t?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})}),function(t){t(gt)}(function(t){return t.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(t){return 11>t?"pagi":15>t?"tengahari":19>t?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){var e={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},n={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};return t.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_င်္ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_င်္ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(t){return t.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tirs_ons_tors_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"H.mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){var e={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return t.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आइ._सो._मङ्_बु._बि._शु._श.".split("_"),longDateFormat:{LT:"Aको h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(t){return t.replace(/[१२३४५६७८९०]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiem:function(t){return 3>t?"राती":10>t?"बिहान":15>t?"दिउँसो":18>t?"बेलुका":20>t?"साँझ":"राती"},calendar:{sameDay:"[आज] LT",nextDay:"[भोली] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडी",s:"केही समय",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");return t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,i){return/-MMM-/.test(i)?n[t.month()]:e[t.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){function e(t){return 5>t%10&&t%10>1&&~~(t/10)%10!=1}function n(t,n,i){var r=t+" ";switch(i){case"m":return n?"minuta":"minutę";case"mm":return r+(e(t)?"minuty":"minut");case"h":return n?"godzina":"godzinę";case"hh":return r+(e(t)?"godziny":"godzin");case"MM":return r+(e(t)?"miesiące":"miesięcy");case"yy":return r+(e(t)?"lata":"lat")}}var i="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),r="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");return t.defineLocale("pl",{months:function(t,e){return/D MMMM/.test(e)?r[t.month()]:i[t.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:n,mm:n,h:n,hh:n,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:n,y:"rok",yy:n},ordinal:"%d.",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [às] LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº"})}),function(t){t(gt)}(function(t){return t.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){function e(t,e,n){var i={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},r=" ";return(t%100>=20||t>=100&&t%100==0)&&(r=" de "),t+r+i[n]}return t.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:e,h:"o oră",hh:e,d:"o zi",dd:e,M:"o lună",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){function e(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?n[1]:n[2]}function n(t,n,i){var r={mm:n?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===i?n?"минута":"минуту":t+" "+e(r[i],+t)}return t.defineLocale("ru",{months:function(t,e){return{nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(e)?"accusative":"nominative"][t.month()]},monthsShort:function(t,e){return{nominative:"янв_фев_мар_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),accusative:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(e)?"accusative":"nominative"][t.month()]},weekdays:function(t,e){return{nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")}[/\[ ?[Вв] ?(?:прошлую|следующую)? ?\] ?dddd/.test(e)?"accusative":"nominative"][t.day()]},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(){switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:n,mm:n,h:"час",hh:n,d:"день",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(t){return/^(дня|вечера)$/.test(t)},meridiem:function(t){return 4>t?"ночи":12>t?"утра":17>t?"дня":"вечера"},ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-й";case"D":return t+"-го";case"w":case"W":return t+"-я";default:return t}},week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){function e(t){return t>1&&5>t}function n(t,n,i,r){var o=t+" ";switch(i){case"s":return n||r?"pár sekúnd":"pár sekundami";case"m":return n?"minúta":r?"minútu":"minútou";case"mm":return n||r?o+(e(t)?"minúty":"minút"):o+"minútami";case"h":return n?"hodina":r?"hodinu":"hodinou";case"hh":return n||r?o+(e(t)?"hodiny":"hodín"):o+"hodinami";case"d":return n||r?"deň":"dňom";case"dd":return n||r?o+(e(t)?"dni":"dní"):o+"dňami";case"M":return n||r?"mesiac":"mesiacom";case"MM":return n||r?o+(e(t)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return n||r?"rok":"rokom";case"yy":return n||r?o+(e(t)?"roky":"rokov"):o+"rokmi"}}var i="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),r="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");return t.defineLocale("sk",{months:i,monthsShort:r,monthsParse:function(t,e){var n,i=[];for(n=0;12>n;n++)i[n]=new RegExp("^"+t[n]+"$|^"+e[n]+"$","i");return i}(i,r),weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinal:"%d.",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){function e(t,e,n){var i=t+" ";switch(n){case"m":return e?"ena minuta":"eno minuto";case"mm":return i+=1===t?"minuta":2===t?"minuti":3===t||4===t?"minute":"minut";case"h":return e?"ena ura":"eno uro";case"hh":return i+=1===t?"ura":2===t?"uri":3===t||4===t?"ure":"ur";case"dd":return i+=1===t?"dan":"dni";case"MM":return i+=1===t?"mesec":2===t?"meseca":3===t||4===t?"mesece":"mesecev";case"yy":return i+=1===t?"leto":2===t?"leti":3===t||4===t?"leta":"let"}}return t.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejšnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"%s nazaj",s:"nekaj sekund",m:e,mm:e,h:e,hh:e,d:"en dan",dd:e,M:"en mesec",MM:e,y:"eno leto",yy:e},ordinal:"%d.",week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){return t.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),meridiem:function(t){return 12>t?"PD":"MD"},longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){var e={words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&4>=t?e[1]:e[2]},translate:function(t,n,i){var r=e.words[i];return 1===i.length?n?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};return t.defineLocale("sr-cyrl",{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],monthsShort:["јан.","феб.","мар.","апр.","мај","јун","јул","авг.","сеп.","окт.","нов.","дец."],weekdays:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],weekdaysShort:["нед.","пон.","уто.","сре.","чет.","пет.","суб."],weekdaysMin:["не","по","ут","ср","че","пе","су"],longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"дан",dd:e.translate,M:"месец",MM:e.translate,y:"годину",yy:e.translate},ordinal:"%d.",week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){var e={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&4>=t?e[1]:e[2]},translate:function(t,n,i){var r=e.words[i];return 1===i.length?n?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};return t.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","četvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","čet.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","če","pe","su"],longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mesec",MM:e.translate,y:"godinu",yy:e.translate},ordinal:"%d.",week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){return t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"dddd LT",lastWeek:"[Förra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"e":1===e?"a":2===e?"a":"e")},week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},ordinal:function(t){return t+"வது"},meridiem:function(t){return t>=6&&10>=t?" காலை":t>=10&&14>=t?" நண்பகல்":t>=14&&18>=t?" எற்பாடு":t>=18&&20>=t?" மாலை":t>=20&&24>=t?" இரவு":t>=0&&6>=t?" வைகறை":void 0},week:{dow:0,doy:6}})}),function(t){t(gt)}(function(t){return t.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"มกรา_กุมภา_มีนา_เมษา_พฤษภา_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),longDateFormat:{LT:"H นาฬิกา m นาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา LT",LLLL:"วันddddที่ D MMMM YYYY เวลา LT"},meridiem:function(t){return 12>t?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}),function(t){t(gt)}(function(t){return t.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinal:function(t){return t},week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};return t.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(t){if(0===t)return t+"'ıncı";var n=t%10,i=t%100-n,r=t>=100?100:null;return t+(e[n]||e[i]||e[r])},week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){return t.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}),function(t){t(gt)}(function(t){return t.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}),function(t){t(gt)}(function(t){function e(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?n[1]:n[2]}function n(t,n,i){var r={mm:"хвилина_хвилини_хвилин",hh:"година_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===i?n?"хвилина":"хвилину":"h"===i?n?"година":"годину":t+" "+e(r[i],+t)}function i(t){return function(){return t+"о"+(11===this.hours()?"б":"")+"] LT"}}return t.defineLocale("uk",{months:function(t,e){return{nominative:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),accusative:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_")}[/D[oD]? *MMMM?/.test(e)?"accusative":"nominative"][t.month()]},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:function(t,e){return{nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")}[/(\[[ВвУу]\]) ?dddd/.test(e)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]},weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., LT",LLLL:"dddd, D MMMM YYYY р., LT"},calendar:{sameDay:i("[Сьогодні "),nextDay:i("[Завтра "),lastDay:i("[Вчора "),nextWeek:i("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return i("[Минулої] dddd [").call(this);case 1:case 2:case 4:return i("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:n,mm:n,h:"годину",hh:n,d:"день",dd:n,M:"місяць",MM:n,y:"рік",yy:n},meridiem:function(t){return 4>t?"ночі":12>t?"ранку":17>t?"дня":"вечора"},ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-й";case"D":return t+"-го";default:return t}},week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){return t.defineLocale("uz",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})}),function(t){t(gt)}(function(t){return t.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY LT",LLLL:"dddd, D MMMM [năm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinal:function(t){return t},week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(t,e){var n=100*t+e;return 600>n?"凌晨":900>n?"早上":1130>n?"上午":1230>n?"中午":1800>n?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var e,n;return e=t().startOf("week"),n=this.unix()-e.unix()>=604800?"[下]":"[本]",0===this.minutes()?n+"dddAh点整":n+"dddAh点mm"},lastWeek:function(){var e,n;return e=t().startOf("week"),n=this.unix()<e.unix()?"[上]":"[本]",0===this.minutes()?n+"dddAh点整":n+"dddAh点mm"},sameElse:"LL"},ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"周";default:return t}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})}),function(t){t(gt)}(function(t){return t.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(t,e){var n=100*t+e;return 900>n?"早上":1130>n?"上午":1230>n?"中午":1800>n?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"週";default:return t}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}})}),gt.locale("en"),At?module.exports=gt:"function"==typeof define&&define.amd?(define("moment",function(t,e,n){return n.config&&n.config()&&!0===n.config().noGlobal&&(_t.moment=vt),gt}),mt(!0)):mt()}.call(this),function(){var t;(t=jQuery).fn.sieve=function(e){var n;return n=function(t){var e,n,i,r;for(r=[],n=0,i=t.length;i>n;n++)(e=t[n])&&r.push(e);return r},this.each(function(){var i,r,o;return i=t(this),(o=t.extend({searchInput:null,searchTemplate:"<div><label>Search: <input type='text'></label></div>",itemSelector:"tbody tr",textSelector:null,toggle:function(t,e){return t.toggle(e)},complete:function(){}},e)).searchInput||(r=t(o.searchTemplate),o.searchInput=r.find("input"),i.before(r)),o.searchInput.on("keyup.sieve change.sieve",function(){var e;return e=n(t(this).val().toLowerCase().split(/\s+/)),i.find(o.itemSelector).each(function(){var n,i,r,s,a,l,c;for(i=t(this),o.textSelector?(n=i.find(o.textSelector),a=n.text().toLowerCase()):a=i.text().toLowerCase(),r=!0,l=0,c=e.length;c>l;l++)s=e[l],r&&(r=a.indexOf(s)>=0);return o.toggle(i,r)}),o.complete()})})}}.call(this),function(t){"use strict";var e=function(){this.VERSION="3.0.0",this.AUTHOR="Revox",this.SUPPORT="support@revox.io",this.pageScrollElement="html, body",this.$body=t("body"),this.setUserOS(),this.setUserAgent()};e.prototype.setUserOS=function(){var t="";-1!=navigator.appVersion.indexOf("Win")&&(t="windows"),-1!=navigator.appVersion.indexOf("Mac")&&(t="mac"),-1!=navigator.appVersion.indexOf("X11")&&(t="unix"),-1!=navigator.appVersion.indexOf("Linux")&&(t="linux"),this.$body.addClass(t)},e.prototype.setUserAgent=function(){navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?this.$body.addClass("mobile"):(this.$body.addClass("desktop"),navigator.userAgent.match(/MSIE 9.0/)&&this.$body.addClass("ie9"))},e.prototype.isVisibleXs=function(){return!t("#pg-visible-xs").length&&this.$body.append('<div id="pg-visible-xs" class="visible-xs" />'),t("#pg-visible-xs").is(":visible")},e.prototype.isVisibleSm=function(){return!t("#pg-visible-sm").length&&this.$body.append('<div id="pg-visible-sm" class="visible-sm" />'),t("#pg-visible-sm").is(":visible")},e.prototype.isVisibleMd=function(){return!t("#pg-visible-md").length&&this.$body.append('<div id="pg-visible-md" class="visible-md" />'),t("#pg-visible-md").is(":visible")},e.prototype.isVisibleLg=function(){return!t("#pg-visible-lg").length&&this.$body.append('<div id="pg-visible-lg" class="visible-lg" />'),t("#pg-visible-lg").is(":visible")},e.prototype.getUserAgent=function(){return t("body").hasClass("mobile")?"mobile":"desktop"},e.prototype.setFullScreen=function(t){var e=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullscreen;if(e)e.call(t);else if(void 0!==window.ActiveXObject){var n=new ActiveXObject("WScript.Shell");null!==n&&n.SendKeys("{F11}")}},e.prototype.getColor=function(e,n){n=parseFloat(n)||1;var i=t(".pg-colors").length?t(".pg-colors"):t('<div class="pg-colors"></div>').appendTo("body"),r=(e=(i.find('[data-color="'+e+'"]').length?i.find('[data-color="'+e+'"]'):t('<div class="bg-'+e+'" data-color="'+e+'"></div>').appendTo(i)).css("background-color")).match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return"rgba("+r[1]+", "+r[2]+", "+r[3]+", "+n+")"},e.prototype.initSidebar=function(e){t('[data-pages="sidebar"]',e).each(function(){var e=t(this);e.sidebar(e.data())})},e.prototype.initDropDown=function(e){t(".dropdown-default",e).each(function(){var e=t(this).find(".dropdown-menu").siblings(".dropdown-toggle"),n=t(this).find(".dropdown-menu").actual("outerWidth");e.actual("outerWidth")<n?(e.width(n-0),t(this).find(".dropdown-menu").width(e.actual("outerWidth"))):t(this).find(".dropdown-menu").width(e.actual("outerWidth"))})},e.prototype.initFormGroupDefault=function(e){t(".form-group.form-group-default",e).click(function(){t(this).find("input").focus()}),this.initFormGroupDefaultRun||(t("body").on("focus",".form-group.form-group-default :input",function(){t(".form-group.form-group-default").removeClass("focused"),t(this).parents(".form-group").addClass("focused")}),t("body").on("blur",".form-group.form-group-default :input",function(){t(this).parents(".form-group").removeClass("focused"),t(this).val()?t(this).closest(".form-group").find("label").addClass("fade"):t(this).closest(".form-group").find("label").removeClass("fade")}),this.initFormGroupDefaultRun=!0),t(".form-group.form-group-default .checkbox, .form-group.form-group-default .radio",e).hover(function(){t(this).parents(".form-group").addClass("focused")},function(){t(this).parents(".form-group").removeClass("focused")})},e.prototype.initSlidingTabs=function(e){t('a[data-toggle="tab"]',e).on("show.bs.tab",function(e){var n=(e=t(e.target).parent().find("a[data-toggle=tab]")).data("target");void 0===n&&(n=e.attr("href")),t(n).is(".slide-left, .slide-right")&&(t(n).addClass("sliding"),setTimeout(function(){t(n).removeClass("sliding")},100))})},e.prototype.reponsiveTabs=function(){t('[data-init-reponsive-tabs="dropdownfx"]').each(function(){var e=t(this);e.addClass("hidden-sm-down");for(var n='<select class="cs-select cs-skin-slide full-width" data-init-plugin="cs-select">',i=1;i<=e.children("li").length;i++){var r=e.children("li:nth-child("+i+")"),o="";r.children("a").hasClass("active")&&(o="selected");var s=r.children("a").attr("href");"#"==s&&(s=r.children("a").attr("data-target")),n+='<option value="'+s+'" '+o+">",n+=r.children("a").text(),n+="</option>"}n+="</select>",e.after(n);var a=e.next()[0];t(a).on("change",function(n){t("option:selected",this);var i=this.value,r=e.find('a[data-target="'+i+'"]');0==r.length&&(r=e.find('a[data-target="'+i+'"]')),r.tab("show")}),t(a).wrap('<div class="nav-tab-dropdown cs-wrapper full-width hidden-md-up"></div>'),new SelectFx(a)})},e.prototype.initNotificationCenter=function(){t("body").on("click",".notification-list .dropdown-menu",function(t){t.stopPropagation()}),t("body").on("click",".toggle-more-details",function(e){var n=t(this).closest(".heading");n.closest(".heading").children(".more-details").stop().slideToggle("fast",function(){n.toggleClass("open")})})},e.prototype.initProgressBars=function(){t(window).on("load",function(){t(".progress-bar-indeterminate, .progress-circle-indeterminate, .mapplic-pin").hide().show(0)})},e.prototype.initInputFile=function(){t(document).on("change",".btn-file :file",function(){var e=t(this),n=e.get(0).files?e.get(0).files.length:1,i=e.val().replace(/\\/g,"/").replace(/.*\//,"");e.trigger("fileselect",[n,i])}),t(".btn-file :file").on("fileselect",function(e,n,i){var r=t(this).parents(".input-group").find(":text"),o=n>1?n+" files selected":i;r.length?r.val(o):t(this).parent().html(o)})},e.prototype.initHorizontalMenu=function(){function e(){var e=t("[data-pages-init='horizontal-menu']"),i=parseInt(e.data("hideExtraLi"))||0;if(0!=e.length){var r=e[0].getBoundingClientRect(),o=0,s=0;if(e.children("ul").children("li.more").remove(),e.children("ul").children("li").each(function(e){t(this).removeAttr("style"),o+=t(this).outerWidth(!0),s++}),!(t(window).width()<992)){var a=parseInt(r.width/(o/s))-1;if(a-=i,s>a)for(var l=n(e),c=a;c<s;c++){var u=e.children("ul").children("li").eq(c),h=u.clone();h.children("ul").addClass("sub-menu"),l.children("ul").append(h),u.hide()}}}}function n(t){return t.children("ul").append("<li class='more'><a href='javascript:;'><span class='title'><i class='pg pg-more'></i></span></a><ul></ul></li>"),t.children("ul").children("li.more")}function i(e){var n=t(e.children("ul")[0]),i=t("<div class='ghost-nav-dropdown'></div>");if(0!=n.length){var r=n[0].getBoundingClientRect();i.css({width:r.width+"px",height:r.height+"px","z-index":"auto"}),e.append(i);var s=n.children("li").css("transition-duration");s=parseInt(1e3*parseFloat(s)),e.addClass("closing"),window.clearTimeout(o),o=window.setTimeout(function(){i.height(0),e.removeClass("open opening closing")},s-80)}}function r(e){var n=t(e.children("ul")[0]),i=t("<div class='ghost-nav-dropdown'></div>");if(e.children(".ghost-nav-dropdown").remove(),e.addClass("open").siblings().removeClass("open opening"),0!=n.length){var r=n[0].getBoundingClientRect();i.css({width:r.width+"px",height:"0px"}),e.append(i),i.height(r.height);var s=i.css("transition-duration");s=parseInt(1e3*parseFloat(s)),window.clearTimeout(o),o=window.setTimeout(function(){e.addClass("opening"),i.remove()},s)}}var o;t("[data-pages-init='horizontal-menu']"),e(),t(document).on("click",".menu-bar > ul > li",function(){if(0!=t(this).children("ul").length)if(t(window).width()<992){var e=t(".menu-bar"),n=t(this),o=(e.find("li"),t(this).children("ul"));n.hasClass("open active")?(n.find(".arrow").removeClass("open active"),o.slideUp(200,function(){n.removeClass("open active")})):(e.find("li.open").find("ul").slideUp(200),e.find("li.open").find("a").find(".arrow").removeClass("open active"),e.find("li.open").removeClass("open active"),n.find(".arrow").addClass("open active"),o.slideDown(200,function(){n.addClass("open active")}))}else t(this).hasClass("opening")?i(t(this)):r(t(this))});var s;t(window).on("resize",function(t){clearTimeout(s),s=setTimeout(function(){e()},250)}),t(".content").on("click",function(){t(".horizontal-menu .bar-inner > ul > li").removeClass("open"),t(".menu-bar > ul > li").removeClass("open opening").children("ul").removeAttr("style"),t("body").find(".ghost-nav-dropdown").remove()}),t('[data-toggle="horizontal-menu"]').on("click touchstart",function(e){e.preventDefault(),t("body").toggleClass("horizontal-menu-open"),t(".horizontal-menu-backdrop").length?t(".horizontal-menu-backdrop").fadeToggle("fast",function(){t(this).remove()}):(t(".header").append('<div class="horizontal-menu-backdrop"/>'),t(".horizontal-menu-backdrop").fadeToggle("fast")),t(".menu-bar").toggleClass("open")})},e.prototype.initTooltipPlugin=function(e){t.fn.tooltip&&t('[data-toggle="tooltip"]',e).tooltip()},e.prototype.initSelect2Plugin=function(e){t.fn.select2&&t('[data-init-plugin="select2"]',e).each(function(){t(this).select2({minimumResultsForSearch:"true"==t(this).attr("data-disable-search")?-1:1}).on("select2:open",function(){t.fn.scrollbar&&t(".select2-results__options").scrollbar({ignoreMobile:!1})})})},e.prototype.initScrollBarPlugin=function(e){t.fn.scrollbar&&t(".scrollable",e).scrollbar({ignoreOverlay:!1})},e.prototype.initListView=function(e){t.fn.ioslist&&t('[data-init-list-view="ioslist"]',e).ioslist(),t.fn.scrollbar&&t(".list-view-wrapper",e).scrollbar({ignoreOverlay:!1})},e.prototype.initSwitcheryPlugin=function(e){window.Switchery&&t('[data-init-plugin="switchery"]',e).each(function(){var e=t(this);new Switchery(e.get(0),{color:null!=e.data("color")?t.Pages.getColor(e.data("color")):t.Pages.getColor("success"),size:null!=e.data("size")?e.data("size"):"default"})})},e.prototype.initSelectFxPlugin=function(e){window.SelectFx&&t('select[data-init-plugin="cs-select"]',e).each(function(){var e=t(this).get(0);t(e).wrap('<div class="cs-wrapper"></div>'),new SelectFx(e)})},e.prototype.initUnveilPlugin=function(e){t.fn.unveil&&t("img",e).unveil()},e.prototype.initValidatorPlugin=function(){t.validator&&t.validator.setDefaults({ignore:"",showErrors:function(e,n){var i=this;return t.each(this.successList,function(e,n){if(t(this).closest(".form-group-attached").length)return t(n).popover("hide")}),t.each(n,function(e,n){var r=t(n.element).closest(".form-group-attached");if(!r.length)return i.defaultShowErrors();t(n.element).popover({trigger:"manual",placement:"top",html:!0,container:r.closest("form"),content:n.message}),(r=t(n.element).closest(".form-group")).addClass("has-error"),t(n.element).popover("show")})},onfocusout:function(e){var n=t(e).closest(".form-group");t(e).valid()&&(n.removeClass("has-error"),n.next(".error").remove())},onkeyup:function(e){var n=t(e).closest(".form-group");t(e).valid()?(t(e).removeClass("error"),n.removeClass("has-error"),n.next("label.error").remove(),n.find("label.error").remove()):n.addClass("has-error")},errorPlacement:function(e,n){var i=t(n).closest(".form-group");i.hasClass("form-group-default")?(i.addClass("has-error"),e.insertAfter(i)):e.insertAfter(n)}})},e.prototype.setBackgroundImage=function(){t("[data-pages-bg-image]").each(function(){var e=t(this),n={pagesBgImage:"",lazyLoad:"true",progressType:"",progressColor:"",bgOverlay:"",bgOverlayClass:"",overlayOpacity:0},i=e.data();t.extend(n,i);var r=n.pagesBgImage,o=n.bgOverlay,s=n.overlayOpacity,a=t('<div class="bg-overlay"></div>');a.addClass(n.bgOverlayClass),a.css({"background-color":o,opacity:1}),e.append(a);var l=new Image;l.src=r,l.onload=function(){e.css({"background-image":"url("+r+")"}),e.children(".bg-overlay").css({opacity:s})}})},e.prototype.secondarySidebar=function(){t('[data-init="secondary-sidebar"]').each(function(){t(this).on("click",".main-menu li a",function(e){if(!1!==t(this).parent().children(".sub-menu")){var n=t(this),i=t(this).parent().parent(),r=t(this).parent(),o=t(this).parent().children(".sub-menu");r.hasClass("open active")?(n.children(".arrow").removeClass("open active"),o.slideUp(200,function(){r.removeClass("open active")})):(i.children("li.open").children(".sub-menu").slideUp(200),i.children("li.open").children("a").children(".arrow").removeClass("open active"),i.children("li.open").removeClass("open active"),n.children(".arrow").addClass("open active"),o.slideDown(200,function(){r.addClass("open active")}))}})}),t('[data-init="secondary-sidebar-toggle"]').each(function(){t(this).on("click",function(e){var n=t(this).get(0).getBoundingClientRect(),i=t('[data-init="secondary-sidebar"]');if(i.hasClass("open"))i.removeClass("open"),i.removeAttr("style");else{i.addClass("open");var r=i.get(0).getBoundingClientRect();i.css({top:n.bottom,"max-height":t(window).height()-n.bottom,left:t(window).width()/2-r.width/2,visibility:"visible"})}})})},e.prototype.init=function(){this.initSidebar(),this.setBackgroundImage(),this.initDropDown(),this.initFormGroupDefault(),this.initSlidingTabs(),this.initNotificationCenter(),this.initProgressBars(),this.initHorizontalMenu(),this.initTooltipPlugin(),this.initSelect2Plugin(),this.initScrollBarPlugin(),this.initSwitcheryPlugin(),this.initSelectFxPlugin(),this.initUnveilPlugin(),this.initValidatorPlugin(),this.initListView(),this.initInputFile(),this.reponsiveTabs(),this.secondarySidebar()},t.Pages=new e,t.Pages.Constructor=e}(window.jQuery),function(t){"use strict";function e(t,e){if(!t)return!1;for(var n=t.target||t.srcElement||t||!1;n&&n!=e;)n=n.parentNode||!1;return!1!==n}function n(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function i(t,e){this.el=t,this.options=n({},this.options),n(this.options,e),this._init()}function r(t,e){for(var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1}function o(e){return{left:e.getBoundingClientRect().left+t.pageXOffset-e.ownerDocument.documentElement.clientLeft,top:e.getBoundingClientRect().top+t.pageYOffset-e.ownerDocument.documentElement.clientTop}}function s(t,e){e.parentNode.insertBefore(t,e.nextSibling)}i.prototype.options={newTab:!0,stickyPlaceholder:!0,container:"body",onChange:function(t){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),t.dispatchEvent(e)}},i.prototype._init=function(){var t=document.querySelector("option[selected]");this.hasDefaultPlaceholder=t&&t.disabled,this.selectedOpt=t||this.el.querySelector("option"),this._createSelectEl(),this.selOpts=[].slice.call(this.selEl.querySelectorAll("li[data-option]")),this.selOptsCount=this.selOpts.length,this.current=this.selOpts.indexOf(this.selEl.querySelector("li.cs-selected"))||-1,this.selPlaceholder=this.selEl.querySelector("span.cs-placeholder"),this._initEvents(),this.el.onchange=function(){var t=this.selectedIndex;this.children[t].innerHTML.trim()}},i.prototype._createSelectEl=function(){var t="",e=function(t){var e="",n="",i="";return!t.selectedOpt||this.foundSelected||this.hasDefaultPlaceholder||(n+="cs-selected ",this.foundSelected=!0),t.getAttribute("data-class")&&(n+=t.getAttribute("data-class")),t.getAttribute("data-link")&&(i="data-link="+t.getAttribute("data-link")),""!==n&&(e='class="'+n+'" '),"<li "+e+i+' data-option data-value="'+t.value+'"><span>'+t.textContent+"</span></li>"};[].slice.call(this.el.children).forEach(function(n){if(!n.disabled){var i=n.tagName.toLowerCase();"option"===i?t+=e(n):"optgroup"===i&&(t+='<li class="cs-optgroup"><span>'+n.label+"</span><ul>",[].slice.call(n.children).forEach(function(n){t+=e(n)}),t+="</ul></li>")}});var n='<div class="cs-options"><ul>'+t+"</ul></div>";this.selEl=document.createElement("div"),this.selEl.className=this.el.className,this.selEl.tabIndex=this.el.tabIndex,this.selEl.innerHTML='<span class="cs-placeholder">'+this.selectedOpt.textContent+"</span>"+n,this.el.parentNode.appendChild(this.selEl),this.selEl.appendChild(this.el);var i=document.createElement("div");i.className="cs-backdrop",this.selEl.appendChild(i)},i.prototype._initEvents=function(){var t=this;this.selPlaceholder.addEventListener("click",function(){t._toggleSelect()}),this.selOpts.forEach(function(e,n){e.addEventListener("click",function(){t.current=n,t._changeOption(),t._toggleSelect()})}),document.addEventListener("click",function(n){var i=n.target;t._isOpen()&&i!==t.selEl&&!e(i,t.selEl)&&t._toggleSelect()}),this.selEl.addEventListener("keydown",function(e){switch(e.keyCode||e.which){case 38:e.preventDefault(),t._navigateOpts("prev");break;case 40:e.preventDefault(),t._navigateOpts("next");break;case 32:e.preventDefault(),t._isOpen()&&void 0!==t.preSelCurrent&&-1!==t.preSelCurrent&&t._changeOption(),t._toggleSelect();break;case 13:e.preventDefault(),t._isOpen()&&void 0!==t.preSelCurrent&&-1!==t.preSelCurrent&&(t._changeOption(),t._toggleSelect());break;case 27:e.preventDefault(),t._isOpen()&&t._toggleSelect()}})},i.prototype._navigateOpts=function(t){this._isOpen()||this._toggleSelect();var e=void 0!==this.preSelCurrent&&-1!==this.preSelCurrent?this.preSelCurrent:this.current;("prev"===t&&e>0||"next"===t&&e<this.selOptsCount-1)&&(this.preSelCurrent="next"===t?e+1:e-1,this._removeFocus(),classie.add(this.selOpts[this.preSelCurrent],"cs-focus"))},i.prototype._toggleSelect=function(){var t=this.selEl.querySelector(".cs-backdrop"),e=document.querySelector(this.options.container),n=e.querySelector(".dropdown-mask"),i=this.selEl.querySelector(".cs-options"),a=this.selEl.querySelector(".cs-placeholder"),l=a.offsetWidth,c=a.offsetHeight,u=i.scrollWidth;if(this._isOpen()){-1!==this.current&&(this.selPlaceholder.textContent=this.selOpts[this.current].textContent);var h=(p=this.selEl.data).parentNode;s(this.selEl,p),this.selEl.removeAttribute("style"),h.removeChild(p),this.selEl.clientHeight,t.style.transform=t.style.webkitTransform=t.style.MozTransform=t.style.msTransform=t.style.OTransform="scale3d(1,1,1)",classie.remove(this.selEl,"cs-active"),n.style.display="none",i.style.overflowY="hidden",i.style.width="auto";var d=r(this.selEl,".form-group");d&&classie.removeClass(d,"focused")}else{this.hasDefaultPlaceholder&&this.options.stickyPlaceholder&&(this.selPlaceholder.textContent=this.selectedOpt.textContent);var p;this.selEl.parentNode.querySelector(".dropdown-placeholder")?p=this.selEl.parentNode.querySelector(".dropdown-placeholder"):(p=document.createElement("div"),classie.add(p,"dropdown-placeholder"),s(p,this.selEl)),p.style.height=c+"px",p.style.width=this.selEl.offsetWidth+"px",this.selEl.data=p,this.selEl.style.position="absolute";var f=o(this.selEl);this.selEl.style.left=f.left+"px",this.selEl.style.top=f.top+"px",e.appendChild(this.selEl);var m=i.offsetHeight,g=a.offsetHeight,v=(i.offsetWidth,a.offsetWidth,m/g);t.style.transform=t.style.webkitTransform=t.style.MozTransform=t.style.msTransform=t.style.OTransform="scale3d(1, "+v+", 1)",n||(n=document.createElement("div"),classie.add(n,"dropdown-mask"),e.appendChild(n)),n.style.display="block",classie.add(this.selEl,"cs-active");var y=l<u?u:l;this.selEl.style.width=y+"px",this.selEl.style.height=g+"px",i.style.width="100%",setTimeout(function(){i.style.overflowY="auto"},300)}},i.prototype._changeOption=function(){void 0!==this.preSelCurrent&&-1!==this.preSelCurrent&&(this.current=this.preSelCurrent,this.preSelCurrent=-1);var e=this.selOpts[this.current];this.selPlaceholder.textContent=e.textContent,this.el.value=e.getAttribute("data-value");var n=this.selEl.querySelector("li.cs-selected");n&&classie.remove(n,"cs-selected"),classie.add(e,"cs-selected"),e.getAttribute("data-link")&&(this.options.newTab?t.open(e.getAttribute("data-link"),"_blank"):t.location=e.getAttribute("data-link")),this.options.onChange(this.el)},i.prototype._isOpen=function(t){return classie.has(this.selEl,"cs-active")},i.prototype._removeFocus=function(t){var e=this.selEl.querySelector("li.cs-focus");e&&classie.remove(e,"cs-focus")},t.SelectFx=i}(window),function(t){"use strict";t("[data-chat-input]").on("keypress",function(e){if(13==e.which){var n=t(this).attr("data-chat-conversation");t(n).append('<div class="message clearfix"><div class="chat-bubble from-me">'+t(this).val()+"</div></div>"),t(this).val("")}})}(window.jQuery),function(t){"use strict";function e(t){return parseInt(t/100*360)}var n=function(n,i){this.$element=t(n),this.options=t.extend(!0,{},t.fn.circularProgress.defaults,i),this.$container=t('<div class="progress-circle"></div>'),this.$element.attr("data-color")&&this.$container.addClass("progress-circle-"+this.$element.attr("data-color")),this.$element.attr("data-thick")&&this.$container.addClass("progress-circle-thick"),this.$pie=t('<div class="pie"></div>'),this.$pie.$left=t('<div class="left-side half-circle"></div>'),this.$pie.$right=t('<div class="right-side half-circle"></div>'),this.$pie.append(this.$pie.$left).append(this.$pie.$right),this.$container.append(this.$pie).append('<div class="shadow"></div>'),this.$element.after(this.$container),this.val=this.$element.val();var r=e(this.val);this.val<=50?this.$pie.$right.css("transform","rotate("+r+"deg)"):(this.$pie.css("clip","rect(auto, auto, auto, auto)"),this.$pie.$right.css("transform","rotate(180deg)"),this.$pie.$left.css("transform","rotate("+r+"deg)"))};n.VERSION="1.0.0",n.prototype.value=function(t){if(void 0!==t){var n=e(t);this.$pie.removeAttr("style"),this.$pie.$right.removeAttr("style"),this.$pie.$left.removeAttr("style"),t<=50?this.$pie.$right.css("transform","rotate("+n+"deg)"):(this.$pie.css("clip","rect(auto, auto, auto, auto)"),this.$pie.$right.css("transform","rotate(180deg)"),this.$pie.$left.css("transform","rotate("+n+"deg)"))}};var i=t.fn.circularProgress;t.fn.circularProgress=function(e){return this.filter(":input").each(function(){var i=t(this),r=i.data("pg.circularProgress"),o="object"==typeof e&&e;r||i.data("pg.circularProgress",r=new n(this,o)),"string"==typeof e?r[e]():o.hasOwnProperty("value")&&r.value(o.value)})},t.fn.circularProgress.Constructor=n,t.fn.circularProgress.defaults={value:0},t.fn.circularProgress.noConflict=function(){return t.fn.circularProgress=i,this},t(window).on("load",function(){t('[data-pages-progress="circle"]').each(function(){var e=t(this);e.circularProgress(e.data())})})}(window.jQuery),function(t){"use strict";var e=function(e,n){function i(){var t=r.container.position(),e=r.container.height(),n=r.container.width(),i=t.top,o=r.container.parent().height()-(i+e),s=t.left,a=r.container.parent().width()-(s+n);/top/.test(r.options.position)&&r.wrapper.css("top",i),/bottom/.test(r.options.position)&&r.wrapper.css("bottom",o),/left/.test(r.options.position)&&r.wrapper.css("left",s),/right/.test(r.options.position)&&r.wrapper.css("right",a)}var r=this;return r.container=t(e),r.notification=t('<div class="pgn push-on-sidebar-open"></div>'),r.options=t.extend(!0,{},t.fn.pgNotification.defaults,n),r.container.find(".pgn-wrapper[data-position="+this.options.position+"]").length?r.wrapper=t(".pgn-wrapper[data-position="+this.options.position+"]"):(r.wrapper=t('<div class="pgn-wrapper" data-position="'+this.options.position+'"></div>'),r.container.append(r.wrapper)),r.alert=t('<div class="alert"></div>'),r.alert.addClass("alert-"+r.options.type),"bar"==r.options.style?new function(){r.notification.addClass("pgn-bar"),r.alert.addClass("alert-"+r.options.type);var e=t('<div class="container"/>');if(e.append("<span>"+r.options.message+"</span>"),r.options.showClose){var n=t('<button type="button" class="close" data-dismiss="alert"></button>').append('<span aria-hidden="true">&times;</span>').append('<span class="sr-only">Close</span>');e.append(n)}r.alert.append(e)}:"flip"==r.options.style?new function(){if(r.notification.addClass("pgn-flip"),r.alert.append("<span>"+r.options.message+"</span>"),r.options.showClose){var e=t('<button type="button" class="close" data-dismiss="alert"></button>').append('<span aria-hidden="true">&times;</span>').append('<span class="sr-only">Close</span>');r.alert.prepend(e)}}:"circle"==r.options.style?new function(){r.notification.addClass("pgn-circle");var t="<div>";r.options.thumbnail&&(t+='<div class="pgn-thumbnail"><div>'+r.options.thumbnail+"</div></div>"),t+='<div class="pgn-message"><div>',r.options.title&&(t+='<p class="bold">'+r.options.title+"</p>"),t+="<p>"+r.options.message+"</p></div></div>",t+="</div>",r.options.showClose&&(t+='<button type="button" class="close" data-dismiss="alert">',t+='<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>',t+="</button>"),r.alert.append(t),r.alert.after('<div class="clearfix"></div>')}:(r.options.style,new function(){if(r.notification.addClass("pgn-simple"),r.alert.append(r.options.message),r.options.showClose){var e=t('<button type="button" class="close" data-dismiss="alert"></button>').append('<span aria-hidden="true">&times;</span>').append('<span class="sr-only">Close</span>');r.alert.prepend(e)}}),r.notification.append(r.alert),t("body").hasClass("horizontal-menu")&&(i(),t(window).on("resize",i)),r.alert.on("closed.bs.alert",function(){r.notification.remove(),r.options.onClosed()}),this};e.VERSION="1.0.0",e.prototype.show=function(){if(this.wrapper.prepend(this.notification),this.options.onShown(),0!=this.options.timeout){var e=this;setTimeout(function(){this.notification.fadeOut("slow",function(){t(this).remove(),e.options.onClosed()})}.bind(this),this.options.timeout)}},t.fn.pgNotification=function(t){return new e(this,t)},t.fn.pgNotification.defaults={style:"simple",message:null,position:"top-right",type:"info",showClose:!0,timeout:4e3,onShown:function(){},onClosed:function(){}}}(window.jQuery),function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend(!0,{},t.fn.card.defaults,n),this.$loader=null,this.$body=this.$element.find(".card-block")};e.VERSION="1.0.0",e.prototype.collapse=function(){var e=this.$element.find(this.options.collapseButton+" > i");if(this.$element.find(".card-header"),this.$body.stop().slideToggle("fast"),this.$element.hasClass("card-collapsed"))return this.$element.removeClass("card-collapsed"),e.removeClass().addClass("pg-arrow_maximize"),void(t.isFunction(this.options.onExpand)&&this.options.onExpand(this));this.$element.addClass("card-collapsed"),e.removeClass().addClass("pg-arrow_minimize"),t.isFunction(this.options.onCollapse)&&this.options.onCollapse(this)},e.prototype.close=function(){this.$element.remove(),t.isFunction(this.options.onClose)&&this.options.onClose(this)},e.prototype.maximize=function(){var e=this.$element.find(this.options.maximizeButton+" > i");if(this.$element.hasClass("card-maximized"))this.$element.removeClass("card-maximized"),this.$element.attr("style",""),e.removeClass("pg-fullscreen_restore").addClass("pg-fullscreen"),t.isFunction(this.options.onRestore)&&this.options.onRestore(this);else{var n=t('[data-pages="sidebar"]'),i=t(".header"),r=0;n&&(r=n.position().left+n.width());var o=i.height();this.$element.addClass("card-maximized"),this.$element.css("left",r),this.$element.css("top",o),e.removeClass("pg-fullscreen").addClass("pg-fullscreen_restore"),t.isFunction(this.options.onMaximize)&&this.options.onMaximize(this)}},e.prototype.refresh=function(e){var n=this.$element.find(this.options.refreshButton);if(e){if(this.$loader&&this.$loader.is(":visible"))return;if(!t.isFunction(this.options.onRefresh))return;this.$loader=t('<div class="card-progress"></div>'),this.$loader.css({"background-color":"rgba("+this.options.overlayColor+","+this.options.overlayOpacity+")"});var i="";if("circle"==this.options.progress)i+='<div class="progress-circle-indeterminate progress-circle-'+this.options.progressColor+'"></div>';else if("bar"==this.options.progress)i+='<div class="progress progress-small">',i+='    <div class="progress-bar-indeterminate progress-bar-'+this.options.progressColor+'"></div>',i+="</div>";else if("circle-lg"==this.options.progress){n.addClass("refreshing");var r,o=n.find("> i").first();n.find('[class$="-animated"]').length?r=n.find('[class$="-animated"]'):((r=t("<i/>")).css({position:"absolute",top:o.position().top,left:o.position().left}),r.addClass("card-icon-refresh-lg-"+this.options.progressColor+"-animated"),n.append(r)),o.addClass("fade"),r.addClass("active")}else i+='<div class="progress progress-small">',i+='    <div class="progress-bar-indeterminate progress-bar-'+this.options.progressColor+'"></div>',i+="</div>";this.$loader.append(i),this.$element.append(this.$loader);var s=this.$loader;setTimeout(function(){this.$loader.remove(),this.$element.append(s)}.bind(this),300),this.$loader.fadeIn(),t.isFunction(this.options.onRefresh)&&this.options.onRefresh(this)}else{var a=this;this.$loader.fadeOut(function(){if(t(this).remove(),"circle-lg"==a.options.progress){var e=n.find(".active"),i=n.find(".fade");e.removeClass("active"),i.removeClass("fade"),n.removeClass("refreshing")}a.options.refresh=!1})}},e.prototype.error=function(t){if(t){var e=this;this.$element.pgNotification({style:"bar",message:t,position:"top",timeout:0,type:"danger",onShown:function(){e.$loader.find("> div").fadeOut()},onClosed:function(){e.refresh(!1)}}).show()}};var n=t.fn.card;t.fn.card=function(n){return this.each(function(){var i=t(this),r=i.data("pg.card"),o="object"==typeof n&&n;r||i.data("pg.card",r=new e(this,o)),"string"==typeof n?r[n]():o.hasOwnProperty("refresh")?r.refresh(o.refresh):o.hasOwnProperty("error")&&r.error(o.error)})},t.fn.card.Constructor=e,t.fn.card.defaults={progress:"circle",progressColor:"master",refresh:!1,error:null,overlayColor:"255,255,255",overlayOpacity:.8,refreshButton:'[data-toggle="refresh"]',maximizeButton:'[data-toggle="maximize"]',collapseButton:'[data-toggle="collapse"]',closeButton:'[data-toggle="close"]'},t.fn.card.noConflict=function(){return t.fn.card=n,this},t(document).on("click.pg.card.data-api",'[data-toggle="collapse"]',function(e){var n=t(this),i=n.closest(".card");n.is("a")&&e.preventDefault(),i.data("pg.card")&&i.card("collapse")}),t(document).on("click.pg.card.data-api",'[data-toggle="close"]',function(e){var n=t(this),i=n.closest(".card");n.is("a")&&e.preventDefault(),i.data("pg.card")&&i.card("close")}),t(document).on("click.pg.card.data-api",'[data-toggle="refresh"]',function(e){var n=t(this),i=n.closest(".card");n.is("a")&&e.preventDefault(),i.data("pg.card")&&i.card({refresh:!0})}),t(document).on("click.pg.card.data-api",'[data-toggle="maximize"]',function(e){var n=t(this),i=n.closest(".card");n.is("a")&&e.preventDefault(),i.data("pg.card")&&i.card("maximize")}),t(window).on("load",function(){t('[data-pages="card"]').each(function(){var e=t(this);e.card(e.data())})})}(window.jQuery),function(t){"use strict";var e=function(e,n){var i=this;return i.options=t.extend(!0,{},t.fn.pgMobileViews.defaults,n),i.element=t(e),i.element.on("click",function(e){e.preventDefault();var n=i.element.data(),r=t(n.viewPort),o=n.toggleView;return null!=n.toggleView?(r.children().last().children(".view").hide(),t(n.toggleView).show()):o=r.last(),r.toggleClass(n.viewAnimation),i.options.onNavigate(o,n.viewAnimation),!1}),this};t.fn.pgMobileViews=function(t){return new e(this,t)},t.fn.pgMobileViews.defaults={onNavigate:function(t,e){}},t(window).on("load",function(){t('[data-navigate="view"]').each(function(){t(this).pgMobileViews()})})}(window.jQuery),function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend(!0,{},t.fn.quickview.defaults,n),this.bezierEasing=[.05,.74,.27,.99];var i=this;t(this.options.notes).on("click",".list > ul > li",function(e){var n=t(this).find(".note-preview"),n=t(this).find(".note-preview");t(i.options.noteEditor).html(n.html()),t(i.options.notes).toggleClass("push")}),t(this.options.notes).on("click",".list > ul > li .checkbox",function(t){t.stopPropagation()}),t(this.options.notes).on("click",i.options.backButton,function(e){t(i.options.notes).find(".toolbar > li > a").removeClass("active"),t(i.options.notes).toggleClass("push")}),t(this.options.deleteNoteButton).click(function(e){e.preventDefault(),t(this).toggleClass("selected"),t(i.options.notes).find(".list > ul > li .checkbox").fadeToggle("fast"),t(i.options.deleteNoteConfirmButton).fadeToggle("fast").removeClass("hide")}),t(this.options.newNoteButton).click(function(e){e.preventDefault(),t(i.options.noteEditor).html("")}),t(this.options.deleteNoteConfirmButton).click(function(){t(i.options.notes).find("input[type=checkbox]:checked").each(function(){t(this).parents("li").remove()})}),t(this.options.notes).on("click",".toolbar > li > a",function(e){var n=t(this).attr("data-action");document.execCommand(n,!1,null),t(this).toggleClass("active")})};e.VERSION="1.0.0";var n=t.fn.quickview;t.fn.quickview=function(n){return this.each(function(){var i=t(this),r=i.data("pg.quickview"),o="object"==typeof n&&n;r||i.data("pg.quickview",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.quickview.Constructor=e,t.fn.quickview.defaults={notes:"#note-views",alerts:"#alerts",chat:"#chat",notesList:".list",noteEditor:".quick-note-editor",deleteNoteButton:".delete-note-link",deleteNoteConfirmButton:".btn-remove-notes",newNoteButton:".new-note-link",backButton:".close-note-link"},t.fn.quickview.noConflict=function(){return t.fn.quickview=n,this},t(window).on("load",function(){t('[data-pages="quickview"]').each(function(){var e=t(this);e.quickview(e.data())})}),t(document).on("click.pg.quickview.data-api touchstart",'[data-toggle="quickview"]',function(e){var n=t(this).attr("data-toggle-element");t(n).toggleClass("open"),e.preventDefault()})}(window.jQuery),function(t){"use strict";var e=function(e,n){if(this.$element=t(e),this.options=t.extend(!0,{},t.fn.parallax.defaults,n),this.$coverPhoto=this.$element.find(".cover-photo"),this.$content=this.$element.find(".inner"),this.$coverPhoto.find("> img").length){var i=this.$coverPhoto.find("> img");this.$coverPhoto.css("background-image","url("+i.attr("src")+")"),i.remove()}};e.VERSION="1.0.0",e.prototype.animate=function(){var e,n=50*this.$element.height()/100;e=t(this.options.scrollElement).scrollTop(),this.$coverPhoto.css({transform:"translateY("+e*this.options.speed.coverPhoto+"px)"}),this.$content.css({transform:"translateY("+e*this.options.speed.content+"px)"}),e>n?this.$content.css({opacity:1-e/1200}):this.$content.css({opacity:1})};var n=t.fn.parallax;t.fn.parallax=function(n){return this.each(function(){var i=t(this),r=i.data("pg.parallax"),o="object"==typeof n&&n;r||i.data("pg.parallax",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.parallax.Constructor=e,t.fn.parallax.defaults={speed:{coverPhoto:.3,content:.17},scrollElement:window},t.fn.parallax.noConflict=function(){return t.fn.parallax=n,this},t(window).on("load",function(){t('[data-pages="parallax"]').each(function(){var e=t(this);e.parallax(e.data())})}),t(window).on("scroll",function(){Modernizr.touch||t('[data-pages="parallax"]').parallax("animate")})}(window.jQuery),function(t){"use strict";var e=function(e,n){function i(){t(window).width()<1200?t("body").hasClass("menu-pin")&&(t("body").removeClass("menu-pin"),t("body").addClass("menu-unpinned")):t("body").hasClass("menu-unpinned")&&t("body").addClass("menu-pin")}if(this.$element=t(e),this.$body=t("body"),this.options=t.extend(!0,{},t.fn.sidebar.defaults,n),this.bezierEasing=[.05,.74,.27,.99],this.cssAnimation=!0,this.css3d=!0,this.sideBarWidth=280,this.sideBarWidthCondensed=210,this.$sidebarMenu=this.$element.find(".sidebar-menu > ul"),this.$pageContainer=t(this.options.pageContainer),this.$sidebarMenu.length){"desktop"==t.Pages.getUserAgent()&&this.$sidebarMenu.scrollbar({ignoreOverlay:!1,disableBodyScroll:1==this.$element.data("disableBodyScroll")}),Modernizr.csstransitions||(this.cssAnimation=!1),Modernizr.csstransforms3d||(this.css3d=!1),"undefined"==typeof angular&&t(document).on("click",".sidebar-menu a",function(e){if(!1!==t(this).parent().children(".sub-menu")){var n=t(this),i=t(this).parent().parent(),r=t(this).parent(),o=t(this).parent().children(".sub-menu");r.hasClass("open active")?(n.children(".arrow").removeClass("open active"),o.slideUp(200,function(){r.removeClass("open active")})):(i.children("li.open").children(".sub-menu").slideUp(200),i.children("li.open").children("a").children(".arrow").removeClass("open active"),i.children("li.open").removeClass("open active"),n.children(".arrow").addClass("open active"),o.slideDown(200,function(){r.addClass("open active")}))}}),t(".sidebar-slide-toggle").on("click touchend",function(e){e.preventDefault(),t(this).toggleClass("active");var n=t(this).attr("data-pages-toggle");null!=n&&t(n).toggleClass("show")});var r=this;this.$element.bind("mouseenter mouseleave",function(e){var n=r.$body.hasClass("rtl")?-r.sideBarWidthCondensed:r.sideBarWidthCondensed,i=1==this.css3d?"translate3d("+n+"px, 0,0)":"translate("+n+"px, 0)";if(t.Pages.isVisibleSm()||t.Pages.isVisibleXs())return!1;t(".close-sidebar").data("clicked")||r.$body.hasClass("menu-pin")||(r.$element.css({transform:i}),r.$body.addClass("sidebar-visible"))}),this.$pageContainer.bind("mouseover",function(e){var n=1==r.css3d?"translate3d(0, 0,0)":"translate(0, 0)";if(t.Pages.isVisibleSm()||t.Pages.isVisibleXs())return!1;void 0!==e&&t(e.target).parent(".page-sidebar").length||r.$body.hasClass("menu-pin")||(t(".sidebar-overlay-slide").hasClass("show")&&(t(".sidebar-overlay-slide").removeClass("show"),t("[data-pages-toggle']").removeClass("active")),r.$element.css({transform:n}),r.$body.removeClass("sidebar-visible"))}),t(document).bind("ready",i),t(window).bind("resize",i)}};e.prototype.toggleSidebar=function(e){var n,i=t("body").css("background-color");t(".page-container").css("background-color",i),this.$body.hasClass("sidebar-open")?(this.$body.removeClass("sidebar-open"),n=setTimeout(function(){this.$element.removeClass("visible")}.bind(this),400)):(clearTimeout(n),this.$element.addClass("visible"),setTimeout(function(){this.$body.addClass("sidebar-open")}.bind(this),10),setTimeout(function(){t(".page-container").css({"background-color":""})},1e3))},e.prototype.togglePinSidebar=function(t){"hide"==t?this.$body.removeClass("menu-pin"):"show"==t?this.$body.addClass("menu-pin"):this.$body.toggleClass("menu-pin")};var n=t.fn.sidebar;t.fn.sidebar=function(n){return this.each(function(){var i=t(this),r=i.data("pg.sidebar"),o="object"==typeof n&&n;r||i.data("pg.sidebar",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.sidebar.Constructor=e,t.fn.sidebar.defaults={pageContainer:".page-container"},t.fn.sidebar.noConflict=function(){return t.fn.sidebar=n,this},t(document).on("click.pg.sidebar.data-api",'[data-toggle-pin="sidebar"]',function(e){return t(this),t('[data-pages="sidebar"]').data("pg.sidebar").togglePinSidebar(),!1}),t(document).on("click.pg.sidebar.data-api touchstart",'[data-toggle="sidebar"]',function(e){return t(this),t('[data-pages="sidebar"]').data("pg.sidebar").toggleSidebar(),!1})}(window.jQuery),function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend(!0,{},t.fn.search.defaults,n),this.init()};e.VERSION="1.0.0",e.prototype.init=function(){var e=this;this.pressedKeys=[],this.ignoredKeys=[],this.$searchField=this.$element.find(this.options.searchField),this.$closeButton=this.$element.find(this.options.closeButton),this.$suggestions=this.$element.find(this.options.suggestions),this.$brand=this.$element.find(this.options.brand),this.$searchField.on("keyup",function(n){e.$suggestions&&e.$suggestions.html(t(this).val())}),this.$searchField.on("keyup",function(n){if(e.options.onKeyEnter&&e.options.onKeyEnter(e.$searchField.val()),13==n.keyCode&&(n.preventDefault(),e.options.onSearchSubmit&&e.options.onSearchSubmit(e.$searchField.val())),t("body").hasClass("overlay-disabled"))return 0}),this.$closeButton.on("click",function(){e.toggleOverlay("hide")}),this.$element.on("click",function(n){"search"==t(n.target).data("pages")&&e.toggleOverlay("hide")}),t(document).on("keypress.pg.search",function(t){e.keypress(t)}),t(document).on("keyup",function(t){e.$element.is(":visible")&&27==t.keyCode&&e.toggleOverlay("hide")})},e.prototype.keypress=function(e){var n=(e=e||event).target.nodeName;t("body").hasClass("overlay-disabled")||t(e.target).hasClass("js-input")||"INPUT"==n||"TEXTAREA"==n||0===e.which||0===e.charCode||e.ctrlKey||e.metaKey||e.altKey||27==e.keyCode||this.toggleOverlay("show",String.fromCharCode(e.keyCode|e.charCode))},e.prototype.toggleOverlay=function(e,n){var i=this;"show"==e?(this.$element.removeClass("hide"),this.$element.fadeIn("fast"),this.$searchField.is(":focus")||(this.$searchField.val(n),setTimeout(function(){this.$searchField.focus();var t=this.$searchField.val();this.$searchField.val(""),this.$searchField.val(t)}.bind(this),10)),this.$element.removeClass("closed"),this.$brand.toggleClass("invisible"),t(document).off("keypress.pg.search")):(this.$element.fadeOut("fast").addClass("closed"),this.$searchField.val("").blur(),setTimeout(function(){this.$element.is(":visible")&&this.$brand.toggleClass("invisible"),t(document).on("keypress.pg.search",function(t){i.keypress(t)})}.bind(this),10))};var n=t.fn.search;t.fn.search=function(n){return this.each(function(){var i=t(this),r=i.data("pg.search"),o="object"==typeof n&&n;r||i.data("pg.search",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.search.Constructor=e,t.fn.search.defaults={searchField:'[data-search="searchField"]',closeButton:'[data-search="closeButton"]',suggestions:'[data-search="suggestions"]',brand:'[data-search="brand"]'},t.fn.search.noConflict=function(){return t.fn.search=n,this},t(document).on("click.pg.search.data-api",'[data-toggle="search"]',function(e){var n=t(this),i=t('[data-pages="search"]');n.is("a")&&e.preventDefault(),i.data("pg.search").toggleOverlay("show")})}(window.jQuery),function(t){"use strict";"undefined"==typeof angular&&t.Pages.init()}(window.jQuery);